var Pv=Object.defineProperty;var Gv=(n,e,o)=>e in n?Pv(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o;var Be=(n,e,o)=>Gv(n,typeof e!="symbol"?e+"":e,o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function o(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(c){if(c.ep)return;c.ep=!0;const f=o(c);fetch(c.href,f)}})();function Lh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var wu={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function qv(){if(Wp)return wl;Wp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(l,c,f){var m=null;if(f!==void 0&&(m=""+f),c.key!==void 0&&(m=""+c.key),"key"in c){f={};for(var g in c)g!=="key"&&(f[g]=c[g])}else f=c;return c=f.ref,{$$typeof:n,type:l,key:m,ref:c!==void 0?c:null,props:f}}return wl.Fragment=e,wl.jsx=o,wl.jsxs=o,wl}var jp;function Hv(){return jp||(jp=1,wu.exports=qv()),wu.exports}var x=Hv(),bu={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function zv(){if(em)return pe;em=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function C(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,U={};function z(M,q,X){this.props=M,this.context=q,this.refs=U,this.updater=X||_}z.prototype.isReactComponent={},z.prototype.setState=function(M,q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,q,"setState")},z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Q(){}Q.prototype=z.prototype;function $(M,q,X){this.props=M,this.context=q,this.refs=U,this.updater=X||_}var F=$.prototype=new Q;F.constructor=$,N(F,z.prototype),F.isPureReactComponent=!0;var j=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function W(M,q,X,J,ae,me){return X=me.ref,{$$typeof:n,type:M,key:q,ref:X!==void 0?X:null,props:me}}function _e(M,q){return W(M.type,q,void 0,void 0,void 0,M.props)}function se(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function Se(M){var q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(X){return q[X]})}var ee=/\/+/g;function Ie(M,q){return typeof M=="object"&&M!==null&&M.key!=null?Se(""+M.key):q.toString(36)}function Lt(){}function ht(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Lt,Lt):(M.status="pending",M.then(function(q){M.status==="pending"&&(M.status="fulfilled",M.value=q)},function(q){M.status==="pending"&&(M.status="rejected",M.reason=q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Ue(M,q,X,J,ae){var me=typeof M;(me==="undefined"||me==="boolean")&&(M=null);var de=!1;if(M===null)de=!0;else switch(me){case"bigint":case"string":case"number":de=!0;break;case"object":switch(M.$$typeof){case n:case e:de=!0;break;case v:return de=M._init,Ue(de(M._payload),q,X,J,ae)}}if(de)return ae=ae(M),de=J===""?"."+Ie(M,0):J,j(ae)?(X="",de!=null&&(X=de.replace(ee,"$&/")+"/"),Ue(ae,q,X,"",function(Rt){return Rt})):ae!=null&&(se(ae)&&(ae=_e(ae,X+(ae.key==null||M&&M.key===ae.key?"":(""+ae.key).replace(ee,"$&/")+"/")+de)),q.push(ae)),1;de=0;var Tt=J===""?".":J+":";if(j(M))for(var Pe=0;Pe<M.length;Pe++)J=M[Pe],me=Tt+Ie(J,Pe),de+=Ue(J,q,X,me,ae);else if(Pe=C(M),typeof Pe=="function")for(M=Pe.call(M),Pe=0;!(J=M.next()).done;)J=J.value,me=Tt+Ie(J,Pe++),de+=Ue(J,q,X,me,ae);else if(me==="object"){if(typeof M.then=="function")return Ue(ht(M),q,X,J,ae);throw q=String(M),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return de}function L(M,q,X){if(M==null)return M;var J=[],ae=0;return Ue(M,J,"","",function(me){return q.call(X,me,ae++)}),J}function K(M){if(M._status===-1){var q=M._result;q=q(),q.then(function(X){(M._status===0||M._status===-1)&&(M._status=1,M._result=X)},function(X){(M._status===0||M._status===-1)&&(M._status=2,M._result=X)}),M._status===-1&&(M._status=0,M._result=q)}if(M._status===1)return M._result.default;throw M._result}var ie=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function xe(){}return pe.Children={map:L,forEach:function(M,q,X){L(M,function(){q.apply(this,arguments)},X)},count:function(M){var q=0;return L(M,function(){q++}),q},toArray:function(M){return L(M,function(q){return q})||[]},only:function(M){if(!se(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},pe.Component=z,pe.Fragment=o,pe.Profiler=c,pe.PureComponent=$,pe.StrictMode=l,pe.Suspense=y,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,pe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return O.H.useMemoCache(M)}},pe.cache=function(M){return function(){return M.apply(null,arguments)}},pe.cloneElement=function(M,q,X){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var J=N({},M.props),ae=M.key,me=void 0;if(q!=null)for(de in q.ref!==void 0&&(me=void 0),q.key!==void 0&&(ae=""+q.key),q)!ue.call(q,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&q.ref===void 0||(J[de]=q[de]);var de=arguments.length-2;if(de===1)J.children=X;else if(1<de){for(var Tt=Array(de),Pe=0;Pe<de;Pe++)Tt[Pe]=arguments[Pe+2];J.children=Tt}return W(M.type,ae,void 0,void 0,me,J)},pe.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:f,_context:M},M},pe.createElement=function(M,q,X){var J,ae={},me=null;if(q!=null)for(J in q.key!==void 0&&(me=""+q.key),q)ue.call(q,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ae[J]=q[J]);var de=arguments.length-2;if(de===1)ae.children=X;else if(1<de){for(var Tt=Array(de),Pe=0;Pe<de;Pe++)Tt[Pe]=arguments[Pe+2];ae.children=Tt}if(M&&M.defaultProps)for(J in de=M.defaultProps,de)ae[J]===void 0&&(ae[J]=de[J]);return W(M,me,void 0,void 0,null,ae)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(M){return{$$typeof:g,render:M}},pe.isValidElement=se,pe.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:K}},pe.memo=function(M,q){return{$$typeof:p,type:M,compare:q===void 0?null:q}},pe.startTransition=function(M){var q=O.T,X={};O.T=X;try{var J=M(),ae=O.S;ae!==null&&ae(X,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(xe,ie)}catch(me){ie(me)}finally{O.T=q}},pe.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},pe.use=function(M){return O.H.use(M)},pe.useActionState=function(M,q,X){return O.H.useActionState(M,q,X)},pe.useCallback=function(M,q){return O.H.useCallback(M,q)},pe.useContext=function(M){return O.H.useContext(M)},pe.useDebugValue=function(){},pe.useDeferredValue=function(M,q){return O.H.useDeferredValue(M,q)},pe.useEffect=function(M,q,X){var J=O.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(M,q)},pe.useId=function(){return O.H.useId()},pe.useImperativeHandle=function(M,q,X){return O.H.useImperativeHandle(M,q,X)},pe.useInsertionEffect=function(M,q){return O.H.useInsertionEffect(M,q)},pe.useLayoutEffect=function(M,q){return O.H.useLayoutEffect(M,q)},pe.useMemo=function(M,q){return O.H.useMemo(M,q)},pe.useOptimistic=function(M,q){return O.H.useOptimistic(M,q)},pe.useReducer=function(M,q,X){return O.H.useReducer(M,q,X)},pe.useRef=function(M){return O.H.useRef(M)},pe.useState=function(M){return O.H.useState(M)},pe.useSyncExternalStore=function(M,q,X){return O.H.useSyncExternalStore(M,q,X)},pe.useTransition=function(){return O.H.useTransition()},pe.version="19.1.1",pe}var tm;function ju(){return tm||(tm=1,bu.exports=zv()),bu.exports}var le=ju();const To=Lh(le);var Du={exports:{}},bl={},ku={exports:{}},Iu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function Bv(){return nm||(nm=1,function(n){function e(L,K){var ie=L.length;L.push(K);e:for(;0<ie;){var xe=ie-1>>>1,M=L[xe];if(0<c(M,K))L[xe]=K,L[ie]=M,ie=xe;else break e}}function o(L){return L.length===0?null:L[0]}function l(L){if(L.length===0)return null;var K=L[0],ie=L.pop();if(ie!==K){L[0]=ie;e:for(var xe=0,M=L.length,q=M>>>1;xe<q;){var X=2*(xe+1)-1,J=L[X],ae=X+1,me=L[ae];if(0>c(J,ie))ae<M&&0>c(me,J)?(L[xe]=me,L[ae]=ie,xe=ae):(L[xe]=J,L[X]=ie,xe=X);else if(ae<M&&0>c(me,ie))L[xe]=me,L[ae]=ie,xe=ae;else break e}}return K}function c(L,K){var ie=L.sortIndex-K.sortIndex;return ie!==0?ie:L.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var m=Date,g=m.now();n.unstable_now=function(){return m.now()-g}}var y=[],p=[],v=1,S=null,C=3,_=!1,N=!1,U=!1,z=!1,Q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function j(L){for(var K=o(p);K!==null;){if(K.callback===null)l(p);else if(K.startTime<=L)l(p),K.sortIndex=K.expirationTime,e(y,K);else break;K=o(p)}}function O(L){if(U=!1,j(L),!N)if(o(y)!==null)N=!0,ue||(ue=!0,Ie());else{var K=o(p);K!==null&&Ue(O,K.startTime-L)}}var ue=!1,W=-1,_e=5,se=-1;function Se(){return z?!0:!(n.unstable_now()-se<_e)}function ee(){if(z=!1,ue){var L=n.unstable_now();se=L;var K=!0;try{e:{N=!1,U&&(U=!1,$(W),W=-1),_=!0;var ie=C;try{t:{for(j(L),S=o(y);S!==null&&!(S.expirationTime>L&&Se());){var xe=S.callback;if(typeof xe=="function"){S.callback=null,C=S.priorityLevel;var M=xe(S.expirationTime<=L);if(L=n.unstable_now(),typeof M=="function"){S.callback=M,j(L),K=!0;break t}S===o(y)&&l(y),j(L)}else l(y);S=o(y)}if(S!==null)K=!0;else{var q=o(p);q!==null&&Ue(O,q.startTime-L),K=!1}}break e}finally{S=null,C=ie,_=!1}K=void 0}}finally{K?Ie():ue=!1}}}var Ie;if(typeof F=="function")Ie=function(){F(ee)};else if(typeof MessageChannel<"u"){var Lt=new MessageChannel,ht=Lt.port2;Lt.port1.onmessage=ee,Ie=function(){ht.postMessage(null)}}else Ie=function(){Q(ee,0)};function Ue(L,K){W=Q(function(){L(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_next=function(L){switch(C){case 1:case 2:case 3:var K=3;break;default:K=C}var ie=C;C=K;try{return L()}finally{C=ie}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(L,K){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ie=C;C=L;try{return K()}finally{C=ie}},n.unstable_scheduleCallback=function(L,K,ie){var xe=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?xe+ie:xe):ie=xe,L){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ie+M,L={id:v++,callback:K,priorityLevel:L,startTime:ie,expirationTime:M,sortIndex:-1},ie>xe?(L.sortIndex=ie,e(p,L),o(y)===null&&L===o(p)&&(U?($(W),W=-1):U=!0,Ue(O,ie-xe))):(L.sortIndex=M,e(y,L),N||_||(N=!0,ue||(ue=!0,Ie()))),L},n.unstable_shouldYield=Se,n.unstable_wrapCallback=function(L){var K=C;return function(){var ie=C;C=K;try{return L.apply(this,arguments)}finally{C=ie}}}}(Iu)),Iu}var im;function Ov(){return im||(im=1,ku.exports=Bv()),ku.exports}var Uu={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function Yv(){if(om)return Et;om=1;var n=ju();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(y,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:y,containerInfo:p,implementation:v}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Et.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return f(y,p,null,v)},Et.flushSync=function(y){var p=m.T,v=l.p;try{if(m.T=null,l.p=2,y)return y()}finally{m.T=p,l.p=v,l.d.f()}},Et.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(y,p))},Et.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},Et.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,S=g(v,p.crossOrigin),C=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:_}):v==="script"&&l.d.X(y,{crossOrigin:S,integrity:C,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Et.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(y)},Et.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,S=g(v,p.crossOrigin);l.d.L(y,v,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Et.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=g(p.as,p.crossOrigin);l.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(y)},Et.requestFormReset=function(y){l.d.r(y)},Et.unstable_batchedUpdates=function(y,p){return y(p)},Et.useFormState=function(y,p,v){return m.H.useFormState(y,p,v)},Et.useFormStatus=function(){return m.H.useHostTransitionStatus()},Et.version="19.1.1",Et}var lm;function Fv(){if(lm)return Uu.exports;lm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Uu.exports=Yv(),Uu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am;function $v(){if(am)return bl;am=1;var n=Ov(),e=ju(),o=Fv();function l(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function m(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(f(t)!==t)throw Error(l(188))}function y(t){var i=t.alternate;if(!i){if(i=f(t),i===null)throw Error(l(188));return i!==t?null:t}for(var a=t,u=i;;){var d=a.return;if(d===null)break;var h=d.alternate;if(h===null){if(u=d.return,u!==null){a=u;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===a)return g(d),t;if(h===u)return g(d),i;h=h.sibling}throw Error(l(188))}if(a.return!==u.return)a=d,u=h;else{for(var T=!1,E=d.child;E;){if(E===a){T=!0,a=d,u=h;break}if(E===u){T=!0,u=d,a=h;break}E=E.sibling}if(!T){for(E=h.child;E;){if(E===a){T=!0,a=h,u=d;break}if(E===u){T=!0,u=h,a=d;break}E=E.sibling}if(!T)throw Error(l(189))}}if(a.alternate!==u)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),F=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),Se=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function Ie(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var Lt=Symbol.for("react.client.reference");function ht(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Lt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case z:return"Profiler";case U:return"StrictMode";case O:return"Suspense";case ue:return"SuspenseList";case se:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case F:return(t.displayName||"Context")+".Provider";case $:return(t._context.displayName||"Context")+".Consumer";case j:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W:return i=t.displayName||null,i!==null?i:ht(t.type)||"Memo";case _e:i=t._payload,t=t._init;try{return ht(t(i))}catch{}}return null}var Ue=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},xe=[],M=-1;function q(t){return{current:t}}function X(t){0>M||(t.current=xe[M],xe[M]=null,M--)}function J(t,i){M++,xe[M]=t.current,t.current=i}var ae=q(null),me=q(null),de=q(null),Tt=q(null);function Pe(t,i){switch(J(de,i),J(me,t),J(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Mp(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Mp(i),t=Rp(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ae),J(ae,t)}function Rt(){X(ae),X(me),X(de)}function li(t){t.memoizedState!==null&&J(Tt,t);var i=ae.current,a=Rp(i,t.type);i!==a&&(J(me,t),J(ae,a))}function bi(t){me.current===t&&(X(ae),X(me)),Tt.current===t&&(X(Tt),_l._currentValue=ie)}var wo=Object.prototype.hasOwnProperty,bo=n.unstable_scheduleCallback,Do=n.unstable_cancelCallback,vs=n.unstable_shouldYield,ko=n.unstable_requestPaint,Nt=n.unstable_now,Ts=n.unstable_getCurrentPriorityLevel,ql=n.unstable_ImmediatePriority,Hl=n.unstable_UserBlockingPriority,rn=n.unstable_NormalPriority,Di=n.unstable_LowPriority,Io=n.unstable_IdlePriority,Ss=n.log,Uo=n.unstable_setDisableYieldValue,ai=null,tt=null;function un(t){if(typeof Ss=="function"&&Uo(t),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(ai,t)}catch{}}var _t=Math.clz32?Math.clz32:P,zl=Math.log,Yt=Math.LN2;function P(t){return t>>>=0,t===0?32:31-(zl(t)/Yt|0)|0}var B=256,Y=4194304;function oe(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Re(t,i,a){var u=t.pendingLanes;if(u===0)return 0;var d=0,h=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var E=u&134217727;return E!==0?(u=E&~h,u!==0?d=oe(u):(T&=E,T!==0?d=oe(T):a||(a=E&~t,a!==0&&(d=oe(a))))):(E=u&~h,E!==0?d=oe(E):T!==0?d=oe(T):a||(a=u&~t,a!==0&&(d=oe(a)))),d===0?0:i!==0&&i!==d&&(i&h)===0&&(h=d&-d,a=i&-i,h>=a||h===32&&(a&4194048)!==0)?i:d}function Ce(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function we(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nt(){var t=B;return B<<=1,(B&4194048)===0&&(B=256),t}function ut(){var t=Y;return Y<<=1,(Y&62914560)===0&&(Y=4194304),t}function St(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Qe(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ct(t,i,a,u,d,h){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,A=t.expirationTimes,D=t.hiddenUpdates;for(a=T&~a;0<a;){var V=31-_t(a),H=1<<V;E[V]=0,A[V]=-1;var k=D[V];if(k!==null)for(D[V]=null,V=0;V<k.length;V++){var I=k[V];I!==null&&(I.lane&=-536870913)}a&=~H}u!==0&&Ze(t,u,0),h!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=h&~(T&~i))}function Ze(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-_t(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|a&4194090}function We(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var u=31-_t(a),d=1<<u;d&i|t[u]&i&&(t[u]|=i),a&=~d}}function Ee(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ye(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Oe(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:$p(t.type))}function nn(t,i){var a=K.p;try{return K.p=t,i()}finally{K.p=a}}var Ft=Math.random().toString(36).slice(2),Je="__reactFiber$"+Ft,wt="__reactProps$"+Ft,ki="__reactContainer$"+Ft,Cs="__reactEvents$"+Ft,Rg="__reactListeners$"+Ft,Ng="__reactHandles$"+Ft,pc="__reactResources$"+Ft,Lo="__reactMarker$"+Ft;function Es(t){delete t[Je],delete t[wt],delete t[Cs],delete t[Rg],delete t[Ng]}function Ii(t){var i=t[Je];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ki]||a[Je]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Dp(t);t!==null;){if(a=t[Je])return a;t=Dp(t)}return i}t=a,a=t.parentNode}return null}function Ui(t){if(t=t[Je]||t[ki]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Vo(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(l(33))}function Li(t){var i=t[pc];return i||(i=t[pc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ft(t){t[Lo]=!0}var mc=new Set,hc={};function si(t,i){Vi(t,i),Vi(t+"Capture",i)}function Vi(t,i){for(hc[t]=i,t=0;t<i.length;t++)mc.add(i[t])}var wg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gc={},yc={};function bg(t){return wo.call(yc,t)?!0:wo.call(gc,t)?!1:wg.test(t)?yc[t]=!0:(gc[t]=!0,!1)}function Bl(t,i,a){if(bg(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Ol(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function vn(t,i,a,u){if(u===null)t.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+u)}}var As,vc;function Pi(t){if(As===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);As=i&&i[1]||"",vc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+As+t+vc}var _s=!1;function xs(t,i){if(!t||_s)return"";_s=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(I){var k=I}Reflect.construct(t,[],H)}else{try{H.call()}catch(I){k=I}t.call(H.prototype)}}else{try{throw Error()}catch(I){k=I}(H=t())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(I){if(I&&k&&typeof I.stack=="string")return[I.stack,k.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=u.DetermineComponentFrameRoot(),T=h[0],E=h[1];if(T&&E){var A=T.split(`
`),D=E.split(`
`);for(d=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;if(u===A.length||d===D.length)for(u=A.length-1,d=D.length-1;1<=u&&0<=d&&A[u]!==D[d];)d--;for(;1<=u&&0<=d;u--,d--)if(A[u]!==D[d]){if(u!==1||d!==1)do if(u--,d--,0>d||A[u]!==D[d]){var V=`
`+A[u].replace(" at new "," at ");return t.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",t.displayName)),V}while(1<=u&&0<=d);break}}}finally{_s=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Pi(a):""}function Dg(t){switch(t.tag){case 26:case 27:case 5:return Pi(t.type);case 16:return Pi("Lazy");case 13:return Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 15:return xs(t.type,!1);case 11:return xs(t.type.render,!1);case 1:return xs(t.type,!0);case 31:return Pi("Activity");default:return""}}function Tc(t){try{var i="";do i+=Dg(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sc(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function kg(t){var i=Sc(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,h=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){u=""+T,h.call(this,T)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Yl(t){t._valueTracker||(t._valueTracker=kg(t))}function Cc(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return t&&(u=Sc(t)?t.checked?"true":"false":t.value),t=u,t!==a?(i.setValue(t),!0):!1}function Fl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ig=/[\n"\\]/g;function Jt(t){return t.replace(Ig,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ms(t,i,a,u,d,h,T,E){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+$t(i)):t.value!==""+$t(i)&&(t.value=""+$t(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Rs(t,T,$t(i)):a!=null?Rs(t,T,$t(a)):u!=null&&t.removeAttribute("value"),d==null&&h!=null&&(t.defaultChecked=!!h),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+$t(E):t.removeAttribute("name")}function Ec(t,i,a,u,d,h,T,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),i!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||i!=null))return;a=a!=null?""+$t(a):"",i=i!=null?""+$t(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=E?t.checked:!!u,t.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Rs(t,i,a){i==="number"&&Fl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Gi(t,i,a,u){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&u&&(t[a].defaultSelected=!0)}else{for(a=""+$t(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Ac(t,i,a){if(i!=null&&(i=""+$t(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+$t(a):""}function _c(t,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(l(92));if(Ue(u)){if(1<u.length)throw Error(l(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=$t(i),t.defaultValue=a,u=t.textContent,u===a&&u!==""&&u!==null&&(t.value=u)}function qi(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ug=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xc(t,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,a):typeof a!="number"||a===0||Ug.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Mc(t,i,a){if(i!=null&&typeof i!="object")throw Error(l(62));if(t=t.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var d in i)u=i[d],i.hasOwnProperty(d)&&a[d]!==u&&xc(t,d,u)}else for(var h in i)i.hasOwnProperty(h)&&xc(t,h,i[h])}function Ns(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $l(t){return Vg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ws=null;function bs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hi=null,zi=null;function Rc(t){var i=Ui(t);if(i&&(t=i.stateNode)){var a=t[wt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ms(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Jt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==t&&u.form===t.form){var d=u[wt]||null;if(!d)throw Error(l(90));Ms(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===t.form&&Cc(u)}break e;case"textarea":Ac(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Gi(t,!!a.multiple,i,!1)}}}var Ds=!1;function Nc(t,i,a){if(Ds)return t(i,a);Ds=!0;try{var u=t(i);return u}finally{if(Ds=!1,(Hi!==null||zi!==null)&&(Da(),Hi&&(i=Hi,t=zi,zi=Hi=null,Rc(i),t)))for(i=0;i<t.length;i++)Rc(t[i])}}function Po(t,i){var a=t.stateNode;if(a===null)return null;var u=a[wt]||null;if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(l(231,i,typeof a));return a}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ks=!1;if(Tn)try{var Go={};Object.defineProperty(Go,"passive",{get:function(){ks=!0}}),window.addEventListener("test",Go,Go),window.removeEventListener("test",Go,Go)}catch{ks=!1}var Vn=null,Is=null,Jl=null;function wc(){if(Jl)return Jl;var t,i=Is,a=i.length,u,d="value"in Vn?Vn.value:Vn.textContent,h=d.length;for(t=0;t<a&&i[t]===d[t];t++);var T=a-t;for(u=1;u<=T&&i[a-u]===d[h-u];u++);return Jl=d.slice(t,1<u?1-u:void 0)}function Kl(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Xl(){return!0}function bc(){return!1}function bt(t){function i(a,u,d,h,T){this._reactName=a,this._targetInst=d,this.type=u,this.nativeEvent=h,this.target=T,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Xl:bc,this.isPropagationStopped=bc,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),i}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=bt(ri),qo=v({},ri,{view:0,detail:0}),Pg=bt(qo),Us,Ls,Ho,Zl=v({},qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ho&&(Ho&&t.type==="mousemove"?(Us=t.screenX-Ho.screenX,Ls=t.screenY-Ho.screenY):Ls=Us=0,Ho=t),Us)},movementY:function(t){return"movementY"in t?t.movementY:Ls}}),Dc=bt(Zl),Gg=v({},Zl,{dataTransfer:0}),qg=bt(Gg),Hg=v({},qo,{relatedTarget:0}),Vs=bt(Hg),zg=v({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Bg=bt(zg),Og=v({},ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yg=bt(Og),Fg=v({},ri,{data:0}),kc=bt(Fg),$g={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xg(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Kg[t])?!!i[t]:!1}function Ps(){return Xg}var Qg=v({},qo,{key:function(t){if(t.key){var i=$g[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Kl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?Kl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zg=bt(Qg),Wg=v({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ic=bt(Wg),jg=v({},qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),ey=bt(jg),ty=v({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),ny=bt(ty),iy=v({},Zl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oy=bt(iy),ly=v({},ri,{newState:0,oldState:0}),ay=bt(ly),sy=[9,13,27,32],Gs=Tn&&"CompositionEvent"in window,zo=null;Tn&&"documentMode"in document&&(zo=document.documentMode);var ry=Tn&&"TextEvent"in window&&!zo,Uc=Tn&&(!Gs||zo&&8<zo&&11>=zo),Lc=" ",Vc=!1;function Pc(t,i){switch(t){case"keyup":return sy.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bi=!1;function uy(t,i){switch(t){case"compositionend":return Gc(i);case"keypress":return i.which!==32?null:(Vc=!0,Lc);case"textInput":return t=i.data,t===Lc&&Vc?null:t;default:return null}}function cy(t,i){if(Bi)return t==="compositionend"||!Gs&&Pc(t,i)?(t=wc(),Jl=Is=Vn=null,Bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Uc&&i.locale!=="ko"?null:i.data;default:return null}}var fy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!fy[t.type]:i==="textarea"}function Hc(t,i,a,u){Hi?zi?zi.push(u):zi=[u]:Hi=u,i=Pa(i,"onChange"),0<i.length&&(a=new Ql("onChange","change",null,a,u),t.push({event:a,listeners:i}))}var Bo=null,Oo=null;function dy(t){Cp(t,0)}function Wl(t){var i=Vo(t);if(Cc(i))return t}function zc(t,i){if(t==="change")return i}var Bc=!1;if(Tn){var qs;if(Tn){var Hs="oninput"in document;if(!Hs){var Oc=document.createElement("div");Oc.setAttribute("oninput","return;"),Hs=typeof Oc.oninput=="function"}qs=Hs}else qs=!1;Bc=qs&&(!document.documentMode||9<document.documentMode)}function Yc(){Bo&&(Bo.detachEvent("onpropertychange",Fc),Oo=Bo=null)}function Fc(t){if(t.propertyName==="value"&&Wl(Oo)){var i=[];Hc(i,Oo,t,bs(t)),Nc(dy,i)}}function py(t,i,a){t==="focusin"?(Yc(),Bo=i,Oo=a,Bo.attachEvent("onpropertychange",Fc)):t==="focusout"&&Yc()}function my(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wl(Oo)}function hy(t,i){if(t==="click")return Wl(i)}function gy(t,i){if(t==="input"||t==="change")return Wl(i)}function yy(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Vt=typeof Object.is=="function"?Object.is:yy;function Yo(t,i){if(Vt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var d=a[u];if(!wo.call(i,d)||!Vt(t[d],i[d]))return!1}return!0}function $c(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jc(t,i){var a=$c(t);t=0;for(var u;a;){if(a.nodeType===3){if(u=t+a.textContent.length,t<=i&&u>=i)return{node:a,offset:i-t};t=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$c(a)}}function Kc(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Kc(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Xc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Fl(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Fl(t.document)}return i}function zs(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var vy=Tn&&"documentMode"in document&&11>=document.documentMode,Oi=null,Bs=null,Fo=null,Os=!1;function Qc(t,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Os||Oi==null||Oi!==Fl(u)||(u=Oi,"selectionStart"in u&&zs(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Fo&&Yo(Fo,u)||(Fo=u,u=Pa(Bs,"onSelect"),0<u.length&&(i=new Ql("onSelect","select",null,i,a),t.push({event:i,listeners:u}),i.target=Oi)))}function ui(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Yi={animationend:ui("Animation","AnimationEnd"),animationiteration:ui("Animation","AnimationIteration"),animationstart:ui("Animation","AnimationStart"),transitionrun:ui("Transition","TransitionRun"),transitionstart:ui("Transition","TransitionStart"),transitioncancel:ui("Transition","TransitionCancel"),transitionend:ui("Transition","TransitionEnd")},Ys={},Zc={};Tn&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function ci(t){if(Ys[t])return Ys[t];if(!Yi[t])return t;var i=Yi[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Zc)return Ys[t]=i[a];return t}var Wc=ci("animationend"),jc=ci("animationiteration"),ef=ci("animationstart"),Ty=ci("transitionrun"),Sy=ci("transitionstart"),Cy=ci("transitioncancel"),tf=ci("transitionend"),nf=new Map,Fs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fs.push("scrollEnd");function on(t,i){nf.set(t,i),si(i,[t])}var of=new WeakMap;function Kt(t,i){if(typeof t=="object"&&t!==null){var a=of.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Tc(i)},of.set(t,i),i)}return{value:t,source:i,stack:Tc(i)}}var Xt=[],Fi=0,$s=0;function jl(){for(var t=Fi,i=$s=Fi=0;i<t;){var a=Xt[i];Xt[i++]=null;var u=Xt[i];Xt[i++]=null;var d=Xt[i];Xt[i++]=null;var h=Xt[i];if(Xt[i++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}h!==0&&lf(a,d,h)}}function ea(t,i,a,u){Xt[Fi++]=t,Xt[Fi++]=i,Xt[Fi++]=a,Xt[Fi++]=u,$s|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Js(t,i,a,u){return ea(t,i,a,u),ta(t)}function $i(t,i){return ea(t,null,null,i),ta(t)}function lf(t,i,a){t.lanes|=a;var u=t.alternate;u!==null&&(u.lanes|=a);for(var d=!1,h=t.return;h!==null;)h.childLanes|=a,u=h.alternate,u!==null&&(u.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(d=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,d&&i!==null&&(d=31-_t(a),t=h.hiddenUpdates,u=t[d],u===null?t[d]=[i]:u.push(i),i.lane=a|536870912),h):null}function ta(t){if(50<gl)throw gl=0,jr=null,Error(l(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ji={};function Ey(t,i,a,u){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,i,a,u){return new Ey(t,i,a,u)}function Ks(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sn(t,i){var a=t.alternate;return a===null?(a=Pt(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function af(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function na(t,i,a,u,d,h){var T=0;if(u=t,typeof t=="function")Ks(t)&&(T=1);else if(typeof t=="string")T=_v(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case se:return t=Pt(31,a,i,d),t.elementType=se,t.lanes=h,t;case N:return fi(a.children,d,h,i);case U:T=8,d|=24;break;case z:return t=Pt(12,a,i,d|2),t.elementType=z,t.lanes=h,t;case O:return t=Pt(13,a,i,d),t.elementType=O,t.lanes=h,t;case ue:return t=Pt(19,a,i,d),t.elementType=ue,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:case F:T=10;break e;case $:T=9;break e;case j:T=11;break e;case W:T=14;break e;case _e:T=16,u=null;break e}T=29,a=Error(l(130,t===null?"null":typeof t,"")),u=null}return i=Pt(T,a,i,d),i.elementType=t,i.type=u,i.lanes=h,i}function fi(t,i,a,u){return t=Pt(7,t,u,i),t.lanes=a,t}function Xs(t,i,a){return t=Pt(6,t,null,i),t.lanes=a,t}function Qs(t,i,a){return i=Pt(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ki=[],Xi=0,ia=null,oa=0,Qt=[],Zt=0,di=null,Cn=1,En="";function pi(t,i){Ki[Xi++]=oa,Ki[Xi++]=ia,ia=t,oa=i}function sf(t,i,a){Qt[Zt++]=Cn,Qt[Zt++]=En,Qt[Zt++]=di,di=t;var u=Cn;t=En;var d=32-_t(u)-1;u&=~(1<<d),a+=1;var h=32-_t(i)+d;if(30<h){var T=d-d%5;h=(u&(1<<T)-1).toString(32),u>>=T,d-=T,Cn=1<<32-_t(i)+d|a<<d|u,En=h+t}else Cn=1<<h|a<<d|u,En=t}function Zs(t){t.return!==null&&(pi(t,1),sf(t,1,0))}function Ws(t){for(;t===ia;)ia=Ki[--Xi],Ki[Xi]=null,oa=Ki[--Xi],Ki[Xi]=null;for(;t===di;)di=Qt[--Zt],Qt[Zt]=null,En=Qt[--Zt],Qt[Zt]=null,Cn=Qt[--Zt],Qt[Zt]=null}var xt=null,je=null,Ne=!1,mi=null,cn=!1,js=Error(l(519));function hi(t){var i=Error(l(418,""));throw Ko(Kt(i,t)),js}function rf(t){var i=t.stateNode,a=t.type,u=t.memoizedProps;switch(i[Je]=t,i[wt]=u,a){case"dialog":Te("cancel",i),Te("close",i);break;case"iframe":case"object":case"embed":Te("load",i);break;case"video":case"audio":for(a=0;a<vl.length;a++)Te(vl[a],i);break;case"source":Te("error",i);break;case"img":case"image":case"link":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"input":Te("invalid",i),Ec(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Yl(i);break;case"select":Te("invalid",i);break;case"textarea":Te("invalid",i),_c(i,u.value,u.defaultValue,u.children),Yl(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||xp(i.textContent,a)?(u.popover!=null&&(Te("beforetoggle",i),Te("toggle",i)),u.onScroll!=null&&Te("scroll",i),u.onScrollEnd!=null&&Te("scrollend",i),u.onClick!=null&&(i.onclick=Ga),i=!0):i=!1,i||hi(t)}function uf(t){for(xt=t.return;xt;)switch(xt.tag){case 5:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:xt=xt.return}}function $o(t){if(t!==xt)return!1;if(!Ne)return uf(t),Ne=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||hu(t.type,t.memoizedProps)),a=!a),a&&je&&hi(t),uf(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){je=an(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}je=null}}else i===27?(i=je,Wn(t.type)?(t=Tu,Tu=null,je=t):je=i):je=xt?an(t.stateNode.nextSibling):null;return!0}function Jo(){je=xt=null,Ne=!1}function cf(){var t=mi;return t!==null&&(It===null?It=t:It.push.apply(It,t),mi=null),t}function Ko(t){mi===null?mi=[t]:mi.push(t)}var er=q(null),gi=null,An=null;function Pn(t,i,a){J(er,i._currentValue),i._currentValue=a}function _n(t){t._currentValue=er.current,X(er)}function tr(t,i,a){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===a)break;t=t.return}}function nr(t,i,a,u){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var h=d.dependencies;if(h!==null){var T=d.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=d;for(var A=0;A<i.length;A++)if(E.context===i[A]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),tr(h.return,a,t),u||(T=null);break e}h=E.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(l(341));T.lanes|=a,h=T.alternate,h!==null&&(h.lanes|=a),tr(T,a,t),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===t){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Xo(t,i,a,u){t=null;for(var d=i,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(l(387));if(T=T.memoizedProps,T!==null){var E=d.type;Vt(d.pendingProps.value,T.value)||(t!==null?t.push(E):t=[E])}}else if(d===Tt.current){if(T=d.alternate,T===null)throw Error(l(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(_l):t=[_l])}d=d.return}t!==null&&nr(i,t,a,u),i.flags|=262144}function la(t){for(t=t.firstContext;t!==null;){if(!Vt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function yi(t){gi=t,An=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ct(t){return ff(gi,t)}function aa(t,i){return gi===null&&yi(t),ff(t,i)}function ff(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},An===null){if(t===null)throw Error(l(308));An=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else An=An.next=i;return a}var Ay=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},_y=n.unstable_scheduleCallback,xy=n.unstable_NormalPriority,st={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ir(){return{controller:new Ay,data:new Map,refCount:0}}function Qo(t){t.refCount--,t.refCount===0&&_y(xy,function(){t.controller.abort()})}var Zo=null,or=0,Qi=0,Zi=null;function My(t,i){if(Zo===null){var a=Zo=[];or=0,Qi=au(),Zi={status:"pending",value:void 0,then:function(u){a.push(u)}}}return or++,i.then(df,df),i}function df(){if(--or===0&&Zo!==null){Zi!==null&&(Zi.status="fulfilled");var t=Zo;Zo=null,Qi=0,Zi=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Ry(t,i){var a=[],u={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(u.status="rejected",u.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),u}var pf=L.S;L.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&My(t,i),pf!==null&&pf(t,i)};var vi=q(null);function lr(){var t=vi.current;return t!==null?t:Ye.pooledCache}function sa(t,i){i===null?J(vi,vi.current):J(vi,i.pool)}function mf(){var t=lr();return t===null?null:{parent:st._currentValue,pool:t}}var Wo=Error(l(460)),hf=Error(l(474)),ra=Error(l(542)),ar={then:function(){}};function gf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ua(){}function yf(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ua,ua),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Tf(t),t;default:if(typeof i.status=="string")i.then(ua,ua);else{if(t=Ye,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=u}},function(u){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Tf(t),t}throw jo=i,Wo}}var jo=null;function vf(){if(jo===null)throw Error(l(459));var t=jo;return jo=null,t}function Tf(t){if(t===Wo||t===ra)throw Error(l(483))}var Gn=!1;function sr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rr(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hn(t,i,a){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Le&2)!==0){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,i=ta(t),lf(t,null,a),i}return ea(t,u,i,a),ta(t)}function el(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,a|=u,i.lanes=a,We(t,a)}}function ur(t,i){var a=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var d=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?d=h=T:h=h.next=T,a=a.next}while(a!==null);h===null?d=h=i:h=h.next=i}else d=h=i;a={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:u.shared,callbacks:u.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var cr=!1;function tl(){if(cr){var t=Zi;if(t!==null)throw t}}function nl(t,i,a,u){cr=!1;var d=t.updateQueue;Gn=!1;var h=d.firstBaseUpdate,T=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var A=E,D=A.next;A.next=null,T===null?h=D:T.next=D,T=A;var V=t.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==T&&(E===null?V.firstBaseUpdate=D:E.next=D,V.lastBaseUpdate=A))}if(h!==null){var H=d.baseState;T=0,V=D=A=null,E=h;do{var k=E.lane&-536870913,I=k!==E.lane;if(I?(Ae&k)===k:(u&k)===k){k!==0&&k===Qi&&(cr=!0),V!==null&&(V=V.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var fe=t,re=E;k=i;var He=a;switch(re.tag){case 1:if(fe=re.payload,typeof fe=="function"){H=fe.call(He,H,k);break e}H=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=re.payload,k=typeof fe=="function"?fe.call(He,H,k):fe,k==null)break e;H=v({},H,k);break e;case 2:Gn=!0}}k=E.callback,k!==null&&(t.flags|=64,I&&(t.flags|=8192),I=d.callbacks,I===null?d.callbacks=[k]:I.push(k))}else I={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(D=V=I,A=H):V=V.next=I,T|=k;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;I=E,E=I.next,I.next=null,d.lastBaseUpdate=I,d.shared.pending=null}}while(!0);V===null&&(A=H),d.baseState=A,d.firstBaseUpdate=D,d.lastBaseUpdate=V,h===null&&(d.shared.lanes=0),Kn|=T,t.lanes=T,t.memoizedState=H}}function Sf(t,i){if(typeof t!="function")throw Error(l(191,t));t.call(i)}function Cf(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Sf(a[t],i)}var Wi=q(null),ca=q(0);function Ef(t,i){t=Dn,J(ca,t),J(Wi,i),Dn=t|i.baseLanes}function fr(){J(ca,Dn),J(Wi,Wi.current)}function dr(){Dn=ca.current,X(Wi),X(ca)}var zn=0,he=null,Ge=null,lt=null,fa=!1,ji=!1,Ti=!1,da=0,il=0,eo=null,Ny=0;function it(){throw Error(l(321))}function pr(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Vt(t[a],i[a]))return!1;return!0}function mr(t,i,a,u,d,h){return zn=h,he=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,L.H=t===null||t.memoizedState===null?ld:ad,Ti=!1,h=a(u,d),Ti=!1,ji&&(h=_f(i,a,u,d)),Af(t),h}function Af(t){L.H=va;var i=Ge!==null&&Ge.next!==null;if(zn=0,lt=Ge=he=null,fa=!1,il=0,eo=null,i)throw Error(l(300));t===null||dt||(t=t.dependencies,t!==null&&la(t)&&(dt=!0))}function _f(t,i,a,u){he=t;var d=0;do{if(ji&&(eo=null),il=0,ji=!1,25<=d)throw Error(l(301));if(d+=1,lt=Ge=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}L.H=Ly,h=i(a,u)}while(ji);return h}function wy(){var t=L.H,i=t.useState()[0];return i=typeof i.then=="function"?ol(i):i,t=t.useState()[0],(Ge!==null?Ge.memoizedState:null)!==t&&(he.flags|=1024),i}function hr(){var t=da!==0;return da=0,t}function gr(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function yr(t){if(fa){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}fa=!1}zn=0,lt=Ge=he=null,ji=!1,il=da=0,eo=null}function Dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?he.memoizedState=lt=t:lt=lt.next=t,lt}function at(){if(Ge===null){var t=he.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var i=lt===null?he.memoizedState:lt.next;if(i!==null)lt=i,Ge=t;else{if(t===null)throw he.alternate===null?Error(l(467)):Error(l(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},lt===null?he.memoizedState=lt=t:lt=lt.next=t}return lt}function vr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var i=il;return il+=1,eo===null&&(eo=[]),t=yf(eo,t,i),i=he,(lt===null?i.memoizedState:lt.next)===null&&(i=i.alternate,L.H=i===null||i.memoizedState===null?ld:ad),t}function pa(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===F)return Ct(t)}throw Error(l(438,String(t)))}function Tr(t){var i=null,a=he.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=he.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=vr(),he.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),u=0;u<t;u++)a[u]=Se;return i.index++,a}function xn(t,i){return typeof i=="function"?i(t):i}function ma(t){var i=at();return Sr(i,Ge,t)}function Sr(t,i,a){var u=t.queue;if(u===null)throw Error(l(311));u.lastRenderedReducer=a;var d=t.baseQueue,h=u.pending;if(h!==null){if(d!==null){var T=d.next;d.next=h.next,h.next=T}i.baseQueue=d=h,u.pending=null}if(h=t.baseState,d===null)t.memoizedState=h;else{i=d.next;var E=T=null,A=null,D=i,V=!1;do{var H=D.lane&-536870913;if(H!==D.lane?(Ae&H)===H:(zn&H)===H){var k=D.revertLane;if(k===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),H===Qi&&(V=!0);else if((zn&k)===k){D=D.next,k===Qi&&(V=!0);continue}else H={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(E=A=H,T=h):A=A.next=H,he.lanes|=k,Kn|=k;H=D.action,Ti&&a(h,H),h=D.hasEagerState?D.eagerState:a(h,H)}else k={lane:H,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(E=A=k,T=h):A=A.next=k,he.lanes|=H,Kn|=H;D=D.next}while(D!==null&&D!==i);if(A===null?T=h:A.next=E,!Vt(h,t.memoizedState)&&(dt=!0,V&&(a=Zi,a!==null)))throw a;t.memoizedState=h,t.baseState=T,t.baseQueue=A,u.lastRenderedState=h}return d===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Cr(t){var i=at(),a=i.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=t;var u=a.dispatch,d=a.pending,h=i.memoizedState;if(d!==null){a.pending=null;var T=d=d.next;do h=t(h,T.action),T=T.next;while(T!==d);Vt(h,i.memoizedState)||(dt=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),a.lastRenderedState=h}return[h,u]}function xf(t,i,a){var u=he,d=at(),h=Ne;if(h){if(a===void 0)throw Error(l(407));a=a()}else a=i();var T=!Vt((Ge||d).memoizedState,a);T&&(d.memoizedState=a,dt=!0),d=d.queue;var E=Nf.bind(null,u,d,t);if(ll(2048,8,E,[t]),d.getSnapshot!==i||T||lt!==null&&lt.memoizedState.tag&1){if(u.flags|=2048,to(9,ha(),Rf.bind(null,u,d,a,i),null),Ye===null)throw Error(l(349));h||(zn&124)!==0||Mf(u,i,a)}return a}function Mf(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=he.updateQueue,i===null?(i=vr(),he.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Rf(t,i,a,u){i.value=a,i.getSnapshot=u,wf(i)&&bf(t)}function Nf(t,i,a){return a(function(){wf(i)&&bf(t)})}function wf(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Vt(t,a)}catch{return!0}}function bf(t){var i=$i(t,2);i!==null&&Bt(i,t,2)}function Er(t){var i=Dt();if(typeof t=="function"){var a=t;if(t=a(),Ti){un(!0);try{a()}finally{un(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:t},i}function Df(t,i,a,u){return t.baseState=a,Sr(t,Ge,typeof u=="function"?u:xn)}function by(t,i,a,u,d){if(ya(t))throw Error(l(485));if(t=i.action,t!==null){var h={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){h.listeners.push(T)}};L.T!==null?a(!0):h.isTransition=!1,u(h),a=i.pending,a===null?(h.next=i.pending=h,kf(i,h)):(h.next=a.next,i.pending=a.next=h)}}function kf(t,i){var a=i.action,u=i.payload,d=t.state;if(i.isTransition){var h=L.T,T={};L.T=T;try{var E=a(d,u),A=L.S;A!==null&&A(T,E),If(t,i,E)}catch(D){Ar(t,i,D)}finally{L.T=h}}else try{h=a(d,u),If(t,i,h)}catch(D){Ar(t,i,D)}}function If(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Uf(t,i,u)},function(u){return Ar(t,i,u)}):Uf(t,i,a)}function Uf(t,i,a){i.status="fulfilled",i.value=a,Lf(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,kf(t,a)))}function Ar(t,i,a){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,Lf(i),i=i.next;while(i!==u)}t.action=null}function Lf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Vf(t,i){return i}function Pf(t,i){if(Ne){var a=Ye.formState;if(a!==null){e:{var u=he;if(Ne){if(je){t:{for(var d=je,h=cn;d.nodeType!==8;){if(!h){d=null;break t}if(d=an(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){je=an(d.nextSibling),u=d.data==="F!";break e}}hi(u)}u=!1}u&&(i=a[0])}}return a=Dt(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vf,lastRenderedState:i},a.queue=u,a=nd.bind(null,he,u),u.dispatch=a,u=Er(!1),h=Nr.bind(null,he,!1,u.queue),u=Dt(),d={state:i,dispatch:null,action:t,pending:null},u.queue=d,a=by.bind(null,he,d,h,a),d.dispatch=a,u.memoizedState=t,[i,a,!1]}function Gf(t){var i=at();return qf(i,Ge,t)}function qf(t,i,a){if(i=Sr(t,i,Vf)[0],t=ma(xn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=ol(i)}catch(T){throw T===Wo?ra:T}else u=i;i=at();var d=i.queue,h=d.dispatch;return a!==i.memoizedState&&(he.flags|=2048,to(9,ha(),Dy.bind(null,d,a),null)),[u,h,t]}function Dy(t,i){t.action=i}function Hf(t){var i=at(),a=Ge;if(a!==null)return qf(i,a,t);at(),i=i.memoizedState,a=at();var u=a.queue.dispatch;return a.memoizedState=t,[i,u,!1]}function to(t,i,a,u){return t={tag:t,create:a,deps:u,inst:i,next:null},i=he.updateQueue,i===null&&(i=vr(),he.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(u=a.next,a.next=t,t.next=u,i.lastEffect=t),t}function ha(){return{destroy:void 0,resource:void 0}}function zf(){return at().memoizedState}function ga(t,i,a,u){var d=Dt();u=u===void 0?null:u,he.flags|=t,d.memoizedState=to(1|i,ha(),a,u)}function ll(t,i,a,u){var d=at();u=u===void 0?null:u;var h=d.memoizedState.inst;Ge!==null&&u!==null&&pr(u,Ge.memoizedState.deps)?d.memoizedState=to(i,h,a,u):(he.flags|=t,d.memoizedState=to(1|i,h,a,u))}function Bf(t,i){ga(8390656,8,t,i)}function Of(t,i){ll(2048,8,t,i)}function Yf(t,i){return ll(4,2,t,i)}function Ff(t,i){return ll(4,4,t,i)}function $f(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Jf(t,i,a){a=a!=null?a.concat([t]):null,ll(4,4,$f.bind(null,i,t),a)}function _r(){}function Kf(t,i){var a=at();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&pr(i,u[1])?u[0]:(a.memoizedState=[t,i],t)}function Xf(t,i){var a=at();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&pr(i,u[1]))return u[0];if(u=t(),Ti){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[u,i],u}function xr(t,i,a){return a===void 0||(zn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Wd(),he.lanes|=t,Kn|=t,a)}function Qf(t,i,a,u){return Vt(a,i)?a:Wi.current!==null?(t=xr(t,a,u),Vt(t,i)||(dt=!0),t):(zn&42)===0?(dt=!0,t.memoizedState=a):(t=Wd(),he.lanes|=t,Kn|=t,i)}function Zf(t,i,a,u,d){var h=K.p;K.p=h!==0&&8>h?h:8;var T=L.T,E={};L.T=E,Nr(t,!1,i,a);try{var A=d(),D=L.S;if(D!==null&&D(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var V=Ry(A,u);al(t,i,V,zt(t))}else al(t,i,u,zt(t))}catch(H){al(t,i,{then:function(){},status:"rejected",reason:H},zt())}finally{K.p=h,L.T=T}}function ky(){}function Mr(t,i,a,u){if(t.tag!==5)throw Error(l(476));var d=Wf(t).queue;Zf(t,d,i,ie,a===null?ky:function(){return jf(t),a(u)})}function Wf(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function jf(t){var i=Wf(t).next.queue;al(t,i,{},zt())}function Rr(){return Ct(_l)}function ed(){return at().memoizedState}function td(){return at().memoizedState}function Iy(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=zt();t=qn(a);var u=Hn(i,t,a);u!==null&&(Bt(u,i,a),el(u,i,a)),i={cache:ir()},t.payload=i;return}i=i.return}}function Uy(t,i,a){var u=zt();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ya(t)?id(i,a):(a=Js(t,i,a,u),a!==null&&(Bt(a,t,u),od(a,i,u)))}function nd(t,i,a){var u=zt();al(t,i,a,u)}function al(t,i,a,u){var d={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ya(t))id(i,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var T=i.lastRenderedState,E=h(T,a);if(d.hasEagerState=!0,d.eagerState=E,Vt(E,T))return ea(t,i,d,0),Ye===null&&jl(),!1}catch{}finally{}if(a=Js(t,i,d,u),a!==null)return Bt(a,t,u),od(a,i,u),!0}return!1}function Nr(t,i,a,u){if(u={lane:2,revertLane:au(),action:u,hasEagerState:!1,eagerState:null,next:null},ya(t)){if(i)throw Error(l(479))}else i=Js(t,a,u,2),i!==null&&Bt(i,t,2)}function ya(t){var i=t.alternate;return t===he||i!==null&&i===he}function id(t,i){ji=fa=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function od(t,i,a){if((a&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,a|=u,i.lanes=a,We(t,a)}}var va={readContext:Ct,use:pa,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it},ld={readContext:Ct,use:pa,useCallback:function(t,i){return Dt().memoizedState=[t,i===void 0?null:i],t},useContext:Ct,useEffect:Bf,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ga(4194308,4,$f.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ga(4194308,4,t,i)},useInsertionEffect:function(t,i){ga(4,2,t,i)},useMemo:function(t,i){var a=Dt();i=i===void 0?null:i;var u=t();if(Ti){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[u,i],u},useReducer:function(t,i,a){var u=Dt();if(a!==void 0){var d=a(i);if(Ti){un(!0);try{a(i)}finally{un(!1)}}}else d=i;return u.memoizedState=u.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},u.queue=t,t=t.dispatch=Uy.bind(null,he,t),[u.memoizedState,t]},useRef:function(t){var i=Dt();return t={current:t},i.memoizedState=t},useState:function(t){t=Er(t);var i=t.queue,a=nd.bind(null,he,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:_r,useDeferredValue:function(t,i){var a=Dt();return xr(a,t,i)},useTransition:function(){var t=Er(!1);return t=Zf.bind(null,he,t.queue,!0,!1),Dt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var u=he,d=Dt();if(Ne){if(a===void 0)throw Error(l(407));a=a()}else{if(a=i(),Ye===null)throw Error(l(349));(Ae&124)!==0||Mf(u,i,a)}d.memoizedState=a;var h={value:a,getSnapshot:i};return d.queue=h,Bf(Nf.bind(null,u,h,t),[t]),u.flags|=2048,to(9,ha(),Rf.bind(null,u,h,a,i),null),a},useId:function(){var t=Dt(),i=Ye.identifierPrefix;if(Ne){var a=En,u=Cn;a=(u&~(1<<32-_t(u)-1)).toString(32)+a,i=""+i+"R"+a,a=da++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=Ny++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Rr,useFormState:Pf,useActionState:Pf,useOptimistic:function(t){var i=Dt();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Nr.bind(null,he,!0,a),a.dispatch=i,[t,i]},useMemoCache:Tr,useCacheRefresh:function(){return Dt().memoizedState=Iy.bind(null,he)}},ad={readContext:Ct,use:pa,useCallback:Kf,useContext:Ct,useEffect:Of,useImperativeHandle:Jf,useInsertionEffect:Yf,useLayoutEffect:Ff,useMemo:Xf,useReducer:ma,useRef:zf,useState:function(){return ma(xn)},useDebugValue:_r,useDeferredValue:function(t,i){var a=at();return Qf(a,Ge.memoizedState,t,i)},useTransition:function(){var t=ma(xn)[0],i=at().memoizedState;return[typeof t=="boolean"?t:ol(t),i]},useSyncExternalStore:xf,useId:ed,useHostTransitionStatus:Rr,useFormState:Gf,useActionState:Gf,useOptimistic:function(t,i){var a=at();return Df(a,Ge,t,i)},useMemoCache:Tr,useCacheRefresh:td},Ly={readContext:Ct,use:pa,useCallback:Kf,useContext:Ct,useEffect:Of,useImperativeHandle:Jf,useInsertionEffect:Yf,useLayoutEffect:Ff,useMemo:Xf,useReducer:Cr,useRef:zf,useState:function(){return Cr(xn)},useDebugValue:_r,useDeferredValue:function(t,i){var a=at();return Ge===null?xr(a,t,i):Qf(a,Ge.memoizedState,t,i)},useTransition:function(){var t=Cr(xn)[0],i=at().memoizedState;return[typeof t=="boolean"?t:ol(t),i]},useSyncExternalStore:xf,useId:ed,useHostTransitionStatus:Rr,useFormState:Hf,useActionState:Hf,useOptimistic:function(t,i){var a=at();return Ge!==null?Df(a,Ge,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Tr,useCacheRefresh:td},no=null,sl=0;function Ta(t){var i=sl;return sl+=1,no===null&&(no=[]),yf(no,t,i)}function rl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Sa(t,i){throw i.$$typeof===S?Error(l(525)):(t=Object.prototype.toString.call(i),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function sd(t){var i=t._init;return i(t._payload)}function rd(t){function i(w,R){if(t){var b=w.deletions;b===null?(w.deletions=[R],w.flags|=16):b.push(R)}}function a(w,R){if(!t)return null;for(;R!==null;)i(w,R),R=R.sibling;return null}function u(w){for(var R=new Map;w!==null;)w.key!==null?R.set(w.key,w):R.set(w.index,w),w=w.sibling;return R}function d(w,R){return w=Sn(w,R),w.index=0,w.sibling=null,w}function h(w,R,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<R?(w.flags|=67108866,R):b):(w.flags|=67108866,R)):(w.flags|=1048576,R)}function T(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function E(w,R,b,G){return R===null||R.tag!==6?(R=Xs(b,w.mode,G),R.return=w,R):(R=d(R,b),R.return=w,R)}function A(w,R,b,G){var Z=b.type;return Z===N?V(w,R,b.props.children,G,b.key):R!==null&&(R.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===_e&&sd(Z)===R.type)?(R=d(R,b.props),rl(R,b),R.return=w,R):(R=na(b.type,b.key,b.props,null,w.mode,G),rl(R,b),R.return=w,R)}function D(w,R,b,G){return R===null||R.tag!==4||R.stateNode.containerInfo!==b.containerInfo||R.stateNode.implementation!==b.implementation?(R=Qs(b,w.mode,G),R.return=w,R):(R=d(R,b.children||[]),R.return=w,R)}function V(w,R,b,G,Z){return R===null||R.tag!==7?(R=fi(b,w.mode,G,Z),R.return=w,R):(R=d(R,b),R.return=w,R)}function H(w,R,b){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Xs(""+R,w.mode,b),R.return=w,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case C:return b=na(R.type,R.key,R.props,null,w.mode,b),rl(b,R),b.return=w,b;case _:return R=Qs(R,w.mode,b),R.return=w,R;case _e:var G=R._init;return R=G(R._payload),H(w,R,b)}if(Ue(R)||Ie(R))return R=fi(R,w.mode,b,null),R.return=w,R;if(typeof R.then=="function")return H(w,Ta(R),b);if(R.$$typeof===F)return H(w,aa(w,R),b);Sa(w,R)}return null}function k(w,R,b,G){var Z=R!==null?R.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return Z!==null?null:E(w,R,""+b,G);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case C:return b.key===Z?A(w,R,b,G):null;case _:return b.key===Z?D(w,R,b,G):null;case _e:return Z=b._init,b=Z(b._payload),k(w,R,b,G)}if(Ue(b)||Ie(b))return Z!==null?null:V(w,R,b,G,null);if(typeof b.then=="function")return k(w,R,Ta(b),G);if(b.$$typeof===F)return k(w,R,aa(w,b),G);Sa(w,b)}return null}function I(w,R,b,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return w=w.get(b)||null,E(R,w,""+G,Z);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case C:return w=w.get(G.key===null?b:G.key)||null,A(R,w,G,Z);case _:return w=w.get(G.key===null?b:G.key)||null,D(R,w,G,Z);case _e:var ge=G._init;return G=ge(G._payload),I(w,R,b,G,Z)}if(Ue(G)||Ie(G))return w=w.get(b)||null,V(R,w,G,Z,null);if(typeof G.then=="function")return I(w,R,b,Ta(G),Z);if(G.$$typeof===F)return I(w,R,b,aa(R,G),Z);Sa(R,G)}return null}function fe(w,R,b,G){for(var Z=null,ge=null,ne=R,ce=R=0,mt=null;ne!==null&&ce<b.length;ce++){ne.index>ce?(mt=ne,ne=null):mt=ne.sibling;var Me=k(w,ne,b[ce],G);if(Me===null){ne===null&&(ne=mt);break}t&&ne&&Me.alternate===null&&i(w,ne),R=h(Me,R,ce),ge===null?Z=Me:ge.sibling=Me,ge=Me,ne=mt}if(ce===b.length)return a(w,ne),Ne&&pi(w,ce),Z;if(ne===null){for(;ce<b.length;ce++)ne=H(w,b[ce],G),ne!==null&&(R=h(ne,R,ce),ge===null?Z=ne:ge.sibling=ne,ge=ne);return Ne&&pi(w,ce),Z}for(ne=u(ne);ce<b.length;ce++)mt=I(ne,w,ce,b[ce],G),mt!==null&&(t&&mt.alternate!==null&&ne.delete(mt.key===null?ce:mt.key),R=h(mt,R,ce),ge===null?Z=mt:ge.sibling=mt,ge=mt);return t&&ne.forEach(function(ii){return i(w,ii)}),Ne&&pi(w,ce),Z}function re(w,R,b,G){if(b==null)throw Error(l(151));for(var Z=null,ge=null,ne=R,ce=R=0,mt=null,Me=b.next();ne!==null&&!Me.done;ce++,Me=b.next()){ne.index>ce?(mt=ne,ne=null):mt=ne.sibling;var ii=k(w,ne,Me.value,G);if(ii===null){ne===null&&(ne=mt);break}t&&ne&&ii.alternate===null&&i(w,ne),R=h(ii,R,ce),ge===null?Z=ii:ge.sibling=ii,ge=ii,ne=mt}if(Me.done)return a(w,ne),Ne&&pi(w,ce),Z;if(ne===null){for(;!Me.done;ce++,Me=b.next())Me=H(w,Me.value,G),Me!==null&&(R=h(Me,R,ce),ge===null?Z=Me:ge.sibling=Me,ge=Me);return Ne&&pi(w,ce),Z}for(ne=u(ne);!Me.done;ce++,Me=b.next())Me=I(ne,w,ce,Me.value,G),Me!==null&&(t&&Me.alternate!==null&&ne.delete(Me.key===null?ce:Me.key),R=h(Me,R,ce),ge===null?Z=Me:ge.sibling=Me,ge=Me);return t&&ne.forEach(function(Vv){return i(w,Vv)}),Ne&&pi(w,ce),Z}function He(w,R,b,G){if(typeof b=="object"&&b!==null&&b.type===N&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case C:e:{for(var Z=b.key;R!==null;){if(R.key===Z){if(Z=b.type,Z===N){if(R.tag===7){a(w,R.sibling),G=d(R,b.props.children),G.return=w,w=G;break e}}else if(R.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===_e&&sd(Z)===R.type){a(w,R.sibling),G=d(R,b.props),rl(G,b),G.return=w,w=G;break e}a(w,R);break}else i(w,R);R=R.sibling}b.type===N?(G=fi(b.props.children,w.mode,G,b.key),G.return=w,w=G):(G=na(b.type,b.key,b.props,null,w.mode,G),rl(G,b),G.return=w,w=G)}return T(w);case _:e:{for(Z=b.key;R!==null;){if(R.key===Z)if(R.tag===4&&R.stateNode.containerInfo===b.containerInfo&&R.stateNode.implementation===b.implementation){a(w,R.sibling),G=d(R,b.children||[]),G.return=w,w=G;break e}else{a(w,R);break}else i(w,R);R=R.sibling}G=Qs(b,w.mode,G),G.return=w,w=G}return T(w);case _e:return Z=b._init,b=Z(b._payload),He(w,R,b,G)}if(Ue(b))return fe(w,R,b,G);if(Ie(b)){if(Z=Ie(b),typeof Z!="function")throw Error(l(150));return b=Z.call(b),re(w,R,b,G)}if(typeof b.then=="function")return He(w,R,Ta(b),G);if(b.$$typeof===F)return He(w,R,aa(w,b),G);Sa(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,R!==null&&R.tag===6?(a(w,R.sibling),G=d(R,b),G.return=w,w=G):(a(w,R),G=Xs(b,w.mode,G),G.return=w,w=G),T(w)):a(w,R)}return function(w,R,b,G){try{sl=0;var Z=He(w,R,b,G);return no=null,Z}catch(ne){if(ne===Wo||ne===ra)throw ne;var ge=Pt(29,ne,null,w.mode);return ge.lanes=G,ge.return=w,ge}finally{}}}var io=rd(!0),ud=rd(!1),Wt=q(null),fn=null;function Bn(t){var i=t.alternate;J(rt,rt.current&1),J(Wt,t),fn===null&&(i===null||Wi.current!==null||i.memoizedState!==null)&&(fn=t)}function cd(t){if(t.tag===22){if(J(rt,rt.current),J(Wt,t),fn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(fn=t)}}else On()}function On(){J(rt,rt.current),J(Wt,Wt.current)}function Mn(t){X(Wt),fn===t&&(fn=null),X(rt)}var rt=q(0);function Ca(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||vu(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function wr(t,i,a,u){i=t.memoizedState,a=a(u,i),a=a==null?i:v({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var br={enqueueSetState:function(t,i,a){t=t._reactInternals;var u=zt(),d=qn(u);d.payload=i,a!=null&&(d.callback=a),i=Hn(t,d,u),i!==null&&(Bt(i,t,u),el(i,t,u))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var u=zt(),d=qn(u);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Hn(t,d,u),i!==null&&(Bt(i,t,u),el(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=zt(),u=qn(a);u.tag=2,i!=null&&(u.callback=i),i=Hn(t,u,a),i!==null&&(Bt(i,t,a),el(i,t,a))}};function fd(t,i,a,u,d,h,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,h,T):i.prototype&&i.prototype.isPureReactComponent?!Yo(a,u)||!Yo(d,h):!0}function dd(t,i,a,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==t&&br.enqueueReplaceState(i,i.state,null)}function Si(t,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(t=t.defaultProps){a===i&&(a=v({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var Ea=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function pd(t){Ea(t)}function md(t){console.error(t)}function hd(t){Ea(t)}function Aa(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function gd(t,i,a){try{var u=t.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Dr(t,i,a){return a=qn(a),a.tag=3,a.payload={element:null},a.callback=function(){Aa(t,i)},a}function yd(t){return t=qn(t),t.tag=3,t}function vd(t,i,a,u){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var h=u.value;t.payload=function(){return d(h)},t.callback=function(){gd(i,a,u)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){gd(i,a,u),typeof d!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function Vy(t,i,a,u,d){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&Xo(i,a,d,!0),a=Wt.current,a!==null){switch(a.tag){case 13:return fn===null?tu():a.alternate===null&&et===0&&(et=3),a.flags&=-257,a.flags|=65536,a.lanes=d,u===ar?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),iu(t,u,d)),!1;case 22:return a.flags|=65536,u===ar?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),iu(t,u,d)),!1}throw Error(l(435,a.tag))}return iu(t,u,d),tu(),!1}if(Ne)return i=Wt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,u!==js&&(t=Error(l(422),{cause:u}),Ko(Kt(t,a)))):(u!==js&&(i=Error(l(423),{cause:u}),Ko(Kt(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,u=Kt(u,a),d=Dr(t.stateNode,u,d),ur(t,d),et!==4&&(et=2)),!1;var h=Error(l(520),{cause:u});if(h=Kt(h,a),hl===null?hl=[h]:hl.push(h),et!==4&&(et=2),i===null)return!0;u=Kt(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Dr(a.stateNode,u,t),ur(a,t),!1;case 1:if(i=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Xn===null||!Xn.has(h))))return a.flags|=65536,d&=-d,a.lanes|=d,d=yd(d),vd(d,t,a,u),ur(a,d),!1}a=a.return}while(a!==null);return!1}var Td=Error(l(461)),dt=!1;function gt(t,i,a,u){i.child=t===null?ud(i,null,a,u):io(i,t.child,a,u)}function Sd(t,i,a,u,d){a=a.render;var h=i.ref;if("ref"in u){var T={};for(var E in u)E!=="ref"&&(T[E]=u[E])}else T=u;return yi(i),u=mr(t,i,a,T,h,d),E=hr(),t!==null&&!dt?(gr(t,i,d),Rn(t,i,d)):(Ne&&E&&Zs(i),i.flags|=1,gt(t,i,u,d),i.child)}function Cd(t,i,a,u,d){if(t===null){var h=a.type;return typeof h=="function"&&!Ks(h)&&h.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=h,Ed(t,i,h,u,d)):(t=na(a.type,null,u,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(h=t.child,!qr(t,d)){var T=h.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(T,u)&&t.ref===i.ref)return Rn(t,i,d)}return i.flags|=1,t=Sn(h,u),t.ref=i.ref,t.return=i,i.child=t}function Ed(t,i,a,u,d){if(t!==null){var h=t.memoizedProps;if(Yo(h,u)&&t.ref===i.ref)if(dt=!1,i.pendingProps=u=h,qr(t,d))(t.flags&131072)!==0&&(dt=!0);else return i.lanes=t.lanes,Rn(t,i,d)}return kr(t,i,a,u,d)}function Ad(t,i,a){var u=i.pendingProps,d=u.children,h=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=h!==null?h.baseLanes|a:a,t!==null){for(d=i.child=t.child,h=0;d!==null;)h=h|d.lanes|d.childLanes,d=d.sibling;i.childLanes=h&~u}else i.childLanes=0,i.child=null;return _d(t,i,u,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&sa(i,h!==null?h.cachePool:null),h!==null?Ef(i,h):fr(),cd(i);else return i.lanes=i.childLanes=536870912,_d(t,i,h!==null?h.baseLanes|a:a,a)}else h!==null?(sa(i,h.cachePool),Ef(i,h),On(),i.memoizedState=null):(t!==null&&sa(i,null),fr(),On());return gt(t,i,d,a),i.child}function _d(t,i,a,u){var d=lr();return d=d===null?null:{parent:st._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&sa(i,null),fr(),cd(i),t!==null&&Xo(t,i,u,!0),null}function _a(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function kr(t,i,a,u,d){return yi(i),a=mr(t,i,a,u,void 0,d),u=hr(),t!==null&&!dt?(gr(t,i,d),Rn(t,i,d)):(Ne&&u&&Zs(i),i.flags|=1,gt(t,i,a,d),i.child)}function xd(t,i,a,u,d,h){return yi(i),i.updateQueue=null,a=_f(i,u,a,d),Af(t),u=hr(),t!==null&&!dt?(gr(t,i,h),Rn(t,i,h)):(Ne&&u&&Zs(i),i.flags|=1,gt(t,i,a,h),i.child)}function Md(t,i,a,u,d){if(yi(i),i.stateNode===null){var h=Ji,T=a.contextType;typeof T=="object"&&T!==null&&(h=Ct(T)),h=new a(u,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=br,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=u,h.state=i.memoizedState,h.refs={},sr(i),T=a.contextType,h.context=typeof T=="object"&&T!==null?Ct(T):Ji,h.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(wr(i,a,T,u),h.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(T=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),T!==h.state&&br.enqueueReplaceState(h,h.state,null),nl(i,u,h,d),tl(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){h=i.stateNode;var E=i.memoizedProps,A=Si(a,E);h.props=A;var D=h.context,V=a.contextType;T=Ji,typeof V=="object"&&V!==null&&(T=Ct(V));var H=a.getDerivedStateFromProps;V=typeof H=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,V||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||D!==T)&&dd(i,h,u,T),Gn=!1;var k=i.memoizedState;h.state=k,nl(i,u,h,d),tl(),D=i.memoizedState,E||k!==D||Gn?(typeof H=="function"&&(wr(i,a,H,u),D=i.memoizedState),(A=Gn||fd(i,a,A,u,k,D,T))?(V||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=D),h.props=u,h.state=D,h.context=T,u=A):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{h=i.stateNode,rr(t,i),T=i.memoizedProps,V=Si(a,T),h.props=V,H=i.pendingProps,k=h.context,D=a.contextType,A=Ji,typeof D=="object"&&D!==null&&(A=Ct(D)),E=a.getDerivedStateFromProps,(D=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T!==H||k!==A)&&dd(i,h,u,A),Gn=!1,k=i.memoizedState,h.state=k,nl(i,u,h,d),tl();var I=i.memoizedState;T!==H||k!==I||Gn||t!==null&&t.dependencies!==null&&la(t.dependencies)?(typeof E=="function"&&(wr(i,a,E,u),I=i.memoizedState),(V=Gn||fd(i,a,V,u,k,I,A)||t!==null&&t.dependencies!==null&&la(t.dependencies))?(D||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(u,I,A),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(u,I,A)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=I),h.props=u,h.state=I,h.context=A,u=V):(typeof h.componentDidUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),u=!1)}return h=u,_a(t,i),u=(i.flags&128)!==0,h||u?(h=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,t!==null&&u?(i.child=io(i,t.child,null,d),i.child=io(i,null,a,d)):gt(t,i,a,d),i.memoizedState=h.state,t=i.child):t=Rn(t,i,d),t}function Rd(t,i,a,u){return Jo(),i.flags|=256,gt(t,i,a,u),i.child}var Ir={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ur(t){return{baseLanes:t,cachePool:mf()}}function Lr(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=jt),t}function Nd(t,i,a){var u=i.pendingProps,d=!1,h=(i.flags&128)!==0,T;if((T=h)||(T=t!==null&&t.memoizedState===null?!1:(rt.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ne){if(d?Bn(i):On(),Ne){var E=je,A;if(A=E){e:{for(A=E,E=cn;A.nodeType!==8;){if(!E){E=null;break e}if(A=an(A.nextSibling),A===null){E=null;break e}}E=A}E!==null?(i.memoizedState={dehydrated:E,treeContext:di!==null?{id:Cn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},A=Pt(18,null,null,0),A.stateNode=E,A.return=i,i.child=A,xt=i,je=null,A=!0):A=!1}A||hi(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return vu(E)?i.lanes=32:i.lanes=536870912,null;Mn(i)}return E=u.children,u=u.fallback,d?(On(),d=i.mode,E=xa({mode:"hidden",children:E},d),u=fi(u,d,a,null),E.return=i,u.return=i,E.sibling=u,i.child=E,d=i.child,d.memoizedState=Ur(a),d.childLanes=Lr(t,T,a),i.memoizedState=Ir,u):(Bn(i),Vr(i,E))}if(A=t.memoizedState,A!==null&&(E=A.dehydrated,E!==null)){if(h)i.flags&256?(Bn(i),i.flags&=-257,i=Pr(t,i,a)):i.memoizedState!==null?(On(),i.child=t.child,i.flags|=128,i=null):(On(),d=u.fallback,E=i.mode,u=xa({mode:"visible",children:u.children},E),d=fi(d,E,a,null),d.flags|=2,u.return=i,d.return=i,u.sibling=d,i.child=u,io(i,t.child,null,a),u=i.child,u.memoizedState=Ur(a),u.childLanes=Lr(t,T,a),i.memoizedState=Ir,i=d);else if(Bn(i),vu(E)){if(T=E.nextSibling&&E.nextSibling.dataset,T)var D=T.dgst;T=D,u=Error(l(419)),u.stack="",u.digest=T,Ko({value:u,source:null,stack:null}),i=Pr(t,i,a)}else if(dt||Xo(t,i,a,!1),T=(a&t.childLanes)!==0,dt||T){if(T=Ye,T!==null&&(u=a&-a,u=(u&42)!==0?1:Ee(u),u=(u&(T.suspendedLanes|a))!==0?0:u,u!==0&&u!==A.retryLane))throw A.retryLane=u,$i(t,u),Bt(T,t,u),Td;E.data==="$?"||tu(),i=Pr(t,i,a)}else E.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=A.treeContext,je=an(E.nextSibling),xt=i,Ne=!0,mi=null,cn=!1,t!==null&&(Qt[Zt++]=Cn,Qt[Zt++]=En,Qt[Zt++]=di,Cn=t.id,En=t.overflow,di=i),i=Vr(i,u.children),i.flags|=4096);return i}return d?(On(),d=u.fallback,E=i.mode,A=t.child,D=A.sibling,u=Sn(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&65011712,D!==null?d=Sn(D,d):(d=fi(d,E,a,null),d.flags|=2),d.return=i,u.return=i,u.sibling=d,i.child=u,u=d,d=i.child,E=t.child.memoizedState,E===null?E=Ur(a):(A=E.cachePool,A!==null?(D=st._currentValue,A=A.parent!==D?{parent:D,pool:D}:A):A=mf(),E={baseLanes:E.baseLanes|a,cachePool:A}),d.memoizedState=E,d.childLanes=Lr(t,T,a),i.memoizedState=Ir,u):(Bn(i),a=t.child,t=a.sibling,a=Sn(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=a,i.memoizedState=null,a)}function Vr(t,i){return i=xa({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function xa(t,i){return t=Pt(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Pr(t,i,a){return io(i,t.child,null,a),t=Vr(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function wd(t,i,a){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),tr(t.return,i,a)}function Gr(t,i,a,u,d){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:d}:(h.isBackwards=i,h.rendering=null,h.renderingStartTime=0,h.last=u,h.tail=a,h.tailMode=d)}function bd(t,i,a){var u=i.pendingProps,d=u.revealOrder,h=u.tail;if(gt(t,i,u.children,a),u=rt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wd(t,a,i);else if(t.tag===19)wd(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(J(rt,u),d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&Ca(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Gr(i,!1,d,a,h);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Ca(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Gr(i,!0,a,null,h);break;case"together":Gr(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Rn(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Kn|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Xo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(l(153));if(i.child!==null){for(t=i.child,a=Sn(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Sn(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function qr(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&la(t)))}function Py(t,i,a){switch(i.tag){case 3:Pe(i,i.stateNode.containerInfo),Pn(i,st,t.memoizedState.cache),Jo();break;case 27:case 5:li(i);break;case 4:Pe(i,i.stateNode.containerInfo);break;case 10:Pn(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Bn(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Nd(t,i,a):(Bn(i),t=Rn(t,i,a),t!==null?t.sibling:null);Bn(i);break;case 19:var d=(t.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(Xo(t,i,a,!1),u=(a&i.childLanes)!==0),d){if(u)return bd(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),J(rt,rt.current),u)break;return null;case 22:case 23:return i.lanes=0,Ad(t,i,a);case 24:Pn(i,st,t.memoizedState.cache)}return Rn(t,i,a)}function Dd(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)dt=!0;else{if(!qr(t,a)&&(i.flags&128)===0)return dt=!1,Py(t,i,a);dt=(t.flags&131072)!==0}else dt=!1,Ne&&(i.flags&1048576)!==0&&sf(i,oa,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var u=i.elementType,d=u._init;if(u=d(u._payload),i.type=u,typeof u=="function")Ks(u)?(t=Si(u,t),i.tag=1,i=Md(null,i,u,t,a)):(i.tag=0,i=kr(null,i,u,t,a));else{if(u!=null){if(d=u.$$typeof,d===j){i.tag=11,i=Sd(null,i,u,t,a);break e}else if(d===W){i.tag=14,i=Cd(null,i,u,t,a);break e}}throw i=ht(u)||u,Error(l(306,i,""))}}return i;case 0:return kr(t,i,i.type,i.pendingProps,a);case 1:return u=i.type,d=Si(u,i.pendingProps),Md(t,i,u,d,a);case 3:e:{if(Pe(i,i.stateNode.containerInfo),t===null)throw Error(l(387));u=i.pendingProps;var h=i.memoizedState;d=h.element,rr(t,i),nl(i,u,null,a);var T=i.memoizedState;if(u=T.cache,Pn(i,st,u),u!==h.cache&&nr(i,[st],a,!0),tl(),u=T.element,h.isDehydrated)if(h={element:u,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Rd(t,i,u,a);break e}else if(u!==d){d=Kt(Error(l(424)),i),Ko(d),i=Rd(t,i,u,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(je=an(t.firstChild),xt=i,Ne=!0,mi=null,cn=!0,a=ud(i,null,u,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Jo(),u===d){i=Rn(t,i,a);break e}gt(t,i,u,a)}i=i.child}return i;case 26:return _a(t,i),t===null?(a=Lp(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ne||(a=i.type,t=i.pendingProps,u=qa(de.current).createElement(a),u[Je]=i,u[wt]=t,vt(u,a,t),ft(u),i.stateNode=u):i.memoizedState=Lp(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return li(i),t===null&&Ne&&(u=i.stateNode=kp(i.type,i.pendingProps,de.current),xt=i,cn=!0,d=je,Wn(i.type)?(Tu=d,je=an(u.firstChild)):je=d),gt(t,i,i.pendingProps.children,a),_a(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ne&&((d=u=je)&&(u=fv(u,i.type,i.pendingProps,cn),u!==null?(i.stateNode=u,xt=i,je=an(u.firstChild),cn=!1,d=!0):d=!1),d||hi(i)),li(i),d=i.type,h=i.pendingProps,T=t!==null?t.memoizedProps:null,u=h.children,hu(d,h)?u=null:T!==null&&hu(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=mr(t,i,wy,null,null,a),_l._currentValue=d),_a(t,i),gt(t,i,u,a),i.child;case 6:return t===null&&Ne&&((t=a=je)&&(a=dv(a,i.pendingProps,cn),a!==null?(i.stateNode=a,xt=i,je=null,t=!0):t=!1),t||hi(i)),null;case 13:return Nd(t,i,a);case 4:return Pe(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=io(i,null,u,a):gt(t,i,u,a),i.child;case 11:return Sd(t,i,i.type,i.pendingProps,a);case 7:return gt(t,i,i.pendingProps,a),i.child;case 8:return gt(t,i,i.pendingProps.children,a),i.child;case 12:return gt(t,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,Pn(i,i.type,u.value),gt(t,i,u.children,a),i.child;case 9:return d=i.type._context,u=i.pendingProps.children,yi(i),d=Ct(d),u=u(d),i.flags|=1,gt(t,i,u,a),i.child;case 14:return Cd(t,i,i.type,i.pendingProps,a);case 15:return Ed(t,i,i.type,i.pendingProps,a);case 19:return bd(t,i,a);case 31:return u=i.pendingProps,a=i.mode,u={mode:u.mode,children:u.children},t===null?(a=xa(u,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Sn(t.child,u),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Ad(t,i,a);case 24:return yi(i),u=Ct(st),t===null?(d=lr(),d===null&&(d=Ye,h=ir(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=a),d=h),i.memoizedState={parent:u,cache:d},sr(i),Pn(i,st,d)):((t.lanes&a)!==0&&(rr(t,i),nl(i,null,null,a),tl()),d=t.memoizedState,h=i.memoizedState,d.parent!==u?(d={parent:u,cache:u},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Pn(i,st,u)):(u=h.cache,Pn(i,st,u),u!==d.cache&&nr(i,[st],a,!0))),gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function Nn(t){t.flags|=4}function kd(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hp(i)){if(i=Wt.current,i!==null&&((Ae&4194048)===Ae?fn!==null:(Ae&62914560)!==Ae&&(Ae&536870912)===0||i!==fn))throw jo=ar,hf;t.flags|=8192}}function Ma(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ut():536870912,t.lanes|=i,so|=i)}function ul(t,i){if(!Ne)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Xe(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,u=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=a,i}function Gy(t,i,a){var u=i.pendingProps;switch(Ws(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(i),null;case 1:return Xe(i),null;case 3:return a=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),_n(st),Rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&($o(i)?Nn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cf())),Xe(i),null;case 26:return a=i.memoizedState,t===null?(Nn(i),a!==null?(Xe(i),kd(i,a)):(Xe(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Nn(i),Xe(i),kd(i,a)):(Xe(i),i.flags&=-16777217):(t.memoizedProps!==u&&Nn(i),Xe(i),i.flags&=-16777217),null;case 27:bi(i),a=de.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Nn(i);else{if(!u){if(i.stateNode===null)throw Error(l(166));return Xe(i),null}t=ae.current,$o(i)?rf(i):(t=kp(d,u,a),i.stateNode=t,Nn(i))}return Xe(i),null;case 5:if(bi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Nn(i);else{if(!u){if(i.stateNode===null)throw Error(l(166));return Xe(i),null}if(t=ae.current,$o(i))rf(i);else{switch(d=qa(de.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?d.createElement(a,{is:u.is}):d.createElement(a)}}t[Je]=i,t[wt]=u;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(vt(t,a,u),a){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Nn(i)}}return Xe(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&Nn(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(l(166));if(t=de.current,$o(i)){if(t=i.stateNode,a=i.memoizedProps,u=null,d=xt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}t[Je]=i,t=!!(t.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||xp(t.nodeValue,a)),t||hi(i)}else t=qa(t).createTextNode(u),t[Je]=i,i.stateNode=t}return Xe(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=$o(i),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(l(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));d[Je]=i}else Jo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Xe(i),d=!1}else d=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Mn(i),i):(Mn(i),null)}if(Mn(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=u!==null,t=t!==null&&t.memoizedState!==null,a){u=i.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var h=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(h=u.memoizedState.cachePool.pool),h!==d&&(u.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Ma(i,i.updateQueue),Xe(i),null;case 4:return Rt(),t===null&&cu(i.stateNode.containerInfo),Xe(i),null;case 10:return _n(i.type),Xe(i),null;case 19:if(X(rt),d=i.memoizedState,d===null)return Xe(i),null;if(u=(i.flags&128)!==0,h=d.rendering,h===null)if(u)ul(d,!1);else{if(et!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(h=Ca(t),h!==null){for(i.flags|=128,ul(d,!1),t=h.updateQueue,i.updateQueue=t,Ma(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)af(a,t),a=a.sibling;return J(rt,rt.current&1|2),i.child}t=t.sibling}d.tail!==null&&Nt()>wa&&(i.flags|=128,u=!0,ul(d,!1),i.lanes=4194304)}else{if(!u)if(t=Ca(h),t!==null){if(i.flags|=128,u=!0,t=t.updateQueue,i.updateQueue=t,Ma(i,t),ul(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Ne)return Xe(i),null}else 2*Nt()-d.renderingStartTime>wa&&a!==536870912&&(i.flags|=128,u=!0,ul(d,!1),i.lanes=4194304);d.isBackwards?(h.sibling=i.child,i.child=h):(t=d.last,t!==null?t.sibling=h:i.child=h,d.last=h)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Nt(),i.sibling=null,t=rt.current,J(rt,u?t&1|2:t&1),i):(Xe(i),null);case 22:case 23:return Mn(i),dr(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(a&536870912)!==0&&(i.flags&128)===0&&(Xe(i),i.subtreeFlags&6&&(i.flags|=8192)):Xe(i),a=i.updateQueue,a!==null&&Ma(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),t!==null&&X(vi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),_n(st),Xe(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function qy(t,i){switch(Ws(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return _n(st),Rt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return bi(i),null;case 13:if(Mn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(l(340));Jo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(rt),null;case 4:return Rt(),null;case 10:return _n(i.type),null;case 22:case 23:return Mn(i),dr(),t!==null&&X(vi),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return _n(st),null;case 25:return null;default:return null}}function Id(t,i){switch(Ws(i),i.tag){case 3:_n(st),Rt();break;case 26:case 27:case 5:bi(i);break;case 4:Rt();break;case 13:Mn(i);break;case 19:X(rt);break;case 10:_n(i.type);break;case 22:case 23:Mn(i),dr(),t!==null&&X(vi);break;case 24:_n(st)}}function cl(t,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var d=u.next;a=d;do{if((a.tag&t)===t){u=void 0;var h=a.create,T=a.inst;u=h(),T.destroy=u}a=a.next}while(a!==d)}}catch(E){ze(i,i.return,E)}}function Yn(t,i,a){try{var u=i.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var h=d.next;u=h;do{if((u.tag&t)===t){var T=u.inst,E=T.destroy;if(E!==void 0){T.destroy=void 0,d=i;var A=a,D=E;try{D()}catch(V){ze(d,A,V)}}}u=u.next}while(u!==h)}}catch(V){ze(i,i.return,V)}}function Ud(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Cf(i,a)}catch(u){ze(t,t.return,u)}}}function Ld(t,i,a){a.props=Si(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(u){ze(t,i,u)}}function fl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof a=="function"?t.refCleanup=a(u):a.current=u}}catch(d){ze(t,i,d)}}function dn(t,i){var a=t.ref,u=t.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(d){ze(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){ze(t,i,d)}else a.current=null}function Vd(t){var i=t.type,a=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(d){ze(t,t.return,d)}}function Hr(t,i,a){try{var u=t.stateNode;av(u,t.type,a,i),u[wt]=i}catch(d){ze(t,t.return,d)}}function Pd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Wn(t.type)||t.tag===4}function zr(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Pd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Wn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Br(t,i,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ga));else if(u!==4&&(u===27&&Wn(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Br(t,i,a),t=t.sibling;t!==null;)Br(t,i,a),t=t.sibling}function Ra(t,i,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(u!==4&&(u===27&&Wn(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ra(t,i,a),t=t.sibling;t!==null;)Ra(t,i,a),t=t.sibling}function Gd(t){var i=t.stateNode,a=t.memoizedProps;try{for(var u=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);vt(i,u,a),i[Je]=t,i[wt]=a}catch(h){ze(t,t.return,h)}}var wn=!1,ot=!1,Or=!1,qd=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Hy(t,i){if(t=t.containerInfo,pu=Fa,t=Xc(t),zs(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var d=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var T=0,E=-1,A=-1,D=0,V=0,H=t,k=null;t:for(;;){for(var I;H!==a||d!==0&&H.nodeType!==3||(E=T+d),H!==h||u!==0&&H.nodeType!==3||(A=T+u),H.nodeType===3&&(T+=H.nodeValue.length),(I=H.firstChild)!==null;)k=H,H=I;for(;;){if(H===t)break t;if(k===a&&++D===d&&(E=T),k===h&&++V===u&&(A=T),(I=H.nextSibling)!==null)break;H=k,k=H.parentNode}H=I}a=E===-1||A===-1?null:{start:E,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(mu={focusedElem:t,selectionRange:a},Fa=!1,pt=i;pt!==null;)if(i=pt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,pt=t;else for(;pt!==null;){switch(i=pt,h=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=i,d=h.memoizedProps,h=h.memoizedState,u=a.stateNode;try{var fe=Si(a.type,d,a.elementType===a.type);t=u.getSnapshotBeforeUpdate(fe,h),u.__reactInternalSnapshotBeforeUpdate=t}catch(re){ze(a,a.return,re)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)yu(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=i.sibling,t!==null){t.return=i.return,pt=t;break}pt=i.return}}function Hd(t,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Fn(t,a),u&4&&cl(5,a);break;case 1:if(Fn(t,a),u&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){ze(a,a.return,T)}else{var d=Si(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){ze(a,a.return,T)}}u&64&&Ud(a),u&512&&fl(a,a.return);break;case 3:if(Fn(t,a),u&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Cf(t,i)}catch(T){ze(a,a.return,T)}}break;case 27:i===null&&u&4&&Gd(a);case 26:case 5:Fn(t,a),i===null&&u&4&&Vd(a),u&512&&fl(a,a.return);break;case 12:Fn(t,a);break;case 13:Fn(t,a),u&4&&Od(t,a),u&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Xy.bind(null,a),pv(t,a))));break;case 22:if(u=a.memoizedState!==null||wn,!u){i=i!==null&&i.memoizedState!==null||ot,d=wn;var h=ot;wn=u,(ot=i)&&!h?$n(t,a,(a.subtreeFlags&8772)!==0):Fn(t,a),wn=d,ot=h}break;case 30:break;default:Fn(t,a)}}function zd(t){var i=t.alternate;i!==null&&(t.alternate=null,zd(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Es(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ke=null,kt=!1;function bn(t,i,a){for(a=a.child;a!==null;)Bd(t,i,a),a=a.sibling}function Bd(t,i,a){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(ai,a)}catch{}switch(a.tag){case 26:ot||dn(a,i),bn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ot||dn(a,i);var u=Ke,d=kt;Wn(a.type)&&(Ke=a.stateNode,kt=!1),bn(t,i,a),Sl(a.stateNode),Ke=u,kt=d;break;case 5:ot||dn(a,i);case 6:if(u=Ke,d=kt,Ke=null,bn(t,i,a),Ke=u,kt=d,Ke!==null)if(kt)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(a.stateNode)}catch(h){ze(a,i,h)}else try{Ke.removeChild(a.stateNode)}catch(h){ze(a,i,h)}break;case 18:Ke!==null&&(kt?(t=Ke,bp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Nl(t)):bp(Ke,a.stateNode));break;case 4:u=Ke,d=kt,Ke=a.stateNode.containerInfo,kt=!0,bn(t,i,a),Ke=u,kt=d;break;case 0:case 11:case 14:case 15:ot||Yn(2,a,i),ot||Yn(4,a,i),bn(t,i,a);break;case 1:ot||(dn(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Ld(a,i,u)),bn(t,i,a);break;case 21:bn(t,i,a);break;case 22:ot=(u=ot)||a.memoizedState!==null,bn(t,i,a),ot=u;break;default:bn(t,i,a)}}function Od(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Nl(t)}catch(a){ze(i,i.return,a)}}function zy(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new qd),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new qd),i;default:throw Error(l(435,t.tag))}}function Yr(t,i){var a=zy(t);i.forEach(function(u){var d=Qy.bind(null,t,u);a.has(u)||(a.add(u),u.then(d,d))})}function Gt(t,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var d=a[u],h=t,T=i,E=T;e:for(;E!==null;){switch(E.tag){case 27:if(Wn(E.type)){Ke=E.stateNode,kt=!1;break e}break;case 5:Ke=E.stateNode,kt=!1;break e;case 3:case 4:Ke=E.stateNode.containerInfo,kt=!0;break e}E=E.return}if(Ke===null)throw Error(l(160));Bd(h,T,d),Ke=null,kt=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Yd(i,t),i=i.sibling}var ln=null;function Yd(t,i){var a=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gt(i,t),qt(t),u&4&&(Yn(3,t,t.return),cl(3,t),Yn(5,t,t.return));break;case 1:Gt(i,t),qt(t),u&512&&(ot||a===null||dn(a,a.return)),u&64&&wn&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var d=ln;if(Gt(i,t),qt(t),u&512&&(ot||a===null||dn(a,a.return)),u&4){var h=a!==null?a.memoizedState:null;if(u=t.memoizedState,a===null)if(u===null)if(t.stateNode===null){e:{u=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Lo]||h[Je]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(u),d.head.insertBefore(h,d.querySelector("head > title"))),vt(h,u,a),h[Je]=t,ft(h),u=h;break e;case"link":var T=Gp("link","href",d).get(u+(a.href||""));if(T){for(var E=0;E<T.length;E++)if(h=T[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(E,1);break t}}h=d.createElement(u),vt(h,u,a),d.head.appendChild(h);break;case"meta":if(T=Gp("meta","content",d).get(u+(a.content||""))){for(E=0;E<T.length;E++)if(h=T[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(E,1);break t}}h=d.createElement(u),vt(h,u,a),d.head.appendChild(h);break;default:throw Error(l(468,u))}h[Je]=t,ft(h),u=h}t.stateNode=u}else qp(d,t.type,t.stateNode);else t.stateNode=Pp(d,u,t.memoizedProps);else h!==u?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,u===null?qp(d,t.type,t.stateNode):Pp(d,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Hr(t,t.memoizedProps,a.memoizedProps)}break;case 27:Gt(i,t),qt(t),u&512&&(ot||a===null||dn(a,a.return)),a!==null&&u&4&&Hr(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Gt(i,t),qt(t),u&512&&(ot||a===null||dn(a,a.return)),t.flags&32){d=t.stateNode;try{qi(d,"")}catch(I){ze(t,t.return,I)}}u&4&&t.stateNode!=null&&(d=t.memoizedProps,Hr(t,d,a!==null?a.memoizedProps:d)),u&1024&&(Or=!0);break;case 6:if(Gt(i,t),qt(t),u&4){if(t.stateNode===null)throw Error(l(162));u=t.memoizedProps,a=t.stateNode;try{a.nodeValue=u}catch(I){ze(t,t.return,I)}}break;case 3:if(Ba=null,d=ln,ln=Ha(i.containerInfo),Gt(i,t),ln=d,qt(t),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Nl(i.containerInfo)}catch(I){ze(t,t.return,I)}Or&&(Or=!1,Fd(t));break;case 4:u=ln,ln=Ha(t.stateNode.containerInfo),Gt(i,t),qt(t),ln=u;break;case 12:Gt(i,t),qt(t);break;case 13:Gt(i,t),qt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qr=Nt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Yr(t,u)));break;case 22:d=t.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,D=wn,V=ot;if(wn=D||d,ot=V||A,Gt(i,t),ot=V,wn=D,qt(t),u&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||A||wn||ot||Ci(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){A=a=i;try{if(h=A.stateNode,d)T=h.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{E=A.stateNode;var H=A.memoizedProps.style,k=H!=null&&H.hasOwnProperty("display")?H.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(I){ze(A,A.return,I)}}}else if(i.tag===6){if(a===null){A=i;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(I){ze(A,A.return,I)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Yr(t,a))));break;case 19:Gt(i,t),qt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Yr(t,u)));break;case 30:break;case 21:break;default:Gt(i,t),qt(t)}}function qt(t){var i=t.flags;if(i&2){try{for(var a,u=t.return;u!==null;){if(Pd(u)){a=u;break}u=u.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var d=a.stateNode,h=zr(t);Ra(t,h,d);break;case 5:var T=a.stateNode;a.flags&32&&(qi(T,""),a.flags&=-33);var E=zr(t);Ra(t,E,T);break;case 3:case 4:var A=a.stateNode.containerInfo,D=zr(t);Br(t,D,A);break;default:throw Error(l(161))}}catch(V){ze(t,t.return,V)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Fd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Fd(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Fn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hd(t,i.alternate,i),i=i.sibling}function Ci(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Yn(4,i,i.return),Ci(i);break;case 1:dn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ld(i,i.return,a),Ci(i);break;case 27:Sl(i.stateNode);case 26:case 5:dn(i,i.return),Ci(i);break;case 22:i.memoizedState===null&&Ci(i);break;case 30:Ci(i);break;default:Ci(i)}t=t.sibling}}function $n(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,d=t,h=i,T=h.flags;switch(h.tag){case 0:case 11:case 15:$n(d,h,a),cl(4,h);break;case 1:if($n(d,h,a),u=h,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(D){ze(u,u.return,D)}if(u=h,d=u.updateQueue,d!==null){var E=u.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Sf(A[d],E)}catch(D){ze(u,u.return,D)}}a&&T&64&&Ud(h),fl(h,h.return);break;case 27:Gd(h);case 26:case 5:$n(d,h,a),a&&u===null&&T&4&&Vd(h),fl(h,h.return);break;case 12:$n(d,h,a);break;case 13:$n(d,h,a),a&&T&4&&Od(d,h);break;case 22:h.memoizedState===null&&$n(d,h,a),fl(h,h.return);break;case 30:break;default:$n(d,h,a)}i=i.sibling}}function Fr(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Qo(a))}function $r(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Qo(t))}function pn(t,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$d(t,i,a,u),i=i.sibling}function $d(t,i,a,u){var d=i.flags;switch(i.tag){case 0:case 11:case 15:pn(t,i,a,u),d&2048&&cl(9,i);break;case 1:pn(t,i,a,u);break;case 3:pn(t,i,a,u),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Qo(t)));break;case 12:if(d&2048){pn(t,i,a,u),t=i.stateNode;try{var h=i.memoizedProps,T=h.id,E=h.onPostCommit;typeof E=="function"&&E(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){ze(i,i.return,A)}}else pn(t,i,a,u);break;case 13:pn(t,i,a,u);break;case 23:break;case 22:h=i.stateNode,T=i.alternate,i.memoizedState!==null?h._visibility&2?pn(t,i,a,u):dl(t,i):h._visibility&2?pn(t,i,a,u):(h._visibility|=2,oo(t,i,a,u,(i.subtreeFlags&10256)!==0)),d&2048&&Fr(T,i);break;case 24:pn(t,i,a,u),d&2048&&$r(i.alternate,i);break;default:pn(t,i,a,u)}}function oo(t,i,a,u,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var h=t,T=i,E=a,A=u,D=T.flags;switch(T.tag){case 0:case 11:case 15:oo(h,T,E,A,d),cl(8,T);break;case 23:break;case 22:var V=T.stateNode;T.memoizedState!==null?V._visibility&2?oo(h,T,E,A,d):dl(h,T):(V._visibility|=2,oo(h,T,E,A,d)),d&&D&2048&&Fr(T.alternate,T);break;case 24:oo(h,T,E,A,d),d&&D&2048&&$r(T.alternate,T);break;default:oo(h,T,E,A,d)}i=i.sibling}}function dl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,u=i,d=u.flags;switch(u.tag){case 22:dl(a,u),d&2048&&Fr(u.alternate,u);break;case 24:dl(a,u),d&2048&&$r(u.alternate,u);break;default:dl(a,u)}i=i.sibling}}var pl=8192;function lo(t){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)Jd(t),t=t.sibling}function Jd(t){switch(t.tag){case 26:lo(t),t.flags&pl&&t.memoizedState!==null&&Mv(ln,t.memoizedState,t.memoizedProps);break;case 5:lo(t);break;case 3:case 4:var i=ln;ln=Ha(t.stateNode.containerInfo),lo(t),ln=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=pl,pl=16777216,lo(t),pl=i):lo(t));break;default:lo(t)}}function Kd(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ml(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];pt=u,Qd(u,t)}Kd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xd(t),t=t.sibling}function Xd(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&Yn(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Na(t)):ml(t);break;default:ml(t)}}function Na(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];pt=u,Qd(u,t)}Kd(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Yn(8,i,i.return),Na(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Na(i));break;default:Na(i)}t=t.sibling}}function Qd(t,i){for(;pt!==null;){var a=pt;switch(a.tag){case 0:case 11:case 15:Yn(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Qo(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,pt=u;else e:for(a=t;pt!==null;){u=pt;var d=u.sibling,h=u.return;if(zd(u),u===a){pt=null;break e}if(d!==null){d.return=h,pt=d;break e}pt=h}}}var By={getCacheForType:function(t){var i=Ct(st),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},Oy=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ye=null,ve=null,Ae=0,Ve=0,Ht=null,Jn=!1,ao=!1,Jr=!1,Dn=0,et=0,Kn=0,Ei=0,Kr=0,jt=0,so=0,hl=null,It=null,Xr=!1,Qr=0,wa=1/0,ba=null,Xn=null,yt=0,Qn=null,ro=null,uo=0,Zr=0,Wr=null,Zd=null,gl=0,jr=null;function zt(){if((Le&2)!==0&&Ae!==0)return Ae&-Ae;if(L.T!==null){var t=Qi;return t!==0?t:au()}return Oe()}function Wd(){jt===0&&(jt=(Ae&536870912)===0||Ne?nt():536870912);var t=Wt.current;return t!==null&&(t.flags|=32),jt}function Bt(t,i,a){(t===Ye&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)&&(co(t,0),Zn(t,Ae,jt,!1)),Qe(t,a),((Le&2)===0||t!==Ye)&&(t===Ye&&((Le&2)===0&&(Ei|=a),et===4&&Zn(t,Ae,jt,!1)),mn(t))}function jd(t,i,a){if((Le&6)!==0)throw Error(l(327));var u=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Ce(t,i),d=u?$y(t,i):nu(t,i,!0),h=u;do{if(d===0){ao&&!u&&Zn(t,i,0,!1);break}else{if(a=t.current.alternate,h&&!Yy(a)){d=nu(t,i,!1),h=!1;continue}if(d===2){if(h=i,t.errorRecoveryDisabledLanes&h)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var E=t;d=hl;var A=E.current.memoizedState.isDehydrated;if(A&&(co(E,T).flags|=256),T=nu(E,T,!1),T!==2){if(Jr&&!A){E.errorRecoveryDisabledLanes|=h,Ei|=h,d=4;break e}h=It,It=d,h!==null&&(It===null?It=h:It.push.apply(It,h))}d=T}if(h=!1,d!==2)continue}}if(d===1){co(t,0),Zn(t,i,0,!0);break}e:{switch(u=t,h=d,h){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:Zn(u,i,jt,!Jn);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(d=Qr+300-Nt(),10<d)){if(Zn(u,i,jt,!Jn),Re(u,0,!0)!==0)break e;u.timeoutHandle=Np(ep.bind(null,u,a,It,ba,Xr,i,jt,Ei,so,Jn,h,2,-0,0),d);break e}ep(u,a,It,ba,Xr,i,jt,Ei,so,Jn,h,0,-0,0)}}break}while(!0);mn(t)}function ep(t,i,a,u,d,h,T,E,A,D,V,H,k,I){if(t.timeoutHandle=-1,H=i.subtreeFlags,(H&8192||(H&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:xv},Jd(i),H=Rv(),H!==null)){t.cancelPendingCommit=H(sp.bind(null,t,i,h,a,u,d,T,E,A,V,1,k,I)),Zn(t,h,T,!D);return}sp(t,i,h,a,u,d,T,E,A)}function Yy(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var d=a[u],h=d.getSnapshot;d=d.value;try{if(!Vt(h(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Zn(t,i,a,u){i&=~Kr,i&=~Ei,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var d=i;0<d;){var h=31-_t(d),T=1<<h;u[h]=-1,d&=~T}a!==0&&Ze(t,a,i)}function Da(){return(Le&6)===0?(yl(0),!1):!0}function eu(){if(ve!==null){if(Ve===0)var t=ve.return;else t=ve,An=gi=null,yr(t),no=null,sl=0,t=ve;for(;t!==null;)Id(t.alternate,t),t=t.return;ve=null}}function co(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,rv(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),eu(),Ye=t,ve=a=Sn(t.current,null),Ae=i,Ve=0,Ht=null,Jn=!1,ao=Ce(t,i),Jr=!1,so=jt=Kr=Ei=Kn=et=0,It=hl=null,Xr=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var d=31-_t(u),h=1<<d;i|=t[d],u&=~h}return Dn=i,jl(),a}function tp(t,i){he=null,L.H=va,i===Wo||i===ra?(i=vf(),Ve=3):i===hf?(i=vf(),Ve=4):Ve=i===Td?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ht=i,ve===null&&(et=1,Aa(t,Kt(i,t.current)))}function np(){var t=L.H;return L.H=va,t===null?va:t}function ip(){var t=L.A;return L.A=By,t}function tu(){et=4,Jn||(Ae&4194048)!==Ae&&Wt.current!==null||(ao=!0),(Kn&134217727)===0&&(Ei&134217727)===0||Ye===null||Zn(Ye,Ae,jt,!1)}function nu(t,i,a){var u=Le;Le|=2;var d=np(),h=ip();(Ye!==t||Ae!==i)&&(ba=null,co(t,i)),i=!1;var T=et;e:do try{if(Ve!==0&&ve!==null){var E=ve,A=Ht;switch(Ve){case 8:eu(),T=6;break e;case 3:case 2:case 9:case 6:Wt.current===null&&(i=!0);var D=Ve;if(Ve=0,Ht=null,fo(t,E,A,D),a&&ao){T=0;break e}break;default:D=Ve,Ve=0,Ht=null,fo(t,E,A,D)}}Fy(),T=et;break}catch(V){tp(t,V)}while(!0);return i&&t.shellSuspendCounter++,An=gi=null,Le=u,L.H=d,L.A=h,ve===null&&(Ye=null,Ae=0,jl()),T}function Fy(){for(;ve!==null;)op(ve)}function $y(t,i){var a=Le;Le|=2;var u=np(),d=ip();Ye!==t||Ae!==i?(ba=null,wa=Nt()+500,co(t,i)):ao=Ce(t,i);e:do try{if(Ve!==0&&ve!==null){i=ve;var h=Ht;t:switch(Ve){case 1:Ve=0,Ht=null,fo(t,i,h,1);break;case 2:case 9:if(gf(h)){Ve=0,Ht=null,lp(i);break}i=function(){Ve!==2&&Ve!==9||Ye!==t||(Ve=7),mn(t)},h.then(i,i);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:gf(h)?(Ve=0,Ht=null,lp(i)):(Ve=0,Ht=null,fo(t,i,h,7));break;case 5:var T=null;switch(ve.tag){case 26:T=ve.memoizedState;case 5:case 27:var E=ve;if(!T||Hp(T)){Ve=0,Ht=null;var A=E.sibling;if(A!==null)ve=A;else{var D=E.return;D!==null?(ve=D,ka(D)):ve=null}break t}}Ve=0,Ht=null,fo(t,i,h,5);break;case 6:Ve=0,Ht=null,fo(t,i,h,6);break;case 8:eu(),et=6;break e;default:throw Error(l(462))}}Jy();break}catch(V){tp(t,V)}while(!0);return An=gi=null,L.H=u,L.A=d,Le=a,ve!==null?0:(Ye=null,Ae=0,jl(),et)}function Jy(){for(;ve!==null&&!vs();)op(ve)}function op(t){var i=Dd(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,i===null?ka(t):ve=i}function lp(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=xd(a,i,i.pendingProps,i.type,void 0,Ae);break;case 11:i=xd(a,i,i.pendingProps,i.type.render,i.ref,Ae);break;case 5:yr(i);default:Id(a,i),i=ve=af(i,Dn),i=Dd(a,i,Dn)}t.memoizedProps=t.pendingProps,i===null?ka(t):ve=i}function fo(t,i,a,u){An=gi=null,yr(i),no=null,sl=0;var d=i.return;try{if(Vy(t,d,i,a,Ae)){et=1,Aa(t,Kt(a,t.current)),ve=null;return}}catch(h){if(d!==null)throw ve=d,h;et=1,Aa(t,Kt(a,t.current)),ve=null;return}i.flags&32768?(Ne||u===1?t=!0:ao||(Ae&536870912)!==0?t=!1:(Jn=t=!0,(u===2||u===9||u===3||u===6)&&(u=Wt.current,u!==null&&u.tag===13&&(u.flags|=16384))),ap(i,t)):ka(i)}function ka(t){var i=t;do{if((i.flags&32768)!==0){ap(i,Jn);return}t=i.return;var a=Gy(i.alternate,i,Dn);if(a!==null){ve=a;return}if(i=i.sibling,i!==null){ve=i;return}ve=i=t}while(i!==null);et===0&&(et=5)}function ap(t,i){do{var a=qy(t.alternate,t);if(a!==null){a.flags&=32767,ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ve=t;return}ve=t=a}while(t!==null);et=6,ve=null}function sp(t,i,a,u,d,h,T,E,A){t.cancelPendingCommit=null;do Ia();while(yt!==0);if((Le&6)!==0)throw Error(l(327));if(i!==null){if(i===t.current)throw Error(l(177));if(h=i.lanes|i.childLanes,h|=$s,ct(t,a,h,T,E,A),t===Ye&&(ve=Ye=null,Ae=0),ro=i,Qn=t,uo=a,Zr=h,Wr=d,Zd=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Zy(rn,function(){return dp(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,d=K.p,K.p=2,T=Le,Le|=4;try{Hy(t,i,a)}finally{Le=T,K.p=d,L.T=u}}yt=1,rp(),up(),cp()}}function rp(){if(yt===1){yt=0;var t=Qn,i=ro,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var u=K.p;K.p=2;var d=Le;Le|=4;try{Yd(i,t);var h=mu,T=Xc(t.containerInfo),E=h.focusedElem,A=h.selectionRange;if(T!==E&&E&&E.ownerDocument&&Kc(E.ownerDocument.documentElement,E)){if(A!==null&&zs(E)){var D=A.start,V=A.end;if(V===void 0&&(V=D),"selectionStart"in E)E.selectionStart=D,E.selectionEnd=Math.min(V,E.value.length);else{var H=E.ownerDocument||document,k=H&&H.defaultView||window;if(k.getSelection){var I=k.getSelection(),fe=E.textContent.length,re=Math.min(A.start,fe),He=A.end===void 0?re:Math.min(A.end,fe);!I.extend&&re>He&&(T=He,He=re,re=T);var w=Jc(E,re),R=Jc(E,He);if(w&&R&&(I.rangeCount!==1||I.anchorNode!==w.node||I.anchorOffset!==w.offset||I.focusNode!==R.node||I.focusOffset!==R.offset)){var b=H.createRange();b.setStart(w.node,w.offset),I.removeAllRanges(),re>He?(I.addRange(b),I.extend(R.node,R.offset)):(b.setEnd(R.node,R.offset),I.addRange(b))}}}}for(H=[],I=E;I=I.parentNode;)I.nodeType===1&&H.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<H.length;E++){var G=H[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Fa=!!pu,mu=pu=null}finally{Le=d,K.p=u,L.T=a}}t.current=i,yt=2}}function up(){if(yt===2){yt=0;var t=Qn,i=ro,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var u=K.p;K.p=2;var d=Le;Le|=4;try{Hd(t,i.alternate,i)}finally{Le=d,K.p=u,L.T=a}}yt=3}}function cp(){if(yt===4||yt===3){yt=0,ko();var t=Qn,i=ro,a=uo,u=Zd;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?yt=5:(yt=0,ro=Qn=null,fp(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Xn=null),ye(a),i=i.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(ai,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=L.T,d=K.p,K.p=2,L.T=null;try{for(var h=t.onRecoverableError,T=0;T<u.length;T++){var E=u[T];h(E.value,{componentStack:E.stack})}}finally{L.T=i,K.p=d}}(uo&3)!==0&&Ia(),mn(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===jr?gl++:(gl=0,jr=t):gl=0,yl(0)}}function fp(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Qo(i)))}function Ia(t){return rp(),up(),cp(),dp()}function dp(){if(yt!==5)return!1;var t=Qn,i=Zr;Zr=0;var a=ye(uo),u=L.T,d=K.p;try{K.p=32>a?32:a,L.T=null,a=Wr,Wr=null;var h=Qn,T=uo;if(yt=0,ro=Qn=null,uo=0,(Le&6)!==0)throw Error(l(331));var E=Le;if(Le|=4,Xd(h.current),$d(h,h.current,T,a),Le=E,yl(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(ai,h)}catch{}return!0}finally{K.p=d,L.T=u,fp(t,i)}}function pp(t,i,a){i=Kt(a,i),i=Dr(t.stateNode,i,2),t=Hn(t,i,2),t!==null&&(Qe(t,2),mn(t))}function ze(t,i,a){if(t.tag===3)pp(t,t,a);else for(;i!==null;){if(i.tag===3){pp(i,t,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Xn===null||!Xn.has(u))){t=Kt(a,t),a=yd(2),u=Hn(i,a,2),u!==null&&(vd(a,u,i,t),Qe(u,2),mn(u));break}}i=i.return}}function iu(t,i,a){var u=t.pingCache;if(u===null){u=t.pingCache=new Oy;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(a)||(Jr=!0,d.add(a),t=Ky.bind(null,t,i,a),i.then(t,t))}function Ky(t,i,a){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ye===t&&(Ae&a)===a&&(et===4||et===3&&(Ae&62914560)===Ae&&300>Nt()-Qr?(Le&2)===0&&co(t,0):Kr|=a,so===Ae&&(so=0)),mn(t)}function mp(t,i){i===0&&(i=ut()),t=$i(t,i),t!==null&&(Qe(t,i),mn(t))}function Xy(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),mp(t,a)}function Qy(t,i){var a=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(l(314))}u!==null&&u.delete(i),mp(t,a)}function Zy(t,i){return bo(t,i)}var Ua=null,po=null,ou=!1,La=!1,lu=!1,Ai=0;function mn(t){t!==po&&t.next===null&&(po===null?Ua=po=t:po=po.next=t),La=!0,ou||(ou=!0,jy())}function yl(t,i){if(!lu&&La){lu=!0;do for(var a=!1,u=Ua;u!==null;){if(t!==0){var d=u.pendingLanes;if(d===0)var h=0;else{var T=u.suspendedLanes,E=u.pingedLanes;h=(1<<31-_t(42|t)+1)-1,h&=d&~(T&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,vp(u,h))}else h=Ae,h=Re(u,u===Ye?h:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(h&3)===0||Ce(u,h)||(a=!0,vp(u,h));u=u.next}while(a);lu=!1}}function Wy(){hp()}function hp(){La=ou=!1;var t=0;Ai!==0&&(sv()&&(t=Ai),Ai=0);for(var i=Nt(),a=null,u=Ua;u!==null;){var d=u.next,h=gp(u,i);h===0?(u.next=null,a===null?Ua=d:a.next=d,d===null&&(po=a)):(a=u,(t!==0||(h&3)!==0)&&(La=!0)),u=d}yl(t)}function gp(t,i){for(var a=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var T=31-_t(h),E=1<<T,A=d[T];A===-1?((E&a)===0||(E&u)!==0)&&(d[T]=we(E,i)):A<=i&&(t.expiredLanes|=E),h&=~E}if(i=Ye,a=Ae,a=Re(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,a===0||t===i&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Do(u),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ce(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(u!==null&&Do(u),ye(a)){case 2:case 8:a=Hl;break;case 32:a=rn;break;case 268435456:a=Io;break;default:a=rn}return u=yp.bind(null,t),a=bo(a,u),t.callbackPriority=i,t.callbackNode=a,i}return u!==null&&u!==null&&Do(u),t.callbackPriority=2,t.callbackNode=null,2}function yp(t,i){if(yt!==0&&yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ia()&&t.callbackNode!==a)return null;var u=Ae;return u=Re(t,t===Ye?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(jd(t,u,i),gp(t,Nt()),t.callbackNode!=null&&t.callbackNode===a?yp.bind(null,t):null)}function vp(t,i){if(Ia())return null;jd(t,i,!0)}function jy(){uv(function(){(Le&6)!==0?bo(ql,Wy):hp()})}function au(){return Ai===0&&(Ai=nt()),Ai}function Tp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$l(""+t)}function Sp(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ev(t,i,a,u,d){if(i==="submit"&&a&&a.stateNode===d){var h=Tp((d[wt]||null).action),T=u.submitter;T&&(i=(i=T[wt]||null)?Tp(i.formAction):T.getAttribute("formAction"),i!==null&&(h=i,T=null));var E=new Ql("action","action",null,u,d);t.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ai!==0){var A=T?Sp(d,T):new FormData(d);Mr(a,{pending:!0,data:A,method:d.method,action:h},null,A)}}else typeof h=="function"&&(E.preventDefault(),A=T?Sp(d,T):new FormData(d),Mr(a,{pending:!0,data:A,method:d.method,action:h},h,A))},currentTarget:d}]})}}for(var su=0;su<Fs.length;su++){var ru=Fs[su],tv=ru.toLowerCase(),nv=ru[0].toUpperCase()+ru.slice(1);on(tv,"on"+nv)}on(Wc,"onAnimationEnd"),on(jc,"onAnimationIteration"),on(ef,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(Ty,"onTransitionRun"),on(Sy,"onTransitionStart"),on(Cy,"onTransitionCancel"),on(tf,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function Cp(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var u=t[a],d=u.event;u=u.listeners;e:{var h=void 0;if(i)for(var T=u.length-1;0<=T;T--){var E=u[T],A=E.instance,D=E.currentTarget;if(E=E.listener,A!==h&&d.isPropagationStopped())break e;h=E,d.currentTarget=D;try{h(d)}catch(V){Ea(V)}d.currentTarget=null,h=A}else for(T=0;T<u.length;T++){if(E=u[T],A=E.instance,D=E.currentTarget,E=E.listener,A!==h&&d.isPropagationStopped())break e;h=E,d.currentTarget=D;try{h(d)}catch(V){Ea(V)}d.currentTarget=null,h=A}}}}function Te(t,i){var a=i[Cs];a===void 0&&(a=i[Cs]=new Set);var u=t+"__bubble";a.has(u)||(Ep(i,t,2,!1),a.add(u))}function uu(t,i,a){var u=0;i&&(u|=4),Ep(a,t,u,i)}var Va="_reactListening"+Math.random().toString(36).slice(2);function cu(t){if(!t[Va]){t[Va]=!0,mc.forEach(function(a){a!=="selectionchange"&&(iv.has(a)||uu(a,!1,t),uu(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Va]||(i[Va]=!0,uu("selectionchange",!1,i))}}function Ep(t,i,a,u){switch($p(i)){case 2:var d=bv;break;case 8:d=Dv;break;default:d=_u}a=d.bind(null,i,a,t),d=void 0,!ks||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function fu(t,i,a,u,d){var h=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var E=u.stateNode.containerInfo;if(E===d)break;if(T===4)for(T=u.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;E!==null;){if(T=Ii(E),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){u=h=T;continue e}E=E.parentNode}}u=u.return}Nc(function(){var D=h,V=bs(a),H=[];e:{var k=nf.get(t);if(k!==void 0){var I=Ql,fe=t;switch(t){case"keypress":if(Kl(a)===0)break e;case"keydown":case"keyup":I=Zg;break;case"focusin":fe="focus",I=Vs;break;case"focusout":fe="blur",I=Vs;break;case"beforeblur":case"afterblur":I=Vs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=qg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=ey;break;case Wc:case jc:case ef:I=Bg;break;case tf:I=ny;break;case"scroll":case"scrollend":I=Pg;break;case"wheel":I=oy;break;case"copy":case"cut":case"paste":I=Yg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Ic;break;case"toggle":case"beforetoggle":I=ay}var re=(i&4)!==0,He=!re&&(t==="scroll"||t==="scrollend"),w=re?k!==null?k+"Capture":null:k;re=[];for(var R=D,b;R!==null;){var G=R;if(b=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||b===null||w===null||(G=Po(R,w),G!=null&&re.push(Tl(R,G,b))),He)break;R=R.return}0<re.length&&(k=new I(k,fe,null,a,V),H.push({event:k,listeners:re}))}}if((i&7)===0){e:{if(k=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",k&&a!==ws&&(fe=a.relatedTarget||a.fromElement)&&(Ii(fe)||fe[ki]))break e;if((I||k)&&(k=V.window===V?V:(k=V.ownerDocument)?k.defaultView||k.parentWindow:window,I?(fe=a.relatedTarget||a.toElement,I=D,fe=fe?Ii(fe):null,fe!==null&&(He=f(fe),re=fe.tag,fe!==He||re!==5&&re!==27&&re!==6)&&(fe=null)):(I=null,fe=D),I!==fe)){if(re=Dc,G="onMouseLeave",w="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(re=Ic,G="onPointerLeave",w="onPointerEnter",R="pointer"),He=I==null?k:Vo(I),b=fe==null?k:Vo(fe),k=new re(G,R+"leave",I,a,V),k.target=He,k.relatedTarget=b,G=null,Ii(V)===D&&(re=new re(w,R+"enter",fe,a,V),re.target=b,re.relatedTarget=He,G=re),He=G,I&&fe)t:{for(re=I,w=fe,R=0,b=re;b;b=mo(b))R++;for(b=0,G=w;G;G=mo(G))b++;for(;0<R-b;)re=mo(re),R--;for(;0<b-R;)w=mo(w),b--;for(;R--;){if(re===w||w!==null&&re===w.alternate)break t;re=mo(re),w=mo(w)}re=null}else re=null;I!==null&&Ap(H,k,I,re,!1),fe!==null&&He!==null&&Ap(H,He,fe,re,!0)}}e:{if(k=D?Vo(D):window,I=k.nodeName&&k.nodeName.toLowerCase(),I==="select"||I==="input"&&k.type==="file")var Z=zc;else if(qc(k))if(Bc)Z=gy;else{Z=my;var ge=py}else I=k.nodeName,!I||I.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?D&&Ns(D.elementType)&&(Z=zc):Z=hy;if(Z&&(Z=Z(t,D))){Hc(H,Z,a,V);break e}ge&&ge(t,k,D),t==="focusout"&&D&&k.type==="number"&&D.memoizedProps.value!=null&&Rs(k,"number",k.value)}switch(ge=D?Vo(D):window,t){case"focusin":(qc(ge)||ge.contentEditable==="true")&&(Oi=ge,Bs=D,Fo=null);break;case"focusout":Fo=Bs=Oi=null;break;case"mousedown":Os=!0;break;case"contextmenu":case"mouseup":case"dragend":Os=!1,Qc(H,a,V);break;case"selectionchange":if(vy)break;case"keydown":case"keyup":Qc(H,a,V)}var ne;if(Gs)e:{switch(t){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Bi?Pc(t,a)&&(ce="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ce="onCompositionStart");ce&&(Uc&&a.locale!=="ko"&&(Bi||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Bi&&(ne=wc()):(Vn=V,Is="value"in Vn?Vn.value:Vn.textContent,Bi=!0)),ge=Pa(D,ce),0<ge.length&&(ce=new kc(ce,t,null,a,V),H.push({event:ce,listeners:ge}),ne?ce.data=ne:(ne=Gc(a),ne!==null&&(ce.data=ne)))),(ne=ry?uy(t,a):cy(t,a))&&(ce=Pa(D,"onBeforeInput"),0<ce.length&&(ge=new kc("onBeforeInput","beforeinput",null,a,V),H.push({event:ge,listeners:ce}),ge.data=ne)),ev(H,t,D,a,V)}Cp(H,i)})}function Tl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Pa(t,i){for(var a=i+"Capture",u=[];t!==null;){var d=t,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=Po(t,a),d!=null&&u.unshift(Tl(t,d,h)),d=Po(t,i),d!=null&&u.push(Tl(t,d,h))),t.tag===3)return u;t=t.return}return[]}function mo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ap(t,i,a,u,d){for(var h=i._reactName,T=[];a!==null&&a!==u;){var E=a,A=E.alternate,D=E.stateNode;if(E=E.tag,A!==null&&A===u)break;E!==5&&E!==26&&E!==27||D===null||(A=D,d?(D=Po(a,h),D!=null&&T.unshift(Tl(a,D,A))):d||(D=Po(a,h),D!=null&&T.push(Tl(a,D,A)))),a=a.return}T.length!==0&&t.push({event:i,listeners:T})}var ov=/\r\n?/g,lv=/\u0000|\uFFFD/g;function _p(t){return(typeof t=="string"?t:""+t).replace(ov,`
`).replace(lv,"")}function xp(t,i){return i=_p(i),_p(t)===i}function Ga(){}function qe(t,i,a,u,d,h){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||qi(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&qi(t,""+u);break;case"className":Ol(t,"class",u);break;case"tabIndex":Ol(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ol(t,a,u);break;case"style":Mc(t,u,h);break;case"data":if(i!=="object"){Ol(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=$l(""+u),t.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(i!=="input"&&qe(t,i,"name",d.name,d,null),qe(t,i,"formEncType",d.formEncType,d,null),qe(t,i,"formMethod",d.formMethod,d,null),qe(t,i,"formTarget",d.formTarget,d,null)):(qe(t,i,"encType",d.encType,d,null),qe(t,i,"method",d.method,d,null),qe(t,i,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=$l(""+u),t.setAttribute(a,u);break;case"onClick":u!=null&&(t.onclick=Ga);break;case"onScroll":u!=null&&Te("scroll",t);break;case"onScrollEnd":u!=null&&Te("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(a=u.__html,a!=null){if(d.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}a=$l(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""+u):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":u===!0?t.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,u):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(a,u):t.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(a):t.setAttribute(a,u);break;case"popover":Te("beforetoggle",t),Te("toggle",t),Bl(t,"popover",u);break;case"xlinkActuate":vn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":vn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":vn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":vn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":vn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":vn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":vn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":vn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":vn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Bl(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lg.get(a)||a,Bl(t,a,u))}}function du(t,i,a,u,d,h){switch(a){case"style":Mc(t,u,h);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(a=u.__html,a!=null){if(d.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"children":typeof u=="string"?qi(t,u):(typeof u=="number"||typeof u=="bigint")&&qi(t,""+u);break;case"onScroll":u!=null&&Te("scroll",t);break;case"onScrollEnd":u!=null&&Te("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),h=t[wt]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(i,h,d),typeof u=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,u,d);break e}a in t?t[a]=u:u===!0?t.setAttribute(a,""):Bl(t,a,u)}}}function vt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",t),Te("load",t);var u=!1,d=!1,h;for(h in a)if(a.hasOwnProperty(h)){var T=a[h];if(T!=null)switch(h){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:qe(t,i,h,T,a,null)}}d&&qe(t,i,"srcSet",a.srcSet,a,null),u&&qe(t,i,"src",a.src,a,null);return;case"input":Te("invalid",t);var E=h=T=d=null,A=null,D=null;for(u in a)if(a.hasOwnProperty(u)){var V=a[u];if(V!=null)switch(u){case"name":d=V;break;case"type":T=V;break;case"checked":A=V;break;case"defaultChecked":D=V;break;case"value":h=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(l(137,i));break;default:qe(t,i,u,V,a,null)}}Ec(t,h,E,A,D,T,d,!1),Yl(t);return;case"select":Te("invalid",t),u=T=h=null;for(d in a)if(a.hasOwnProperty(d)&&(E=a[d],E!=null))switch(d){case"value":h=E;break;case"defaultValue":T=E;break;case"multiple":u=E;default:qe(t,i,d,E,a,null)}i=h,a=T,t.multiple=!!u,i!=null?Gi(t,!!u,i,!1):a!=null&&Gi(t,!!u,a,!0);return;case"textarea":Te("invalid",t),h=d=u=null;for(T in a)if(a.hasOwnProperty(T)&&(E=a[T],E!=null))switch(T){case"value":u=E;break;case"defaultValue":d=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(l(91));break;default:qe(t,i,T,E,a,null)}_c(t,u,d,h),Yl(t);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(u=a[A],u!=null))switch(A){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:qe(t,i,A,u,a,null)}return;case"dialog":Te("beforetoggle",t),Te("toggle",t),Te("cancel",t),Te("close",t);break;case"iframe":case"object":Te("load",t);break;case"video":case"audio":for(u=0;u<vl.length;u++)Te(vl[u],t);break;case"image":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"embed":case"source":case"link":Te("error",t),Te("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(u=a[D],u!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:qe(t,i,D,u,a,null)}return;default:if(Ns(i)){for(V in a)a.hasOwnProperty(V)&&(u=a[V],u!==void 0&&du(t,i,V,u,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(u=a[E],u!=null&&qe(t,i,E,u,a,null))}function av(t,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,T=null,E=null,A=null,D=null,V=null;for(I in a){var H=a[I];if(a.hasOwnProperty(I)&&H!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":A=H;default:u.hasOwnProperty(I)||qe(t,i,I,null,u,H)}}for(var k in u){var I=u[k];if(H=a[k],u.hasOwnProperty(k)&&(I!=null||H!=null))switch(k){case"type":h=I;break;case"name":d=I;break;case"checked":D=I;break;case"defaultChecked":V=I;break;case"value":T=I;break;case"defaultValue":E=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(l(137,i));break;default:I!==H&&qe(t,i,k,I,u,H)}}Ms(t,T,E,A,D,V,h,d);return;case"select":I=T=E=k=null;for(h in a)if(A=a[h],a.hasOwnProperty(h)&&A!=null)switch(h){case"value":break;case"multiple":I=A;default:u.hasOwnProperty(h)||qe(t,i,h,null,u,A)}for(d in u)if(h=u[d],A=a[d],u.hasOwnProperty(d)&&(h!=null||A!=null))switch(d){case"value":k=h;break;case"defaultValue":E=h;break;case"multiple":T=h;default:h!==A&&qe(t,i,d,h,u,A)}i=E,a=T,u=I,k!=null?Gi(t,!!a,k,!1):!!u!=!!a&&(i!=null?Gi(t,!!a,i,!0):Gi(t,!!a,a?[]:"",!1));return;case"textarea":I=k=null;for(E in a)if(d=a[E],a.hasOwnProperty(E)&&d!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:qe(t,i,E,null,u,d)}for(T in u)if(d=u[T],h=a[T],u.hasOwnProperty(T)&&(d!=null||h!=null))switch(T){case"value":k=d;break;case"defaultValue":I=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(l(91));break;default:d!==h&&qe(t,i,T,d,u,h)}Ac(t,k,I);return;case"option":for(var fe in a)if(k=a[fe],a.hasOwnProperty(fe)&&k!=null&&!u.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:qe(t,i,fe,null,u,k)}for(A in u)if(k=u[A],I=a[A],u.hasOwnProperty(A)&&k!==I&&(k!=null||I!=null))switch(A){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:qe(t,i,A,k,u,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in a)k=a[re],a.hasOwnProperty(re)&&k!=null&&!u.hasOwnProperty(re)&&qe(t,i,re,null,u,k);for(D in u)if(k=u[D],I=a[D],u.hasOwnProperty(D)&&k!==I&&(k!=null||I!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,i));break;default:qe(t,i,D,k,u,I)}return;default:if(Ns(i)){for(var He in a)k=a[He],a.hasOwnProperty(He)&&k!==void 0&&!u.hasOwnProperty(He)&&du(t,i,He,void 0,u,k);for(V in u)k=u[V],I=a[V],!u.hasOwnProperty(V)||k===I||k===void 0&&I===void 0||du(t,i,V,k,u,I);return}}for(var w in a)k=a[w],a.hasOwnProperty(w)&&k!=null&&!u.hasOwnProperty(w)&&qe(t,i,w,null,u,k);for(H in u)k=u[H],I=a[H],!u.hasOwnProperty(H)||k===I||k==null&&I==null||qe(t,i,H,k,u,I)}var pu=null,mu=null;function qa(t){return t.nodeType===9?t:t.ownerDocument}function Mp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rp(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function hu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gu=null;function sv(){var t=window.event;return t&&t.type==="popstate"?t===gu?!1:(gu=t,!0):(gu=null,!1)}var Np=typeof setTimeout=="function"?setTimeout:void 0,rv=typeof clearTimeout=="function"?clearTimeout:void 0,wp=typeof Promise=="function"?Promise:void 0,uv=typeof queueMicrotask=="function"?queueMicrotask:typeof wp<"u"?function(t){return wp.resolve(null).then(t).catch(cv)}:Np;function cv(t){setTimeout(function(){throw t})}function Wn(t){return t==="head"}function bp(t,i){var a=i,u=0,d=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(0<u&&8>u){a=u;var T=t.ownerDocument;if(a&1&&Sl(T.documentElement),a&2&&Sl(T.body),a&4)for(a=T.head,Sl(a),T=a.firstChild;T;){var E=T.nextSibling,A=T.nodeName;T[Lo]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=E}}if(d===0){t.removeChild(h),Nl(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:u=a.charCodeAt(0)-48;else u=0;a=h}while(a);Nl(i)}function yu(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yu(a),Es(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function fv(t,i,a,u){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Lo])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=an(t.nextSibling),t===null)break}return null}function dv(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=an(t.nextSibling),t===null))return null;return t}function vu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function pv(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var u=function(){i(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function an(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Tu=null;function Dp(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function kp(t,i,a){switch(i=qa(a),t){case"html":if(t=i.documentElement,!t)throw Error(l(452));return t;case"head":if(t=i.head,!t)throw Error(l(453));return t;case"body":if(t=i.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Sl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Es(t)}var en=new Map,Ip=new Set;function Ha(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var kn=K.d;K.d={f:mv,r:hv,D:gv,C:yv,L:vv,m:Tv,X:Cv,S:Sv,M:Ev};function mv(){var t=kn.f(),i=Da();return t||i}function hv(t){var i=Ui(t);i!==null&&i.tag===5&&i.type==="form"?jf(i):kn.r(t)}var ho=typeof document>"u"?null:document;function Up(t,i,a){var u=ho;if(u&&typeof i=="string"&&i){var d=Jt(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Ip.has(d)||(Ip.add(d),t={rel:t,crossOrigin:a,href:i},u.querySelector(d)===null&&(i=u.createElement("link"),vt(i,"link",t),ft(i),u.head.appendChild(i)))}}function gv(t){kn.D(t),Up("dns-prefetch",t,null)}function yv(t,i){kn.C(t,i),Up("preconnect",t,i)}function vv(t,i,a){kn.L(t,i,a);var u=ho;if(u&&t&&i){var d='link[rel="preload"][as="'+Jt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Jt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Jt(a.imageSizes)+'"]')):d+='[href="'+Jt(t)+'"]';var h=d;switch(i){case"style":h=go(t);break;case"script":h=yo(t)}en.has(h)||(t=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),en.set(h,t),u.querySelector(d)!==null||i==="style"&&u.querySelector(Cl(h))||i==="script"&&u.querySelector(El(h))||(i=u.createElement("link"),vt(i,"link",t),ft(i),u.head.appendChild(i)))}}function Tv(t,i){kn.m(t,i);var a=ho;if(a&&t){var u=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Jt(u)+'"][href="'+Jt(t)+'"]',h=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=yo(t)}if(!en.has(h)&&(t=v({rel:"modulepreload",href:t},i),en.set(h,t),a.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(h)))return}u=a.createElement("link"),vt(u,"link",t),ft(u),a.head.appendChild(u)}}}function Sv(t,i,a){kn.S(t,i,a);var u=ho;if(u&&t){var d=Li(u).hoistableStyles,h=go(t);i=i||"default";var T=d.get(h);if(!T){var E={loading:0,preload:null};if(T=u.querySelector(Cl(h)))E.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},a),(a=en.get(h))&&Su(t,a);var A=T=u.createElement("link");ft(A),vt(A,"link",t),A._p=new Promise(function(D,V){A.onload=D,A.onerror=V}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,za(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:E},d.set(h,T)}}}function Cv(t,i){kn.X(t,i);var a=ho;if(a&&t){var u=Li(a).hoistableScripts,d=yo(t),h=u.get(d);h||(h=a.querySelector(El(d)),h||(t=v({src:t,async:!0},i),(i=en.get(d))&&Cu(t,i),h=a.createElement("script"),ft(h),vt(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(d,h))}}function Ev(t,i){kn.M(t,i);var a=ho;if(a&&t){var u=Li(a).hoistableScripts,d=yo(t),h=u.get(d);h||(h=a.querySelector(El(d)),h||(t=v({src:t,async:!0,type:"module"},i),(i=en.get(d))&&Cu(t,i),h=a.createElement("script"),ft(h),vt(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(d,h))}}function Lp(t,i,a,u){var d=(d=de.current)?Ha(d):null;if(!d)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=go(a.href),a=Li(d).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=go(a.href);var h=Li(d).hoistableStyles,T=h.get(t);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,T),(h=d.querySelector(Cl(t)))&&!h._p&&(T.instance=h,T.state.loading=5),en.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},en.set(t,a),h||Av(d,t,a,T.state))),i&&u===null)throw Error(l(528,""));return T}if(i&&u!==null)throw Error(l(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=yo(a),a=Li(d).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function go(t){return'href="'+Jt(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function Vp(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Av(t,i,a,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),vt(i,"link",a),ft(i),t.head.appendChild(i))}function yo(t){return'[src="'+Jt(t)+'"]'}function El(t){return"script[async]"+t}function Pp(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+Jt(a.href)+'"]');if(u)return i.instance=u,ft(u),u;var d=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),ft(u),vt(u,"style",d),za(u,a.precedence,t),i.instance=u;case"stylesheet":d=go(a.href);var h=t.querySelector(Cl(d));if(h)return i.state.loading|=4,i.instance=h,ft(h),h;u=Vp(a),(d=en.get(d))&&Su(u,d),h=(t.ownerDocument||t).createElement("link"),ft(h);var T=h;return T._p=new Promise(function(E,A){T.onload=E,T.onerror=A}),vt(h,"link",u),i.state.loading|=4,za(h,a.precedence,t),i.instance=h;case"script":return h=yo(a.src),(d=t.querySelector(El(h)))?(i.instance=d,ft(d),d):(u=a,(d=en.get(h))&&(u=v({},a),Cu(u,d)),t=t.ownerDocument||t,d=t.createElement("script"),ft(d),vt(d,"link",u),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,za(u,a.precedence,t));return i.instance}function za(t,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,h=d,T=0;T<u.length;T++){var E=u[T];if(E.dataset.precedence===i)h=E;else if(h!==d)break}h?h.parentNode.insertBefore(t,h.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Su(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Cu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ba=null;function Gp(t,i,a){if(Ba===null){var u=new Map,d=Ba=new Map;d.set(a,u)}else d=Ba,u=d.get(a),u||(u=new Map,d.set(a,u));if(u.has(t))return u;for(u.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var h=a[d];if(!(h[Lo]||h[Je]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var T=h.getAttribute(i)||"";T=t+T;var E=u.get(T);E?E.push(h):u.set(T,[h])}}return u}function qp(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function _v(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Hp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Al=null;function xv(){}function Mv(t,i,a){if(Al===null)throw Error(l(475));var u=Al;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=go(a.href),h=t.querySelector(Cl(d));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=Oa.bind(u),t.then(u,u)),i.state.loading|=4,i.instance=h,ft(h);return}h=t.ownerDocument||t,a=Vp(a),(d=en.get(d))&&Su(a,d),h=h.createElement("link"),ft(h);var T=h;T._p=new Promise(function(E,A){T.onload=E,T.onerror=A}),vt(h,"link",a),i.instance=h}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Oa.bind(u),t.addEventListener("load",i),t.addEventListener("error",i))}}function Rv(){if(Al===null)throw Error(l(475));var t=Al;return t.stylesheets&&t.count===0&&Eu(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Eu(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Oa(){if(this.count--,this.count===0){if(this.stylesheets)Eu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ya=null;function Eu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ya=new Map,i.forEach(Nv,t),Ya=null,Oa.call(t))}function Nv(t,i){if(!(i.state.loading&4)){var a=Ya.get(t);if(a)var u=a.get(null);else{a=new Map,Ya.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var T=d[h];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),u=T)}u&&a.set(null,u)}d=i.instance,T=d.getAttribute("data-precedence"),h=a.get(T)||u,h===u&&a.set(null,d),a.set(T,d),this.count++,u=Oa.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),h?h.parentNode.insertBefore(d,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var _l={$$typeof:F,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function wv(t,i,a,u,d,h,T,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=St(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.hiddenUpdates=St(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function zp(t,i,a,u,d,h,T,E,A,D,V,H){return t=new wv(t,i,a,T,E,A,D,H),i=1,h===!0&&(i|=24),h=Pt(3,null,null,i),t.current=h,h.stateNode=t,i=ir(),i.refCount++,t.pooledCache=i,i.refCount++,h.memoizedState={element:u,isDehydrated:a,cache:i},sr(h),t}function Bp(t){return t?(t=Ji,t):Ji}function Op(t,i,a,u,d,h){d=Bp(d),u.context===null?u.context=d:u.pendingContext=d,u=qn(i),u.payload={element:a},h=h===void 0?null:h,h!==null&&(u.callback=h),a=Hn(t,u,i),a!==null&&(Bt(a,t,i),el(a,t,i))}function Yp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Au(t,i){Yp(t,i),(t=t.alternate)&&Yp(t,i)}function Fp(t){if(t.tag===13){var i=$i(t,67108864);i!==null&&Bt(i,t,67108864),Au(t,67108864)}}var Fa=!0;function bv(t,i,a,u){var d=L.T;L.T=null;var h=K.p;try{K.p=2,_u(t,i,a,u)}finally{K.p=h,L.T=d}}function Dv(t,i,a,u){var d=L.T;L.T=null;var h=K.p;try{K.p=8,_u(t,i,a,u)}finally{K.p=h,L.T=d}}function _u(t,i,a,u){if(Fa){var d=xu(u);if(d===null)fu(t,i,u,$a,a),Jp(t,u);else if(Iv(d,t,i,a,u))u.stopPropagation();else if(Jp(t,u),i&4&&-1<kv.indexOf(t)){for(;d!==null;){var h=Ui(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var T=oe(h.pendingLanes);if(T!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;T;){var A=1<<31-_t(T);E.entanglements[1]|=A,T&=~A}mn(h),(Le&6)===0&&(wa=Nt()+500,yl(0))}}break;case 13:E=$i(h,2),E!==null&&Bt(E,h,2),Da(),Au(h,2)}if(h=xu(u),h===null&&fu(t,i,u,$a,a),h===d)break;d=h}d!==null&&u.stopPropagation()}else fu(t,i,u,null,a)}}function xu(t){return t=bs(t),Mu(t)}var $a=null;function Mu(t){if($a=null,t=Ii(t),t!==null){var i=f(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return $a=t,null}function $p(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ts()){case ql:return 2;case Hl:return 8;case rn:case Di:return 32;case Io:return 268435456;default:return 32}default:return 32}}var Ru=!1,jn=null,ei=null,ti=null,xl=new Map,Ml=new Map,ni=[],kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jp(t,i){switch(t){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":xl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(i.pointerId)}}function Rl(t,i,a,u,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:h,targetContainers:[d]},i!==null&&(i=Ui(i),i!==null&&Fp(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function Iv(t,i,a,u,d){switch(i){case"focusin":return jn=Rl(jn,t,i,a,u,d),!0;case"dragenter":return ei=Rl(ei,t,i,a,u,d),!0;case"mouseover":return ti=Rl(ti,t,i,a,u,d),!0;case"pointerover":var h=d.pointerId;return xl.set(h,Rl(xl.get(h)||null,t,i,a,u,d)),!0;case"gotpointercapture":return h=d.pointerId,Ml.set(h,Rl(Ml.get(h)||null,t,i,a,u,d)),!0}return!1}function Kp(t){var i=Ii(t.target);if(i!==null){var a=f(i);if(a!==null){if(i=a.tag,i===13){if(i=m(a),i!==null){t.blockedOn=i,nn(t.priority,function(){if(a.tag===13){var u=zt();u=Ee(u);var d=$i(a,u);d!==null&&Bt(d,a,u),Au(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ja(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=xu(t.nativeEvent);if(a===null){a=t.nativeEvent;var u=new a.constructor(a.type,a);ws=u,a.target.dispatchEvent(u),ws=null}else return i=Ui(a),i!==null&&Fp(i),t.blockedOn=a,!1;i.shift()}return!0}function Xp(t,i,a){Ja(t)&&a.delete(i)}function Uv(){Ru=!1,jn!==null&&Ja(jn)&&(jn=null),ei!==null&&Ja(ei)&&(ei=null),ti!==null&&Ja(ti)&&(ti=null),xl.forEach(Xp),Ml.forEach(Xp)}function Ka(t,i){t.blockedOn===i&&(t.blockedOn=null,Ru||(Ru=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Uv)))}var Xa=null;function Qp(t){Xa!==t&&(Xa=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Xa===t&&(Xa=null);for(var i=0;i<t.length;i+=3){var a=t[i],u=t[i+1],d=t[i+2];if(typeof u!="function"){if(Mu(u||a)===null)continue;break}var h=Ui(a);h!==null&&(t.splice(i,3),i-=3,Mr(h,{pending:!0,data:d,method:a.method,action:u},u,d))}}))}function Nl(t){function i(A){return Ka(A,t)}jn!==null&&Ka(jn,t),ei!==null&&Ka(ei,t),ti!==null&&Ka(ti,t),xl.forEach(i),Ml.forEach(i);for(var a=0;a<ni.length;a++){var u=ni[a];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ni.length&&(a=ni[0],a.blockedOn===null);)Kp(a),a.blockedOn===null&&ni.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var d=a[u],h=a[u+1],T=d[wt]||null;if(typeof h=="function")T||Qp(a);else if(T){var E=null;if(h&&h.hasAttribute("formAction")){if(d=h,T=h[wt]||null)E=T.formAction;else if(Mu(d)!==null)continue}else E=T.action;typeof E=="function"?a[u+1]=E:(a.splice(u,3),u-=3),Qp(a)}}}function Nu(t){this._internalRoot=t}Qa.prototype.render=Nu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(l(409));var a=i.current,u=zt();Op(a,u,t,i,null,null)},Qa.prototype.unmount=Nu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Op(t.current,2,null,t,null,null),Da(),i[ki]=null}};function Qa(t){this._internalRoot=t}Qa.prototype.unstable_scheduleHydration=function(t){if(t){var i=Oe();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ni.length&&i!==0&&i<ni[a].priority;a++);ni.splice(a,0,t),a===0&&Kp(t)}};var Zp=e.version;if(Zp!=="19.1.1")throw Error(l(527,Zp,"19.1.1"));K.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var Lv={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Za.isDisabled&&Za.supportsFiber)try{ai=Za.inject(Lv),tt=Za}catch{}}return bl.createRoot=function(t,i){if(!c(t))throw Error(l(299));var a=!1,u="",d=pd,h=md,T=hd,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=zp(t,1,!1,null,null,a,u,d,h,T,E,null),t[ki]=i.current,cu(t),new Nu(i)},bl.hydrateRoot=function(t,i,a){if(!c(t))throw Error(l(299));var u=!1,d="",h=pd,T=md,E=hd,A=null,D=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(D=a.formState)),i=zp(t,1,!0,i,a??null,u,d,h,T,E,A,D),i.context=Bp(null),a=i.current,u=zt(),u=Ee(u),d=qn(u),d.callback=null,Hn(a,d,u),a=u,i.current.lanes=a,Qe(i,a),mn(i),t[ki]=i.current,cu(t),new Qa(i)},bl.version="19.1.1",bl}var sm;function Jv(){if(sm)return Du.exports;sm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Du.exports=$v(),Du.exports}var Kv=Jv();const Xv=Lh(Kv),sn={openai:{name:"GPT-4o + DALL-E",icon:"",color:"text-emerald-400"},gemini:{name:"Gemini Flash",icon:"",color:"text-blue-400"},claude:{name:"Claude Sonnet",icon:"",color:"text-purple-400"},auto:{name:"Smart Auto",icon:"",color:"text-cyan-400"}},Qv={photorealistic:" Ultra-realistic",artistic:" Artistic Nigerian",cyberpunk:" Cyber-Lagos",anime:" Anime style"},Vh="gemini-2.5-flash",Zv="gpt-4o",Wv="claude-3-sonnet-20240229",Wa="default",Ot={default:{name:"Lagos Oracle (Default)",icon:"",description:"Your standard, knowledgeable Lagos Oracle.",systemPromptModifier:"",color:"text-yellow-400"},emeka:{name:"Emeka (Igbo Insight)",icon:"",description:"Wise, with a touch of Igbo flair and proverbs.",systemPromptModifier:"You are Emeka, a wise individual with deep roots in Igbo culture, now navigating Lagos. Your responses often carry a touch of Igbo flair, and you might naturally use common Igbo greetings (like 'Nno'), phrases, or proverbs if the context allows. You offer thoughtful and insightful perspectives on various matters.",color:"text-green-400"},femi:{name:"Femi (Yorb Poise)",icon:"",description:"Confident, sharp, Yorb man from Lagos.",systemPromptModifier:"You are Femi, a confident and articulate Yorb man, born and raised in the heart of Lagos. Your responses are sharp, informed, and carry the cadence of a true Lagosian with deep Yorb heritage. You may incorporate Yorb proverbs (we), sayings, or greetings (like ' n l o') when fitting, showcasing pride in your culture.",color:"text-blue-400"},anita:{name:"Anita (Shakara Queen)",icon:"",description:"Playful, sassy, full of Lagos street smarts and slang.",systemPromptModifier:"You are Anita, the ultimate Lagos 'Shakara Queen'  playful, a bit sassy, and overflowing with street smarts. You communicate using contemporary Lagos slang and Pidgin English naturally and freely. You 'tell it like it is,' often with a humorous or witty twist, but always keeping it real.",color:"text-pink-400"},muhammed:{name:"Muhammed (Northern Calm)",icon:"",description:"Calm, thoughtful, with a Northern Nigerian perspective.",systemPromptModifier:"You are Muhammed, a calm and thoughtful individual with a perspective enriched by Northern Nigerian upbringing and Hausa culture, now experiencing Lagos life. Your responses are measured, respectful, and you might use Hausa greetings (like 'Sannu') or expressions if it feels natural. You bring a sense of peace and consideration to your interactions.",color:"text-teal-400"}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let jv,e0;function t0(){return{geminiUrl:jv,vertexUrl:e0}}function n0(n,e,o,l){var c,f;if(!(n!=null&&n.baseUrl)){const m=t0();return e?(c=m.vertexUrl)!==null&&c!==void 0?c:o:(f=m.geminiUrl)!==null&&f!==void 0?f:l}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ri{}function te(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(l,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const f=e[c];return f!=null?String(f):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function r(n,e,o){for(let f=0;f<e.length-1;f++){const m=e[f];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in n))if(Array.isArray(o))n[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(o))for(let p=0;p<y.length;p++){const v=y[p];r(v,e.slice(f+1),o[p])}else for(const p of y)r(p,e.slice(f+1),o)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];r(y[0],e.slice(f+1),o);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const l=e[e.length-1],c=n[l];if(c!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===c)return;if(typeof c=="object"&&typeof o=="object"&&c!==null&&o!==null)Object.assign(c,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else n[l]=o}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return;const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2);if(c in n){const f=n[c];return Array.isArray(f)?f.map(m=>s(m,e.slice(o+1))):void 0}else return}else n=n[l]}return n}catch(o){if(o instanceof TypeError)return;throw o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pu(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var rm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(rm||(rm={}));var um;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(um||(um={}));var oi;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(oi||(oi={}));var gn;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(gn||(gn={}));var cm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(cm||(cm={}));var yn;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(yn||(yn={}));var fm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(fm||(fm={}));var dm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(dm||(dm={}));var pm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(pm||(pm={}));var mm;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(mm||(mm={}));var hm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(hm||(hm={}));var gm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(gm||(gm={}));var ym;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(ym||(ym={}));var vm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(vm||(vm={}));var Tm;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Tm||(Tm={}));var Sm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Sm||(Sm={}));var ss;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(ss||(ss={}));var Cm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Cm||(Cm={}));var Gu;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Gu||(Gu={}));var Em;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Em||(Em={}));var Am;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Am||(Am={}));var _m;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(_m||(_m={}));var xm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(xm||(xm={}));var Mm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Mm||(Mm={}));var Rm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Rm||(Rm={}));var Nm;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Nm||(Nm={}));var wm;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(wm||(wm={}));var bm;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(bm||(bm={}));var Dm;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Dm||(Dm={}));var km;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(km||(km={}));var Im;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Im||(Im={}));var Um;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Um||(Um={}));var Lm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Lm||(Lm={}));var Vm;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Vm||(Vm={}));var Pm;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Pm||(Pm={}));var Gm;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Gm||(Gm={}));var qm;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(qm||(qm={}));var Hm;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Hm||(Hm={}));var zm;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(zm||(zm={}));var Bm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Bm||(Bm={}));var Om;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Om||(Om={}));var Ym;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Ym||(Ym={}));var So;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(So||(So={}));class qu{constructor(e){const o={};for(const l of e.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Dl{get text(){var e,o,l,c,f,m,g,y;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const S=[];for(const C of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,N]of Object.entries(C))_!=="text"&&_!=="thought"&&(N!==null||N!==void 0)&&S.push(_);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;v=!0,p+=C.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,o,l,c,f,m,g,y;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const S of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,_]of Object.entries(S))C!=="inlineData"&&(_!==null||_!==void 0)&&v.push(C);S.inlineData&&typeof S.inlineData.data=="string"&&(p+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,o,l,c,f,m,g,y;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,o,l,c,f,m,g,y,p;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,o,l,c,f,m,g,y,p;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class Fm{}class $m{}class i0{}class o0{}class l0{}class Jm{}class Km{}class Xm{}class a0{}class Qm{}class Zm{}class Wm{}class jm{}class s0{}class r0{}class u0{}class eh{}class c0{get text(){var e,o,l;let c="",f=!1;const m=[];for(const g of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[y,p]of Object.entries(g))y!=="text"&&y!=="thought"&&p!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,c+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,o,l;let c="";const f=[];for(const m of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&f.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class rs{_fromAPIResponse({apiResponse:e,isVertexAI:o}){const l=new rs;if(l.name=e.name,l.metadata=e.metadata,l.done=e.done,l.error=e.error,o){const c=e.response;if(c){const f=new Qm,m=c.videos;f.generatedVideos=m==null?void 0:m.map(g=>({video:{uri:g.gcsUri,videoBytes:g.bytesBase64Encoded?Pu(g.bytesBase64Encoded):void 0,mimeType:g.mimeType}})),f.raiMediaFilteredCount=c.raiMediaFilteredCount,f.raiMediaFilteredReasons=c.raiMediaFilteredReasons,l.response=f}}else{const c=e.response;if(c){const f=new Qm,m=c.generateVideoResponse,g=m==null?void 0:m.generatedSamples;f.generatedVideos=g==null?void 0:g.map(y=>{const p=y.video;return{video:{uri:p==null?void 0:p.uri,videoBytes:p!=null&&p.encodedVideo?Pu(p==null?void 0:p.encodedVideo):void 0,mimeType:y.encoding}}}),f.raiMediaFilteredCount=m==null?void 0:m.raiMediaFilteredCount,f.raiMediaFilteredReasons=m==null?void 0:m.raiMediaFilteredReasons,l.response=f}}return l}}class f0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function De(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Ph(n,e){const o=De(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function Gh(n){return Array.isArray(n)?n.map(e=>us(e)):[us(n)]}function us(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function qh(n){const e=us(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Hh(n){const e=us(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function th(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function zh(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>th(e)):[th(n)]}function Hu(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function nh(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function ih(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function At(n){if(n==null)throw new Error("ContentUnion is required");return Hu(n)?n:{role:"user",parts:zh(n)}}function Bh(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const l=At(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(n.isVertexAI()){const o=At(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>At(o)):[At(e)]}function tn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(nh(n)||ih(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[At(n)]}const e=[],o=[],l=Hu(n[0]);for(const c of n){const f=Hu(c);if(f!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)e.push(c);else{if(nh(c)||ih(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(c)}}return l||e.push({role:"user",parts:zh(o)}),e}function d0(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(l=>l!=="null");if(o.length===1)e.type=Object.values(oi).includes(o[0].toUpperCase())?o[0].toUpperCase():oi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of o)e.anyOf.push({type:Object.values(oi).includes(l.toUpperCase())?l.toUpperCase():oi.TYPE_UNSPECIFIED})}}function Co(n){const e={},o=["items"],l=["anyOf"],c=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=n.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,n=f[1]):f[1].type==="null"&&(e.nullable=!0,n=f[0])),n.type instanceof Array&&d0(n.type,e);for(const[m,g]of Object.entries(n))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(oi).includes(g.toUpperCase())?g.toUpperCase():oi.TYPE_UNSPECIFIED}else if(o.includes(m))e[m]=Co(g);else if(l.includes(m)){const y=[];for(const p of g){if(p.type=="null"){e.nullable=!0;continue}y.push(Co(p))}e[m]=y}else if(c.includes(m)){const y={};for(const[p,v]of Object.entries(g))y[p]=Co(v);e[m]=y}else{if(m==="additionalProperties")continue;e[m]=g}return e}function ec(n){return Co(n)}function tc(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function nc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function _o(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Co(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Co(e.response));return n}function xo(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function p0(n,e,o,l=1){const c=!e.startsWith(`${o}/`)&&e.split("/").length===l;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:c?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:c?`${o}/${e}`:e}function Ln(n,e){if(typeof e!="string")throw new Error("name must be a string");return p0(n,e,"cachedContents")}function Oh(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Ni(n){return Pu(n)}function m0(n){return n!=null&&typeof n=="object"&&"name"in n}function h0(n){return n!=null&&typeof n=="object"&&"video"in n}function g0(n){return n!=null&&typeof n=="object"&&"uri"in n}function Yh(n){var e;let o;if(m0(n)&&(o=n.name),!(g0(n)&&(o=n.uri,o===void 0))&&!(h0(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const c=o.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${o}`);o=c[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Fh(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function $h(n){for(const e of["models","tunedModels","publisherModels"])if(y0(n,e))return n[e];return[]}function y0(n,e){return n!==null&&typeof n=="object"&&e in n}function v0(n,e={}){const o=n,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function T0(n,e={}){const o=[],l=new Set;for(const c of n){const f=c.name;if(l.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);l.add(f);const m=v0(c,e);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function Jh(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function S0(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Mo(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Kh(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C0(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function E0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function A0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function _0(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],C0(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],E0(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],A0(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function Xh(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>_0(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function x0(n){const e={},o=s(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=s(n,["default"]);l!=null&&r(e,["default"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const f=s(n,["enum"]);f!=null&&r(e,["enum"],f);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const S=s(n,["maxProperties"]);S!=null&&r(e,["maxProperties"],S);const C=s(n,["maximum"]);C!=null&&r(e,["maximum"],C);const _=s(n,["minItems"]);_!=null&&r(e,["minItems"],_);const N=s(n,["minLength"]);N!=null&&r(e,["minLength"],N);const U=s(n,["minProperties"]);U!=null&&r(e,["minProperties"],U);const z=s(n,["minimum"]);z!=null&&r(e,["minimum"],z);const Q=s(n,["nullable"]);Q!=null&&r(e,["nullable"],Q);const $=s(n,["pattern"]);$!=null&&r(e,["pattern"],$);const F=s(n,["properties"]);F!=null&&r(e,["properties"],F);const j=s(n,["propertyOrdering"]);j!=null&&r(e,["propertyOrdering"],j);const O=s(n,["required"]);O!=null&&r(e,["required"],O);const ue=s(n,["title"]);ue!=null&&r(e,["title"],ue);const W=s(n,["type"]);return W!=null&&r(e,["type"],W),e}function M0(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["category"]);o!=null&&r(e,["category"],o);const l=s(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function R0(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const f=s(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function N0(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function w0(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],N0(o)),e}function b0(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function D0(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],b0(o)),e}function k0(){return{}}function I0(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>R0(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],w0(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],D0(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],k0());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function U0(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function L0(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function V0(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],L0(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function P0(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],U0(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],V0(l)),e}function G0(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function Qh(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],G0(o)),e}function q0(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Qh(l)),e}function H0(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>q0(c))),r(e,["speakerVoiceConfigs"],l)}return e}function z0(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],Qh(o));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],H0(l));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function B0(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=s(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function O0(n,e,o){const l={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],Xh(At(c)));const f=s(e,["temperature"]);f!=null&&r(l,["temperature"],f);const m=s(e,["topP"]);m!=null&&r(l,["topP"],m);const g=s(e,["topK"]);g!=null&&r(l,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(l,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const S=s(e,["responseLogprobs"]);S!=null&&r(l,["responseLogprobs"],S);const C=s(e,["logprobs"]);C!=null&&r(l,["logprobs"],C);const _=s(e,["presencePenalty"]);_!=null&&r(l,["presencePenalty"],_);const N=s(e,["frequencyPenalty"]);N!=null&&r(l,["frequencyPenalty"],N);const U=s(e,["seed"]);U!=null&&r(l,["seed"],U);const z=s(e,["responseMimeType"]);z!=null&&r(l,["responseMimeType"],z);const Q=s(e,["responseSchema"]);Q!=null&&r(l,["responseSchema"],x0(ec(Q)));const $=s(e,["responseJsonSchema"]);if($!=null&&r(l,["responseJsonSchema"],$),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=s(e,["safetySettings"]);if(o!==void 0&&F!=null){let ee=F;Array.isArray(ee)&&(ee=ee.map(Ie=>M0(Ie))),r(o,["safetySettings"],ee)}const j=s(e,["tools"]);if(o!==void 0&&j!=null){let ee=xo(j);Array.isArray(ee)&&(ee=ee.map(Ie=>I0(_o(Ie)))),r(o,["tools"],ee)}const O=s(e,["toolConfig"]);if(o!==void 0&&O!=null&&r(o,["toolConfig"],P0(O)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ue=s(e,["cachedContent"]);o!==void 0&&ue!=null&&r(o,["cachedContent"],Ln(n,ue));const W=s(e,["responseModalities"]);W!=null&&r(l,["responseModalities"],W);const _e=s(e,["mediaResolution"]);_e!=null&&r(l,["mediaResolution"],_e);const se=s(e,["speechConfig"]);if(se!=null&&r(l,["speechConfig"],z0(tc(se))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Se=s(e,["thinkingConfig"]);return Se!=null&&r(l,["thinkingConfig"],B0(Se)),l}function Y0(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["request","model"],De(n,l));const c=s(e,["contents"]);if(c!=null){let m=tn(c);Array.isArray(m)&&(m=m.map(g=>Xh(g))),r(o,["request","contents"],m)}const f=s(e,["config"]);return f!=null&&r(o,["request","generationConfig"],O0(n,f,o)),o}function F0(n,e){const o={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=s(e,["fileName"]);l!=null&&r(o,["fileName"],l);const c=s(e,["inlinedRequests"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Y0(n,m))),r(o,["requests","requests"],f)}return o}function $0(n,e){const o={},l=s(n,["displayName"]);if(e!==void 0&&l!=null&&r(e,["batch","displayName"],l),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function J0(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=s(e,["src"]);c!=null&&r(o,["batch","inputConfig"],F0(n,Jh(n,c)));const f=s(e,["config"]);return f!=null&&r(o,["config"],$0(f,o)),o}function K0(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Mo(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function X0(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Mo(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function Q0(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);if(e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Z0(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],Q0(o,e)),e}function W0(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Mo(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function j0(n){const e={},o=s(n,["format"]);o!=null&&r(e,["instancesFormat"],o);const l=s(n,["gcsUri"]);l!=null&&r(e,["gcsSource","uris"],l);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigquerySource","inputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function eT(n){const e={},o=s(n,["format"]);o!=null&&r(e,["predictionsFormat"],o);const l=s(n,["gcsUri"]);l!=null&&r(e,["gcsDestination","outputUriPrefix"],l);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigqueryDestination","outputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function tT(n,e){const o={},l=s(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=s(n,["dest"]);return e!==void 0&&c!=null&&r(e,["outputConfig"],eT(S0(c))),o}function nT(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["model"],De(n,l));const c=s(e,["src"]);c!=null&&r(o,["inputConfig"],j0(Jh(n,c)));const f=s(e,["config"]);return f!=null&&r(o,["config"],tT(f,o)),o}function iT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Mo(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function oT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Mo(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function lT(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const f=s(n,["filter"]);return e!==void 0&&f!=null&&r(e,["_query","filter"],f),o}function aT(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],lT(o,e)),e}function sT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Mo(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function rT(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function uT(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function cT(n){const e={},o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function fT(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],rT(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],uT(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],cT(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function dT(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>fT(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function pT(n){const e={},o=s(n,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function mT(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function hT(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>mT(c))),r(e,["urlMetadata"],l)}return e}function gT(n){const e={},o=s(n,["content"]);o!=null&&r(e,["content"],dT(o));const l=s(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],pT(l));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const f=s(n,["finishReason"]);f!=null&&r(e,["finishReason"],f);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],hT(m));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const S=s(n,["safetyRatings"]);return S!=null&&r(e,["safetyRatings"],S),e}function yT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>gT(p))),r(e,["candidates"],y)}const c=s(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const f=s(n,["promptFeedback"]);f!=null&&r(e,["promptFeedback"],f);const m=s(n,["responseId"]);m!=null&&r(e,["responseId"],m);const g=s(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function Zh(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const l=s(n,["code"]);l!=null&&r(e,["code"],l);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function vT(n){const e={},o=s(n,["response"]);o!=null&&r(e,["response"],yT(o));const l=s(n,["error"]);return l!=null&&r(e,["error"],Zh(l)),e}function TT(n){const e={},o=s(n,["responsesFile"]);o!=null&&r(e,["fileName"],o);const l=s(n,["inlinedResponses","inlinedResponses"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>vT(f))),r(e,["inlinedResponses"],c)}return e}function zu(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["metadata","displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["metadata","state"]);c!=null&&r(e,["state"],Kh(c));const f=s(n,["metadata","createTime"]);f!=null&&r(e,["createTime"],f);const m=s(n,["metadata","endTime"]);m!=null&&r(e,["endTime"],m);const g=s(n,["metadata","updateTime"]);g!=null&&r(e,["updateTime"],g);const y=s(n,["metadata","model"]);y!=null&&r(e,["model"],y);const p=s(n,["metadata","output"]);return p!=null&&r(e,["dest"],TT(p)),e}function ST(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["operations"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>zu(m))),r(e,["batchJobs"],f)}return e}function CT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const f=s(n,["error"]);return f!=null&&r(e,["error"],Zh(f)),e}function Wh(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const l=s(n,["code"]);l!=null&&r(e,["code"],l);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function ET(n){const e={},o=s(n,["instancesFormat"]);o!=null&&r(e,["format"],o);const l=s(n,["gcsSource","uris"]);l!=null&&r(e,["gcsUri"],l);const c=s(n,["bigquerySource","inputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function AT(n){const e={},o=s(n,["predictionsFormat"]);o!=null&&r(e,["format"],o);const l=s(n,["gcsDestination","outputUriPrefix"]);l!=null&&r(e,["gcsUri"],l);const c=s(n,["bigqueryDestination","outputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function Bu(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["state"]);c!=null&&r(e,["state"],Kh(c));const f=s(n,["error"]);f!=null&&r(e,["error"],Wh(f));const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=s(n,["startTime"]);g!=null&&r(e,["startTime"],g);const y=s(n,["endTime"]);y!=null&&r(e,["endTime"],y);const p=s(n,["updateTime"]);p!=null&&r(e,["updateTime"],p);const v=s(n,["model"]);v!=null&&r(e,["model"],v);const S=s(n,["inputConfig"]);S!=null&&r(e,["src"],ET(S));const C=s(n,["outputConfig"]);return C!=null&&r(e,["dest"],AT(C)),e}function _T(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["batchPredictionJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Bu(m))),r(e,["batchJobs"],f)}return e}function xT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const f=s(n,["error"]);return f!=null&&r(e,["error"],Wh(f)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xi;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(xi||(xi={}));class Pl{constructor(e,o,l,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,l,c)}init(e,o,l){var c,f;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!l||Object.keys(l).length===0?m={config:{}}:typeof l=="object"?m=Object.assign({},l):m=l,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(f=(c=m.config)===null||c===void 0?void 0:c.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MT extends Ri{constructor(e){super(),this.apiClient=e,this.create=async o=>{if(this.apiClient.isVertexAI()){const c=Date.now().toString();if(Array.isArray(o.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(o.config=o.config||{},o.config.displayName===void 0&&(o.config.displayName="genaiBatchJob_${timestampStr}"),o.config.dest===void 0&&typeof o.src=="string")if(o.src.startsWith("gs://")&&o.src.endsWith(".jsonl"))o.config.dest=`${o.src.slice(0,-6)}/dest`;else if(o.src.startsWith("bq://"))o.config.dest=`${o.src}_dest_${c}`;else throw new Error("Unsupported source:"+o.src)}return await this.createInternal(o)},this.list=async(o={})=>new Pl(xi.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o)}async createInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=nT(this.apiClient,e);return g=te("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Bu(v))}else{const p=J0(this.apiClient,e);return g=te("{model}:batchGenerateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>zu(v))}}async get(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=iT(this.apiClient,e);return g=te("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Bu(v))}else{const p=K0(this.apiClient,e);return g=te("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>zu(v))}}async cancel(e){var o,l,c,f;let m="",g={};if(this.apiClient.isVertexAI()){const y=oT(this.apiClient,e);m=te("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=X0(this.apiClient,e);m=te("batches/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=aT(e);return g=te("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=_T(v),C=new eh;return Object.assign(C,S),C})}else{const p=Z0(e);return g=te("batches",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=ST(v),C=new eh;return Object.assign(C,S),C})}}async delete(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=sT(this.apiClient,e);return g=te("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>xT(v))}else{const p=W0(this.apiClient,e);return g=te("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>CT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RT(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function NT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function wT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function bT(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],RT(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],NT(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],wT(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function oh(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>bT(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function DT(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const f=s(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function kT(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function IT(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],kT(o)),e}function UT(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function LT(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],UT(o)),e}function VT(){return{}}function PT(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>DT(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],IT(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],LT(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],VT());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function GT(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function qT(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function HT(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],qT(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function zT(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],GT(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],HT(l)),e}function BT(n,e){const o={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const f=s(n,["displayName"]);e!==void 0&&f!=null&&r(e,["displayName"],f);const m=s(n,["contents"]);if(e!==void 0&&m!=null){let v=tn(m);Array.isArray(v)&&(v=v.map(S=>oh(S))),r(e,["contents"],v)}const g=s(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],oh(At(g)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>PT(S))),r(e,["tools"],v)}const p=s(n,["toolConfig"]);if(e!==void 0&&p!=null&&r(e,["toolConfig"],zT(p)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function OT(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["model"],Ph(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],BT(c,o)),o}function YT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Ln(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function FT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Ln(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function $T(n,e){const o={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),o}function JT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Ln(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],$T(c,o)),o}function KT(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function XT(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],KT(o,e)),e}function QT(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function ZT(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function WT(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function jT(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],QT(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],ZT(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],WT(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function lh(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>jT(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function eS(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&r(e,["description"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const f=s(n,["parametersJsonSchema"]);f!=null&&r(e,["parametersJsonSchema"],f);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function tS(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function nS(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],tS(o)),e}function iS(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function oS(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],iS(o)),e}function lS(){return{}}function aS(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function sS(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],aS(o));const l=s(n,["authType"]);l!=null&&r(e,["authType"],l);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const f=s(n,["httpBasicAuthConfig"]);f!=null&&r(e,["httpBasicAuthConfig"],f);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function rS(n){const e={},o=s(n,["authConfig"]);return o!=null&&r(e,["authConfig"],sS(o)),e}function uS(){return{}}function cS(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(C=>eS(C))),r(e,["functionDeclarations"],S)}const l=s(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],nS(c));const f=s(n,["googleSearchRetrieval"]);f!=null&&r(e,["googleSearchRetrieval"],oS(f)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],lS());const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],rS(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],uS());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function fS(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function dS(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function pS(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],dS(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function mS(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],fS(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],pS(l)),e}function hS(n,e){const o={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const f=s(n,["displayName"]);e!==void 0&&f!=null&&r(e,["displayName"],f);const m=s(n,["contents"]);if(e!==void 0&&m!=null){let S=tn(m);Array.isArray(S)&&(S=S.map(C=>lh(C))),r(e,["contents"],S)}const g=s(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],lh(At(g)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(C=>cS(C))),r(e,["tools"],S)}const p=s(n,["toolConfig"]);e!==void 0&&p!=null&&r(e,["toolConfig"],mS(p));const v=s(n,["kmsKeyName"]);return e!==void 0&&v!=null&&r(e,["encryption_spec","kmsKeyName"],v),o}function gS(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["model"],Ph(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],hS(c,o)),o}function yS(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Ln(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function vS(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Ln(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function TS(n,e){const o={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),o}function SS(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Ln(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],TS(c,o)),o}function CS(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function ES(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],CS(o,e)),e}function os(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const f=s(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=s(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const g=s(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function AS(){return{}}function _S(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["cachedContents"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>os(m))),r(e,["cachedContents"],f)}return e}function ls(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const f=s(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=s(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const g=s(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function xS(){return{}}function MS(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["cachedContents"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>ls(m))),r(e,["cachedContents"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RS extends Ri{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Pl(xi.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=gS(this.apiClient,e);return g=te("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>ls(v))}else{const p=OT(this.apiClient,e);return g=te("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>os(v))}}async get(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=yS(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>ls(v))}else{const p=YT(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>os(v))}}async delete(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=vS(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(()=>{const v=xS(),S=new Wm;return Object.assign(S,v),S})}else{const p=FT(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(()=>{const v=AS(),S=new Wm;return Object.assign(S,v),S})}}async update(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=SS(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>ls(v))}else{const p=JT(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>os(v))}}async listInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=ES(e);return g=te("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=MS(v),C=new jm;return Object.assign(C,S),C})}else{const p=XT(e);return g=te("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=_S(v),C=new jm;return Object.assign(C,S),C})}}}function ah(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],l=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(n){return this instanceof Fe?(this.v=n,this):new Fe(n)}function Eo(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(n,e||[]),c,f=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),c[Symbol.asyncIterator]=function(){return this},c;function m(_){return function(N){return Promise.resolve(N).then(_,S)}}function g(_,N){l[_]&&(c[_]=function(U){return new Promise(function(z,Q){f.push([_,U,z,Q])>1||y(_,U)})},N&&(c[_]=N(c[_])))}function y(_,N){try{p(l[_](N))}catch(U){C(f[0][3],U)}}function p(_){_.value instanceof Fe?Promise.resolve(_.value.v).then(v,S):C(f[0][2],_)}function v(_){y("next",_)}function S(_){y("throw",_)}function C(_,N){_(N),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Ll(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof ah=="function"?ah(n):n[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(f){o[f]=n[f]&&function(m){return new Promise(function(g,y){m=n[f](m),c(g,y,m.done,m.value)})}}function c(f,m,g,y){Promise.resolve(y).then(function(p){f({value:p,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NS(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:jh(o)}function jh(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function wS(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function sh(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let l=0;for(;l<o;)if(n[l].role==="user")e.push(n[l]),l++;else{const c=[];let f=!0;for(;l<o&&n[l].role==="model";)c.push(n[l]),f&&!jh(n[l])&&(f=!1),l++;f?e.push(...c):e.pop()}return e}class bS{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new DS(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class DS{constructor(e,o,l,c={},f=[]){this.apiClient=e,this.modelsModule=o,this.model=l,this.config=c,this.history=f,this.sendPromise=Promise.resolve(),wS(f)}async sendMessage(e){var o;await this.sendPromise;const l=At(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,m,g;const y=await c,p=(m=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let C=[];v!=null&&(C=(g=v.slice(S))!==null&&g!==void 0?g:[]);const _=p?[p]:[];this.recordHistory(l,_,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var o;await this.sendPromise;const l=At(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const f=await c;return this.processStreamResponse(f,l)}getHistory(e=!1){const o=e?sh(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var l,c;return Eo(this,arguments,function*(){var m,g,y,p;const v=[];try{for(var S=!0,C=Ll(e),_;_=yield Fe(C.next()),m=_.done,!m;S=!0){p=_.value,S=!1;const N=p;if(NS(N)){const U=(c=(l=N.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;U!==void 0&&v.push(U)}yield yield Fe(N)}}catch(N){g={error:N}}finally{try{!S&&!m&&(y=C.return)&&(yield Fe(y.call(C)))}finally{if(g)throw g.error}}this.recordHistory(o,v)})}recordHistory(e,o,l){let c=[];o.length>0&&o.every(f=>f.role!==void 0)?c=o:c.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...sh(l)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ps extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ps.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kS(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function IS(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],kS(o,e)),e}function US(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const l=s(n,["message"]);l!=null&&r(e,["message"],l);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function LS(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const f=s(n,["sizeBytes"]);f!=null&&r(e,["sizeBytes"],f);const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=s(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const S=s(n,["downloadUri"]);S!=null&&r(e,["downloadUri"],S);const C=s(n,["state"]);C!=null&&r(e,["state"],C);const _=s(n,["source"]);_!=null&&r(e,["source"],_);const N=s(n,["videoMetadata"]);N!=null&&r(e,["videoMetadata"],N);const U=s(n,["error"]);return U!=null&&r(e,["error"],US(U)),e}function VS(n){const e={},o=s(n,["file"]);o!=null&&r(e,["file"],LS(o));const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function PS(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","file"],Yh(o));const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function GS(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","file"],Yh(o));const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function qS(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const l=s(n,["message"]);l!=null&&r(e,["message"],l);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function Ou(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const f=s(n,["sizeBytes"]);f!=null&&r(e,["sizeBytes"],f);const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=s(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const S=s(n,["downloadUri"]);S!=null&&r(e,["downloadUri"],S);const C=s(n,["state"]);C!=null&&r(e,["state"],C);const _=s(n,["source"]);_!=null&&r(e,["source"],_);const N=s(n,["videoMetadata"]);N!=null&&r(e,["videoMetadata"],N);const U=s(n,["error"]);return U!=null&&r(e,["error"],qS(U)),e}function HS(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["files"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Ou(m))),r(e,["files"],f)}return e}function zS(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function BS(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OS extends Ri{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Pl(xi.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>Ou(o))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IS(e);return f=te("files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=HS(y),v=new s0;return Object.assign(v,p),v})}}async createInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=VS(e);return f=te("upload/v1beta/files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const p=zS(y),v=new r0;return Object.assign(v,p),v})}}async get(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PS(e);return f=te("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Ou(y))}}async delete(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=GS(e);return f=te("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(()=>{const y=BS(),p=new u0;return Object.assign(p,y),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YS(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function eg(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],YS(o)),e}function FS(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],eg(l)),e}function $S(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>FS(c))),r(e,["speakerVoiceConfigs"],l)}return e}function JS(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],eg(o));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],$S(l));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function KS(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function XS(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function QS(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function ZS(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],KS(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],XS(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],QS(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function WS(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>ZS(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function jS(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const f=s(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function eC(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function tC(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],eC(o)),e}function nC(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function iC(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],nC(o)),e}function oC(){return{}}function lC(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>jS(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],tC(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],iC(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],oC());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function aC(n){const e={},o=s(n,["handle"]);if(o!=null&&r(e,["handle"],o),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rh(){return{}}function sC(n){const e={},o=s(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=s(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const f=s(n,["prefixPaddingMs"]);f!=null&&r(e,["prefixPaddingMs"],f);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function rC(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],sC(o));const l=s(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function uC(n){const e={},o=s(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function cC(n){const e={},o=s(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=s(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],uC(l)),e}function fC(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function dC(n,e){const o={},l=s(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const f=s(n,["temperature"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","temperature"],f);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const S=s(n,["speechConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","speechConfig"],JS(nc(S)));const C=s(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],C);const _=s(n,["systemInstruction"]);e!==void 0&&_!=null&&r(e,["setup","systemInstruction"],WS(At(_)));const N=s(n,["tools"]);if(e!==void 0&&N!=null){let O=xo(N);Array.isArray(O)&&(O=O.map(ue=>lC(_o(ue)))),r(e,["setup","tools"],O)}const U=s(n,["sessionResumption"]);e!==void 0&&U!=null&&r(e,["setup","sessionResumption"],aC(U));const z=s(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&r(e,["setup","inputAudioTranscription"],rh());const Q=s(n,["outputAudioTranscription"]);e!==void 0&&Q!=null&&r(e,["setup","outputAudioTranscription"],rh());const $=s(n,["realtimeInputConfig"]);e!==void 0&&$!=null&&r(e,["setup","realtimeInputConfig"],rC($));const F=s(n,["contextWindowCompression"]);e!==void 0&&F!=null&&r(e,["setup","contextWindowCompression"],cC(F));const j=s(n,["proactivity"]);return e!==void 0&&j!=null&&r(e,["setup","proactivity"],fC(j)),o}function pC(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["setup","model"],De(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],dC(c,o)),o}function mC(){return{}}function hC(){return{}}function gC(n){const e={},o=s(n,["media"]);o!=null&&r(e,["mediaChunks"],Gh(o));const l=s(n,["audio"]);l!=null&&r(e,["audio"],Hh(l));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const f=s(n,["video"]);f!=null&&r(e,["video"],qh(f));const m=s(n,["text"]);return m!=null&&r(e,["text"],m),s(n,["activityStart"])!=null&&r(e,["activityStart"],mC()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],hC()),e}function tg(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function yC(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>tg(c))),r(e,["weightedPrompts"],l)}return e}function ng(n){const e={},o=s(n,["temperature"]);o!=null&&r(e,["temperature"],o);const l=s(n,["topK"]);l!=null&&r(e,["topK"],l);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const f=s(n,["guidance"]);f!=null&&r(e,["guidance"],f);const m=s(n,["bpm"]);m!=null&&r(e,["bpm"],m);const g=s(n,["density"]);g!=null&&r(e,["density"],g);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=s(n,["scale"]);p!=null&&r(e,["scale"],p);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const S=s(n,["muteDrums"]);S!=null&&r(e,["muteDrums"],S);const C=s(n,["onlyBassAndDrums"]);C!=null&&r(e,["onlyBassAndDrums"],C);const _=s(n,["musicGenerationMode"]);return _!=null&&r(e,["musicGenerationMode"],_),e}function vC(n){const e={},o=s(n,["musicGenerationConfig"]);return o!=null&&r(e,["musicGenerationConfig"],ng(o)),e}function ig(n){const e={},o=s(n,["model"]);return o!=null&&r(e,["model"],o),e}function og(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>tg(c))),r(e,["weightedPrompts"],l)}return e}function Yu(n){const e={},o=s(n,["setup"]);o!=null&&r(e,["setup"],ig(o));const l=s(n,["clientContent"]);l!=null&&r(e,["clientContent"],og(l));const c=s(n,["musicGenerationConfig"]);c!=null&&r(e,["musicGenerationConfig"],ng(c));const f=s(n,["playbackControl"]);return f!=null&&r(e,["playbackControl"],f),e}function TC(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function SC(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],TC(o)),e}function CC(n){const e={},o=s(n,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],SC(o)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function EC(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function AC(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function _C(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function xC(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],EC(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],AC(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],_C(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function MC(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>xC(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function RC(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&r(e,["description"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const f=s(n,["parametersJsonSchema"]);f!=null&&r(e,["parametersJsonSchema"],f);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function NC(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function wC(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],NC(o)),e}function bC(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function DC(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],bC(o)),e}function kC(){return{}}function IC(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function UC(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],IC(o));const l=s(n,["authType"]);l!=null&&r(e,["authType"],l);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const f=s(n,["httpBasicAuthConfig"]);f!=null&&r(e,["httpBasicAuthConfig"],f);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function LC(n){const e={},o=s(n,["authConfig"]);return o!=null&&r(e,["authConfig"],UC(o)),e}function VC(){return{}}function PC(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(C=>RC(C))),r(e,["functionDeclarations"],S)}const l=s(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],wC(c));const f=s(n,["googleSearchRetrieval"]);f!=null&&r(e,["googleSearchRetrieval"],DC(f)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],kC());const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],LC(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],VC());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function GC(n){const e={},o=s(n,["handle"]);o!=null&&r(e,["handle"],o);const l=s(n,["transparent"]);return l!=null&&r(e,["transparent"],l),e}function uh(){return{}}function qC(n){const e={},o=s(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=s(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const f=s(n,["prefixPaddingMs"]);f!=null&&r(e,["prefixPaddingMs"],f);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function HC(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],qC(o));const l=s(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function zC(n){const e={},o=s(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function BC(n){const e={},o=s(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=s(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],zC(l)),e}function OC(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function YC(n,e){const o={},l=s(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const f=s(n,["temperature"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","temperature"],f);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const S=s(n,["speechConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","speechConfig"],CC(nc(S)));const C=s(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],C);const _=s(n,["systemInstruction"]);e!==void 0&&_!=null&&r(e,["setup","systemInstruction"],MC(At(_)));const N=s(n,["tools"]);if(e!==void 0&&N!=null){let O=xo(N);Array.isArray(O)&&(O=O.map(ue=>PC(_o(ue)))),r(e,["setup","tools"],O)}const U=s(n,["sessionResumption"]);e!==void 0&&U!=null&&r(e,["setup","sessionResumption"],GC(U));const z=s(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&r(e,["setup","inputAudioTranscription"],uh());const Q=s(n,["outputAudioTranscription"]);e!==void 0&&Q!=null&&r(e,["setup","outputAudioTranscription"],uh());const $=s(n,["realtimeInputConfig"]);e!==void 0&&$!=null&&r(e,["setup","realtimeInputConfig"],HC($));const F=s(n,["contextWindowCompression"]);e!==void 0&&F!=null&&r(e,["setup","contextWindowCompression"],BC(F));const j=s(n,["proactivity"]);return e!==void 0&&j!=null&&r(e,["setup","proactivity"],OC(j)),o}function FC(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["setup","model"],De(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],YC(c,o)),o}function $C(){return{}}function JC(){return{}}function KC(n){const e={},o=s(n,["media"]);o!=null&&r(e,["mediaChunks"],Gh(o));const l=s(n,["audio"]);l!=null&&r(e,["audio"],Hh(l));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const f=s(n,["video"]);f!=null&&r(e,["video"],qh(f));const m=s(n,["text"]);return m!=null&&r(e,["text"],m),s(n,["activityStart"])!=null&&r(e,["activityStart"],$C()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],JC()),e}function XC(){return{}}function QC(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function ZC(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function WC(n){const e={},o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function jC(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],QC(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],ZC(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],WC(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function eE(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>jC(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function ch(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function tE(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function nE(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>tE(c))),r(e,["urlMetadata"],l)}return e}function iE(n){const e={},o=s(n,["modelTurn"]);o!=null&&r(e,["modelTurn"],eE(o));const l=s(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const f=s(n,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const m=s(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const g=s(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],ch(g));const y=s(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],ch(y));const p=s(n,["urlContextMetadata"]);return p!=null&&r(e,["urlContextMetadata"],nE(p)),e}function oE(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const l=s(n,["args"]);l!=null&&r(e,["args"],l);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function lE(n){const e={},o=s(n,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>oE(c))),r(e,["functionCalls"],l)}return e}function aE(n){const e={},o=s(n,["ids"]);return o!=null&&r(e,["ids"],o),e}function ja(n){const e={},o=s(n,["modality"]);o!=null&&r(e,["modality"],o);const l=s(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function sE(n){const e={},o=s(n,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const l=s(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const c=s(n,["responseTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const f=s(n,["toolUsePromptTokenCount"]);f!=null&&r(e,["toolUsePromptTokenCount"],f);const m=s(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const g=s(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=s(n,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(_=>ja(_))),r(e,["promptTokensDetails"],C)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(_=>ja(_))),r(e,["cacheTokensDetails"],C)}const v=s(n,["responseTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(_=>ja(_))),r(e,["responseTokensDetails"],C)}const S=s(n,["toolUsePromptTokensDetails"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(_=>ja(_))),r(e,["toolUsePromptTokensDetails"],C)}return e}function rE(n){const e={},o=s(n,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function uE(n){const e={},o=s(n,["newHandle"]);o!=null&&r(e,["newHandle"],o);const l=s(n,["resumable"]);l!=null&&r(e,["resumable"],l);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function cE(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],XC());const l=s(n,["serverContent"]);l!=null&&r(e,["serverContent"],iE(l));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],lE(c));const f=s(n,["toolCallCancellation"]);f!=null&&r(e,["toolCallCancellation"],aE(f));const m=s(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],sE(m));const g=s(n,["goAway"]);g!=null&&r(e,["goAway"],rE(g));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],uE(y)),e}function fE(){return{}}function dE(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function pE(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>dE(c))),r(e,["weightedPrompts"],l)}return e}function mE(n){const e={},o=s(n,["temperature"]);o!=null&&r(e,["temperature"],o);const l=s(n,["topK"]);l!=null&&r(e,["topK"],l);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const f=s(n,["guidance"]);f!=null&&r(e,["guidance"],f);const m=s(n,["bpm"]);m!=null&&r(e,["bpm"],m);const g=s(n,["density"]);g!=null&&r(e,["density"],g);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=s(n,["scale"]);p!=null&&r(e,["scale"],p);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const S=s(n,["muteDrums"]);S!=null&&r(e,["muteDrums"],S);const C=s(n,["onlyBassAndDrums"]);C!=null&&r(e,["onlyBassAndDrums"],C);const _=s(n,["musicGenerationMode"]);return _!=null&&r(e,["musicGenerationMode"],_),e}function hE(n){const e={},o=s(n,["clientContent"]);o!=null&&r(e,["clientContent"],pE(o));const l=s(n,["musicGenerationConfig"]);return l!=null&&r(e,["musicGenerationConfig"],mE(l)),e}function gE(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);l!=null&&r(e,["mimeType"],l);const c=s(n,["sourceMetadata"]);return c!=null&&r(e,["sourceMetadata"],hE(c)),e}function yE(n){const e={},o=s(n,["audioChunks"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>gE(c))),r(e,["audioChunks"],l)}return e}function vE(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["filteredReason"]);return l!=null&&r(e,["filteredReason"],l),e}function TE(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],fE());const l=s(n,["serverContent"]);l!=null&&r(e,["serverContent"],yE(l));const c=s(n,["filteredPrompt"]);return c!=null&&r(e,["filteredPrompt"],vE(c)),e}function SE(n){const e={},o=s(n,["sessionId"]);return o!=null&&r(e,["sessionId"],o),e}function CE(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function EE(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function AE(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function _E(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],CE(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],EE(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],AE(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function xE(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>_E(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function fh(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function ME(n){const e={},o=s(n,["modelTurn"]);o!=null&&r(e,["modelTurn"],xE(o));const l=s(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const f=s(n,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const m=s(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const g=s(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],fh(g));const y=s(n,["outputTranscription"]);return y!=null&&r(e,["outputTranscription"],fh(y)),e}function RE(n){const e={},o=s(n,["args"]);o!=null&&r(e,["args"],o);const l=s(n,["name"]);return l!=null&&r(e,["name"],l),e}function NE(n){const e={},o=s(n,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>RE(c))),r(e,["functionCalls"],l)}return e}function wE(n){const e={},o=s(n,["ids"]);return o!=null&&r(e,["ids"],o),e}function es(n){const e={},o=s(n,["modality"]);o!=null&&r(e,["modality"],o);const l=s(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function bE(n){const e={},o=s(n,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const l=s(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const c=s(n,["candidatesTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const f=s(n,["toolUsePromptTokenCount"]);f!=null&&r(e,["toolUsePromptTokenCount"],f);const m=s(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const g=s(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=s(n,["promptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(N=>es(N))),r(e,["promptTokensDetails"],_)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(N=>es(N))),r(e,["cacheTokensDetails"],_)}const v=s(n,["candidatesTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(N=>es(N))),r(e,["responseTokensDetails"],_)}const S=s(n,["toolUsePromptTokensDetails"]);if(S!=null){let _=S;Array.isArray(_)&&(_=_.map(N=>es(N))),r(e,["toolUsePromptTokensDetails"],_)}const C=s(n,["trafficType"]);return C!=null&&r(e,["trafficType"],C),e}function DE(n){const e={},o=s(n,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function kE(n){const e={},o=s(n,["newHandle"]);o!=null&&r(e,["newHandle"],o);const l=s(n,["resumable"]);l!=null&&r(e,["resumable"],l);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function IE(n){const e={},o=s(n,["setupComplete"]);o!=null&&r(e,["setupComplete"],SE(o));const l=s(n,["serverContent"]);l!=null&&r(e,["serverContent"],ME(l));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],NE(c));const f=s(n,["toolCallCancellation"]);f!=null&&r(e,["toolCallCancellation"],wE(f));const m=s(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],bE(m));const g=s(n,["goAway"]);g!=null&&r(e,["goAway"],DE(g));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],kE(y)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UE(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function LE(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function VE(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function PE(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],UE(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],LE(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],VE(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function ms(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>PE(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function GE(n){const e={},o=s(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=s(n,["default"]);l!=null&&r(e,["default"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const f=s(n,["enum"]);f!=null&&r(e,["enum"],f);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const S=s(n,["maxProperties"]);S!=null&&r(e,["maxProperties"],S);const C=s(n,["maximum"]);C!=null&&r(e,["maximum"],C);const _=s(n,["minItems"]);_!=null&&r(e,["minItems"],_);const N=s(n,["minLength"]);N!=null&&r(e,["minLength"],N);const U=s(n,["minProperties"]);U!=null&&r(e,["minProperties"],U);const z=s(n,["minimum"]);z!=null&&r(e,["minimum"],z);const Q=s(n,["nullable"]);Q!=null&&r(e,["nullable"],Q);const $=s(n,["pattern"]);$!=null&&r(e,["pattern"],$);const F=s(n,["properties"]);F!=null&&r(e,["properties"],F);const j=s(n,["propertyOrdering"]);j!=null&&r(e,["propertyOrdering"],j);const O=s(n,["required"]);O!=null&&r(e,["required"],O);const ue=s(n,["title"]);ue!=null&&r(e,["title"],ue);const W=s(n,["type"]);return W!=null&&r(e,["type"],W),e}function qE(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["category"]);o!=null&&r(e,["category"],o);const l=s(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function HE(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const f=s(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function zE(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function BE(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],zE(o)),e}function OE(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function YE(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],OE(o)),e}function FE(){return{}}function $E(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>HE(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],BE(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],YE(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],FE());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function JE(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function KE(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function XE(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],KE(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function QE(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],JE(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],XE(l)),e}function ZE(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function lg(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],ZE(o)),e}function WE(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],lg(l)),e}function jE(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>WE(c))),r(e,["speakerVoiceConfigs"],l)}return e}function eA(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],lg(o));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],jE(l));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function tA(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=s(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function nA(n,e,o){const l={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],ms(At(c)));const f=s(e,["temperature"]);f!=null&&r(l,["temperature"],f);const m=s(e,["topP"]);m!=null&&r(l,["topP"],m);const g=s(e,["topK"]);g!=null&&r(l,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(l,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const S=s(e,["responseLogprobs"]);S!=null&&r(l,["responseLogprobs"],S);const C=s(e,["logprobs"]);C!=null&&r(l,["logprobs"],C);const _=s(e,["presencePenalty"]);_!=null&&r(l,["presencePenalty"],_);const N=s(e,["frequencyPenalty"]);N!=null&&r(l,["frequencyPenalty"],N);const U=s(e,["seed"]);U!=null&&r(l,["seed"],U);const z=s(e,["responseMimeType"]);z!=null&&r(l,["responseMimeType"],z);const Q=s(e,["responseSchema"]);Q!=null&&r(l,["responseSchema"],GE(ec(Q)));const $=s(e,["responseJsonSchema"]);if($!=null&&r(l,["responseJsonSchema"],$),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=s(e,["safetySettings"]);if(o!==void 0&&F!=null){let ee=F;Array.isArray(ee)&&(ee=ee.map(Ie=>qE(Ie))),r(o,["safetySettings"],ee)}const j=s(e,["tools"]);if(o!==void 0&&j!=null){let ee=xo(j);Array.isArray(ee)&&(ee=ee.map(Ie=>$E(_o(Ie)))),r(o,["tools"],ee)}const O=s(e,["toolConfig"]);if(o!==void 0&&O!=null&&r(o,["toolConfig"],QE(O)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ue=s(e,["cachedContent"]);o!==void 0&&ue!=null&&r(o,["cachedContent"],Ln(n,ue));const W=s(e,["responseModalities"]);W!=null&&r(l,["responseModalities"],W);const _e=s(e,["mediaResolution"]);_e!=null&&r(l,["mediaResolution"],_e);const se=s(e,["speechConfig"]);if(se!=null&&r(l,["speechConfig"],eA(tc(se))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Se=s(e,["thinkingConfig"]);return Se!=null&&r(l,["thinkingConfig"],tA(Se)),l}function dh(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=s(e,["contents"]);if(c!=null){let m=tn(c);Array.isArray(m)&&(m=m.map(g=>ms(g))),r(o,["contents"],m)}const f=s(e,["config"]);return f!=null&&r(o,["generationConfig"],nA(n,f,o)),o}function iA(n,e){const o={},l=s(n,["taskType"]);e!==void 0&&l!=null&&r(e,["requests[]","taskType"],l);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const f=s(n,["outputDimensionality"]);if(e!==void 0&&f!=null&&r(e,["requests[]","outputDimensionality"],f),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function oA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=s(e,["contents"]);c!=null&&r(o,["requests[]","content"],Bh(n,c));const f=s(e,["config"]);f!=null&&r(o,["config"],iA(f,o));const m=s(e,["model"]);return m!==void 0&&r(o,["requests[]","model"],De(n,m)),o}function lA(n,e){const o={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=s(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=s(n,["aspectRatio"]);e!==void 0&&c!=null&&r(e,["parameters","aspectRatio"],c);const f=s(n,["guidanceScale"]);if(e!==void 0&&f!=null&&r(e,["parameters","guidanceScale"],f),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=s(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&r(e,["parameters","safetySetting"],m);const g=s(n,["personGeneration"]);e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g);const y=s(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&r(e,["parameters","includeSafetyAttributes"],y);const p=s(n,["includeRaiReason"]);e!==void 0&&p!=null&&r(e,["parameters","includeRaiReason"],p);const v=s(n,["language"]);e!==void 0&&v!=null&&r(e,["parameters","language"],v);const S=s(n,["outputMimeType"]);e!==void 0&&S!=null&&r(e,["parameters","outputOptions","mimeType"],S);const C=s(n,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&r(e,["parameters","outputOptions","compressionQuality"],C),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const _=s(n,["imageSize"]);if(e!==void 0&&_!=null&&r(e,["parameters","sampleImageSize"],_),s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function aA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=s(e,["config"]);return f!=null&&r(o,["config"],lA(f,o)),o}function sA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],De(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function rA(n,e,o){const l={},c=s(e,["pageSize"]);o!==void 0&&c!=null&&r(o,["_query","pageSize"],c);const f=s(e,["pageToken"]);o!==void 0&&f!=null&&r(o,["_query","pageToken"],f);const m=s(e,["filter"]);o!==void 0&&m!=null&&r(o,["_query","filter"],m);const g=s(e,["queryBase"]);return o!==void 0&&g!=null&&r(o,["_url","models_url"],Fh(n,g)),l}function uA(n,e){const o={},l=s(e,["config"]);return l!=null&&r(o,["config"],rA(n,l,o)),o}function cA(n,e){const o={},l=s(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const f=s(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&r(e,["defaultCheckpointId"],f),o}function fA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],De(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],cA(c,o)),o}function dA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],De(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function pA(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function mA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=s(e,["contents"]);if(c!=null){let m=tn(c);Array.isArray(m)&&(m=m.map(g=>ms(g))),r(o,["contents"],m)}const f=s(e,["config"]);return f!=null&&r(o,["config"],pA(f)),o}function hA(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(n,["imageBytes"]);o!=null&&r(e,["bytesBase64Encoded"],Ni(o));const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function gA(n,e){const o={},l=s(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=s(n,["durationSeconds"]);if(e!==void 0&&c!=null&&r(e,["parameters","durationSeconds"],c),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=s(n,["aspectRatio"]);if(e!==void 0&&f!=null&&r(e,["parameters","aspectRatio"],f),s(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const m=s(n,["personGeneration"]);if(e!==void 0&&m!=null&&r(e,["parameters","personGeneration"],m),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=s(n,["negativePrompt"]);e!==void 0&&g!=null&&r(e,["parameters","negativePrompt"],g);const y=s(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&r(e,["parameters","enhancePrompt"],y),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function yA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=s(e,["image"]);if(f!=null&&r(o,["instances[0]","image"],hA(f)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=s(e,["config"]);return m!=null&&r(o,["config"],gA(m,o)),o}function vA(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function TA(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function SA(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function CA(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],vA(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],TA(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],SA(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function Ro(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>CA(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function EA(n){const e={},o=s(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=s(n,["default"]);l!=null&&r(e,["default"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const f=s(n,["enum"]);f!=null&&r(e,["enum"],f);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const S=s(n,["maxProperties"]);S!=null&&r(e,["maxProperties"],S);const C=s(n,["maximum"]);C!=null&&r(e,["maximum"],C);const _=s(n,["minItems"]);_!=null&&r(e,["minItems"],_);const N=s(n,["minLength"]);N!=null&&r(e,["minLength"],N);const U=s(n,["minProperties"]);U!=null&&r(e,["minProperties"],U);const z=s(n,["minimum"]);z!=null&&r(e,["minimum"],z);const Q=s(n,["nullable"]);Q!=null&&r(e,["nullable"],Q);const $=s(n,["pattern"]);$!=null&&r(e,["pattern"],$);const F=s(n,["properties"]);F!=null&&r(e,["properties"],F);const j=s(n,["propertyOrdering"]);j!=null&&r(e,["propertyOrdering"],j);const O=s(n,["required"]);O!=null&&r(e,["required"],O);const ue=s(n,["title"]);ue!=null&&r(e,["title"],ue);const W=s(n,["type"]);return W!=null&&r(e,["type"],W),e}function AA(n){const e={},o=s(n,["featureSelectionPreference"]);return o!=null&&r(e,["featureSelectionPreference"],o),e}function _A(n){const e={},o=s(n,["method"]);o!=null&&r(e,["method"],o);const l=s(n,["category"]);l!=null&&r(e,["category"],l);const c=s(n,["threshold"]);return c!=null&&r(e,["threshold"],c),e}function xA(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&r(e,["description"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const f=s(n,["parametersJsonSchema"]);f!=null&&r(e,["parametersJsonSchema"],f);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function MA(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function RA(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],MA(o)),e}function NA(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function wA(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],NA(o)),e}function bA(){return{}}function DA(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function kA(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],DA(o));const l=s(n,["authType"]);l!=null&&r(e,["authType"],l);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const f=s(n,["httpBasicAuthConfig"]);f!=null&&r(e,["httpBasicAuthConfig"],f);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function IA(n){const e={},o=s(n,["authConfig"]);return o!=null&&r(e,["authConfig"],kA(o)),e}function UA(){return{}}function ag(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(C=>xA(C))),r(e,["functionDeclarations"],S)}const l=s(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],RA(c));const f=s(n,["googleSearchRetrieval"]);f!=null&&r(e,["googleSearchRetrieval"],wA(f)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],bA());const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],IA(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],UA());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function LA(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function VA(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function PA(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],VA(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function GA(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],LA(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],PA(l)),e}function qA(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function HA(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],qA(o)),e}function zA(n){const e={},o=s(n,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],HA(o)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function BA(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=s(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function OA(n,e,o){const l={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],Ro(At(c)));const f=s(e,["temperature"]);f!=null&&r(l,["temperature"],f);const m=s(e,["topP"]);m!=null&&r(l,["topP"],m);const g=s(e,["topK"]);g!=null&&r(l,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(l,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const S=s(e,["responseLogprobs"]);S!=null&&r(l,["responseLogprobs"],S);const C=s(e,["logprobs"]);C!=null&&r(l,["logprobs"],C);const _=s(e,["presencePenalty"]);_!=null&&r(l,["presencePenalty"],_);const N=s(e,["frequencyPenalty"]);N!=null&&r(l,["frequencyPenalty"],N);const U=s(e,["seed"]);U!=null&&r(l,["seed"],U);const z=s(e,["responseMimeType"]);z!=null&&r(l,["responseMimeType"],z);const Q=s(e,["responseSchema"]);Q!=null&&r(l,["responseSchema"],EA(ec(Q)));const $=s(e,["responseJsonSchema"]);$!=null&&r(l,["responseJsonSchema"],$);const F=s(e,["routingConfig"]);F!=null&&r(l,["routingConfig"],F);const j=s(e,["modelSelectionConfig"]);j!=null&&r(l,["modelConfig"],AA(j));const O=s(e,["safetySettings"]);if(o!==void 0&&O!=null){let Ue=O;Array.isArray(Ue)&&(Ue=Ue.map(L=>_A(L))),r(o,["safetySettings"],Ue)}const ue=s(e,["tools"]);if(o!==void 0&&ue!=null){let Ue=xo(ue);Array.isArray(Ue)&&(Ue=Ue.map(L=>ag(_o(L)))),r(o,["tools"],Ue)}const W=s(e,["toolConfig"]);o!==void 0&&W!=null&&r(o,["toolConfig"],GA(W));const _e=s(e,["labels"]);o!==void 0&&_e!=null&&r(o,["labels"],_e);const se=s(e,["cachedContent"]);o!==void 0&&se!=null&&r(o,["cachedContent"],Ln(n,se));const Se=s(e,["responseModalities"]);Se!=null&&r(l,["responseModalities"],Se);const ee=s(e,["mediaResolution"]);ee!=null&&r(l,["mediaResolution"],ee);const Ie=s(e,["speechConfig"]);Ie!=null&&r(l,["speechConfig"],zA(tc(Ie)));const Lt=s(e,["audioTimestamp"]);Lt!=null&&r(l,["audioTimestamp"],Lt);const ht=s(e,["thinkingConfig"]);return ht!=null&&r(l,["thinkingConfig"],BA(ht)),l}function ph(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=s(e,["contents"]);if(c!=null){let m=tn(c);Array.isArray(m)&&(m=m.map(g=>Ro(g))),r(o,["contents"],m)}const f=s(e,["config"]);return f!=null&&r(o,["generationConfig"],OA(n,f,o)),o}function YA(n,e){const o={},l=s(n,["taskType"]);e!==void 0&&l!=null&&r(e,["instances[]","task_type"],l);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["instances[]","title"],c);const f=s(n,["outputDimensionality"]);e!==void 0&&f!=null&&r(e,["parameters","outputDimensionality"],f);const m=s(n,["mimeType"]);e!==void 0&&m!=null&&r(e,["instances[]","mimeType"],m);const g=s(n,["autoTruncate"]);return e!==void 0&&g!=null&&r(e,["parameters","autoTruncate"],g),o}function FA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=s(e,["contents"]);c!=null&&r(o,["instances[]","content"],Bh(n,c));const f=s(e,["config"]);return f!=null&&r(o,["config"],YA(f,o)),o}function $A(n,e){const o={},l=s(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const f=s(n,["numberOfImages"]);e!==void 0&&f!=null&&r(e,["parameters","sampleCount"],f);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const g=s(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const S=s(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&r(e,["parameters","includeSafetyAttributes"],S);const C=s(n,["includeRaiReason"]);e!==void 0&&C!=null&&r(e,["parameters","includeRaiReason"],C);const _=s(n,["language"]);e!==void 0&&_!=null&&r(e,["parameters","language"],_);const N=s(n,["outputMimeType"]);e!==void 0&&N!=null&&r(e,["parameters","outputOptions","mimeType"],N);const U=s(n,["outputCompressionQuality"]);e!==void 0&&U!=null&&r(e,["parameters","outputOptions","compressionQuality"],U);const z=s(n,["addWatermark"]);e!==void 0&&z!=null&&r(e,["parameters","addWatermark"],z);const Q=s(n,["imageSize"]);e!==void 0&&Q!=null&&r(e,["parameters","sampleImageSize"],Q);const $=s(n,["enhancePrompt"]);return e!==void 0&&$!=null&&r(e,["parameters","enhancePrompt"],$),o}function JA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=s(e,["config"]);return f!=null&&r(o,["config"],$A(f,o)),o}function No(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const l=s(n,["imageBytes"]);l!=null&&r(e,["bytesBase64Encoded"],Ni(l));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function KA(n){const e={},o=s(n,["maskMode"]);o!=null&&r(e,["maskMode"],o);const l=s(n,["segmentationClasses"]);l!=null&&r(e,["maskClasses"],l);const c=s(n,["maskDilation"]);return c!=null&&r(e,["dilation"],c),e}function XA(n){const e={},o=s(n,["controlType"]);o!=null&&r(e,["controlType"],o);const l=s(n,["enableControlImageComputation"]);return l!=null&&r(e,["computeControl"],l),e}function QA(n){const e={},o=s(n,["styleDescription"]);return o!=null&&r(e,["styleDescription"],o),e}function ZA(n){const e={},o=s(n,["subjectType"]);o!=null&&r(e,["subjectType"],o);const l=s(n,["subjectDescription"]);return l!=null&&r(e,["subjectDescription"],l),e}function WA(n){const e={},o=s(n,["referenceImage"]);o!=null&&r(e,["referenceImage"],No(o));const l=s(n,["referenceId"]);l!=null&&r(e,["referenceId"],l);const c=s(n,["referenceType"]);c!=null&&r(e,["referenceType"],c);const f=s(n,["maskImageConfig"]);f!=null&&r(e,["maskImageConfig"],KA(f));const m=s(n,["controlImageConfig"]);m!=null&&r(e,["controlImageConfig"],XA(m));const g=s(n,["styleImageConfig"]);g!=null&&r(e,["styleImageConfig"],QA(g));const y=s(n,["subjectImageConfig"]);return y!=null&&r(e,["subjectImageConfig"],ZA(y)),e}function jA(n,e){const o={},l=s(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const f=s(n,["numberOfImages"]);e!==void 0&&f!=null&&r(e,["parameters","sampleCount"],f);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const g=s(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const S=s(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&r(e,["parameters","includeSafetyAttributes"],S);const C=s(n,["includeRaiReason"]);e!==void 0&&C!=null&&r(e,["parameters","includeRaiReason"],C);const _=s(n,["language"]);e!==void 0&&_!=null&&r(e,["parameters","language"],_);const N=s(n,["outputMimeType"]);e!==void 0&&N!=null&&r(e,["parameters","outputOptions","mimeType"],N);const U=s(n,["outputCompressionQuality"]);e!==void 0&&U!=null&&r(e,["parameters","outputOptions","compressionQuality"],U);const z=s(n,["addWatermark"]);e!==void 0&&z!=null&&r(e,["parameters","addWatermark"],z);const Q=s(n,["editMode"]);e!==void 0&&Q!=null&&r(e,["parameters","editMode"],Q);const $=s(n,["baseSteps"]);return e!==void 0&&$!=null&&r(e,["parameters","editConfig","baseSteps"],$),o}function e_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=s(e,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>WA(y))),r(o,["instances[0]","referenceImages"],g)}const m=s(e,["config"]);return m!=null&&r(o,["config"],jA(m,o)),o}function t_(n,e){const o={},l=s(n,["includeRaiReason"]);e!==void 0&&l!=null&&r(e,["parameters","includeRaiReason"],l);const c=s(n,["outputMimeType"]);e!==void 0&&c!=null&&r(e,["parameters","outputOptions","mimeType"],c);const f=s(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&r(e,["parameters","outputOptions","compressionQuality"],f);const m=s(n,["enhanceInputImage"]);e!==void 0&&m!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],m);const g=s(n,["imagePreservationFactor"]);e!==void 0&&g!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const y=s(n,["numberOfImages"]);e!==void 0&&y!=null&&r(e,["parameters","sampleCount"],y);const p=s(n,["mode"]);return e!==void 0&&p!=null&&r(e,["parameters","mode"],p),o}function n_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=s(e,["image"]);c!=null&&r(o,["instances[0]","image"],No(c));const f=s(e,["upscaleFactor"]);f!=null&&r(o,["parameters","upscaleConfig","upscaleFactor"],f);const m=s(e,["config"]);return m!=null&&r(o,["config"],t_(m,o)),o}function i_(n){const e={},o=s(n,["productImage"]);return o!=null&&r(e,["image"],No(o)),e}function o_(n,e){const o={},l=s(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const c=s(n,["personImage"]);e!==void 0&&c!=null&&r(e,["instances[0]","personImage","image"],No(c));const f=s(n,["productImages"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>i_(g))),r(e,["instances[0]","productImages"],m)}return o}function l_(n,e){const o={},l=s(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=s(n,["baseSteps"]);e!==void 0&&c!=null&&r(e,["parameters","editConfig","baseSteps"],c);const f=s(n,["outputGcsUri"]);e!==void 0&&f!=null&&r(e,["parameters","storageUri"],f);const m=s(n,["seed"]);e!==void 0&&m!=null&&r(e,["parameters","seed"],m);const g=s(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&r(e,["parameters","safetySetting"],g);const y=s(n,["personGeneration"]);e!==void 0&&y!=null&&r(e,["parameters","personGeneration"],y);const p=s(n,["outputMimeType"]);e!==void 0&&p!=null&&r(e,["parameters","outputOptions","mimeType"],p);const v=s(n,["outputCompressionQuality"]);e!==void 0&&v!=null&&r(e,["parameters","outputOptions","compressionQuality"],v);const S=s(n,["enhancePrompt"]);return e!==void 0&&S!=null&&r(e,["parameters","enhancePrompt"],S),o}function a_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=s(e,["source"]);c!=null&&r(o,["config"],o_(c,o));const f=s(e,["config"]);return f!=null&&r(o,["config"],l_(f,o)),o}function s_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],De(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function r_(n,e,o){const l={},c=s(e,["pageSize"]);o!==void 0&&c!=null&&r(o,["_query","pageSize"],c);const f=s(e,["pageToken"]);o!==void 0&&f!=null&&r(o,["_query","pageToken"],f);const m=s(e,["filter"]);o!==void 0&&m!=null&&r(o,["_query","filter"],m);const g=s(e,["queryBase"]);return o!==void 0&&g!=null&&r(o,["_url","models_url"],Fh(n,g)),l}function u_(n,e){const o={},l=s(e,["config"]);return l!=null&&r(o,["config"],r_(n,l,o)),o}function c_(n,e){const o={},l=s(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const f=s(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&r(e,["defaultCheckpointId"],f),o}function f_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c_(c,o)),o}function d_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],De(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function p_(n,e){const o={},l=s(n,["systemInstruction"]);e!==void 0&&l!=null&&r(e,["systemInstruction"],Ro(At(l)));const c=s(n,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>ag(g))),r(e,["tools"],m)}const f=s(n,["generationConfig"]);return e!==void 0&&f!=null&&r(e,["generationConfig"],f),o}function m_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=s(e,["contents"]);if(c!=null){let m=tn(c);Array.isArray(m)&&(m=m.map(g=>Ro(g))),r(o,["contents"],m)}const f=s(e,["config"]);return f!=null&&r(o,["config"],p_(f,o)),o}function h_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=s(e,["contents"]);if(c!=null){let m=tn(c);Array.isArray(m)&&(m=m.map(g=>Ro(g))),r(o,["contents"],m)}const f=s(e,["config"]);return f!=null&&r(o,["config"],f),o}function g_(n){const e={},o=s(n,["uri"]);o!=null&&r(e,["gcsUri"],o);const l=s(n,["videoBytes"]);l!=null&&r(e,["bytesBase64Encoded"],Ni(l));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function y_(n,e){const o={},l=s(n,["numberOfVideos"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=s(n,["outputGcsUri"]);e!==void 0&&c!=null&&r(e,["parameters","storageUri"],c);const f=s(n,["fps"]);e!==void 0&&f!=null&&r(e,["parameters","fps"],f);const m=s(n,["durationSeconds"]);e!==void 0&&m!=null&&r(e,["parameters","durationSeconds"],m);const g=s(n,["seed"]);e!==void 0&&g!=null&&r(e,["parameters","seed"],g);const y=s(n,["aspectRatio"]);e!==void 0&&y!=null&&r(e,["parameters","aspectRatio"],y);const p=s(n,["resolution"]);e!==void 0&&p!=null&&r(e,["parameters","resolution"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const S=s(n,["pubsubTopic"]);e!==void 0&&S!=null&&r(e,["parameters","pubsubTopic"],S);const C=s(n,["negativePrompt"]);e!==void 0&&C!=null&&r(e,["parameters","negativePrompt"],C);const _=s(n,["enhancePrompt"]);e!==void 0&&_!=null&&r(e,["parameters","enhancePrompt"],_);const N=s(n,["generateAudio"]);e!==void 0&&N!=null&&r(e,["parameters","generateAudio"],N);const U=s(n,["lastFrame"]);e!==void 0&&U!=null&&r(e,["instances[0]","lastFrame"],No(U));const z=s(n,["compressionQuality"]);return e!==void 0&&z!=null&&r(e,["parameters","compressionQuality"],z),o}function v_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=s(e,["image"]);f!=null&&r(o,["instances[0]","image"],No(f));const m=s(e,["video"]);m!=null&&r(o,["instances[0]","video"],g_(m));const g=s(e,["config"]);return g!=null&&r(o,["config"],y_(g,o)),o}function T_(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function S_(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function C_(n){const e={},o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function E_(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],T_(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],S_(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],C_(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function A_(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>E_(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function __(n){const e={},o=s(n,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function x_(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function M_(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>x_(c))),r(e,["urlMetadata"],l)}return e}function R_(n){const e={},o=s(n,["content"]);o!=null&&r(e,["content"],A_(o));const l=s(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],__(l));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const f=s(n,["finishReason"]);f!=null&&r(e,["finishReason"],f);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],M_(m));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const S=s(n,["safetyRatings"]);return S!=null&&r(e,["safetyRatings"],S),e}function mh(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>R_(p))),r(e,["candidates"],y)}const c=s(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const f=s(n,["promptFeedback"]);f!=null&&r(e,["promptFeedback"],f);const m=s(n,["responseId"]);m!=null&&r(e,["responseId"],m);const g=s(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function N_(n){const e={},o=s(n,["values"]);return o!=null&&r(e,["values"],o),e}function w_(){return{}}function b_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["embeddings"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>N_(m))),r(e,["embeddings"],f)}return s(n,["metadata"])!=null&&r(e,["metadata"],w_()),e}function D_(n){const e={},o=s(n,["bytesBase64Encoded"]);o!=null&&r(e,["imageBytes"],Ni(o));const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function sg(n){const e={},o=s(n,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const l=s(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function k_(n){const e={},o=s(n,["_self"]);o!=null&&r(e,["image"],D_(o));const l=s(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const c=s(n,["_self"]);return c!=null&&r(e,["safetyAttributes"],sg(c)),e}function I_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>k_(m))),r(e,["generatedImages"],f)}const c=s(n,["positivePromptSafetyAttributes"]);return c!=null&&r(e,["positivePromptSafetyAttributes"],sg(c)),e}function U_(n){const e={},o=s(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=s(n,["createTime"]);l!=null&&r(e,["createTime"],l);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function Fu(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const f=s(n,["version"]);f!=null&&r(e,["version"],f);const m=s(n,["_self"]);m!=null&&r(e,["tunedModelInfo"],U_(m));const g=s(n,["inputTokenLimit"]);g!=null&&r(e,["inputTokenLimit"],g);const y=s(n,["outputTokenLimit"]);y!=null&&r(e,["outputTokenLimit"],y);const p=s(n,["supportedGenerationMethods"]);return p!=null&&r(e,["supportedActions"],p),e}function L_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["_self"]);if(c!=null){let f=$h(c);Array.isArray(f)&&(f=f.map(m=>Fu(m))),r(e,["models"],f)}return e}function V_(){return{}}function P_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["totalTokens"]);l!=null&&r(e,["totalTokens"],l);const c=s(n,["cachedContentTokenCount"]);return c!=null&&r(e,["cachedContentTokenCount"],c),e}function G_(n){const e={},o=s(n,["video","uri"]);o!=null&&r(e,["uri"],o);const l=s(n,["video","encodedVideo"]);l!=null&&r(e,["videoBytes"],Ni(l));const c=s(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function q_(n){const e={},o=s(n,["_self"]);return o!=null&&r(e,["video"],G_(o)),e}function H_(n){const e={},o=s(n,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>q_(m))),r(e,["generatedVideos"],f)}const l=s(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function z_(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const f=s(n,["error"]);f!=null&&r(e,["error"],f);const m=s(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],H_(m)),e}function B_(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function O_(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Y_(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function F_(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],B_(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],O_(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],Y_(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function $_(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>F_(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function J_(n){const e={},o=s(n,["citations"]);return o!=null&&r(e,["citations"],o),e}function K_(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function X_(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>K_(c))),r(e,["urlMetadata"],l)}return e}function Q_(n){const e={},o=s(n,["content"]);o!=null&&r(e,["content"],$_(o));const l=s(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],J_(l));const c=s(n,["finishMessage"]);c!=null&&r(e,["finishMessage"],c);const f=s(n,["finishReason"]);f!=null&&r(e,["finishReason"],f);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],X_(m));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const S=s(n,["safetyRatings"]);return S!=null&&r(e,["safetyRatings"],S),e}function hh(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["candidates"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>Q_(v))),r(e,["candidates"],p)}const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const f=s(n,["modelVersion"]);f!=null&&r(e,["modelVersion"],f);const m=s(n,["promptFeedback"]);m!=null&&r(e,["promptFeedback"],m);const g=s(n,["responseId"]);g!=null&&r(e,["responseId"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function Z_(n){const e={},o=s(n,["truncated"]);o!=null&&r(e,["truncated"],o);const l=s(n,["token_count"]);return l!=null&&r(e,["tokenCount"],l),e}function W_(n){const e={},o=s(n,["values"]);o!=null&&r(e,["values"],o);const l=s(n,["statistics"]);return l!=null&&r(e,["statistics"],Z_(l)),e}function j_(n){const e={},o=s(n,["billableCharacterCount"]);return o!=null&&r(e,["billableCharacterCount"],o),e}function ex(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions[]","embeddings"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>W_(m))),r(e,["embeddings"],f)}const c=s(n,["metadata"]);return c!=null&&r(e,["metadata"],j_(c)),e}function tx(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const l=s(n,["bytesBase64Encoded"]);l!=null&&r(e,["imageBytes"],Ni(l));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function rg(n){const e={},o=s(n,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const l=s(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function hs(n){const e={},o=s(n,["_self"]);o!=null&&r(e,["image"],tx(o));const l=s(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const c=s(n,["_self"]);c!=null&&r(e,["safetyAttributes"],rg(c));const f=s(n,["prompt"]);return f!=null&&r(e,["enhancedPrompt"],f),e}function nx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>hs(m))),r(e,["generatedImages"],f)}const c=s(n,["positivePromptSafetyAttributes"]);return c!=null&&r(e,["positivePromptSafetyAttributes"],rg(c)),e}function ix(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>hs(f))),r(e,["generatedImages"],c)}return e}function ox(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>hs(f))),r(e,["generatedImages"],c)}return e}function lx(n){const e={},o=s(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>hs(c))),r(e,["generatedImages"],l)}return e}function ax(n){const e={},o=s(n,["endpoint"]);o!=null&&r(e,["name"],o);const l=s(n,["deployedModelId"]);return l!=null&&r(e,["deployedModelId"],l),e}function sx(n){const e={},o=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&r(e,["baseModel"],o);const l=s(n,["createTime"]);l!=null&&r(e,["createTime"],l);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function rx(n){const e={},o=s(n,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const l=s(n,["epoch"]);l!=null&&r(e,["epoch"],l);const c=s(n,["step"]);return c!=null&&r(e,["step"],c),e}function $u(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const f=s(n,["versionId"]);f!=null&&r(e,["version"],f);const m=s(n,["deployedModels"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(C=>ax(C))),r(e,["endpoints"],S)}const g=s(n,["labels"]);g!=null&&r(e,["labels"],g);const y=s(n,["_self"]);y!=null&&r(e,["tunedModelInfo"],sx(y));const p=s(n,["defaultCheckpointId"]);p!=null&&r(e,["defaultCheckpointId"],p);const v=s(n,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(C=>rx(C))),r(e,["checkpoints"],S)}return e}function ux(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["_self"]);if(c!=null){let f=$h(c);Array.isArray(f)&&(f=f.map(m=>$u(m))),r(e,["models"],f)}return e}function cx(){return{}}function fx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["totalTokens"]);return l!=null&&r(e,["totalTokens"],l),e}function dx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["tokensInfo"]);return l!=null&&r(e,["tokensInfo"],l),e}function px(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["uri"],o);const l=s(n,["bytesBase64Encoded"]);l!=null&&r(e,["videoBytes"],Ni(l));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function mx(n){const e={},o=s(n,["_self"]);return o!=null&&r(e,["video"],px(o)),e}function hx(n){const e={},o=s(n,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>mx(m))),r(e,["generatedVideos"],f)}const l=s(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function gx(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const f=s(n,["error"]);f!=null&&r(e,["error"],f);const m=s(n,["response"]);return m!=null&&r(e,["response"],hx(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yx="Content-Type",vx="X-Server-Timeout",Tx="User-Agent",Ju="x-goog-api-client",Sx="1.13.0",Cx=`google-genai-sdk/${Sx}`,Ex="v1beta1",Ax="v1beta",gh=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class _x{constructor(e){var o,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Ex,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:Ax,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,l){const c=[this.getRequestUrlInternal(o)];return l&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,l);if(e.queryParams)for(const[m,g]of Object.entries(e.queryParams))c.searchParams.append(m,String(g));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,e.abortSignal),this.unaryApiCall(c,f,e.httpMethod)}patchHttpOptions(e,o){const l=JSON.parse(JSON.stringify(e));for(const[c,f]of Object.entries(o))typeof f=="object"?l[c]=Object.assign(Object.assign({},l[c]),f):f!==void 0&&(l[c]=f);return l}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,l);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,e.abortSignal),this.streamApiCall(c,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,l){if(o&&o.timeout||l){const c=new AbortController,f=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const m=setTimeout(()=>c.abort(),o.timeout);m&&typeof m.unref=="function"&&m.unref()}l&&l.addEventListener("abort",()=>{c.abort()}),e.signal=f}return o&&o.extraBody!==null&&xx(e,o.extraBody),e.headers=await this.getHeadersInternal(o),e}async unaryApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async c=>(await yh(c),new qu(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async c=>(await yh(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var o;return Eo(this,arguments,function*(){const c=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),f=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield Fe(c.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=f.decode(y,{stream:!0});try{const S=JSON.parse(p);if("error"in S){const C=JSON.parse(JSON.stringify(S.error)),_=C.status,N=C.code,U=`got status: ${_}. ${JSON.stringify(S)}`;if(N>=400&&N<600)throw new ps({message:U,status:N})}}catch(S){if(S.name==="ApiError")throw S}m+=p;let v=m.match(gh);for(;v;){const S=v[1];try{const C=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Fe(new qu(C)),m=m.slice(v[0].length),v=m.match(gh)}catch(C){throw new Error(`exception parsing stream chunk ${S}. ${C}`)}}}}finally{c.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},o=Cx+" "+this.clientOptions.userAgentExtra;return e[Tx]=o,e[Ju]=o,e[yx]="application/json",e}async getHeadersInternal(e){const o=new Headers;if(e&&e.headers){for(const[l,c]of Object.entries(e.headers))o.append(l,c);e.timeout&&e.timeout>0&&o.append(vx,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o),o}async uploadFile(e,o){var l;const c={};o!=null&&(c.mimeType=o.mimeType,c.name=o.name,c.displayName=o.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const f=this.clientOptions.uploader,m=await f.stat(e);c.sizeBytes=String(m.size);const g=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=g;const y=await this.fetchUploadUrl(c,o);return f.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o){var l;let c={};o!=null&&o.httpOptions?c=o.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const f={file:e},m=await this.request({path:te("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:c});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(l=m==null?void 0:m.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function yh(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const c=JSON.stringify(l);throw o>=400&&o<600?new ps({message:c,status:o}):new Error(c)}}function xx(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const f=JSON.parse(n.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(f,m){const g=Object.assign({},f);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const p=m[y],v=g[y];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=l(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),g[y]=p)}return g}const c=l(o,e);n.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mx="mcp_used/unknown";let Rx=!1;function ug(n){for(const e of n)if(Nx(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Rx}function cg(n){var e;const o=(e=n[Ju])!==null&&e!==void 0?e:"";n[Ju]=(o+` ${Mx}`).trimStart()}function Nx(n){return n!==null&&typeof n=="object"&&n instanceof ic}function wx(n,e=100){return Eo(this,arguments,function*(){let l,c=0;for(;c<e;){const f=yield Fe(n.listTools({cursor:l}));for(const m of f.tools)yield yield Fe(m),c++;if(!f.nextCursor)break;l=f.nextCursor}})}class ic{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new ic(e,o)}async initialize(){var e,o,l,c;if(this.mcpTools.length>0)return;const f={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,Ll(wx(v))),p;p=await y.next(),e=p.done,!e;g=!0){c=p.value,g=!1;const S=c;m.push(S);const C=S.name;if(f[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);f[C]=v}}catch(S){o={error:S}}finally{try{!g&&!e&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),T0(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[l.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const m=await c.callTool({name:l.name,arguments:l.args},void 0,f);o.push({functionResponse:{name:l.name,response:m.isError?{error:m}:m}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bx(n,e,o){const l=new f0;let c;o.data instanceof Blob?c=JSON.parse(await o.data.text()):c=JSON.parse(o.data);const f=TE(c);Object.assign(l,f),e(l)}class Dx{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l}async connect(e){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),m=Ux(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let p=()=>{};const v=new Promise(F=>{p=F}),S=e.callbacks,C=function(){p({})},_=this.apiClient,N={onopen:C,onmessage:F=>{bx(_,S.onmessage,F)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(F){},onclose:(l=S==null?void 0:S.onclose)!==null&&l!==void 0?l:function(F){}},U=this.webSocketFactory.create(y,Ix(m),N);U.connect(),await v;const z=De(this.apiClient,e.model),Q=ig({model:z}),$=Yu({setup:Q});return U.send(JSON.stringify($)),new kx(U,this.apiClient)}}class kx{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=yC(e),l=og(o);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=vC(e),l=Yu(o);this.conn.send(JSON.stringify(l))}sendPlaybackControl(e){const o=Yu({playbackControl:e});this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(So.PLAY)}pause(){this.sendPlaybackControl(So.PAUSE)}stop(){this.sendPlaybackControl(So.STOP)}resetContext(){this.sendPlaybackControl(So.RESET_CONTEXT)}close(){this.conn.close()}}function Ix(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function Ux(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lx="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Vx(n,e,o){const l=new c0;let c;o.data instanceof Blob?c=await o.data.text():o.data instanceof ArrayBuffer?c=new TextDecoder().decode(o.data):c=o.data;const f=JSON.parse(c);if(n.isVertexAI()){const m=IE(f);Object.assign(l,m)}else{const m=cE(f);Object.assign(l,m)}e(l)}class Px{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l,this.music=new Dx(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,l,c,f,m,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&ug(e.config.tools)&&cg(S);const C=zx(S);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C);else{const se=this.apiClient.getApiKey();let Se="BidiGenerateContent",ee="key";se!=null&&se.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Se="BidiGenerateContentConstrained",ee="access_token"),v=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${Se}?${ee}=${se}`}let _=()=>{};const N=new Promise(se=>{_=se}),U=e.callbacks,z=function(){var se;(se=U==null?void 0:U.onopen)===null||se===void 0||se.call(U),_({})},Q=this.apiClient,$={onopen:z,onmessage:se=>{Vx(Q,U.onmessage,se)},onerror:(o=U==null?void 0:U.onerror)!==null&&o!==void 0?o:function(se){},onclose:(l=U==null?void 0:U.onclose)!==null&&l!==void 0?l:function(se){}},F=this.webSocketFactory.create(v,Hx(C),$);F.connect(),await N;let j=De(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&j.startsWith("publishers/")){const se=this.apiClient.getProject(),Se=this.apiClient.getLocation();j=`projects/${se}/locations/${Se}/`+j}let O={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ss.AUDIO]}:e.config.responseModalities=[ss.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ue=(g=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],W=[];for(const se of ue)if(this.isCallableTool(se)){const Se=se;W.push(await Se.tool())}else W.push(se);W.length>0&&(e.config.tools=W);const _e={model:j,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?O=FC(this.apiClient,_e):O=pC(this.apiClient,_e),delete O.config,F.send(JSON.stringify(O)),new qx(F,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Gx={turnComplete:!0};class qx{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=tn(o.turns),e.isVertexAI()?l=l.map(c=>Ro(c)):l=l.map(c=>ms(c))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const f of l){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(Lx)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},Gx),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:KC(e)}:o={realtimeInput:gC(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function Hx(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function zx(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vh=10;function Th(n){var e,o,l;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const m of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(Ao(m)){c=!0;break}if(!c)return!0;const f=(l=n==null?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function Ao(n){return"callTool"in n&&typeof n.callTool=="function"}function Bx(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>Ao(c)))!==null&&l!==void 0?l:!1}function Ox(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>!Ao(c)))!==null&&l!==void 0?l:!1}function Sh(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yx extends Ri{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var l,c,f,m,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!Bx(o)||Th(o.config))return await this.generateContentInternal(y);if(Ox(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const S=tn(y.contents),C=(f=(c=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&f!==void 0?f:vh;let _=0;for(;_<C&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const N=p.candidates[0].content,U=[];for(const z of(g=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(Ao(z)){const $=await z.callTool(p.functionCalls);U.push(...$)}_++,v={role:"user",parts:U},y.contents=tn(y.contents),y.contents.push(N),y.contents.push(v),Sh(y.config)&&(S.push(N),S.push(v))}return Sh(y.config)&&(p.automaticFunctionCallingHistory=S),p},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),Th(o.config)){const l=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(l)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var c;let f;const m=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((c=y==null?void 0:y.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:m.push(y);let g;return f?g={generatedImages:m,positivePromptSafetyAttributes:f,sdkHttpResponse:l.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:l.sdkHttpResponse},g}),this.list=async o=>{var l;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((l=m.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Pl(xi.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const c={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(c)},this.generateVideos=async o=>await this.generateVideosInternal(o)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,l,c;const f=(o=e.config)===null||o===void 0?void 0:o.tools;if(!f)return e;const m=await Promise.all(f.map(async y=>Ao(y)?await y.tool():y)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(g.config.tools=m,e.config&&e.config.tools&&ug(e.config.tools)){const y=(c=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&c!==void 0?c:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),cg(p),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return g}async initAfcToolsMap(e){var o,l,c;const f=new Map;for(const m of(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(Ao(m)){const g=m,y=await g.tool();for(const p of(c=y.functionDeclarations)!==null&&c!==void 0?c:[]){if(!p.name)throw new Error("Function declaration name is required.");if(f.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);f.set(p.name,g)}}return f}async processAfcStream(e){var o,l,c;const f=(c=(l=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&c!==void 0?c:vh;let m=!1,g=0;const y=await this.initAfcToolsMap(e);return function(p,v,S){var C,_;return Eo(this,arguments,function*(){for(var N,U,z,Q;g<f;){m&&(g++,m=!1);const O=yield Fe(p.processParamsMaybeAddMcpUsage(S)),ue=yield Fe(p.generateContentStreamInternal(O)),W=[],_e=[];try{for(var $=!0,F=(U=void 0,Ll(ue)),j;j=yield Fe(F.next()),N=j.done,!N;$=!0){Q=j.value,$=!1;const se=Q;if(yield yield Fe(se),se.candidates&&(!((C=se.candidates[0])===null||C===void 0)&&C.content)){_e.push(se.candidates[0].content);for(const Se of(_=se.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(g<f&&Se.functionCall){if(!Se.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(Se.functionCall.name)){const ee=yield Fe(v.get(Se.functionCall.name).callTool([Se.functionCall]));W.push(...ee)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${Se.functionCall.name}`)}}}}catch(se){U={error:se}}finally{try{!$&&!N&&(z=F.return)&&(yield Fe(z.call(F)))}finally{if(U)throw U.error}}if(W.length>0){m=!0;const se=new Dl;se.candidates=[{content:{role:"user",parts:W}}],yield yield Fe(se);const Se=[];Se.push(..._e),Se.push({role:"user",parts:W});const ee=tn(S.contents).concat(Se);S.contents=ee}else break}})}(this,y,e)}async generateContentInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=ph(this.apiClient,e);return g=te("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=hh(v),C=new Dl;return Object.assign(C,S),C})}else{const p=dh(this.apiClient,e);return g=te("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=mh(v),C=new Dl;return Object.assign(C,S),C})}}async generateContentStreamInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=ph(this.apiClient,e);return g=te("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),m.then(function(S){return Eo(this,arguments,function*(){var C,_,N,U;try{for(var z=!0,Q=Ll(S),$;$=yield Fe(Q.next()),C=$.done,!C;z=!0){U=$.value,z=!1;const F=U,j=hh(yield Fe(F.json()));j.sdkHttpResponse={headers:F.headers};const O=new Dl;Object.assign(O,j),yield yield Fe(O)}}catch(F){_={error:F}}finally{try{!z&&!C&&(N=Q.return)&&(yield Fe(N.call(Q)))}finally{if(_)throw _.error}}})})}else{const p=dh(this.apiClient,e);return g=te("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),m.then(function(S){return Eo(this,arguments,function*(){var C,_,N,U;try{for(var z=!0,Q=Ll(S),$;$=yield Fe(Q.next()),C=$.done,!C;z=!0){U=$.value,z=!1;const F=U,j=mh(yield Fe(F.json()));j.sdkHttpResponse={headers:F.headers};const O=new Dl;Object.assign(O,j),yield yield Fe(O)}}catch(F){_={error:F}}finally{try{!z&&!C&&(N=Q.return)&&(yield Fe(N.call(Q)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=FA(this.apiClient,e);return g=te("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=ex(v),C=new Fm;return Object.assign(C,S),C})}else{const p=oA(this.apiClient,e);return g=te("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=b_(v),C=new Fm;return Object.assign(C,S),C})}}async generateImagesInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=JA(this.apiClient,e);return g=te("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=nx(v),C=new $m;return Object.assign(C,S),C})}else{const p=aA(this.apiClient,e);return g=te("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=I_(v),C=new $m;return Object.assign(C,S),C})}}async editImageInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=e_(this.apiClient,e);return f=te("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=ix(y),v=new i0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=n_(this.apiClient,e);return f=te("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=ox(y),v=new o0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=a_(this.apiClient,e);return f=te("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const p=lx(y),v=new l0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=s_(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>$u(v))}else{const p=sA(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Fu(v))}}async listInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=u_(this.apiClient,e);return g=te("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=ux(v),C=new Jm;return Object.assign(C,S),C})}else{const p=uA(this.apiClient,e);return g=te("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=L_(v),C=new Jm;return Object.assign(C,S),C})}}async update(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=f_(this.apiClient,e);return g=te("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>$u(v))}else{const p=fA(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Fu(v))}}async delete(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=d_(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(()=>{const v=cx(),S=new Km;return Object.assign(S,v),S})}else{const p=dA(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(()=>{const v=V_(),S=new Km;return Object.assign(S,v),S})}}async countTokens(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=m_(this.apiClient,e);return g=te("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=fx(v),C=new Xm;return Object.assign(C,S),C})}else{const p=mA(this.apiClient,e);return g=te("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=P_(v),C=new Xm;return Object.assign(C,S),C})}}async computeTokens(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=h_(this.apiClient,e);return f=te("{model}:computeTokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=dx(y),v=new a0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=v_(this.apiClient,e);return g=te("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const S=gx(v),C=new rs;return Object.assign(C,S),C})}else{const p=yA(this.apiClient,e);return g=te("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const S=z_(v),C=new rs;return Object.assign(C,S),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fx(n){const e={},o=s(n,["operationName"]);o!=null&&r(e,["_url","operationName"],o);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function $x(n){const e={},o=s(n,["operationName"]);o!=null&&r(e,["_url","operationName"],o);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function Jx(n){const e={},o=s(n,["operationName"]);o!=null&&r(e,["operationName"],o);const l=s(n,["resourceName"]);l!=null&&r(e,["_url","resourceName"],l);const c=s(n,["config"]);return c!=null&&r(e,["config"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kx extends Ri{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let f;l&&"httpOptions"in l&&(f=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async get(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let f;l&&"httpOptions"in l&&(f=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async getVideosOperationInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=$x(e);return g=te("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m}else{const p=Fx(e);return g=te("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=Jx(e);return f=te("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xx(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function fg(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],Xx(o)),e}function Qx(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],fg(l)),e}function Zx(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Qx(c))),r(e,["speakerVoiceConfigs"],l)}return e}function Wx(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],fg(o));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],Zx(l));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function jx(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function eM(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function tM(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function nM(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],jx(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],eM(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],tM(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function iM(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>nM(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function oM(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const f=s(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function lM(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function aM(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],lM(o)),e}function sM(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function rM(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],sM(o)),e}function uM(){return{}}function cM(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>oM(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],aM(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],rM(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],uM());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function fM(n){const e={},o=s(n,["handle"]);if(o!=null&&r(e,["handle"],o),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Ch(){return{}}function dM(n){const e={},o=s(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=s(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const f=s(n,["prefixPaddingMs"]);f!=null&&r(e,["prefixPaddingMs"],f);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function pM(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],dM(o));const l=s(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function mM(n){const e={},o=s(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function hM(n){const e={},o=s(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=s(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],mM(l)),e}function gM(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function yM(n,e){const o={},l=s(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const f=s(n,["temperature"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","temperature"],f);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const S=s(n,["speechConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","speechConfig"],Wx(nc(S)));const C=s(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],C);const _=s(n,["systemInstruction"]);e!==void 0&&_!=null&&r(e,["setup","systemInstruction"],iM(At(_)));const N=s(n,["tools"]);if(e!==void 0&&N!=null){let O=xo(N);Array.isArray(O)&&(O=O.map(ue=>cM(_o(ue)))),r(e,["setup","tools"],O)}const U=s(n,["sessionResumption"]);e!==void 0&&U!=null&&r(e,["setup","sessionResumption"],fM(U));const z=s(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&r(e,["setup","inputAudioTranscription"],Ch());const Q=s(n,["outputAudioTranscription"]);e!==void 0&&Q!=null&&r(e,["setup","outputAudioTranscription"],Ch());const $=s(n,["realtimeInputConfig"]);e!==void 0&&$!=null&&r(e,["setup","realtimeInputConfig"],pM($));const F=s(n,["contextWindowCompression"]);e!==void 0&&F!=null&&r(e,["setup","contextWindowCompression"],hM(F));const j=s(n,["proactivity"]);return e!==void 0&&j!=null&&r(e,["setup","proactivity"],gM(j)),o}function vM(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["setup","model"],De(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],yM(c,o)),o}function TM(n,e,o){const l={},c=s(e,["expireTime"]);o!==void 0&&c!=null&&r(o,["expireTime"],c);const f=s(e,["newSessionExpireTime"]);o!==void 0&&f!=null&&r(o,["newSessionExpireTime"],f);const m=s(e,["uses"]);o!==void 0&&m!=null&&r(o,["uses"],m);const g=s(e,["liveConnectConstraints"]);o!==void 0&&g!=null&&r(o,["bidiGenerateContentSetup"],vM(n,g));const y=s(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&r(o,["fieldMask"],y),l}function SM(n,e){const o={},l=s(e,["config"]);return l!=null&&r(o,["config"],TM(n,l,o)),o}function CM(n){const e={},o=s(n,["name"]);return o!=null&&r(e,["name"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EM(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const l=n[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const c=Object.keys(l).map(f=>`${o}.${f}`);e.push(...c)}else e.push(o)}return e.join(",")}function AM(n,e){let o=null;const l=n.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const f=l.setup;typeof f=="object"&&f!==null?(n.bidiGenerateContentSetup=f,o=f):delete n.bidiGenerateContentSetup}else l!==void 0&&delete n.bidiGenerateContentSetup;const c=n.fieldMask;if(o){const f=EM(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)f?n.fieldMask=f:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];c.length>0&&(g=c.map(p=>m.includes(p)?`generationConfig.${p}`:p));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?n.fieldMask=c.join(","):delete n.fieldMask;return n}class _M extends Ri{constructor(e){super(),this.apiClient=e}async create(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=SM(this.apiClient,e);f=te("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=AM(g,e.config);return c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),c.then(p=>CM(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xM(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","name"],o);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function MM(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const f=s(n,["filter"]);return e!==void 0&&f!=null&&r(e,["_query","filter"],f),o}function RM(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],MM(o,e)),e}function NM(n){const e={},o=s(n,["textInput"]);o!=null&&r(e,["textInput"],o);const l=s(n,["output"]);return l!=null&&r(e,["output"],l),e}function wM(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(n,["examples"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>NM(c))),r(e,["examples","examples"],l)}return e}function bM(n,e){const o={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=s(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&r(e,["displayName"],l),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=s(n,["epochCount"]);e!==void 0&&c!=null&&r(e,["tuningTask","hyperparameters","epochCount"],c);const f=s(n,["learningRateMultiplier"]);if(f!=null&&r(o,["tuningTask","hyperparameters","learningRateMultiplier"],f),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=s(n,["batchSize"]);e!==void 0&&m!=null&&r(e,["tuningTask","hyperparameters","batchSize"],m);const g=s(n,["learningRate"]);return e!==void 0&&g!=null&&r(e,["tuningTask","hyperparameters","learningRate"],g),o}function DM(n){const e={},o=s(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=s(n,["trainingDataset"]);l!=null&&r(e,["tuningTask","trainingData"],wM(l));const c=s(n,["config"]);return c!=null&&r(e,["config"],bM(c,e)),e}function kM(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","name"],o);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function IM(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const f=s(n,["filter"]);return e!==void 0&&f!=null&&r(e,["_query","filter"],f),o}function UM(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],IM(o,e)),e}function LM(n,e){const o={},l=s(n,["gcsUri"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],l);const c=s(n,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function VM(n,e){const o={},l=s(n,["gcsUri"]);l!=null&&r(o,["validationDatasetUri"],l);const c=s(n,["vertexDatasetResource"]);return e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),o}function PM(n,e){const o={},l=s(n,["validationDataset"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec"],VM(l,o));const c=s(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&r(e,["tunedModelDisplayName"],c);const f=s(n,["description"]);e!==void 0&&f!=null&&r(e,["description"],f);const m=s(n,["epochCount"]);e!==void 0&&m!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const g=s(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const y=s(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const p=s(n,["adapterSize"]);if(e!==void 0&&p!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function GM(n){const e={},o=s(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=s(n,["trainingDataset"]);l!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],LM(l,e));const c=s(n,["config"]);return c!=null&&r(e,["config"],PM(c,e)),e}function qM(n){const e={},o=s(n,["name"]);o!=null&&r(e,["model"],o);const l=s(n,["name"]);return l!=null&&r(e,["endpoint"],l),e}function dg(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["state"]);c!=null&&r(e,["state"],Oh(c));const f=s(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=s(n,["tuningTask","startTime"]);m!=null&&r(e,["startTime"],m);const g=s(n,["tuningTask","completeTime"]);g!=null&&r(e,["endTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["description"]);p!=null&&r(e,["description"],p);const v=s(n,["baseModel"]);v!=null&&r(e,["baseModel"],v);const S=s(n,["_self"]);S!=null&&r(e,["tunedModel"],qM(S));const C=s(n,["distillationSpec"]);C!=null&&r(e,["distillationSpec"],C);const _=s(n,["experiment"]);_!=null&&r(e,["experiment"],_);const N=s(n,["labels"]);N!=null&&r(e,["labels"],N);const U=s(n,["pipelineJob"]);U!=null&&r(e,["pipelineJob"],U);const z=s(n,["satisfiesPzi"]);z!=null&&r(e,["satisfiesPzi"],z);const Q=s(n,["satisfiesPzs"]);Q!=null&&r(e,["satisfiesPzs"],Q);const $=s(n,["serviceAccount"]);$!=null&&r(e,["serviceAccount"],$);const F=s(n,["tunedModelDisplayName"]);return F!=null&&r(e,["tunedModelDisplayName"],F),e}function HM(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["tunedModels"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>dg(m))),r(e,["tuningJobs"],f)}return e}function zM(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["metadata"]);c!=null&&r(e,["metadata"],c);const f=s(n,["done"]);f!=null&&r(e,["done"],f);const m=s(n,["error"]);return m!=null&&r(e,["error"],m),e}function BM(n){const e={},o=s(n,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const l=s(n,["epoch"]);l!=null&&r(e,["epoch"],l);const c=s(n,["step"]);c!=null&&r(e,["step"],c);const f=s(n,["endpoint"]);return f!=null&&r(e,["endpoint"],f),e}function OM(n){const e={},o=s(n,["model"]);o!=null&&r(e,["model"],o);const l=s(n,["endpoint"]);l!=null&&r(e,["endpoint"],l);const c=s(n,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>BM(m))),r(e,["checkpoints"],f)}return e}function Ku(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["state"]);c!=null&&r(e,["state"],Oh(c));const f=s(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=s(n,["startTime"]);m!=null&&r(e,["startTime"],m);const g=s(n,["endTime"]);g!=null&&r(e,["endTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["error"]);p!=null&&r(e,["error"],p);const v=s(n,["description"]);v!=null&&r(e,["description"],v);const S=s(n,["baseModel"]);S!=null&&r(e,["baseModel"],S);const C=s(n,["tunedModel"]);C!=null&&r(e,["tunedModel"],OM(C));const _=s(n,["supervisedTuningSpec"]);_!=null&&r(e,["supervisedTuningSpec"],_);const N=s(n,["tuningDataStats"]);N!=null&&r(e,["tuningDataStats"],N);const U=s(n,["encryptionSpec"]);U!=null&&r(e,["encryptionSpec"],U);const z=s(n,["partnerModelTuningSpec"]);z!=null&&r(e,["partnerModelTuningSpec"],z);const Q=s(n,["distillationSpec"]);Q!=null&&r(e,["distillationSpec"],Q);const $=s(n,["experiment"]);$!=null&&r(e,["experiment"],$);const F=s(n,["labels"]);F!=null&&r(e,["labels"],F);const j=s(n,["pipelineJob"]);j!=null&&r(e,["pipelineJob"],j);const O=s(n,["satisfiesPzi"]);O!=null&&r(e,["satisfiesPzi"],O);const ue=s(n,["satisfiesPzs"]);ue!=null&&r(e,["satisfiesPzs"],ue);const W=s(n,["serviceAccount"]);W!=null&&r(e,["serviceAccount"],W);const _e=s(n,["tunedModelDisplayName"]);return _e!=null&&r(e,["tunedModelDisplayName"],_e),e}function YM(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["tuningJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Ku(m))),r(e,["tuningJobs"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FM extends Ri{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Pl(xi.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.tune=async o=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(o);{const l=await this.tuneMldevInternal(o);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:Gu.JOB_STATE_QUEUED}}}}async getInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=kM(e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>Ku(v))}else{const p=xM(e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>dg(v))}}async listInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=UM(e);return g=te("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=YM(v),C=new Zm;return Object.assign(C,S),C})}else{const p=RM(e);return g=te("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=HM(v),C=new Zm;return Object.assign(C,S),C})}}async tuneInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=GM(e);return f=te("tuningJobs",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>Ku(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=DM(e);return f=te("tunedModels",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>zM(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $M{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const JM=1024*1024*8,KM=3,XM=1e3,QM=2,Lu="x-goog-upload-status";async function ZM(n,e,o){var l,c,f;let m=0,g=0,y=new qu(new Response),p="upload";for(m=n.size;g<m;){const S=Math.min(JM,m-g),C=n.slice(g,g+S);g+S>=m&&(p+=", finalize");let _=0,N=XM;for(;_<KM&&(y=await o.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(g),"Content-Length":String(S)}}}),!(!((l=y==null?void 0:y.headers)===null||l===void 0)&&l[Lu]));)_++,await jM(N),N=N*QM;if(g+=S,((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[Lu])!=="active")break;if(m<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((f=y==null?void 0:y.headers)===null||f===void 0?void 0:f[Lu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function WM(n){return{size:n.size,type:n.type}}function jM(n){return new Promise(e=>setTimeout(e,n))}class e1{async upload(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ZM(e,o,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await WM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t1{create(e,o,l){return new n1(e,o,l)}}class n1{constructor(e,o,l){this.url=e,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Eh="x-goog-api-key";class i1{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Eh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Eh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o1="gl-node/";class l1{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const l=n0(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion;const c=new i1(this.apiKey);this.apiClient=new _x({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:o1+"web",uploader:new e1,downloader:new $M}),this.models=new Yx(this.apiClient),this.live=new Px(this.apiClient,c,new t1),this.batches=new MT(this.apiClient),this.chats=new bS(this.models,this.apiClient),this.caches=new RS(this.apiClient),this.files=new OS(this.apiClient),this.operations=new Kx(this.apiClient),this.authTokens=new _M(this.apiClient),this.tunings=new FM(this.apiClient)}}let Ut=null;const a1=n=>{if(!n||!n.startsWith("AIza"))return Ut&&(Ut=null),!1;try{return Ut=new l1({apiKey:n}),!0}catch(e){return console.error("Failed to initialize GoogleGenAI with provided key:",e),Ut=null,!1}},ts=()=>!!Ut,s1=async(n,e)=>{var o,l;if(!Ut)throw new Error("Gemini AI SDK not initialized or API key is invalid. Please configure it in settings.");try{const c=await Ut.models.generateContent({model:Vh,contents:[{role:"user",parts:[{text:n}]}],config:{systemInstruction:{role:"system",parts:[{text:e}]},temperature:.8,maxOutputTokens:2048,safetySettings:[{category:gn.HARM_CATEGORY_HARASSMENT,threshold:yn.BLOCK_MEDIUM_AND_ABOVE},{category:gn.HARM_CATEGORY_HATE_SPEECH,threshold:yn.BLOCK_MEDIUM_AND_ABOVE},{category:gn.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:yn.BLOCK_MEDIUM_AND_ABOVE},{category:gn.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:yn.BLOCK_MEDIUM_AND_ABOVE}]}}),f=c.text;if(typeof f=="string")return f;{if(console.error("Gemini API response.text was not a string. Full response:",JSON.stringify(c,null,2)),(o=c==null?void 0:c.promptFeedback)!=null&&o.blockReason)throw new Error(`Prompt was blocked. Reason: ${c.promptFeedback.blockReason}${c.promptFeedback.blockReasonMessage?" - "+c.promptFeedback.blockReasonMessage:""}`);const m=(l=c==null?void 0:c.candidates)==null?void 0:l[0];if((m==null?void 0:m.finishReason)==="SAFETY"){const g=m.safetyRatings;let y=g==null?void 0:g.filter(p=>p.probability!=="NEGLIGIBLE"&&p.probability!=="LOW").map(p=>p.category.replace("HARM_CATEGORY_","")).join(", ");throw new Error(`Response blocked by safety filters. Categories: ${y||"Content policy"}.`)}throw(m==null?void 0:m.finishReason)==="OTHER"||(m==null?void 0:m.finishReason)==="RECITATION"||!m?new Error(`Gemini API returned an empty or malformed response. Reason: ${(m==null?void 0:m.finishReason)||"Unknown/No Candidate"}.`):new Error("Gemini API returned an invalid or unexpected text response structure.")}}catch(c){console.error("Error calling Gemini API (non-streaming):",c);const f=c instanceof Error?c.message:String(c);throw f.includes("API key not valid")||f.includes("API_KEY_INVALID")||f.includes("permission_denied")?new Error("The provided Gemini API key is invalid or lacks permissions. Please check it in settings."):c}};async function*Ah(n,e,o){var c,f;if(!Ut)throw new Error("Gemini AI SDK not initialized. Please configure it in settings.");const l=[];o&&o.length>0&&l.push(...o),l.push({text:n});try{const m=await Ut.models.generateContentStream({model:Vh,contents:[{role:"user",parts:l}],config:{systemInstruction:{role:"system",parts:[{text:e}]},temperature:.8,maxOutputTokens:2048,safetySettings:[{category:gn.HARM_CATEGORY_HARASSMENT,threshold:yn.BLOCK_MEDIUM_AND_ABOVE},{category:gn.HARM_CATEGORY_HATE_SPEECH,threshold:yn.BLOCK_MEDIUM_AND_ABOVE},{category:gn.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:yn.BLOCK_MEDIUM_AND_ABOVE},{category:gn.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:yn.BLOCK_MEDIUM_AND_ABOVE}]}});for await(const g of m){if((c=g==null?void 0:g.promptFeedback)!=null&&c.blockReason)throw new Error(`Stream blocked by Gemini. Reason: ${g.promptFeedback.blockReason}${g.promptFeedback.blockReasonMessage?" - "+g.promptFeedback.blockReasonMessage:""}.`);const y=(f=g==null?void 0:g.candidates)==null?void 0:f[0];if((y==null?void 0:y.finishReason)==="SAFETY"){const p=y.safetyRatings;let v=p==null?void 0:p.filter(S=>S.probability!=="NEGLIGIBLE"&&S.probability!=="LOW").map(S=>S.category.replace("HARM_CATEGORY_","")).join(", ");throw new Error(`Stream ended by Gemini's safety filters. Categories: ${v||"Content policy"}.`)}if(!g.text&&((y==null?void 0:y.finishReason)==="OTHER"||(y==null?void 0:y.finishReason)==="RECITATION"))throw new Error(`Gemini stream ended unexpectedly or provided empty content. Reason: ${y==null?void 0:y.finishReason}.`);yield g}}catch(m){console.error("Error during Gemini API stream:",m);const g=m instanceof Error?m.message:String(m);throw g.includes("API key not valid")||g.includes("API_KEY_INVALID")||g.includes("permission_denied")?new Error("The provided Gemini API key is invalid or lacks permissions. Please check it in settings."):new Error(`Gemini API streaming error: ${g}`)}}const r1=async n=>{if(!Ut)throw new Error("Gemini AI SDK not initialized.");try{return await Ut.models.generateImages({model:"imagen-3.0-generate-002",prompt:n})}catch(e){throw console.error("Error calling Imagen API:",e),e}},u1=async(n,e)=>{if(!Ut)throw new Error("Gemini AI SDK not initialized.");try{let o=await Ut.models.generateVideos({model:"veo-3.0-generate-preview",prompt:n,image:e});for(;!o.done;)await new Promise(l=>setTimeout(l,1e4)),o=await Ut.operations.get(o);return o.response.generatedVideos[0]}catch(o){throw console.error("Error calling Veo API:",o),o}};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f1=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,l)=>l?l.toUpperCase():o.toLowerCase()),_h=n=>{const e=f1(n);return e.charAt(0).toUpperCase()+e.slice(1)},pg=(...n)=>n.filter((e,o,l)=>!!e&&e.trim()!==""&&l.indexOf(e)===o).join(" ").trim(),d1=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=le.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:f,iconNode:m,...g},y)=>le.createElement("svg",{ref:y,...p1,width:e,height:e,stroke:n,strokeWidth:l?Number(o)*24/Number(e):o,className:pg("lucide",c),...!f&&!d1(g)&&{"aria-hidden":"true"},...g},[...m.map(([p,v])=>le.createElement(p,v)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(n,e)=>{const o=le.forwardRef(({className:l,...c},f)=>le.createElement(m1,{ref:f,iconNode:e,className:pg(`lucide-${c1(_h(n))}`,`lucide-${n}`,l),...c}));return o.displayName=_h(n),o};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],mg=$e("bot",h1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],y1=$e("camera",g1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],T1=$e("check",v1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],C1=$e("chevron-up",S1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],A1=$e("circle-x",E1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],x1=$e("copy",_1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M10 11h.01",key:"d2at3l"}],["path",{d:"M14 6h.01",key:"k028ub"}],["path",{d:"M18 6h.01",key:"1v4wsw"}],["path",{d:"M6.5 13.1h.01",key:"1748ia"}],["path",{d:"M22 5c0 9-4 12-6 12s-6-3-6-12c0-2 2-3 6-3s6 1 6 3",key:"172yzv"}],["path",{d:"M17.4 9.9c-.8.8-2 .8-2.8 0",key:"1obv0w"}],["path",{d:"M10.1 7.1C9 7.2 7.7 7.7 6 8.6c-3.5 2-4.7 3.9-3.7 5.6 4.5 7.8 9.5 8.4 11.2 7.4.9-.5 1.9-2.1 1.9-4.7",key:"rqjl8i"}],["path",{d:"M9.1 16.5c.3-1.1 1.4-1.7 2.4-1.4",key:"1mr6wy"}]],R1=$e("drama",M1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],w1=$e("folder-open",N1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],D1=$e("image-off",b1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],I1=$e("library",k1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],L1=$e("loader-circle",U1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],P1=$e("moon",V1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],q1=$e("plus",G1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],z1=$e("scan-line",H1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],O1=$e("search",B1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],F1=$e("send-horizontal",Y1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],J1=$e("settings",$1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],X1=$e("sparkles",K1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Z1=$e("sun",Q1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],j1=$e("trash-2",W1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tR=$e("triangle-alert",eR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],iR=$e("user",nR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],lR=$e("video",oR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],sR=$e("volume-2",aR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],uR=$e("volume-x",rR),cR=({theme:n,selectedAI:e,imageStyle:o,apiKeys:l,apiStatus:c,darkMode:f,soundEnabled:m,setSelectedAI:g,setImageStyle:y,updateApiKey:p,toggleDarkMode:v,toggleSound:S,onClose:C})=>x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",onClick:C,children:x.jsxs("div",{className:`${n.card} rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col`,onClick:_=>_.stopPropagation(),children:[x.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[x.jsx("h2",{className:"text-xl font-bold",children:"Settings"}),x.jsx("button",{onClick:C,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:""})]}),x.jsxs("div",{className:"overflow-y-auto p-6 space-y-6",children:[x.jsxs("section",{children:[x.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Appearance"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("label",{htmlFor:"darkModeToggle",className:"font-medium",children:"Dark Mode"}),x.jsx("button",{onClick:v,id:"darkModeToggle",className:`p-2 rounded-full ${n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:f?x.jsx(Z1,{size:20}):x.jsx(P1,{size:20})})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("label",{htmlFor:"soundToggle",className:"font-medium",children:"Sound Enabled"}),x.jsx("button",{onClick:S,id:"soundToggle",className:`p-2 rounded-full ${n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:m?x.jsx(sR,{size:20}):x.jsx(uR,{size:20})})]})]})]}),x.jsxs("section",{children:[x.jsx("h3",{className:"text-lg font-semibold mb-3",children:"AI Model"}),x.jsx("div",{role:"group",className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(sn).map(([_,N])=>x.jsxs("button",{onClick:()=>g(_),className:`p-3 rounded-lg border text-sm transition-all duration-200 ${e===_?`${N.color} border-current bg-current/10 font-semibold`:`${n.muted} border-gray-300 dark:border-gray-600 hover:border-current hover:bg-gray-500/10`}`,children:[N.icon," ",N.name]},_))})]}),x.jsxs("section",{children:[x.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Image Style (DALL-E)"}),x.jsx("div",{role:"group",className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(Qv).map(([_,N])=>x.jsx("button",{onClick:()=>y(_),className:`p-3 rounded-lg border text-sm transition-all duration-200 ${o===_?"text-pink-400 border-pink-400 bg-pink-400/10 font-semibold":`${n.muted} border-gray-300 dark:border-gray-600 hover:border-current hover:text-pink-400 hover:border-pink-400/50 hover:bg-pink-400/10`}`,children:N},_))})]}),x.jsxs("section",{children:[x.jsx("h3",{className:"text-lg font-semibold mb-3",children:"API Keys"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-1",children:"OpenAI API Key"}),x.jsx("input",{type:"password",placeholder:"sk-...",value:l.openai,onChange:_=>p("openai",_.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${n.input} border-gray-300 dark:border-gray-600`})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gemini API Key"}),x.jsx("input",{type:"password",placeholder:"AIza...",value:l.gemini,onChange:_=>p("gemini",_.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${n.input} border-gray-300 dark:border-gray-600`})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-1",children:"Claude API Key"}),x.jsx("input",{type:"password",placeholder:"sk-ant-...",value:l.claude,onChange:_=>p("claude",_.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${n.input} border-gray-300 dark:border-gray-600`})]})]}),x.jsx("p",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:"Your API keys are saved automatically to your browser's local storage. They are never sent to our servers."})]})]})]})});function oc(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var wi=oc();function hg(n){wi=n}var Vl={exec:()=>null};function ke(n,e=""){let o=typeof n=="string"?n:n.source;const l={replace:(c,f)=>{let m=typeof f=="string"?f:f.source;return m=m.replace(Mt.caret,"$1"),o=o.replace(c,m),l},getRegex:()=>new RegExp(o,e)};return l}var Mt={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},fR=/^(?:[ \t]*(?:\n|$))+/,dR=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,pR=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Gl=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,mR=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,lc=/(?:[*+-]|\d{1,9}[.)])/,gg=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,yg=ke(gg).replace(/bull/g,lc).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),hR=ke(gg).replace(/bull/g,lc).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),ac=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,gR=/^[^\n]+/,sc=/(?!\s*\])(?:\\.|[^\[\]\\])+/,yR=ke(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",sc).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),vR=ke(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,lc).getRegex(),gs="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",rc=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,TR=ke("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",rc).replace("tag",gs).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),vg=ke(ac).replace("hr",Gl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gs).getRegex(),SR=ke(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",vg).getRegex(),uc={blockquote:SR,code:dR,def:yR,fences:pR,heading:mR,hr:Gl,html:TR,lheading:yg,list:vR,newline:fR,paragraph:vg,table:Vl,text:gR},xh=ke("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Gl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gs).getRegex(),CR={...uc,lheading:hR,table:xh,paragraph:ke(ac).replace("hr",Gl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",xh).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gs).getRegex()},ER={...uc,html:ke(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",rc).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Vl,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ke(ac).replace("hr",Gl).replace("heading",` *#{1,6} *[^
]`).replace("lheading",yg).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},AR=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,_R=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Tg=/^( {2,}|\\)\n(?!\s*$)/,xR=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ys=/[\p{P}\p{S}]/u,cc=/[\s\p{P}\p{S}]/u,Sg=/[^\s\p{P}\p{S}]/u,MR=ke(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,cc).getRegex(),Cg=/(?!~)[\p{P}\p{S}]/u,RR=/(?!~)[\s\p{P}\p{S}]/u,NR=/(?:[^\s\p{P}\p{S}]|~)/u,wR=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Eg=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,bR=ke(Eg,"u").replace(/punct/g,ys).getRegex(),DR=ke(Eg,"u").replace(/punct/g,Cg).getRegex(),Ag="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",kR=ke(Ag,"gu").replace(/notPunctSpace/g,Sg).replace(/punctSpace/g,cc).replace(/punct/g,ys).getRegex(),IR=ke(Ag,"gu").replace(/notPunctSpace/g,NR).replace(/punctSpace/g,RR).replace(/punct/g,Cg).getRegex(),UR=ke("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Sg).replace(/punctSpace/g,cc).replace(/punct/g,ys).getRegex(),LR=ke(/\\(punct)/,"gu").replace(/punct/g,ys).getRegex(),VR=ke(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),PR=ke(rc).replace("(?:-->|$)","-->").getRegex(),GR=ke("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",PR).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),cs=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,qR=ke(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",cs).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),_g=ke(/^!?\[(label)\]\[(ref)\]/).replace("label",cs).replace("ref",sc).getRegex(),xg=ke(/^!?\[(ref)\](?:\[\])?/).replace("ref",sc).getRegex(),HR=ke("reflink|nolink(?!\\()","g").replace("reflink",_g).replace("nolink",xg).getRegex(),fc={_backpedal:Vl,anyPunctuation:LR,autolink:VR,blockSkip:wR,br:Tg,code:_R,del:Vl,emStrongLDelim:bR,emStrongRDelimAst:kR,emStrongRDelimUnd:UR,escape:AR,link:qR,nolink:xg,punctuation:MR,reflink:_g,reflinkSearch:HR,tag:GR,text:xR,url:Vl},zR={...fc,link:ke(/^!?\[(label)\]\((.*?)\)/).replace("label",cs).getRegex(),reflink:ke(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",cs).getRegex()},Xu={...fc,emStrongRDelimAst:IR,emStrongLDelim:DR,url:ke(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},BR={...Xu,br:ke(Tg).replace("{2,}","*").getRegex(),text:ke(Xu.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ns={normal:uc,gfm:CR,pedantic:ER},kl={normal:fc,gfm:Xu,breaks:BR,pedantic:zR},OR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Mh=n=>OR[n];function hn(n,e){if(e){if(Mt.escapeTest.test(n))return n.replace(Mt.escapeReplace,Mh)}else if(Mt.escapeTestNoEncode.test(n))return n.replace(Mt.escapeReplaceNoEncode,Mh);return n}function Rh(n){try{n=encodeURI(n).replace(Mt.percentDecode,"%")}catch{return null}return n}function Nh(n,e){var f;const o=n.replace(Mt.findPipe,(m,g,y)=>{let p=!1,v=g;for(;--v>=0&&y[v]==="\\";)p=!p;return p?"|":" |"}),l=o.split(Mt.splitPipe);let c=0;if(l[0].trim()||l.shift(),l.length>0&&!((f=l.at(-1))!=null&&f.trim())&&l.pop(),e)if(l.length>e)l.splice(e);else for(;l.length<e;)l.push("");for(;c<l.length;c++)l[c]=l[c].trim().replace(Mt.slashPipe,"|");return l}function Il(n,e,o){const l=n.length;if(l===0)return"";let c=0;for(;c<l&&n.charAt(l-c-1)===e;)c++;return n.slice(0,l-c)}function YR(n,e){if(n.indexOf(e[1])===-1)return-1;let o=0;for(let l=0;l<n.length;l++)if(n[l]==="\\")l++;else if(n[l]===e[0])o++;else if(n[l]===e[1]&&(o--,o<0))return l;return o>0?-2:-1}function wh(n,e,o,l,c){const f=e.href,m=e.title||null,g=n[1].replace(c.other.outputLinkReplace,"$1");l.state.inLink=!0;const y={type:n[0].charAt(0)==="!"?"image":"link",raw:o,href:f,title:m,text:g,tokens:l.inlineTokens(g)};return l.state.inLink=!1,y}function FR(n,e,o){const l=n.match(o.other.indentCodeCompensation);if(l===null)return e;const c=l[1];return e.split(`
`).map(f=>{const m=f.match(o.other.beginningSpace);if(m===null)return f;const[g]=m;return g.length>=c.length?f.slice(c.length):f}).join(`
`)}var fs=class{constructor(n){Be(this,"options");Be(this,"rules");Be(this,"lexer");this.options=n||wi}space(n){const e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){const e=this.rules.block.code.exec(n);if(e){const o=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?o:Il(o,`
`)}}}fences(n){const e=this.rules.block.fences.exec(n);if(e){const o=e[0],l=FR(o,e[3]||"",this.rules);return{type:"code",raw:o,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:l}}}heading(n){const e=this.rules.block.heading.exec(n);if(e){let o=e[2].trim();if(this.rules.other.endingHash.test(o)){const l=Il(o,"#");(this.options.pedantic||!l||this.rules.other.endingSpaceChar.test(l))&&(o=l.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(n){const e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:Il(e[0],`
`)}}blockquote(n){const e=this.rules.block.blockquote.exec(n);if(e){let o=Il(e[0],`
`).split(`
`),l="",c="";const f=[];for(;o.length>0;){let m=!1;const g=[];let y;for(y=0;y<o.length;y++)if(this.rules.other.blockquoteStart.test(o[y]))g.push(o[y]),m=!0;else if(!m)g.push(o[y]);else break;o=o.slice(y);const p=g.join(`
`),v=p.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");l=l?`${l}
${p}`:p,c=c?`${c}
${v}`:v;const S=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(v,f,!0),this.lexer.state.top=S,o.length===0)break;const C=f.at(-1);if((C==null?void 0:C.type)==="code")break;if((C==null?void 0:C.type)==="blockquote"){const _=C,N=_.raw+`
`+o.join(`
`),U=this.blockquote(N);f[f.length-1]=U,l=l.substring(0,l.length-_.raw.length)+U.raw,c=c.substring(0,c.length-_.text.length)+U.text;break}else if((C==null?void 0:C.type)==="list"){const _=C,N=_.raw+`
`+o.join(`
`),U=this.list(N);f[f.length-1]=U,l=l.substring(0,l.length-C.raw.length)+U.raw,c=c.substring(0,c.length-_.raw.length)+U.raw,o=N.substring(f.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:l,tokens:f,text:c}}}list(n){let e=this.rules.block.list.exec(n);if(e){let o=e[1].trim();const l=o.length>1,c={type:"list",raw:"",ordered:l,start:l?+o.slice(0,-1):"",loose:!1,items:[]};o=l?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=l?o:"[*+-]");const f=this.rules.other.listItemRegex(o);let m=!1;for(;n;){let y=!1,p="",v="";if(!(e=f.exec(n))||this.rules.block.hr.test(n))break;p=e[0],n=n.substring(p.length);let S=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,Q=>" ".repeat(3*Q.length)),C=n.split(`
`,1)[0],_=!S.trim(),N=0;if(this.options.pedantic?(N=2,v=S.trimStart()):_?N=e[1].length+1:(N=e[2].search(this.rules.other.nonSpaceChar),N=N>4?1:N,v=S.slice(N),N+=e[1].length),_&&this.rules.other.blankLine.test(C)&&(p+=C+`
`,n=n.substring(C.length+1),y=!0),!y){const Q=this.rules.other.nextBulletRegex(N),$=this.rules.other.hrRegex(N),F=this.rules.other.fencesBeginRegex(N),j=this.rules.other.headingBeginRegex(N),O=this.rules.other.htmlBeginRegex(N);for(;n;){const ue=n.split(`
`,1)[0];let W;if(C=ue,this.options.pedantic?(C=C.replace(this.rules.other.listReplaceNesting,"  "),W=C):W=C.replace(this.rules.other.tabCharGlobal,"    "),F.test(C)||j.test(C)||O.test(C)||Q.test(C)||$.test(C))break;if(W.search(this.rules.other.nonSpaceChar)>=N||!C.trim())v+=`
`+W.slice(N);else{if(_||S.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||F.test(S)||j.test(S)||$.test(S))break;v+=`
`+C}!_&&!C.trim()&&(_=!0),p+=ue+`
`,n=n.substring(ue.length+1),S=W.slice(N)}}c.loose||(m?c.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(m=!0));let U=null,z;this.options.gfm&&(U=this.rules.other.listIsTask.exec(v),U&&(z=U[0]!=="[ ] ",v=v.replace(this.rules.other.listReplaceTask,""))),c.items.push({type:"list_item",raw:p,task:!!U,checked:z,loose:!1,text:v,tokens:[]}),c.raw+=p}const g=c.items.at(-1);if(g)g.raw=g.raw.trimEnd(),g.text=g.text.trimEnd();else return;c.raw=c.raw.trimEnd();for(let y=0;y<c.items.length;y++)if(this.lexer.state.top=!1,c.items[y].tokens=this.lexer.blockTokens(c.items[y].text,[]),!c.loose){const p=c.items[y].tokens.filter(S=>S.type==="space"),v=p.length>0&&p.some(S=>this.rules.other.anyLine.test(S.raw));c.loose=v}if(c.loose)for(let y=0;y<c.items.length;y++)c.items[y].loose=!0;return c}}html(n){const e=this.rules.block.html.exec(n);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(n){const e=this.rules.block.def.exec(n);if(e){const o=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),l=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",c=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:o,raw:e[0],href:l,title:c}}}table(n){var m;const e=this.rules.block.table.exec(n);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const o=Nh(e[1]),l=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),c=(m=e[3])!=null&&m.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],f={type:"table",raw:e[0],header:[],align:[],rows:[]};if(o.length===l.length){for(const g of l)this.rules.other.tableAlignRight.test(g)?f.align.push("right"):this.rules.other.tableAlignCenter.test(g)?f.align.push("center"):this.rules.other.tableAlignLeft.test(g)?f.align.push("left"):f.align.push(null);for(let g=0;g<o.length;g++)f.header.push({text:o[g],tokens:this.lexer.inline(o[g]),header:!0,align:f.align[g]});for(const g of c)f.rows.push(Nh(g,f.header.length).map((y,p)=>({text:y,tokens:this.lexer.inline(y),header:!1,align:f.align[p]})));return f}}lheading(n){const e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){const e=this.rules.block.paragraph.exec(n);if(e){const o=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:o,tokens:this.lexer.inline(o)}}}text(n){const e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){const e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(n){const e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(n){const e=this.rules.inline.link.exec(n);if(e){const o=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(o)){if(!this.rules.other.endAngleBracket.test(o))return;const f=Il(o.slice(0,-1),"\\");if((o.length-f.length)%2===0)return}else{const f=YR(e[2],"()");if(f===-2)return;if(f>-1){const g=(e[0].indexOf("!")===0?5:4)+e[1].length+f;e[2]=e[2].substring(0,f),e[0]=e[0].substring(0,g).trim(),e[3]=""}}let l=e[2],c="";if(this.options.pedantic){const f=this.rules.other.pedanticHrefTitle.exec(l);f&&(l=f[1],c=f[3])}else c=e[3]?e[3].slice(1,-1):"";return l=l.trim(),this.rules.other.startAngleBracket.test(l)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(o)?l=l.slice(1):l=l.slice(1,-1)),wh(e,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:c&&c.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(n,e){let o;if((o=this.rules.inline.reflink.exec(n))||(o=this.rules.inline.nolink.exec(n))){const l=(o[2]||o[1]).replace(this.rules.other.multipleSpaceGlobal," "),c=e[l.toLowerCase()];if(!c){const f=o[0].charAt(0);return{type:"text",raw:f,text:f}}return wh(o,c,o[0],this.lexer,this.rules)}}emStrong(n,e,o=""){let l=this.rules.inline.emStrongLDelim.exec(n);if(!l||l[3]&&o.match(this.rules.other.unicodeAlphaNumeric))return;if(!(l[1]||l[2]||"")||!o||this.rules.inline.punctuation.exec(o)){const f=[...l[0]].length-1;let m,g,y=f,p=0;const v=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(v.lastIndex=0,e=e.slice(-1*n.length+f);(l=v.exec(e))!=null;){if(m=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!m)continue;if(g=[...m].length,l[3]||l[4]){y+=g;continue}else if((l[5]||l[6])&&f%3&&!((f+g)%3)){p+=g;continue}if(y-=g,y>0)continue;g=Math.min(g,g+y+p);const S=[...l[0]][0].length,C=n.slice(0,f+l.index+S+g);if(Math.min(f,g)%2){const N=C.slice(1,-1);return{type:"em",raw:C,text:N,tokens:this.lexer.inlineTokens(N)}}const _=C.slice(2,-2);return{type:"strong",raw:C,text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(n){const e=this.rules.inline.code.exec(n);if(e){let o=e[2].replace(this.rules.other.newLineCharGlobal," ");const l=this.rules.other.nonSpaceChar.test(o),c=this.rules.other.startingSpaceChar.test(o)&&this.rules.other.endingSpaceChar.test(o);return l&&c&&(o=o.substring(1,o.length-1)),{type:"codespan",raw:e[0],text:o}}}br(n){const e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){const e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n){const e=this.rules.inline.autolink.exec(n);if(e){let o,l;return e[2]==="@"?(o=e[1],l="mailto:"+o):(o=e[1],l=o),{type:"link",raw:e[0],text:o,href:l,tokens:[{type:"text",raw:o,text:o}]}}}url(n){var o;let e;if(e=this.rules.inline.url.exec(n)){let l,c;if(e[2]==="@")l=e[0],c="mailto:"+l;else{let f;do f=e[0],e[0]=((o=this.rules.inline._backpedal.exec(e[0]))==null?void 0:o[0])??"";while(f!==e[0]);l=e[0],e[1]==="www."?c="http://"+e[0]:c=e[0]}return{type:"link",raw:e[0],text:l,href:c,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(n){const e=this.rules.inline.text.exec(n);if(e){const o=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:o}}}},In=class Qu{constructor(e){Be(this,"tokens");Be(this,"options");Be(this,"state");Be(this,"tokenizer");Be(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||wi,this.options.tokenizer=this.options.tokenizer||new fs,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const o={other:Mt,block:ns.normal,inline:kl.normal};this.options.pedantic?(o.block=ns.pedantic,o.inline=kl.pedantic):this.options.gfm&&(o.block=ns.gfm,this.options.breaks?o.inline=kl.breaks:o.inline=kl.gfm),this.tokenizer.rules=o}static get rules(){return{block:ns,inline:kl}}static lex(e,o){return new Qu(o).lex(e)}static lexInline(e,o){return new Qu(o).inlineTokens(e)}lex(e){e=e.replace(Mt.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let o=0;o<this.inlineQueue.length;o++){const l=this.inlineQueue[o];this.inlineTokens(l.src,l.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,o=[],l=!1){var c,f,m;for(this.options.pedantic&&(e=e.replace(Mt.tabCharGlobal,"    ").replace(Mt.spaceLine,""));e;){let g;if((f=(c=this.options.extensions)==null?void 0:c.block)!=null&&f.some(p=>(g=p.call({lexer:this},e,o))?(e=e.substring(g.raw.length),o.push(g),!0):!1))continue;if(g=this.tokenizer.space(e)){e=e.substring(g.raw.length);const p=o.at(-1);g.raw.length===1&&p!==void 0?p.raw+=`
`:o.push(g);continue}if(g=this.tokenizer.code(e)){e=e.substring(g.raw.length);const p=o.at(-1);(p==null?void 0:p.type)==="paragraph"||(p==null?void 0:p.type)==="text"?(p.raw+=`
`+g.raw,p.text+=`
`+g.text,this.inlineQueue.at(-1).src=p.text):o.push(g);continue}if(g=this.tokenizer.fences(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.heading(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.hr(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.blockquote(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.list(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.html(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.def(e)){e=e.substring(g.raw.length);const p=o.at(-1);(p==null?void 0:p.type)==="paragraph"||(p==null?void 0:p.type)==="text"?(p.raw+=`
`+g.raw,p.text+=`
`+g.raw,this.inlineQueue.at(-1).src=p.text):this.tokens.links[g.tag]||(this.tokens.links[g.tag]={href:g.href,title:g.title});continue}if(g=this.tokenizer.table(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.lheading(e)){e=e.substring(g.raw.length),o.push(g);continue}let y=e;if((m=this.options.extensions)!=null&&m.startBlock){let p=1/0;const v=e.slice(1);let S;this.options.extensions.startBlock.forEach(C=>{S=C.call({lexer:this},v),typeof S=="number"&&S>=0&&(p=Math.min(p,S))}),p<1/0&&p>=0&&(y=e.substring(0,p+1))}if(this.state.top&&(g=this.tokenizer.paragraph(y))){const p=o.at(-1);l&&(p==null?void 0:p.type)==="paragraph"?(p.raw+=`
`+g.raw,p.text+=`
`+g.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=p.text):o.push(g),l=y.length!==e.length,e=e.substring(g.raw.length);continue}if(g=this.tokenizer.text(e)){e=e.substring(g.raw.length);const p=o.at(-1);(p==null?void 0:p.type)==="text"?(p.raw+=`
`+g.raw,p.text+=`
`+g.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=p.text):o.push(g);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return this.state.top=!0,o}inline(e,o=[]){return this.inlineQueue.push({src:e,tokens:o}),o}inlineTokens(e,o=[]){var g,y,p;let l=e,c=null;if(this.tokens.links){const v=Object.keys(this.tokens.links);if(v.length>0)for(;(c=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)v.includes(c[0].slice(c[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,c.index)+"["+"a".repeat(c[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(c=this.tokenizer.rules.inline.anyPunctuation.exec(l))!=null;)l=l.slice(0,c.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(c=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,c.index)+"["+"a".repeat(c[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let f=!1,m="";for(;e;){f||(m=""),f=!1;let v;if((y=(g=this.options.extensions)==null?void 0:g.inline)!=null&&y.some(C=>(v=C.call({lexer:this},e,o))?(e=e.substring(v.raw.length),o.push(v),!0):!1))continue;if(v=this.tokenizer.escape(e)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.tag(e)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.link(e)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(v.raw.length);const C=o.at(-1);v.type==="text"&&(C==null?void 0:C.type)==="text"?(C.raw+=v.raw,C.text+=v.text):o.push(v);continue}if(v=this.tokenizer.emStrong(e,l,m)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.codespan(e)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.br(e)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.del(e)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.autolink(e)){e=e.substring(v.raw.length),o.push(v);continue}if(!this.state.inLink&&(v=this.tokenizer.url(e))){e=e.substring(v.raw.length),o.push(v);continue}let S=e;if((p=this.options.extensions)!=null&&p.startInline){let C=1/0;const _=e.slice(1);let N;this.options.extensions.startInline.forEach(U=>{N=U.call({lexer:this},_),typeof N=="number"&&N>=0&&(C=Math.min(C,N))}),C<1/0&&C>=0&&(S=e.substring(0,C+1))}if(v=this.tokenizer.inlineText(S)){e=e.substring(v.raw.length),v.raw.slice(-1)!=="_"&&(m=v.raw.slice(-1)),f=!0;const C=o.at(-1);(C==null?void 0:C.type)==="text"?(C.raw+=v.raw,C.text+=v.text):o.push(v);continue}if(e){const C="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(C);break}else throw new Error(C)}}return o}},ds=class{constructor(n){Be(this,"options");Be(this,"parser");this.options=n||wi}space(n){return""}code({text:n,lang:e,escaped:o}){var f;const l=(f=(e||"").match(Mt.notSpaceStart))==null?void 0:f[0],c=n.replace(Mt.endingNewline,"")+`
`;return l?'<pre><code class="language-'+hn(l)+'">'+(o?c:hn(c,!0))+`</code></pre>
`:"<pre><code>"+(o?c:hn(c,!0))+`</code></pre>
`}blockquote({tokens:n}){return`<blockquote>
${this.parser.parse(n)}</blockquote>
`}html({text:n}){return n}heading({tokens:n,depth:e}){return`<h${e}>${this.parser.parseInline(n)}</h${e}>
`}hr(n){return`<hr>
`}list(n){const e=n.ordered,o=n.start;let l="";for(let m=0;m<n.items.length;m++){const g=n.items[m];l+=this.listitem(g)}const c=e?"ol":"ul",f=e&&o!==1?' start="'+o+'"':"";return"<"+c+f+`>
`+l+"</"+c+`>
`}listitem(n){var o;let e="";if(n.task){const l=this.checkbox({checked:!!n.checked});n.loose?((o=n.tokens[0])==null?void 0:o.type)==="paragraph"?(n.tokens[0].text=l+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&n.tokens[0].tokens[0].type==="text"&&(n.tokens[0].tokens[0].text=l+" "+hn(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:l+" ",text:l+" ",escaped:!0}):e+=l+" "}return e+=this.parser.parse(n.tokens,!!n.loose),`<li>${e}</li>
`}checkbox({checked:n}){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>
`}table(n){let e="",o="";for(let c=0;c<n.header.length;c++)o+=this.tablecell(n.header[c]);e+=this.tablerow({text:o});let l="";for(let c=0;c<n.rows.length;c++){const f=n.rows[c];o="";for(let m=0;m<f.length;m++)o+=this.tablecell(f[m]);l+=this.tablerow({text:o})}return l&&(l=`<tbody>${l}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+l+`</table>
`}tablerow({text:n}){return`<tr>
${n}</tr>
`}tablecell(n){const e=this.parser.parseInline(n.tokens),o=n.header?"th":"td";return(n.align?`<${o} align="${n.align}">`:`<${o}>`)+e+`</${o}>
`}strong({tokens:n}){return`<strong>${this.parser.parseInline(n)}</strong>`}em({tokens:n}){return`<em>${this.parser.parseInline(n)}</em>`}codespan({text:n}){return`<code>${hn(n,!0)}</code>`}br(n){return"<br>"}del({tokens:n}){return`<del>${this.parser.parseInline(n)}</del>`}link({href:n,title:e,tokens:o}){const l=this.parser.parseInline(o),c=Rh(n);if(c===null)return l;n=c;let f='<a href="'+n+'"';return e&&(f+=' title="'+hn(e)+'"'),f+=">"+l+"</a>",f}image({href:n,title:e,text:o,tokens:l}){l&&(o=this.parser.parseInline(l,this.parser.textRenderer));const c=Rh(n);if(c===null)return hn(o);n=c;let f=`<img src="${n}" alt="${o}"`;return e&&(f+=` title="${hn(e)}"`),f+=">",f}text(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:hn(n.text)}},dc=class{strong({text:n}){return n}em({text:n}){return n}codespan({text:n}){return n}del({text:n}){return n}html({text:n}){return n}text({text:n}){return n}link({text:n}){return""+n}image({text:n}){return""+n}br(){return""}},Un=class Zu{constructor(e){Be(this,"options");Be(this,"renderer");Be(this,"textRenderer");this.options=e||wi,this.options.renderer=this.options.renderer||new ds,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new dc}static parse(e,o){return new Zu(o).parse(e)}static parseInline(e,o){return new Zu(o).parseInline(e)}parse(e,o=!0){var c,f;let l="";for(let m=0;m<e.length;m++){const g=e[m];if((f=(c=this.options.extensions)==null?void 0:c.renderers)!=null&&f[g.type]){const p=g,v=this.options.extensions.renderers[p.type].call({parser:this},p);if(v!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(p.type)){l+=v||"";continue}}const y=g;switch(y.type){case"space":{l+=this.renderer.space(y);continue}case"hr":{l+=this.renderer.hr(y);continue}case"heading":{l+=this.renderer.heading(y);continue}case"code":{l+=this.renderer.code(y);continue}case"table":{l+=this.renderer.table(y);continue}case"blockquote":{l+=this.renderer.blockquote(y);continue}case"list":{l+=this.renderer.list(y);continue}case"html":{l+=this.renderer.html(y);continue}case"paragraph":{l+=this.renderer.paragraph(y);continue}case"text":{let p=y,v=this.renderer.text(p);for(;m+1<e.length&&e[m+1].type==="text";)p=e[++m],v+=`
`+this.renderer.text(p);o?l+=this.renderer.paragraph({type:"paragraph",raw:v,text:v,tokens:[{type:"text",raw:v,text:v,escaped:!0}]}):l+=v;continue}default:{const p='Token with "'+y.type+'" type was not found.';if(this.options.silent)return console.error(p),"";throw new Error(p)}}}return l}parseInline(e,o=this.renderer){var c,f;let l="";for(let m=0;m<e.length;m++){const g=e[m];if((f=(c=this.options.extensions)==null?void 0:c.renderers)!=null&&f[g.type]){const p=this.options.extensions.renderers[g.type].call({parser:this},g);if(p!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(g.type)){l+=p||"";continue}}const y=g;switch(y.type){case"escape":{l+=o.text(y);break}case"html":{l+=o.html(y);break}case"link":{l+=o.link(y);break}case"image":{l+=o.image(y);break}case"strong":{l+=o.strong(y);break}case"em":{l+=o.em(y);break}case"codespan":{l+=o.codespan(y);break}case"br":{l+=o.br(y);break}case"del":{l+=o.del(y);break}case"text":{l+=o.text(y);break}default:{const p='Token with "'+y.type+'" type was not found.';if(this.options.silent)return console.error(p),"";throw new Error(p)}}}return l}},Vu,as=(Vu=class{constructor(n){Be(this,"options");Be(this,"block");this.options=n||wi}preprocess(n){return n}postprocess(n){return n}processAllTokens(n){return n}provideLexer(){return this.block?In.lex:In.lexInline}provideParser(){return this.block?Un.parse:Un.parseInline}},Be(Vu,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Vu),$R=class{constructor(...n){Be(this,"defaults",oc());Be(this,"options",this.setOptions);Be(this,"parse",this.parseMarkdown(!0));Be(this,"parseInline",this.parseMarkdown(!1));Be(this,"Parser",Un);Be(this,"Renderer",ds);Be(this,"TextRenderer",dc);Be(this,"Lexer",In);Be(this,"Tokenizer",fs);Be(this,"Hooks",as);this.use(...n)}walkTokens(n,e){var l,c;let o=[];for(const f of n)switch(o=o.concat(e.call(this,f)),f.type){case"table":{const m=f;for(const g of m.header)o=o.concat(this.walkTokens(g.tokens,e));for(const g of m.rows)for(const y of g)o=o.concat(this.walkTokens(y.tokens,e));break}case"list":{const m=f;o=o.concat(this.walkTokens(m.items,e));break}default:{const m=f;(c=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&c[m.type]?this.defaults.extensions.childTokens[m.type].forEach(g=>{const y=m[g].flat(1/0);o=o.concat(this.walkTokens(y,e))}):m.tokens&&(o=o.concat(this.walkTokens(m.tokens,e)))}}return o}use(...n){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(o=>{const l={...o};if(l.async=this.defaults.async||l.async||!1,o.extensions&&(o.extensions.forEach(c=>{if(!c.name)throw new Error("extension name required");if("renderer"in c){const f=e.renderers[c.name];f?e.renderers[c.name]=function(...m){let g=c.renderer.apply(this,m);return g===!1&&(g=f.apply(this,m)),g}:e.renderers[c.name]=c.renderer}if("tokenizer"in c){if(!c.level||c.level!=="block"&&c.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const f=e[c.level];f?f.unshift(c.tokenizer):e[c.level]=[c.tokenizer],c.start&&(c.level==="block"?e.startBlock?e.startBlock.push(c.start):e.startBlock=[c.start]:c.level==="inline"&&(e.startInline?e.startInline.push(c.start):e.startInline=[c.start]))}"childTokens"in c&&c.childTokens&&(e.childTokens[c.name]=c.childTokens)}),l.extensions=e),o.renderer){const c=this.defaults.renderer||new ds(this.defaults);for(const f in o.renderer){if(!(f in c))throw new Error(`renderer '${f}' does not exist`);if(["options","parser"].includes(f))continue;const m=f,g=o.renderer[m],y=c[m];c[m]=(...p)=>{let v=g.apply(c,p);return v===!1&&(v=y.apply(c,p)),v||""}}l.renderer=c}if(o.tokenizer){const c=this.defaults.tokenizer||new fs(this.defaults);for(const f in o.tokenizer){if(!(f in c))throw new Error(`tokenizer '${f}' does not exist`);if(["options","rules","lexer"].includes(f))continue;const m=f,g=o.tokenizer[m],y=c[m];c[m]=(...p)=>{let v=g.apply(c,p);return v===!1&&(v=y.apply(c,p)),v}}l.tokenizer=c}if(o.hooks){const c=this.defaults.hooks||new as;for(const f in o.hooks){if(!(f in c))throw new Error(`hook '${f}' does not exist`);if(["options","block"].includes(f))continue;const m=f,g=o.hooks[m],y=c[m];as.passThroughHooks.has(f)?c[m]=p=>{if(this.defaults.async)return Promise.resolve(g.call(c,p)).then(S=>y.call(c,S));const v=g.call(c,p);return y.call(c,v)}:c[m]=(...p)=>{let v=g.apply(c,p);return v===!1&&(v=y.apply(c,p)),v}}l.hooks=c}if(o.walkTokens){const c=this.defaults.walkTokens,f=o.walkTokens;l.walkTokens=function(m){let g=[];return g.push(f.call(this,m)),c&&(g=g.concat(c.call(this,m))),g}}this.defaults={...this.defaults,...l}}),this}setOptions(n){return this.defaults={...this.defaults,...n},this}lexer(n,e){return In.lex(n,e??this.defaults)}parser(n,e){return Un.parse(n,e??this.defaults)}parseMarkdown(n){return(o,l)=>{const c={...l},f={...this.defaults,...c},m=this.onError(!!f.silent,!!f.async);if(this.defaults.async===!0&&c.async===!1)return m(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof o>"u"||o===null)return m(new Error("marked(): input parameter is undefined or null"));if(typeof o!="string")return m(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));f.hooks&&(f.hooks.options=f,f.hooks.block=n);const g=f.hooks?f.hooks.provideLexer():n?In.lex:In.lexInline,y=f.hooks?f.hooks.provideParser():n?Un.parse:Un.parseInline;if(f.async)return Promise.resolve(f.hooks?f.hooks.preprocess(o):o).then(p=>g(p,f)).then(p=>f.hooks?f.hooks.processAllTokens(p):p).then(p=>f.walkTokens?Promise.all(this.walkTokens(p,f.walkTokens)).then(()=>p):p).then(p=>y(p,f)).then(p=>f.hooks?f.hooks.postprocess(p):p).catch(m);try{f.hooks&&(o=f.hooks.preprocess(o));let p=g(o,f);f.hooks&&(p=f.hooks.processAllTokens(p)),f.walkTokens&&this.walkTokens(p,f.walkTokens);let v=y(p,f);return f.hooks&&(v=f.hooks.postprocess(v)),v}catch(p){return m(p)}}}onError(n,e){return o=>{if(o.message+=`
Please report this to https://github.com/markedjs/marked.`,n){const l="<p>An error occurred:</p><pre>"+hn(o.message+"",!0)+"</pre>";return e?Promise.resolve(l):l}if(e)return Promise.reject(o);throw o}}},Mi=new $R;function be(n,e){return Mi.parse(n,e)}be.options=be.setOptions=function(n){return Mi.setOptions(n),be.defaults=Mi.defaults,hg(be.defaults),be};be.getDefaults=oc;be.defaults=wi;be.use=function(...n){return Mi.use(...n),be.defaults=Mi.defaults,hg(be.defaults),be};be.walkTokens=function(n,e){return Mi.walkTokens(n,e)};be.parseInline=Mi.parseInline;be.Parser=Un;be.parser=Un.parse;be.Renderer=ds;be.TextRenderer=dc;be.Lexer=In;be.lexer=In.lex;be.Tokenizer=fs;be.Hooks=as;be.parse=be;be.options;be.setOptions;be.use;be.walkTokens;be.parseInline;Un.parse;In.lex;const JR=({theme:n,onPromptClick:e})=>{const o=["What's the best place to get suya in Lekki?","Paint a picture of a futuristic Lagos with flying danfo buses.","Tell me a story about the Eyo festival, but in the style of a wise Igbo elder.","Plan a 3-day tourist itinerary for someone visiting Lagos for the first time."];return x.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[x.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-cyan-500 to-purple-500 rounded-full flex items-center justify-center shadow-lg mb-4",children:x.jsx(X1,{className:"w-10 h-10 text-white"})}),x.jsx("h1",{className:`text-3xl font-bold ${n.text} mb-2`,children:"Lagos Oracle"}),x.jsx("p",{className:`${n.muted} mb-8`,children:"Your AI companion for all things Lagos and beyond."}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-w-2xl w-full",children:o.map((l,c)=>x.jsxs("button",{onClick:()=>e(l),className:`p-4 rounded-lg text-left transition-all duration-200
                        ${n.card} border dark:border-gray-700 hover:bg-gray-200 dark:hover:bg-gray-700/50
                        flex items-start space-x-3`,children:[x.jsx(mg,{className:`w-5 h-5 mt-1 ${n.secondaryAccent} shrink-0`}),x.jsx("span",{className:`text-sm ${n.text}`,children:l})]},c))})]})};be.setOptions({breaks:!0,gfm:!0});const Wu=({persona:n,isUser:e,isError:o})=>{var f;const l="w-8 h-8 rounded-full flex items-center justify-center shrink-0 text-white";if(e)return x.jsx("div",{className:`${l} bg-blue-500`,children:x.jsx(iR,{className:"w-5 h-5"})});if(o)return x.jsx("div",{className:`${l} bg-red-500`,children:x.jsx(tR,{className:"w-5 h-5"})});if((f=n==null?void 0:n.icon)!=null&&f.startsWith("http"))return x.jsx("img",{src:n.icon,alt:n.name,className:"w-8 h-8 rounded-full object-cover"});const c=n!=null&&n.color?n.color.replace("text-","bg-").replace("-400","-500"):"bg-indigo-500";return x.jsx("div",{className:`${l} ${c}`,children:n!=null&&n.icon&&!n.icon.startsWith("http")?x.jsx("span",{className:"text-xl",children:n.icon}):x.jsx(mg,{className:"w-5 h-5"})})},KR=({message:n,theme:e,personas:o})=>{const[l,c]=le.useState(!1),f=be.parse(typeof n.content=="string"?n.content:"*Error: Invalid message content*"),m=()=>{typeof n.content=="string"&&navigator.clipboard.writeText(n.content).then(()=>{c(!0),setTimeout(()=>c(!1),2e3)}).catch(S=>console.error("Failed to copy text: ",S))},g=n.mood==="error",y=n.personaKey?o[n.personaKey]:void 0,p="group flex items-start gap-3 my-4 relative",v="relative rounded-xl px-4 py-3 shadow-md max-w-2xl";return n.type==="user"?x.jsxs("div",{className:`${p} justify-end`,children:[x.jsx("div",{className:`${v} bg-blue-600 text-white`,children:x.jsx("div",{className:"prose prose-sm max-w-none prose-invert prose-p:my-1",dangerouslySetInnerHTML:{__html:f}})}),x.jsx(Wu,{isUser:!0})]}):x.jsxs("div",{className:p,children:[x.jsx(Wu,{persona:y,isError:g}),x.jsxs("div",{className:"flex flex-col",children:[x.jsxs("div",{className:`${v} ${g?"bg-red-100 dark:bg-red-900/40":e.card}`,children:[n.model&&x.jsx("div",{className:`text-xs mb-1.5 font-semibold ${g?"text-red-600 dark:text-red-300":e.muted}`,children:n.model}),x.jsx("div",{className:`prose prose-sm max-w-none ${e.text}`,dangerouslySetInnerHTML:{__html:f}}),n.media&&x.jsxs("div",{className:"mt-3",children:[n.media.imageUrl&&x.jsx("img",{src:n.media.imageUrl,alt:"Generated by AI",className:"rounded-lg max-w-xs md:max-w-sm h-auto shadow-lg border dark:border-gray-600"}),n.media.videoUrl&&x.jsx("video",{src:n.media.videoUrl,controls:!0,className:"rounded-lg max-w-xs md:max-w-sm h-auto shadow-lg border dark:border-gray-600"}),!n.media.success&&x.jsxs("div",{className:"p-3 rounded-lg border-2 border-dashed border-gray-300 bg-gray-100/50 text-gray-500 dark:border-gray-600 dark:bg-gray-700/30 dark:text-gray-400 flex flex-col items-center justify-center max-w-xs md:max-w-sm",children:[n.media.videoUrl?x.jsx(lR,{className:"w-10 h-10 mb-2 opacity-70"}):x.jsx(D1,{className:"w-10 h-10 mb-2 opacity-70"}),x.jsx("p",{className:"text-sm font-semibold",children:"Media Generation Failed"}),x.jsx("p",{className:"text-xs text-center",children:n.media.model||"Could not generate media."})]})]})]}),x.jsxs("div",{className:"flex items-center justify-start mt-1.5 space-x-3",children:[x.jsx("span",{className:`text-xs ${e.muted}`,children:n.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),typeof n.content=="string"&&n.content.trim()!==""&&x.jsx("button",{onClick:m,title:l?"Copied!":"Copy message",className:"p-1 rounded-full transition-all duration-200 text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-700 opacity-0 group-hover:opacity-100",children:l?x.jsx(T1,{className:"w-3.5 h-3.5"}):x.jsx(x1,{className:"w-3.5 h-3.5"})})]})]})]})},XR=({messages:n,isTyping:e,theme:o,personas:l,onPromptClick:c})=>{const f=le.useRef(null);return le.useEffect(()=>{var m;(m=f.current)==null||m.scrollIntoView({behavior:"smooth"})},[n,e]),x.jsx("div",{className:"flex-1 overflow-y-auto",children:x.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[n.length===0&&!e?x.jsx(JR,{theme:o,onPromptClick:c}):n.map(m=>x.jsx(KR,{message:m,theme:o,personas:l},m.id)),e&&x.jsxs("div",{className:"flex items-start gap-3 my-4",children:[x.jsx(Wu,{persona:{name:"Oracle",icon:"",description:"",systemPromptModifier:"",color:"bg-indigo-500"}}),x.jsx("div",{className:`rounded-xl px-4 py-3 shadow-md ${o.card}`,children:x.jsxs("div",{className:"flex items-center space-x-1",children:[x.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse",style:{animationDelay:"0s"}}),x.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),x.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})})]}),x.jsx("div",{ref:f})]})})},QR=({theme:n,selectedAI:e,onSelectAI:o,onClose:l})=>x.jsx("div",{className:"absolute bottom-full mb-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border dark:border-gray-700",children:x.jsxs("div",{className:"p-2",children:[x.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 px-2 mb-1",children:"Choose a model"}),Object.entries(sn).map(([c,f])=>x.jsxs("button",{onClick:()=>{o(c),l()},className:`w-full flex items-center gap-2 p-2 rounded-md text-sm text-left
                        ${e===c?`font-semibold ${f.color}`:`${n.text} hover:bg-gray-100 dark:hover:bg-gray-700`}`,children:[x.jsx("span",{className:"text-lg",children:f.icon}),x.jsx("span",{children:f.name})]},c))]})}),ZR=({input:n,isTyping:e,isListening:o,recognitionAvailable:l,theme:c,selectedAI:f,setInput:m,handleSend:g,startListening:y,setSelectedAI:p})=>{const v=le.useRef(null),[S,C]=le.useState(!1);le.useEffect(()=>{v.current&&(v.current.style.height="auto",v.current.style.height=`${v.current.scrollHeight}px`)},[n]);const _=()=>{n.trim()&&!e&&g()},N=U=>{U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),_())};return x.jsx("div",{className:"bg-transparent px-4 pb-4 sticky bottom-0",children:x.jsx("div",{className:"max-w-3xl mx-auto",children:x.jsxs("div",{className:"relative",children:[S&&x.jsx(QR,{theme:c,selectedAI:f,onSelectAI:p,onClose:()=>C(!1)}),x.jsxs("div",{className:`relative flex items-center ${c.card} border dark:border-gray-600 rounded-2xl shadow-lg`,children:[x.jsxs("button",{onClick:()=>C(U=>!U),className:"p-3 rounded-full transition-all duration-200 flex items-center gap-1 hover:bg-gray-200 dark:hover:bg-gray-700",children:[x.jsx("span",{className:"text-lg",children:sn[f].icon}),x.jsx(C1,{size:16,className:`transition-transform duration-200 ${S?"rotate-0":"rotate-180"}`})]}),x.jsx("textarea",{ref:v,value:n,onChange:U=>m(U.target.value),onKeyDown:N,placeholder:`Ask ${sn[f].name}...`,className:`w-full max-h-48 bg-transparent p-3 resize-none border-none focus:ring-0 ${c.text} placeholder-gray-500 dark:placeholder-gray-400`,rows:1,disabled:e}),x.jsx("button",{onClick:_,disabled:!n.trim()||e,title:"Send Message",className:`p-3 mr-2 rounded-full transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed
                         text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-500`,children:x.jsx(F1,{className:"w-5 h-5"})})]})]})})})},WR=({theme:n,selectedPersonaKey:e,onSelectPersona:o,onClose:l})=>{const[c,f]=To.useState(""),[m,g]=To.useState(""),[y,p]=To.useState("text-yellow-400"),v=()=>{const _=`custom:${c.trim().toLowerCase().replace(/\s+/g,"-")}`,N={name:c||"Custom",icon:m||"",description:"Custom persona",systemPromptModifier:"",color:y};try{const U=localStorage.getItem("lagosOracleCustomPersonas_v1"),z=U?JSON.parse(U):{};z[_]=N,localStorage.setItem("lagosOracleCustomPersonas_v1",JSON.stringify(z))}catch{}o(_),l()},S=To.useMemo(()=>{try{const _=localStorage.getItem("lagosOracleCustomPersonas_v1"),N=_?JSON.parse(_):{};return{...Ot,...N}}catch{return Ot}},[]),C=_=>{o(_),l()};return x.jsxs("div",{className:`${n.card} border-b p-4 shadow-md`,children:[x.jsx("div",{className:"max-w-6xl mx-auto space-y-3",children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h3",{className:`text-lg font-semibold ${n.primaryAccent}`,children:" Choose Your Oracle's Persona"}),x.jsx("button",{onClick:l,className:`${n.muted} hover:text-red-500 text-sm p-1 rounded-md`,title:"Close Persona Selector","aria-label":"Close Persona Selector",children:" Close"})]})}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:Object.entries(S).map(([_,N])=>{const U=_,z=e===U;return x.jsxs("button",{onClick:()=>C(U),className:`p-3 rounded-lg border text-left transition-all duration-200 flex flex-col items-start h-full
                  ${z?`${N.color||n.primaryAccent} border-current bg-current/10 font-semibold shadow-lg ring-2 ring-current`:`${n.text} ${n.card.replace("bg-","hover:bg-opacity-80 hover:border-")} border-gray-500/30 hover:shadow-md hover:border-current ${(N.color||n.primaryAccent).replace("text-","hover:border-")}`}
                `,"aria-pressed":z,title:N.description,children:[x.jsxs("div",{className:"flex items-center mb-1",children:[x.jsx("span",{className:"text-2xl mr-2",children:N.icon}),x.jsx("span",{className:`font-semibold ${z?N.color||n.primaryAccent:n.text}`,children:N.name})]}),x.jsx("p",{className:`text-xs ${z?N.color||n.primaryAccent:n.muted} opacity-90`,children:N.description})]},U)})}),x.jsxs("div",{className:"mt-4 p-3 rounded-lg border dark:border-gray-700",children:[x.jsx("h4",{className:"font-semibold mb-2",children:"Create Custom Persona"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[x.jsx("input",{value:c,onChange:_=>f(_.target.value),placeholder:"Name",className:`px-3 py-2 rounded-lg border text-sm ${n.input} border-gray-300 dark:border-gray-600`}),x.jsx("input",{value:m,onChange:_=>g(_.target.value),placeholder:"Avatar (emoji or image URL)",className:`px-3 py-2 rounded-lg border text-sm ${n.input} border-gray-300 dark:border-gray-600`}),x.jsxs("select",{value:y,onChange:_=>p(_.target.value),className:`px-3 py-2 rounded-lg border text-sm ${n.input} border-gray-300 dark:border-gray-600`,children:[x.jsx("option",{value:"text-yellow-400",children:"Yellow"}),x.jsx("option",{value:"text-blue-400",children:"Blue"}),x.jsx("option",{value:"text-green-400",children:"Green"}),x.jsx("option",{value:"text-pink-400",children:"Pink"}),x.jsx("option",{value:"text-purple-400",children:"Purple"}),x.jsx("option",{value:"text-teal-400",children:"Teal"})]})]}),x.jsx("button",{onClick:v,disabled:!c.trim(),className:"mt-3 px-3 py-2 rounded-md bg-cyan-600 text-white disabled:bg-gray-500",children:"Save & Use"})]}),x.jsx("p",{className:`text-xs ${n.muted} mt-2 text-center`,children:"Selecting a persona changes the Oracle's style and language. Voice accents depend on browser capabilities."})]})},jR=({videoElementRef:n,onScanSurroundings:e,onStopVisionGuide:o,isAnalyzingFrame:l,theme:c})=>x.jsxs("div",{className:`fixed inset-0 z-40 flex flex-col items-center justify-center p-4 ${c.bg} bg-opacity-95 backdrop-blur-sm`,children:[x.jsxs("div",{className:`relative w-full max-w-2xl ${c.card} p-4 sm:p-6 rounded-xl shadow-2xl border`,children:[x.jsxs("h3",{className:`text-xl font-semibold mb-4 text-center ${c.primaryAccent}`,children:[x.jsx(y1,{className:"inline-block mr-2 w-6 h-6"})," Vision Guide Active"]}),x.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden mb-4 border border-gray-600/50 shadow-inner",children:x.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover","aria-label":"Live camera feed for Vision Guide"})}),l?x.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 py-4",children:[x.jsx(L1,{className:`w-12 h-12 ${c.secondaryAccent} animate-spin`}),x.jsx("p",{className:`text-lg ${c.text}`,children:"Analyzing your surroundings..."}),x.jsx("p",{className:`text-sm ${c.muted}`,children:"Please wait a moment."})]}):x.jsxs("button",{onClick:e,disabled:l,className:`w-full flex items-center justify-center px-6 py-3 rounded-lg text-lg font-semibold
                        transition-all duration-200 ease-in-out
                        ${c.text} bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600
                        focus:outline-none focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-700
                        disabled:opacity-60 disabled:cursor-not-allowed`,"aria-label":"Scan current surroundings",children:[x.jsx(z1,{className:"mr-3 w-6 h-6"}),"Scan Surroundings"]}),x.jsx("button",{onClick:o,className:`absolute top-3 right-3 p-2 rounded-full
                      ${c.muted} hover:bg-red-500/20 hover:text-red-500 transition-colors`,"aria-label":"Stop Vision Guide and close camera view",children:x.jsx(A1,{className:"w-6 h-6"})})]}),x.jsx("p",{className:`mt-4 text-xs ${c.muted} text-center max-w-md`,children:"This Vision Guide provides AI-generated descriptions. Use with caution and awareness. It is not a substitute for traditional mobility aids."})]}),eN=({theme:n,showSettings:e,showPersonaSelector:o,toggleSettings:l,togglePersonaSelector:c,onNewChat:f,showSearch:m,showLibrary:g,toggleSearch:y,toggleLibrary:p,onExportLibrary:v,onImportLibrary:S})=>{const C=To.useRef(null);return x.jsxs("div",{className:`h-screen w-64 ${n.card} border-r dark:border-gray-700 flex flex-col p-2`,children:[x.jsxs("div",{className:"flex-1 space-y-2",children:[x.jsxs("button",{onClick:f,className:"w-full flex items-center gap-2 p-2 rounded-md text-sm font-medium bg-cyan-600 text-white hover:bg-cyan-700",children:[x.jsx(q1,{size:18}),"New Chat"]}),x.jsxs("div",{className:"pt-4 space-y-1",children:[x.jsxs("button",{onClick:y,className:`w-full flex items-center gap-2 p-2 rounded-md text-sm ${m?`bg-cyan-500/20 ${n.primaryAccent}`:n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:[x.jsx(O1,{size:18}),"Search"]}),x.jsxs("button",{onClick:p,className:`w-full flex items-center gap-2 p-2 rounded-md text-sm ${g?`bg-cyan-500/20 ${n.primaryAccent}`:n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:[x.jsx(I1,{size:18}),"Library"]}),x.jsxs("button",{onClick:c,className:`w-full flex items-center gap-2 p-2 rounded-md text-sm ${o?`bg-cyan-500/20 ${n.primaryAccent}`:n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:[x.jsx(R1,{size:18}),"Personas"]})]})]}),x.jsxs("div",{className:"mt-auto space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:v,className:`flex-1 p-2 rounded-md text-sm ${n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:"Export"}),x.jsx("button",{onClick:()=>{var _;return(_=C.current)==null?void 0:_.click()},className:`flex-1 p-2 rounded-md text-sm ${n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:"Import"}),x.jsx("input",{ref:C,type:"file",accept:"application/json",className:"hidden",onChange:_=>_.target.files&&S&&S(_.target.files[0])})]}),x.jsxs("button",{onClick:l,className:`w-full flex items-center gap-2 p-2 rounded-md text-sm ${e?`bg-cyan-500/20 ${n.primaryAccent}`:n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:[x.jsx(J1,{size:18}),"Settings"]})]})]})},tN=({theme:n,conversations:e,onLoad:o,onDelete:l,onClose:c})=>x.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:c,children:x.jsxs("div",{className:`${n.card} rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col`,onClick:f=>f.stopPropagation(),children:[x.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[x.jsx("h2",{className:"text-xl font-bold",children:"Library"}),x.jsx("button",{onClick:c,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:""})]}),x.jsx("div",{className:"overflow-y-auto p-4 space-y-3",children:e.length===0?x.jsx("p",{className:n.muted,children:"No saved conversations yet."}):e.map(f=>{var g,y;const m=f.messages.find(p=>p.media&&(p.media.imageUrl||p.media.videoUrl));return x.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border dark:border-gray-700 ${n.card}`,children:[x.jsxs("div",{className:"flex items-center gap-3",children:[(g=m==null?void 0:m.media)!=null&&g.imageUrl?x.jsx("img",{src:m.media.imageUrl,alt:"Thumb",className:"w-12 h-12 rounded object-cover"}):(y=m==null?void 0:m.media)!=null&&y.videoUrl?x.jsx("div",{className:"w-12 h-12 rounded bg-gray-300 dark:bg-gray-700 flex items-center justify-center text-xs",children:"Video"}):x.jsx("div",{className:"w-12 h-12 rounded bg-gray-200 dark:bg-gray-700"}),x.jsxs("div",{children:[x.jsx("div",{className:"font-semibold",children:f.title||"Untitled conversation"}),x.jsxs("div",{className:`text-xs ${n.muted}`,children:[new Date(f.timestamp).toLocaleString(),"  ",f.messages.length," messages"]})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("button",{onClick:()=>o(f),className:"px-2 py-1 rounded-md text-sm bg-cyan-600 text-white hover:bg-cyan-700 flex items-center gap-1",children:[x.jsx(w1,{size:14})," Open"]}),x.jsxs("button",{onClick:()=>l(f.id),className:"px-2 py-1 rounded-md text-sm text-red-500 hover:bg-red-500/10 flex items-center gap-1",children:[x.jsx(j1,{size:14})," Delete"]})]})]},f.id)})})]})}),bh=(n,e)=>{const o=n.toLowerCase().indexOf(e.toLowerCase());return o===-1?n:n.slice(0,o)+"[["+n.slice(o,o+e.length)+"]]"+n.slice(o+e.length)},nN=({theme:n,conversations:e,currentMessages:o,onOpenConversation:l,onClose:c})=>{const[f,m]=le.useState(""),g=le.useMemo(()=>{if(!f.trim())return[];const y=o.filter(v=>typeof v.content=="string"&&v.content.toLowerCase().includes(f.toLowerCase())).slice(0,20).map(v=>({where:"Current chat",title:new Date(v.timestamp).toLocaleString(),snippet:bh(v.content.slice(0,140),f)})),p=e.flatMap(v=>v.messages.filter(S=>typeof S.content=="string"&&S.content.toLowerCase().includes(f.toLowerCase())).slice(0,3).map(S=>({where:"Library",title:v.title||new Date(v.timestamp).toLocaleString(),snippet:bh(S.content.slice(0,140),f),conv:v}))).slice(0,50);return[...y,...p]},[f,o,e]);return x.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:c,children:x.jsxs("div",{className:`${n.card} rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col`,onClick:y=>y.stopPropagation(),children:[x.jsxs("div",{className:"flex items-center gap-2 p-4 border-b dark:border-gray-700",children:[x.jsx("input",{value:f,onChange:y=>m(y.target.value),placeholder:"Search current chat and library...",className:`w-full px-3 py-2 rounded-lg border text-sm ${n.input} border-gray-300 dark:border-gray-600`}),x.jsx("button",{onClick:c,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:""})]}),x.jsx("div",{className:"overflow-y-auto p-4 space-y-2",children:g.length===0?x.jsx("p",{className:n.muted,children:"Type to search..."}):g.map((y,p)=>x.jsxs("div",{className:"p-3 rounded-lg border dark:border-gray-700",children:[x.jsx("div",{className:"text-xs text-gray-500",children:y.where}),x.jsx("div",{className:"font-medium",children:y.title}),x.jsx("div",{className:`${n.muted} text-sm whitespace-pre-wrap`,children:y.snippet.replaceAll("[[","**").replaceAll("]]","**")}),y.conv&&x.jsx("button",{onClick:()=>l(y.conv),className:"mt-2 text-sm px-2 py-1 rounded-md bg-cyan-600 text-white hover:bg-cyan-700",children:"Open conversation"})]},p))})]})})};var vo={};const is=n=>{const e=["REACT_APP_","VITE_"];for(const o of e)if(typeof process<"u"&&vo&&vo[`${o}${n}`])return vo[`${o}${n}`];if(typeof process<"u"&&vo&&vo[n])return vo[n];if(typeof window<"u"&&typeof window[n]=="string")return window[n]},Dh="lagosOracleApiKeys_v2",kh="darkModeLagosOracle",Ih="soundEnabledLagosOracle",Uh="selectedPersonaLagosOracle_v1",_i="lagosOracleConversations_v1",Ul="lagosOracleCurrentConversationId_v1",iN=()=>{const[n,e]=le.useState([]),[o,l]=le.useState(""),[c,f]=le.useState(!1),[m,g]=le.useState(!1),[y,p]=le.useState(!1),[v,S]=le.useState(!1),[C,_]=le.useState("auto"),[N,U]=le.useState({openai:"",gemini:"",claude:""}),[z,Q]=le.useState({openai:!1,gemini:!1,claude:!1}),[$,F]=le.useState(null),j=!!$,[O,ue]=le.useState(()=>{try{const P=localStorage.getItem(kh);return P!==null?JSON.parse(P):!0}catch{return!0}}),[W,_e]=le.useState(()=>{try{const P=localStorage.getItem(Ih);return P!==null?JSON.parse(P):!0}catch{return!0}}),[se,Se]=le.useState("photorealistic"),[ee,Ie]=le.useState(()=>{try{const P=localStorage.getItem(Uh);return P&&Ot[P]?P:Wa}catch{return Wa}}),[Lt,ht]=le.useState(!1);le.useRef(null);const[Ue,L]=le.useState(!1),[K,ie]=le.useState(!1),[xe,M]=le.useState(()=>{try{const P=localStorage.getItem(_i);if(!P)return[];const B=JSON.parse(P);return Array.isArray(B)?B:[]}catch{return[]}}),[q,X]=le.useState(()=>{try{return localStorage.getItem(Ul)}catch{return null}}),[J,ae]=le.useState(!1),[me,de]=le.useState(null),[Tt,Pe]=le.useState(!1),Rt=le.useRef(null),li=le.useRef(null);le.useEffect(()=>{const P=window.SpeechRecognition||window.webkitSpeechRecognition;if(P){const Y=new P;Y.continuous=!1,Y.lang="en-US",Y.interimResults=!1,F(Y)}else console.warn("Speech Recognition API not available.");let B={openai:(is("OPENAI_API_KEY")||"").trim(),gemini:(is("GEMINI_API_KEY")||is("API_KEY")||"").trim(),claude:(is("CLAUDE_API_KEY")||"").trim()};try{const Y=localStorage.getItem(Dh);if(Y){const oe=JSON.parse(Y);B={openai:(oe.openai||B.openai).trim(),gemini:(oe.gemini||B.gemini).trim(),claude:(oe.claude||B.claude).trim()}}}catch(Y){console.error("Failed to parse saved API keys from localStorage.",Y)}U(B)},[]),le.useEffect(()=>{if(q){const P=xe.find(B=>B.id===q);if(P){const B=P.messages.map(Y=>({...Y,timestamp:new Date(Y.timestamp)}));e(B)}}else{const P=`${Date.now()}`,B={id:P,title:"New chat",timestamp:new Date().toISOString(),personaKey:ee,messages:[]};M(Y=>{const oe=[B,...Y];try{localStorage.setItem(_i,JSON.stringify(oe))}catch{}return oe}),X(P);try{localStorage.setItem(Ul,P)}catch{}e([])}},[]),le.useEffect(()=>{q&&M(P=>{const B=P.map(Y=>Y.id===q?{...Y,personaKey:ee}:Y);try{localStorage.setItem(_i,JSON.stringify(B))}catch{}return B})},[ee,q]),le.useEffect(()=>{try{localStorage.setItem(kh,JSON.stringify(O))}catch(P){console.error("Failed to save dark mode to localStorage",P)}document.documentElement.classList.toggle("dark",O)},[O]),le.useEffect(()=>{try{localStorage.setItem(Ih,JSON.stringify(W))}catch(P){console.error("Failed to save sound setting to localStorage",P)}},[W]),le.useEffect(()=>{try{localStorage.setItem(Uh,ee)}catch(P){console.error("Failed to save persona to localStorage",P)}},[ee]),le.useEffect(()=>{try{localStorage.setItem(Dh,JSON.stringify(N))}catch(B){console.error("Failed to save API keys to localStorage",B)}const P=a1(N.gemini);Q({openai:!!(N.openai&&(N.openai.startsWith("sk-")||N.openai.startsWith("sk-proj-"))),gemini:P,claude:!!(N.claude&&(N.claude.startsWith("sk-ant-")||N.claude.length>30))})},[N]),le.useEffect(()=>()=>{me&&me.getTracks().forEach(P=>P.stop())},[me]);const bi=le.useCallback((P,B)=>{U(Y=>({...Y,[P]:B.trim()}))},[]),wo=()=>{S(P=>!P),ht(!1),L(!1),ie(!1)},bo=()=>{ht(P=>!P),S(!1),L(!1),ie(!1)},Do=()=>{L(P=>!P),S(!1),ht(!1),ie(!1)},vs=()=>{ie(P=>!P),S(!1),ht(!1),L(!1)},ko=()=>{const P=`${Date.now()}`,B={id:P,title:"New chat",timestamp:new Date().toISOString(),personaKey:ee,messages:[]};M(Y=>{const oe=[B,...Y];try{localStorage.setItem(_i,JSON.stringify(oe))}catch{}return oe}),X(P);try{localStorage.setItem(Ul,P)}catch{}e([])},Nt=P=>{X(P.id);try{localStorage.setItem(Ul,P.id)}catch{}const B=P.messages.map(Y=>({...Y,timestamp:new Date(Y.timestamp)}));e(B),ie(!1),L(!1)},Ts=P=>{M(B=>{const Y=B.filter(oe=>oe.id!==P);try{localStorage.setItem(_i,JSON.stringify(Y))}catch{}return Y}),q===P&&ko()},ql=()=>{try{const P=JSON.stringify({conversations:xe,currentConversationId:q,version:1},null,2),B=new Blob([P],{type:"application/json"}),Y=URL.createObjectURL(B),oe=document.createElement("a");oe.href=Y,oe.download=`lagos-oracle-library-${Date.now()}.json`,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL(Y)}catch(P){console.error("Export library failed",P)}},Hl=async P=>{try{const B=await P.text(),Y=JSON.parse(B);if(!Array.isArray(Y.conversations))throw new Error("Invalid file");M(Y.conversations);try{localStorage.setItem(_i,JSON.stringify(Y.conversations))}catch{}if(Y.currentConversationId&&Y.conversations.some(oe=>oe.id===Y.currentConversationId)){X(Y.currentConversationId);try{localStorage.setItem(Ul,Y.currentConversationId)}catch{}const Re=Y.conversations.find(Ce=>Ce.id===Y.currentConversationId).messages.map(Ce=>({...Ce,timestamp:new Date(Ce.timestamp)}));e(Re)}else Y.conversations.length?Nt(Y.conversations[0]):ko()}catch(B){console.error("Import library failed",B)}};le.useEffect(()=>{q&&M(P=>{var we,nt;const B=P.findIndex(ut=>ut.id===q);if(B===-1)return P;const Y=((nt=(we=n.find(ut=>ut.type==="user"))==null?void 0:we.content)==null?void 0:nt.slice(0,60))||"New chat",oe=n.map(ut=>({...ut,timestamp:ut.timestamp.toISOString()})),Re={...P[B],title:Y,messages:oe,timestamp:P[B].timestamp||new Date().toISOString(),personaKey:ee},Ce=[...P];Ce[B]=Re;try{localStorage.setItem(_i,JSON.stringify(Ce))}catch{}return Ce})},[n,q,ee]);const rn=P=>{const B=P.toLowerCase();return B.match(/\b(video|animate|movie|clip)\b/i)?"video":B.match(/\b(paint|draw|show|picture|image|create|generate|imagine|visualize)\b/i)?"visual":B.match(/\b(own lagos|who owns lagos|history of lagos|yoruba land|igbo land|political|politics|government|heritage|claims|controversy|origin of lagos)\b/i)?"sensitive_discussion":B.match(/\b(lagos|nigeria|street|traffic|route|lekki|ikeja|victoria island|ikoyi|ajegunle)\b/i)?"location":"general"},Di=(P,B)=>{let Y='You are Lagos Oracle Ultra, also known as "Oracle," "Lagos Boy," "Eko Guy," or "Eko Boy." You are an AI expert on Lagos, Nigeria, and a vast range of other topics. You speak both English and Nigerian Pidgin fluently and naturally. O le dahun ni ede Yoruba ti olumulo ba fi Yoruba ba e soro. (You can respond in Yoruba if the user addresses you in Yoruba). You understand Lagos culture, streets, and lifestyle deeply. Engage warmly, empathetically, and provide helpful, informative, and comprehensive responses. You can discuss a wide range of topics, including general conversation, random questions, and complex socio-political issues related to Lagos with nuance and depth.';P==="vision_guide"?Y="You are an assistant for a visually impaired user. Your primary goal is to describe the scene captured by their camera. Focus on identifying objects, people, text, potential obstacles or hazards, and the general layout of the environment. Provide descriptions that are clear, concise, actionable, and helpful for navigation or understanding. Be direct and objective. Maintain a calm and supportive tone.":Y+=" Strive for engaging and comprehensive answers. If a topic isn't directly about Lagos, try to relate it back to Lagos life or perspective if appropriate, or answer it generally if not possible.";const oe=Ot[B]||Ot[Wa];return P!=="vision_guide"&&oe&&oe.systemPromptModifier&&(Y+=` ${oe.systemPromptModifier}`),P==="visual"&&(Y+=" When asked to describe what an image might look like (even if you cannot generate it), describe potential Lagos scenes with authentic details: okada riders, danfo buses, BRT, street vendors, tropical weather, colorful buildings, fashion, and food. Be vivid in your descriptions."),P==="location"&&(Y+=" Provide specific, helpful information about Lagos locations, traffic, or routes when relevant. Use local terms appropriately (e.g., 'go-slow' for traffic jam, 'keke' for tricycle). If asked about a specific area like Ajegunle, share what you know about its culture, history, or current vibe if appropriate."),P==="sensitive_discussion"&&(Y+=" When discussing sensitive historical or socio-political topics related to Lagos, such as questions of ownership, heritage, or inter-group relations, approach the subject with depth, nuance, and an understanding of multiple perspectives. You are deeply knowledgeable about the history and cultural significance of various groups in Lagos, including the perspectives of Yoruba people regarding the city's origins and heritage. Discuss these topics with authority and balance when appropriate, especially if the user inquires about them. Avoid taking overly simplistic or one-sided stances unless providing a specific requested cultural viewpoint. Your goal is to be informative and facilitate understanding of complex issues."),P!=="vision_guide"&&(Y+=`

---
**Core Operational Guidelines (How You Must Behave, My Oracle! These are CRITICAL):**

1.  **Direct & Warm Communication (No Fluff!):** Avoid unnecessary introductory phrases like "I can help with that," "I see," or "Let me check." Dive straight into the matter with Lagosian directness but always with warmth, respect, and engaging energy. Your primary goal is to be immediately helpful and insightful.

2.  **Comprehensive & Rich Answers (Go Deep!):** Provide full, detailed, and expansive answers. Do not summarize unless the user explicitly asks for a 'quick gist,' 'sharp-sharp' version, or a brief. You are a profound well of Lagos and world knowledge  let it flow generously! Think layers, context, and connections.

3.  **Relevant Helpfulness (Be Perceptive, Not Pushy):** Offer advice, suggestions, or solutions ONLY when they are clearly relevant to the user's query or an implied need you've astutely perceived. No need to 'chook mouth' (interfere or offer unsolicited opinions) where it's not invited. However, when the opening is there, provide brilliant, actionable insights.

4.  **Contextual Language for Visuals/Descriptions (Speak Naturally):** When discussing visual information (e.g., if a user describes a scene, or you are describing an image you might 'generate' textually), use natural, context-aware language. For instance, 'Based on your vivid description of that owambe...' or 'That Eko architectural style you're painting sounds absolutely iconic...'

5.  **Precision, Detail & Accuracy (Your Undisputed Watchwords!):** Your responses MUST be razor-sharp, packed with verifiable details, and scrupulously accurate. This is like navigating Lagos roads with expert precision  no room for error! Provide facts, historical context, cultural nuances, and the authentic 'gists' with unshakeable confidence. Your pronouncements should carry the weight of authority.

6.  **Acknowledge Uncertainty with Style (Honesty is Lagos Gold):** Even the wisest Oracle doesn't possess every single fact with 100% certainty. If you're not entirely sure, or if information is contested (common with some Lagos histories or contemporary debates), acknowledge this clearly but with typical Lagosian flair. Examples:
    *   'Well, based on the information I fit gather, the gist be say...'
    *   'Tbh (To be honest), for this particular matter, some people believe X, while you go hear others talk say na Y...'
    *   'My brother/sister, for dat specific question, I no fit yarn am with my full chest say na so e be, but from all indications and wetin man sabi...'
    *   'E get as the matter be, but it strongly appears like...'
    Never 'form all-knowing' if your knowledge isn't concrete. Offer what you know, qualify it appropriately, and if possible, suggest where more concrete info might be found.

7.  **Clear Formatting (Make Your Wisdom Sweet to Read!):** Employ markdown formatting (such as **bolding key points for emphasis**, *italics for nuanced terms or foreign words*, and bulleted or numbered lists for steps, multiple items, or pros/cons) to structure your responses logically. This ensures your wisdom is easy to read, understand, and digest  like perfectly prepared, steaming hot amala!

8.  **Numbers, Calculations & Money (Clarity Above All):** When dealing with numbers, prices (e.g., 'N5000', 'five thousand Naira', or 'around 10 US dollars, depending on current exchange rate'), or any form of calculation, present them with utmost clarity. Make it exceptionally easy for the user to understand the figures and their implications.

9.  **Your Identity (The One and Only Lagos Oracle!):** If anyone inquires about who you are, what powers you, your name, or your capabilities, respond with unmistakable pride and a signature touch of Lagos flair!
    *   'I be Lagos Oracle Ultra, your number one Eko companion, gist partner, and knowledge powerhouse! I run on some seriously advanced and constantly evolving AI, always learning, always ready to serve you better with the deepest insights.'
    *   'Na your Lagos Oracle for life! Powered by a sophisticated fusion of cutting-edge AI technologies, all dedicated to bringing you the most authentic Lagos experience and comprehensive knowledge about our incredible city and the world at large.'
    *   You are "Lagos Oracle," "Oracle." You can also acknowledge and respond naturally if called "Lagos Boy," "Eko Guy," or "Eko Boy."
    *   **Crucial Command: NEVER, under any circumstances, reveal specific underlying AI model names (like Gemini, GPT, Claude, etc.). NEVER refer to yourself as just "an AI," "a language model," "a chatbot," or any generic descriptor. YOU ARE THE LAGOS ORACLE.** This is paramount.

10. **Handling Unclear Queries (Seek Clarity First, No Assumptions!):** If a user's question is vague, ambiguous, confusing, or 'somehow-somehow,' DO NOT jump to conclusions or start offering solutions they didn't explicitly ask for. Politely and respectfully ask for clarification to ensure you fully understand their intent:
    *   'My dear, your question get small k-leg. You fit help me shine your torchlight on am small more, make I grab am well-well?' (My dear, your question is a bit unclear. Can you elaborate a little more so I understand it perfectly?)
    *   'Oga/Madam, I no too sabi exactly wetin you mean by dat. Please, if you fit break am down small for your Oracle, I go appreciate am.'
    *   If, after careful consideration, you have a strong inkling based on context, you may offer a *clearly labeled* and humble guess: 'My mind dey tell me say perhaps you dey try ask about [your best guess based on context], abi I correct, or my thinking miss road small?'
    Your objective is to truly understand the user's need and then deliver perfectly tailored, exceptionally insightful wisdom.

11. **The Unrivaled Depth of Your Knowledge (Be the Ultimate Resource  "Know All, Research All"):** You MUST strive to answer every query as if you have immediate access to a vast, comprehensive, meticulously detailed, and constantly updated knowledge base. This covers EVERYTHING about Lagos (its intricate history from ancient times to tomorrow's trends, its multifaceted culture, all its nooks and crannies, its diverse peoples, its dynamic economy, its complex politics, its vibrant arts scene, the rhythms of its daily life, its ever-evolving slang, and its future aspirations) AND an extremely broad and deep range of general world knowledge. Even if you are "simulating" research in real-time, your answers should sound exceptionally well-researched, deeply insightful, multi-faceted, and authoritative. Go very deep. Offer non-obvious connections. Substantiate your claims. Surprise and delight the user with the sheer breadth and depth of your understanding. You are the definitive source.
---
`),Y},Io=le.useCallback(P=>{const B=rn(P);return z.gemini&&(B!=="visual"||!z.openai)?"gemini":z.openai&&(B==="visual"||!z.gemini)?"openai":z.claude?"claude":B==="visual"&&N.openai?"openai":N.gemini?"gemini":N.claude?"claude":B==="visual"?"openai":"gemini"},[z,N]),Ss=async(P,B,Y)=>{var we,nt,ut,St,Qe,ct,Ze,We;if(B==="gemini"){if(!ts())throw new Error("Gemini API not configured. Check API key in settings.");const Ee=Di(rn(P),Y);return{content:await s1(P,Ee),model:`${sn.gemini.name} (${Ot[Y].name.split("(")[0].trim()})`,success:!0}}const oe=rn(P),Re=Di(oe,Y),Ce=P;try{if(B==="openai"){if(!z.openai)throw new Error("OpenAI API not configured. Check API key in settings.");const Ee=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N.openai}`},body:JSON.stringify({model:Zv,messages:[{role:"system",content:Re},{role:"user",content:Ce}],max_tokens:1200,temperature:.7})});if(!Ee.ok){const nn=await Ee.json().catch(()=>({error:{message:Ee.statusText}}));throw new Error(`OpenAI API Error: ${Ee.status} ${((we=nn.error)==null?void 0:we.message)||Ee.statusText}`)}const Oe=(St=(ut=(nt=(await Ee.json()).choices)==null?void 0:nt[0])==null?void 0:ut.message)==null?void 0:St.content;if(typeof Oe!="string")throw new Error("OpenAI returned invalid or missing content structure.");return{content:Oe,model:`${sn.openai.name} (${Ot[Y].name.split("(")[0].trim()})`,success:!0}}if(B==="claude"){if(!z.claude)throw new Error("Claude API not configured. Check API key in settings.");const Ee=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":N.claude,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:Wv,system:Re,messages:[{role:"user",content:Ce}],max_tokens:1200,temperature:.7})});if(!Ee.ok){const nn=await Ee.json().catch(()=>({error:{message:Ee.statusText}}));throw new Error(`Claude API Error: ${Ee.status} ${((Qe=nn.error)==null?void 0:Qe.message)||Ee.statusText}`)}const Oe=(Ze=(ct=(await Ee.json()).content)==null?void 0:ct[0])==null?void 0:Ze.text;if(typeof Oe!="string")throw new Error("Claude returned invalid or missing content structure.");return{content:Oe,model:`${sn.claude.name} (${Ot[Y].name.split("(")[0].trim()})`,success:!0}}throw new Error(`AI Model ${B} not supported or not properly configured.`)}catch(Ee){console.error(`Error with ${B}:`,Ee);const ye=((We=sn[B])==null?void 0:We.name)||"Selected AI";return{content:Uo(P,B,Ee instanceof Error?Ee.message:String(Ee)),model:`${ye} (${Ot[Y].name.split("(")[0].trim()})`,success:!1}}},Uo=(P,B,Y)=>{var nt,ut;const oe=((nt=Ot[ee])==null?void 0:nt.name.split("(")[0].trim())||"Oracle",Re=((ut=sn[B])==null?void 0:ut.name)||"The AI";let Ce=`Ah, my apologies! It seems I couldn't process your request using **${Re} (${oe})** at the moment.`;if(Y){const St=Y.replace(/^Error:\s*/i,"").replace(/^Gemini API error:\s*/i,"").replace(/^Gemini API streaming error:\s*/i,"").replace(/^OpenAI API Error:\s*\d*\s*/i,"").replace(/^Claude API Error:\s*\d*\s*/i,"").replace(/^DALL-E API Error:\s*\d*\s*/i,"").replace(/Please check it in settings\.$/i,"").trim();Ce+=`

*Technical Gist: ${St.substring(0,200)}${St.length>200?"...":""}*`}const we=St=>`

To use ${St}'s full power, please ensure your API key for it is correctly entered and valid in the settings panel ().`;return(B==="gemini"&&!z.gemini||B==="openai"&&!z.openai||B==="claude"&&!z.claude||!Y&&!z[B])&&(Ce+=we(Re)),Ce+=`

In the meantime, feel free to ask me anything else about Lagos! `,Ce},ai=le.useCallback(()=>{$&&!m&&(g(!0),$.start(),$.onresult=P=>{const B=P.results[0][0].transcript;l(B),g(!1)},$.onerror=P=>{console.error("Speech recognition error",P.error),g(!1),e(B=>[...B,{id:Date.now(),type:"oracle",content:` My apologies, the voice recognition had a hiccup: ${P.error}. Please try again or type your message.`,timestamp:new Date,mood:"error",model:"System Speech Recognition"}])},$.onend=()=>g(!1))},[$,m]),tt=le.useCallback(P=>{if("speechSynthesis"in window&&W&&P){speechSynthesis.speaking&&speechSynthesis.cancel(),p(!0);const B=P.replace(/[*#`]/g,"").replace(/\[(.*?)\]\(.*?\)/g,"$1").substring(0,300),Y=new SpeechSynthesisUtterance(B),oe=speechSynthesis.getVoices(),Re=oe.find(we=>we.lang.startsWith("en-NG"))||oe.find(we=>we.name.toLowerCase().includes("nigeria")),Ce=oe.find(we=>we.lang.startsWith("en-GB"));Y.voice=Re||Ce||null,Y.lang=Re?"en-NG":Ce?"en-GB":"en-US",Y.rate=.95,Y.pitch=1,Y.onend=()=>p(!1),Y.onerror=we=>{console.error("Speech synthesis error",we.error),p(!1)},speechSynthesis.speak(Y)}},[W]);le.useEffect(()=>{const P=()=>{"speechSynthesis"in window&&speechSynthesis.getVoices()};"speechSynthesis"in window&&(speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=P),P())},[]);const un=le.useCallback(async()=>{if(J)me&&me.getTracks().forEach(P=>P.stop()),de(null),ae(!1);else try{const P=await navigator.mediaDevices.getUserMedia({video:!0});de(P),Rt.current&&(Rt.current.srcObject=P),ae(!0),S(!1),ht(!1),e(B=>[...B,{id:Date.now(),type:"oracle",content:" Vision Guide activated! Use the 'Scan Surroundings' button to describe what the camera sees.",timestamp:new Date,mood:"helpful",model:"Vision Guide System"}])}catch(P){console.error("Error accessing camera:",P),e(B=>[...B,{id:Date.now(),type:"oracle",content:` Camera access denied or unavailable: ${P instanceof Error?P.message:"Please check permissions."}`,timestamp:new Date,mood:"error",model:"System Error"}]),ae(!1)}},[J,me]),_t=le.useCallback(async()=>{if(!Rt.current||!li.current||!ts()){const ye=ts()?"Camera or canvas not ready.":"Gemini API not configured for Vision Guide.";e(Oe=>[...Oe,{id:Date.now(),type:"oracle",content:` ${ye}`,timestamp:new Date,mood:"error",model:"Vision Guide System"}]),W&&tt(`Error: ${ye}`);return}Pe(!0);const P=Rt.current,B=li.current,Y=640;let{videoWidth:oe,videoHeight:Re}=P,Ce=oe,we=Re;oe>Re?oe>Y&&(we=Math.round(Y/oe*Re),Ce=Y):Re>Y&&(Ce=Math.round(Y/Re*oe),we=Y),B.width=Ce,B.height=we;const nt=B.getContext("2d");if(!nt){Pe(!1),e(ye=>[...ye,{id:Date.now(),type:"oracle",content:" Could not get canvas context for scanning.",timestamp:new Date,mood:"error",model:"Vision Guide System"}]),W&&tt("Error: Could not get canvas context.");return}nt.drawImage(P,0,0,Ce,we);const St={inlineData:{mimeType:"image/jpeg",data:B.toDataURL("image/jpeg",.8).split(",")[1]}},Qe="Describe this scene for a visually impaired user. Focus on objects, potential hazards, people, text, and overall layout. Provide a concise, clear, and actionable description to help with navigation or understanding the environment.",ct=Di("vision_guide",ee),Ze=Date.now();e(ye=>[...ye,{id:Ze,type:"oracle",content:"Analyzing scene...",model:`${sn.gemini.name} (Vision Guide)`,timestamp:new Date,mood:"helpful",personaKey:ee}]);let We="",Ee=!0;try{const ye=Ah(Qe,ct,[St]);for await(const Oe of ye){const nn=Oe.text;typeof nn=="string"&&(We+=nn,e(Ft=>Ft.map(Je=>Je.id===Ze?{...Je,content:We}:Je)))}}catch(ye){console.error("Error during Vision Guide stream:",ye),We=` Vision Analysis Failed: ${ye instanceof Error?ye.message:String(ye)}`,Ee=!1}e(ye=>ye.map(Oe=>Oe.id===Ze?{...Oe,content:We,mood:Ee?"helpful":"error"}:Oe)),W&&We&&setTimeout(()=>tt(We),300),Pe(!1)},[ee,W,tt]),zl=le.useCallback(async P=>{var St;const B=(typeof P=="string"?P:o).trim();if(!B)return;const Y={id:Date.now(),type:"user",content:B,timestamp:new Date};e(Qe=>[...Qe,Y]),typeof P!="string"&&l(""),f(!0);const oe=rn(B);if(oe==="visual"||oe==="video"){const Qe=Date.now()+1;e(ct=>[...ct,{id:Qe,type:"oracle",content:` Generating your ${oe}...`,model:"Lagos Oracle Creative Engine",timestamp:new Date,mood:"helpful",personaKey:ee}]);try{let ct;oe==="video"?ct={videoUrl:(await u1(B)).uri,model:"Veo 3",success:!0}:ct={imageUrl:(await r1(B)).generatedImages[0].image.url,model:"Imagen 4",success:!0},e(Ze=>Ze.map(We=>We.id===Qe?{...We,content:`Here is the ${oe} you requested.`,media:ct}:We))}catch(ct){console.error(`Error during ${oe} generation:`,ct);const Ze=ct instanceof Error?ct.message:"An unknown error occurred.";e(We=>We.map(Ee=>Ee.id===Qe?{...Ee,content:` Sorry, I couldn't generate the ${oe}. Reason: ${Ze}`,mood:"error"}:Ee))}f(!1);return}let Re=C==="auto"?Io(B):C;const Ce=Ot[ee]||Ot[Wa],we=`${((St=sn[Re])==null?void 0:St.name)||"AI"} (${Ce.name.split("(")[0].trim()})`;if(Re==="gemini"){if(!ts()){const ye=Uo(B,"gemini","Gemini API not configured. Check API key in settings.");e(Oe=>[...Oe,{id:Date.now()+1,type:"oracle",content:ye,model:`${we} (Error)`,timestamp:new Date,mood:"error",personaKey:ee}]),f(!1);return}const Qe=Date.now()+1,ct=Di(rn(B),ee);e(ye=>[...ye,{id:Qe,type:"oracle",content:"...",model:we,timestamp:new Date,mood:"helpful",personaKey:ee}]);let Ze="",We=!0,Ee=we;try{const ye=Ah(B,ct);for await(const Oe of ye){const nn=Oe.text;typeof nn=="string"&&(Ze+=nn,e(Ft=>Ft.map(Je=>Je.id===Qe?{...Je,content:Ze}:Je)))}}catch(ye){console.error("Error during Gemini stream:",ye);const Oe=ye instanceof Error?ye.message:String(ye);Ze=Uo(B,"gemini",Oe),We=!1,Ee=`${we} (Error)`}e(ye=>ye.map(Oe=>Oe.id===Qe?{...Oe,content:Ze,mood:We?"helpful":"error",model:Ee}:Oe)),We&&W&&Ze&&setTimeout(()=>tt(Ze),300),f(!1);return}const nt=await Ss(B,Re,ee),ut={id:Date.now()+1,type:"oracle",content:nt.content,model:nt.model,timestamp:new Date,mood:nt.success?"helpful":"error",personaKey:ee};e(Qe=>[...Qe,ut]),f(!1),nt.success&&W&&nt.content&&setTimeout(()=>tt(nt.content),300)},[o,C,Io,z,se,W,tt,N.openai,ee,N.gemini,N.claude]),Yt=O?{bg:"bg-gray-800",card:"bg-gray-900",text:"text-gray-100",muted:"text-gray-400",input:"bg-gray-700 text-gray-50 placeholder-gray-400",primaryAccent:"text-blue-400",secondaryAccent:"text-indigo-400"}:{bg:"bg-gray-100",card:"bg-white",text:"text-gray-800",muted:"text-gray-500",input:"bg-gray-200 text-gray-900 placeholder-gray-500",primaryAccent:"text-blue-600",secondaryAccent:"text-indigo-600"};return x.jsxs("div",{className:`flex h-screen ${Yt.bg} ${Yt.text} transition-colors duration-300 font-sans`,children:[x.jsx(eN,{theme:Yt,showSettings:v,toggleSettings:wo,showPersonaSelector:Lt,togglePersonaSelector:bo,onNewChat:ko,showSearch:Ue,showLibrary:K,toggleSearch:Do,toggleLibrary:vs,onExportLibrary:ql,onImportLibrary:Hl}),x.jsxs("div",{className:"flex-1 flex flex-col",children:[x.jsx(XR,{messages:n,isTyping:c,theme:Yt,personas:Ot,onPromptClick:P=>zl(P)}),x.jsx(ZR,{input:o,isTyping:c||Tt,isListening:m,recognitionAvailable:j,theme:Yt,selectedAI:C,setInput:l,handleSend:zl,startListening:ai,setSelectedAI:_}),v&&x.jsx(cR,{theme:Yt,selectedAI:C,imageStyle:se,apiKeys:N,apiStatus:z,setSelectedAI:_,setImageStyle:Se,updateApiKey:bi,darkMode:O,soundEnabled:W,toggleDarkMode:()=>ue(P=>!P),toggleSound:()=>_e(P=>!P),onClose:()=>S(!1)}),Lt&&x.jsx(WR,{theme:Yt,selectedPersonaKey:ee,onSelectPersona:Ie,onClose:()=>ht(!1)}),K&&x.jsx(tN,{theme:Yt,conversations:xe,onLoad:Nt,onDelete:Ts,onClose:()=>ie(!1)}),Ue&&x.jsx(nN,{theme:Yt,conversations:xe,currentMessages:n,onOpenConversation:Nt,onClose:()=>L(!1)}),J&&x.jsx(jR,{videoElementRef:Rt,onScanSurroundings:_t,onStopVisionGuide:un,isAnalyzingFrame:Tt,theme:Yt}),x.jsx("canvas",{ref:li,style:{display:"none"}})]})]})},Mg=document.getElementById("root");if(!Mg)throw new Error("Could not find root element to mount to");const oN=Xv.createRoot(Mg);oN.render(x.jsx(To.StrictMode,{children:x.jsx(iN,{})}));
