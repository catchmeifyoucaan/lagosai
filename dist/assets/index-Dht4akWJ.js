var Iv=Object.defineProperty;var Uv=(n,e,o)=>e in n?Iv(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o;var Oe=(n,e,o)=>Uv(n,typeof e!="symbol"?e+"":e,o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function o(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(c){if(c.ep)return;c.ep=!0;const f=o(c);fetch(c.href,f)}})();function Nh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vu={exports:{}},Cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function Lv(){if($p)return Cl;$p=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(l,c,f){var m=null;if(f!==void 0&&(m=""+f),c.key!==void 0&&(m=""+c.key),"key"in c){f={};for(var g in c)g!=="key"&&(f[g]=c[g])}else f=c;return c=f.ref,{$$typeof:n,type:l,key:m,ref:c!==void 0?c:null,props:f}}return Cl.Fragment=e,Cl.jsx=o,Cl.jsxs=o,Cl}var Jp;function Vv(){return Jp||(Jp=1,vu.exports=Lv()),vu.exports}var D=Vv(),Tu={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function Pv(){if(Kp)return de;Kp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function C(_){return _===null||typeof _!="object"?null:(_=S&&_[S]||_["@@iterator"],typeof _=="function"?_:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,L={};function H(_,q,J){this.props=_,this.context=q,this.refs=L,this.updater=J||M}H.prototype.isReactComponent={},H.prototype.setState=function(_,q){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,q,"setState")},H.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function K(){}K.prototype=H.prototype;function F(_,q,J){this.props=_,this.context=q,this.refs=L,this.updater=J||M}var Y=F.prototype=new K;Y.constructor=F,N(Y,H.prototype),Y.isPureReactComponent=!0;var W=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function Z(_,q,J,$,ie,Te){return J=Te.ref,{$$typeof:n,type:_,key:q,ref:J!==void 0?J:null,props:Te}}function Ce(_,q){return Z(_.type,q,void 0,void 0,void 0,_.props)}function ne(_){return typeof _=="object"&&_!==null&&_.$$typeof===n}function ye(_){var q={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(J){return q[J]})}var te=/\/+/g;function Ie(_,q){return typeof _=="object"&&_!==null&&_.key!=null?ye(""+_.key):q.toString(36)}function bt(){}function Ct(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(bt,bt):(_.status="pending",_.then(function(q){_.status==="pending"&&(_.status="fulfilled",_.value=q)},function(q){_.status==="pending"&&(_.status="rejected",_.reason=q)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function Re(_,q,J,$,ie){var Te=typeof _;(Te==="undefined"||Te==="boolean")&&(_=null);var re=!1;if(_===null)re=!0;else switch(Te){case"bigint":case"string":case"number":re=!0;break;case"object":switch(_.$$typeof){case n:case e:re=!0;break;case v:return re=_._init,Re(re(_._payload),q,J,$,ie)}}if(re)return ie=ie(_),re=$===""?"."+Ie(_,0):$,W(ie)?(J="",re!=null&&(J=re.replace(te,"$&/")+"/"),Re(ie,q,J,"",function(on){return on})):ie!=null&&(ne(ie)&&(ie=Ce(ie,J+(ie.key==null||_&&_.key===ie.key?"":(""+ie.key).replace(te,"$&/")+"/")+re)),q.push(ie)),1;re=0;var st=$===""?".":$+":";if(W(_))for(var ze=0;ze<_.length;ze++)$=_[ze],Te=st+Ie($,ze),re+=Re($,q,J,Te,ie);else if(ze=C(_),typeof ze=="function")for(_=ze.call(_),ze=0;!($=_.next()).done;)$=$.value,Te=st+Ie($,ze++),re+=Re($,q,J,Te,ie);else if(Te==="object"){if(typeof _.then=="function")return Re(Ct(_),q,J,$,ie);throw q=String(_),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return re}function U(_,q,J){if(_==null)return _;var $=[],ie=0;return Re(_,$,"","",function(Te){return q.call(J,Te,ie++)}),$}function O(_){if(_._status===-1){var q=_._result;q=q(),q.then(function(J){(_._status===0||_._status===-1)&&(_._status=1,_._result=J)},function(J){(_._status===0||_._status===-1)&&(_._status=2,_._result=J)}),_._status===-1&&(_._status=0,_._result=q)}if(_._status===1)return _._result.default;throw _._result}var oe=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function Ne(){}return de.Children={map:U,forEach:function(_,q,J){U(_,function(){q.apply(this,arguments)},J)},count:function(_){var q=0;return U(_,function(){q++}),q},toArray:function(_){return U(_,function(q){return q})||[]},only:function(_){if(!ne(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},de.Component=H,de.Fragment=o,de.Profiler=c,de.PureComponent=F,de.StrictMode=l,de.Suspense=y,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,de.__COMPILER_RUNTIME={__proto__:null,c:function(_){return B.H.useMemoCache(_)}},de.cache=function(_){return function(){return _.apply(null,arguments)}},de.cloneElement=function(_,q,J){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var $=N({},_.props),ie=_.key,Te=void 0;if(q!=null)for(re in q.ref!==void 0&&(Te=void 0),q.key!==void 0&&(ie=""+q.key),q)!se.call(q,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&q.ref===void 0||($[re]=q[re]);var re=arguments.length-2;if(re===1)$.children=J;else if(1<re){for(var st=Array(re),ze=0;ze<re;ze++)st[ze]=arguments[ze+2];$.children=st}return Z(_.type,ie,void 0,void 0,Te,$)},de.createContext=function(_){return _={$$typeof:m,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:f,_context:_},_},de.createElement=function(_,q,J){var $,ie={},Te=null;if(q!=null)for($ in q.key!==void 0&&(Te=""+q.key),q)se.call(q,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ie[$]=q[$]);var re=arguments.length-2;if(re===1)ie.children=J;else if(1<re){for(var st=Array(re),ze=0;ze<re;ze++)st[ze]=arguments[ze+2];ie.children=st}if(_&&_.defaultProps)for($ in re=_.defaultProps,re)ie[$]===void 0&&(ie[$]=re[$]);return Z(_,Te,void 0,void 0,null,ie)},de.createRef=function(){return{current:null}},de.forwardRef=function(_){return{$$typeof:g,render:_}},de.isValidElement=ne,de.lazy=function(_){return{$$typeof:v,_payload:{_status:-1,_result:_},_init:O}},de.memo=function(_,q){return{$$typeof:p,type:_,compare:q===void 0?null:q}},de.startTransition=function(_){var q=B.T,J={};B.T=J;try{var $=_(),ie=B.S;ie!==null&&ie(J,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Ne,oe)}catch(Te){oe(Te)}finally{B.T=q}},de.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},de.use=function(_){return B.H.use(_)},de.useActionState=function(_,q,J){return B.H.useActionState(_,q,J)},de.useCallback=function(_,q){return B.H.useCallback(_,q)},de.useContext=function(_){return B.H.useContext(_)},de.useDebugValue=function(){},de.useDeferredValue=function(_,q){return B.H.useDeferredValue(_,q)},de.useEffect=function(_,q,J){var $=B.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(_,q)},de.useId=function(){return B.H.useId()},de.useImperativeHandle=function(_,q,J){return B.H.useImperativeHandle(_,q,J)},de.useInsertionEffect=function(_,q){return B.H.useInsertionEffect(_,q)},de.useLayoutEffect=function(_,q){return B.H.useLayoutEffect(_,q)},de.useMemo=function(_,q){return B.H.useMemo(_,q)},de.useOptimistic=function(_,q){return B.H.useOptimistic(_,q)},de.useReducer=function(_,q,J){return B.H.useReducer(_,q,J)},de.useRef=function(_){return B.H.useRef(_)},de.useState=function(_){return B.H.useState(_)},de.useSyncExternalStore=function(_,q,J){return B.H.useSyncExternalStore(_,q,J)},de.useTransition=function(){return B.H.useTransition()},de.version="19.1.1",de}var Xp;function Bu(){return Xp||(Xp=1,Tu.exports=Pv()),Tu.exports}var fe=Bu();const Gv=Nh(fe);var Su={exports:{}},El={},Cu={exports:{}},Eu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function qv(){return Qp||(Qp=1,function(n){function e(U,O){var oe=U.length;U.push(O);e:for(;0<oe;){var Ne=oe-1>>>1,_=U[Ne];if(0<c(_,O))U[Ne]=O,U[oe]=_,oe=Ne;else break e}}function o(U){return U.length===0?null:U[0]}function l(U){if(U.length===0)return null;var O=U[0],oe=U.pop();if(oe!==O){U[0]=oe;e:for(var Ne=0,_=U.length,q=_>>>1;Ne<q;){var J=2*(Ne+1)-1,$=U[J],ie=J+1,Te=U[ie];if(0>c($,oe))ie<_&&0>c(Te,$)?(U[Ne]=Te,U[ie]=oe,Ne=ie):(U[Ne]=$,U[J]=oe,Ne=J);else if(ie<_&&0>c(Te,oe))U[Ne]=Te,U[ie]=oe,Ne=ie;else break e}}return O}function c(U,O){var oe=U.sortIndex-O.sortIndex;return oe!==0?oe:U.id-O.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var m=Date,g=m.now();n.unstable_now=function(){return m.now()-g}}var y=[],p=[],v=1,S=null,C=3,M=!1,N=!1,L=!1,H=!1,K=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function W(U){for(var O=o(p);O!==null;){if(O.callback===null)l(p);else if(O.startTime<=U)l(p),O.sortIndex=O.expirationTime,e(y,O);else break;O=o(p)}}function B(U){if(L=!1,W(U),!N)if(o(y)!==null)N=!0,se||(se=!0,Ie());else{var O=o(p);O!==null&&Re(B,O.startTime-U)}}var se=!1,Z=-1,Ce=5,ne=-1;function ye(){return H?!0:!(n.unstable_now()-ne<Ce)}function te(){if(H=!1,se){var U=n.unstable_now();ne=U;var O=!0;try{e:{N=!1,L&&(L=!1,F(Z),Z=-1),M=!0;var oe=C;try{t:{for(W(U),S=o(y);S!==null&&!(S.expirationTime>U&&ye());){var Ne=S.callback;if(typeof Ne=="function"){S.callback=null,C=S.priorityLevel;var _=Ne(S.expirationTime<=U);if(U=n.unstable_now(),typeof _=="function"){S.callback=_,W(U),O=!0;break t}S===o(y)&&l(y),W(U)}else l(y);S=o(y)}if(S!==null)O=!0;else{var q=o(p);q!==null&&Re(B,q.startTime-U),O=!1}}break e}finally{S=null,C=oe,M=!1}O=void 0}}finally{O?Ie():se=!1}}}var Ie;if(typeof Y=="function")Ie=function(){Y(te)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,Ct=bt.port2;bt.port1.onmessage=te,Ie=function(){Ct.postMessage(null)}}else Ie=function(){K(te,0)};function Re(U,O){Z=K(function(){U(n.unstable_now())},O)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ce=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_next=function(U){switch(C){case 1:case 2:case 3:var O=3;break;default:O=C}var oe=C;C=O;try{return U()}finally{C=oe}},n.unstable_requestPaint=function(){H=!0},n.unstable_runWithPriority=function(U,O){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var oe=C;C=U;try{return O()}finally{C=oe}},n.unstable_scheduleCallback=function(U,O,oe){var Ne=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ne+oe:Ne):oe=Ne,U){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=oe+_,U={id:v++,callback:O,priorityLevel:U,startTime:oe,expirationTime:_,sortIndex:-1},oe>Ne?(U.sortIndex=oe,e(p,U),o(y)===null&&U===o(p)&&(L?(F(Z),Z=-1):L=!0,Re(B,oe-Ne))):(U.sortIndex=_,e(y,U),N||M||(N=!0,se||(se=!0,Ie()))),U},n.unstable_shouldYield=ye,n.unstable_wrapCallback=function(U){var O=C;return function(){var oe=C;C=O;try{return U.apply(this,arguments)}finally{C=oe}}}}(Eu)),Eu}var Zp;function Hv(){return Zp||(Zp=1,Cu.exports=qv()),Cu.exports}var Au={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function zv(){if(Wp)return Tt;Wp=1;var n=Bu();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(y,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:y,containerInfo:p,implementation:v}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Tt.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return f(y,p,null,v)},Tt.flushSync=function(y){var p=m.T,v=l.p;try{if(m.T=null,l.p=2,y)return y()}finally{m.T=p,l.p=v,l.d.f()}},Tt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(y,p))},Tt.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},Tt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,S=g(v,p.crossOrigin),C=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:M}):v==="script"&&l.d.X(y,{crossOrigin:S,integrity:C,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(y)},Tt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,S=g(v,p.crossOrigin);l.d.L(y,v,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tt.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=g(p.as,p.crossOrigin);l.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(y)},Tt.requestFormReset=function(y){l.d.r(y)},Tt.unstable_batchedUpdates=function(y,p){return y(p)},Tt.useFormState=function(y,p,v){return m.H.useFormState(y,p,v)},Tt.useFormStatus=function(){return m.H.useHostTransitionStatus()},Tt.version="19.1.1",Tt}var jp;function Bv(){if(jp)return Au.exports;jp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Au.exports=zv(),Au.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function Yv(){if(em)return El;em=1;var n=Hv(),e=Bu(),o=Bv();function l(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function m(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(f(t)!==t)throw Error(l(188))}function y(t){var i=t.alternate;if(!i){if(i=f(t),i===null)throw Error(l(188));return i!==t?null:t}for(var a=t,u=i;;){var d=a.return;if(d===null)break;var h=d.alternate;if(h===null){if(u=d.return,u!==null){a=u;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===a)return g(d),t;if(h===u)return g(d),i;h=h.sibling}throw Error(l(188))}if(a.return!==u.return)a=d,u=h;else{for(var T=!1,E=d.child;E;){if(E===a){T=!0,a=d,u=h;break}if(E===u){T=!0,u=d,a=h;break}E=E.sibling}if(!T){for(E=h.child;E;){if(E===a){T=!0,a=h,u=d;break}if(E===u){T=!0,u=h,a=d;break}E=E.sibling}if(!T)throw Error(l(189))}}if(a.alternate!==u)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function Ie(t){return t===null||typeof t!="object"?null:(t=te&&t[te]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Symbol.for("react.client.reference");function Ct(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===bt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case H:return"Profiler";case L:return"StrictMode";case B:return"Suspense";case se:return"SuspenseList";case ne:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case Y:return(t.displayName||"Context")+".Provider";case F:return(t._context.displayName||"Context")+".Consumer";case W:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return i=t.displayName||null,i!==null?i:Ct(t.type)||"Memo";case Ce:i=t._payload,t=t._init;try{return Ct(t(i))}catch{}}return null}var Re=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ne=[],_=-1;function q(t){return{current:t}}function J(t){0>_||(t.current=Ne[_],Ne[_]=null,_--)}function $(t,i){_++,Ne[_]=t.current,t.current=i}var ie=q(null),Te=q(null),re=q(null),st=q(null);function ze(t,i){switch($(re,i),$(Te,t),$(ie,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Sp(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Sp(i),t=Cp(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ie),$(ie,t)}function on(){J(ie),J(Te),J(re)}function ii(t){t.memoizedState!==null&&$(st,t);var i=ie.current,a=Cp(i,t.type);i!==a&&($(Te,t),$(ie,a))}function Mi(t){Te.current===t&&(J(ie),J(Te)),st.current===t&&(J(st),gl._currentValue=oe)}var Qt=Object.prototype.hasOwnProperty,Ao=n.unstable_scheduleCallback,_o=n.unstable_cancelCallback,Dl=n.unstable_shouldYield,ln=n.unstable_requestPaint,z=n.unstable_now,X=n.unstable_getCurrentPriorityLevel,le=n.unstable_ImmediatePriority,Ae=n.unstable_UserBlockingPriority,Be=n.unstable_NormalPriority,Ze=n.unstable_LowPriority,Ve=n.unstable_IdlePriority,pt=n.log,an=n.unstable_setDisableYieldValue,rt=null,we=null;function $e(t){if(typeof pt=="function"&&an(t),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(rt,t)}catch{}}var Ee=Math.clz32?Math.clz32:ve,et=Math.log,_e=Math.LN2;function ve(t){return t>>>=0,t===0?32:31-(et(t)/_e|0)|0}var Pe=256,_t=4194304;function Zt(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function qt(t,i,a){var u=t.pendingLanes;if(u===0)return 0;var d=0,h=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var E=u&134217727;return E!==0?(u=E&~h,u!==0?d=Zt(u):(T&=E,T!==0?d=Zt(T):a||(a=E&~t,a!==0&&(d=Zt(a))))):(E=u&~h,E!==0?d=Zt(E):T!==0?d=Zt(T):a||(a=u&~t,a!==0&&(d=Zt(a)))),d===0?0:i!==0&&i!==d&&(i&h)===0&&(h=d&-d,a=i&-i,h>=a||h===32&&(a&4194048)!==0)?i:d}function xo(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Sg(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nc(){var t=Pe;return Pe<<=1,(Pe&4194048)===0&&(Pe=256),t}function ic(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function ss(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Mo(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cg(t,i,a,u,d,h){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,A=t.expirationTimes,b=t.hiddenUpdates;for(a=T&~a;0<a;){var V=31-Ee(a),G=1<<V;E[V]=0,A[V]=-1;var k=b[V];if(k!==null)for(b[V]=null,V=0;V<k.length;V++){var I=k[V];I!==null&&(I.lane&=-536870913)}a&=~G}u!==0&&oc(t,u,0),h!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=h&~(T&~i))}function oc(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-Ee(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|a&4194090}function lc(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var u=31-Ee(a),d=1<<u;d&i|t[u]&i&&(t[u]|=i),a&=~d}}function rs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function us(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ac(){var t=O.p;return t!==0?t:(t=window.event,t===void 0?32:Hp(t.type))}function Eg(t,i){var a=O.p;try{return O.p=t,i()}finally{O.p=a}}var In=Math.random().toString(36).slice(2),yt="__reactFiber$"+In,xt="__reactProps$"+In,Ri="__reactContainer$"+In,cs="__reactEvents$"+In,Ag="__reactListeners$"+In,_g="__reactHandles$"+In,sc="__reactResources$"+In,Ro="__reactMarker$"+In;function fs(t){delete t[yt],delete t[xt],delete t[cs],delete t[Ag],delete t[_g]}function Ni(t){var i=t[yt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ri]||a[yt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=xp(t);t!==null;){if(a=t[yt])return a;t=xp(t)}return i}t=a,a=t.parentNode}return null}function wi(t){if(t=t[yt]||t[Ri]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function No(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(l(33))}function Di(t){var i=t[sc];return i||(i=t[sc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ut(t){t[Ro]=!0}var rc=new Set,uc={};function oi(t,i){bi(t,i),bi(t+"Capture",i)}function bi(t,i){for(uc[t]=i,t=0;t<i.length;t++)rc.add(i[t])}var xg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cc={},fc={};function Mg(t){return Qt.call(fc,t)?!0:Qt.call(cc,t)?!1:xg.test(t)?fc[t]=!0:(cc[t]=!0,!1)}function bl(t,i,a){if(Mg(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function kl(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function hn(t,i,a,u){if(u===null)t.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+u)}}var ds,dc;function ki(t){if(ds===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ds=i&&i[1]||"",dc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ds+t+dc}var ps=!1;function ms(t,i){if(!t||ps)return"";ps=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(I){var k=I}Reflect.construct(t,[],G)}else{try{G.call()}catch(I){k=I}t.call(G.prototype)}}else{try{throw Error()}catch(I){k=I}(G=t())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(I){if(I&&k&&typeof I.stack=="string")return[I.stack,k.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=u.DetermineComponentFrameRoot(),T=h[0],E=h[1];if(T&&E){var A=T.split(`
`),b=E.split(`
`);for(d=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;d<b.length&&!b[d].includes("DetermineComponentFrameRoot");)d++;if(u===A.length||d===b.length)for(u=A.length-1,d=b.length-1;1<=u&&0<=d&&A[u]!==b[d];)d--;for(;1<=u&&0<=d;u--,d--)if(A[u]!==b[d]){if(u!==1||d!==1)do if(u--,d--,0>d||A[u]!==b[d]){var V=`
`+A[u].replace(" at new "," at ");return t.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",t.displayName)),V}while(1<=u&&0<=d);break}}}finally{ps=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ki(a):""}function Rg(t){switch(t.tag){case 26:case 27:case 5:return ki(t.type);case 16:return ki("Lazy");case 13:return ki("Suspense");case 19:return ki("SuspenseList");case 0:case 15:return ms(t.type,!1);case 11:return ms(t.type.render,!1);case 1:return ms(t.type,!0);case 31:return ki("Activity");default:return""}}function pc(t){try{var i="";do i+=Rg(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mc(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ng(t){var i=mc(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,h=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){u=""+T,h.call(this,T)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Il(t){t._valueTracker||(t._valueTracker=Ng(t))}function hc(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return t&&(u=mc(t)?t.checked?"true":"false":t.value),t=u,t!==a?(i.setValue(t),!0):!1}function Ul(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wg=/[\n"\\]/g;function zt(t){return t.replace(wg,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function hs(t,i,a,u,d,h,T,E){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ht(i)):t.value!==""+Ht(i)&&(t.value=""+Ht(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?gs(t,T,Ht(i)):a!=null?gs(t,T,Ht(a)):u!=null&&t.removeAttribute("value"),d==null&&h!=null&&(t.defaultChecked=!!h),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ht(E):t.removeAttribute("name")}function gc(t,i,a,u,d,h,T,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),i!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||i!=null))return;a=a!=null?""+Ht(a):"",i=i!=null?""+Ht(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=E?t.checked:!!u,t.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function gs(t,i,a){i==="number"&&Ul(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ii(t,i,a,u){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&u&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function yc(t,i,a){if(i!=null&&(i=""+Ht(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ht(a):""}function vc(t,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(l(92));if(Re(u)){if(1<u.length)throw Error(l(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=Ht(i),t.defaultValue=a,u=t.textContent,u===a&&u!==""&&u!==null&&(t.value=u)}function Ui(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Dg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tc(t,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,a):typeof a!="number"||a===0||Dg.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Sc(t,i,a){if(i!=null&&typeof i!="object")throw Error(l(62));if(t=t.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var d in i)u=i[d],i.hasOwnProperty(d)&&a[d]!==u&&Tc(t,d,u)}else for(var h in i)i.hasOwnProperty(h)&&Tc(t,h,i[h])}function ys(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(t){return kg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var vs=null;function Ts(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Li=null,Vi=null;function Cc(t){var i=wi(t);if(i&&(t=i.stateNode)){var a=t[xt]||null;e:switch(t=i.stateNode,i.type){case"input":if(hs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+zt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==t&&u.form===t.form){var d=u[xt]||null;if(!d)throw Error(l(90));hs(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===t.form&&hc(u)}break e;case"textarea":yc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ii(t,!!a.multiple,i,!1)}}}var Ss=!1;function Ec(t,i,a){if(Ss)return t(i,a);Ss=!0;try{var u=t(i);return u}finally{if(Ss=!1,(Li!==null||Vi!==null)&&(Sa(),Li&&(i=Li,t=Vi,Vi=Li=null,Cc(i),t)))for(i=0;i<t.length;i++)Cc(t[i])}}function wo(t,i){var a=t.stateNode;if(a===null)return null;var u=a[xt]||null;if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(l(231,i,typeof a));return a}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cs=!1;if(gn)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{Cs=!1}var Un=null,Es=null,Vl=null;function Ac(){if(Vl)return Vl;var t,i=Es,a=i.length,u,d="value"in Un?Un.value:Un.textContent,h=d.length;for(t=0;t<a&&i[t]===d[t];t++);var T=a-t;for(u=1;u<=T&&i[a-u]===d[h-u];u++);return Vl=d.slice(t,1<u?1-u:void 0)}function Pl(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Gl(){return!0}function _c(){return!1}function Mt(t){function i(a,u,d,h,T){this._reactName=a,this._targetInst=d,this.type=u,this.nativeEvent=h,this.target=T,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Gl:_c,this.isPropagationStopped=_c,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),i}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=Mt(li),bo=v({},li,{view:0,detail:0}),Ig=Mt(bo),As,_s,ko,Hl=v({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ko&&(ko&&t.type==="mousemove"?(As=t.screenX-ko.screenX,_s=t.screenY-ko.screenY):_s=As=0,ko=t),As)},movementY:function(t){return"movementY"in t?t.movementY:_s}}),xc=Mt(Hl),Ug=v({},Hl,{dataTransfer:0}),Lg=Mt(Ug),Vg=v({},bo,{relatedTarget:0}),xs=Mt(Vg),Pg=v({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),Gg=Mt(Pg),qg=v({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hg=Mt(qg),zg=v({},li,{data:0}),Mc=Mt(zg),Bg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Og={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fg(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Og[t])?!!i[t]:!1}function Ms(){return Fg}var $g=v({},bo,{key:function(t){if(t.key){var i=Bg[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Pl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(t){return t.type==="keypress"?Pl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jg=Mt($g),Kg=v({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rc=Mt(Kg),Xg=v({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),Qg=Mt(Xg),Zg=v({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wg=Mt(Zg),jg=v({},Hl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ey=Mt(jg),ty=v({},li,{newState:0,oldState:0}),ny=Mt(ty),iy=[9,13,27,32],Rs=gn&&"CompositionEvent"in window,Io=null;gn&&"documentMode"in document&&(Io=document.documentMode);var oy=gn&&"TextEvent"in window&&!Io,Nc=gn&&(!Rs||Io&&8<Io&&11>=Io),wc=" ",Dc=!1;function bc(t,i){switch(t){case"keyup":return iy.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pi=!1;function ly(t,i){switch(t){case"compositionend":return kc(i);case"keypress":return i.which!==32?null:(Dc=!0,wc);case"textInput":return t=i.data,t===wc&&Dc?null:t;default:return null}}function ay(t,i){if(Pi)return t==="compositionend"||!Rs&&bc(t,i)?(t=Ac(),Vl=Es=Un=null,Pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Nc&&i.locale!=="ko"?null:i.data;default:return null}}var sy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ic(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!sy[t.type]:i==="textarea"}function Uc(t,i,a,u){Li?Vi?Vi.push(u):Vi=[u]:Li=u,i=Ma(i,"onChange"),0<i.length&&(a=new ql("onChange","change",null,a,u),t.push({event:a,listeners:i}))}var Uo=null,Lo=null;function ry(t){hp(t,0)}function zl(t){var i=No(t);if(hc(i))return t}function Lc(t,i){if(t==="change")return i}var Vc=!1;if(gn){var Ns;if(gn){var ws="oninput"in document;if(!ws){var Pc=document.createElement("div");Pc.setAttribute("oninput","return;"),ws=typeof Pc.oninput=="function"}Ns=ws}else Ns=!1;Vc=Ns&&(!document.documentMode||9<document.documentMode)}function Gc(){Uo&&(Uo.detachEvent("onpropertychange",qc),Lo=Uo=null)}function qc(t){if(t.propertyName==="value"&&zl(Lo)){var i=[];Uc(i,Lo,t,Ts(t)),Ec(ry,i)}}function uy(t,i,a){t==="focusin"?(Gc(),Uo=i,Lo=a,Uo.attachEvent("onpropertychange",qc)):t==="focusout"&&Gc()}function cy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zl(Lo)}function fy(t,i){if(t==="click")return zl(i)}function dy(t,i){if(t==="input"||t==="change")return zl(i)}function py(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var kt=typeof Object.is=="function"?Object.is:py;function Vo(t,i){if(kt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var d=a[u];if(!Qt.call(i,d)||!kt(t[d],i[d]))return!1}return!0}function Hc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zc(t,i){var a=Hc(t);t=0;for(var u;a;){if(a.nodeType===3){if(u=t+a.textContent.length,t<=i&&u>=i)return{node:a,offset:i-t};t=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Hc(a)}}function Bc(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Bc(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Yc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ul(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ul(t.document)}return i}function Ds(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var my=gn&&"documentMode"in document&&11>=document.documentMode,Gi=null,bs=null,Po=null,ks=!1;function Oc(t,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ks||Gi==null||Gi!==Ul(u)||(u=Gi,"selectionStart"in u&&Ds(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Po&&Vo(Po,u)||(Po=u,u=Ma(bs,"onSelect"),0<u.length&&(i=new ql("onSelect","select",null,i,a),t.push({event:i,listeners:u}),i.target=Gi)))}function ai(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var qi={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionrun:ai("Transition","TransitionRun"),transitionstart:ai("Transition","TransitionStart"),transitioncancel:ai("Transition","TransitionCancel"),transitionend:ai("Transition","TransitionEnd")},Is={},Fc={};gn&&(Fc=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function si(t){if(Is[t])return Is[t];if(!qi[t])return t;var i=qi[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Fc)return Is[t]=i[a];return t}var $c=si("animationend"),Jc=si("animationiteration"),Kc=si("animationstart"),hy=si("transitionrun"),gy=si("transitionstart"),yy=si("transitioncancel"),Xc=si("transitionend"),Qc=new Map,Us="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Us.push("scrollEnd");function Wt(t,i){Qc.set(t,i),oi(i,[t])}var Zc=new WeakMap;function Bt(t,i){if(typeof t=="object"&&t!==null){var a=Zc.get(t);return a!==void 0?a:(i={value:t,source:i,stack:pc(i)},Zc.set(t,i),i)}return{value:t,source:i,stack:pc(i)}}var Yt=[],Hi=0,Ls=0;function Bl(){for(var t=Hi,i=Ls=Hi=0;i<t;){var a=Yt[i];Yt[i++]=null;var u=Yt[i];Yt[i++]=null;var d=Yt[i];Yt[i++]=null;var h=Yt[i];if(Yt[i++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}h!==0&&Wc(a,d,h)}}function Yl(t,i,a,u){Yt[Hi++]=t,Yt[Hi++]=i,Yt[Hi++]=a,Yt[Hi++]=u,Ls|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Vs(t,i,a,u){return Yl(t,i,a,u),Ol(t)}function zi(t,i){return Yl(t,null,null,i),Ol(t)}function Wc(t,i,a){t.lanes|=a;var u=t.alternate;u!==null&&(u.lanes|=a);for(var d=!1,h=t.return;h!==null;)h.childLanes|=a,u=h.alternate,u!==null&&(u.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(d=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,d&&i!==null&&(d=31-Ee(a),t=h.hiddenUpdates,u=t[d],u===null?t[d]=[i]:u.push(i),i.lane=a|536870912),h):null}function Ol(t){if(50<rl)throw rl=0,Br=null,Error(l(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Bi={};function vy(t,i,a,u){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,i,a,u){return new vy(t,i,a,u)}function Ps(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yn(t,i){var a=t.alternate;return a===null?(a=It(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jc(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Fl(t,i,a,u,d,h){var T=0;if(u=t,typeof t=="function")Ps(t)&&(T=1);else if(typeof t=="string")T=Sv(t,a,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ne:return t=It(31,a,i,d),t.elementType=ne,t.lanes=h,t;case N:return ri(a.children,d,h,i);case L:T=8,d|=24;break;case H:return t=It(12,a,i,d|2),t.elementType=H,t.lanes=h,t;case B:return t=It(13,a,i,d),t.elementType=B,t.lanes=h,t;case se:return t=It(19,a,i,d),t.elementType=se,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case Y:T=10;break e;case F:T=9;break e;case W:T=11;break e;case Z:T=14;break e;case Ce:T=16,u=null;break e}T=29,a=Error(l(130,t===null?"null":typeof t,"")),u=null}return i=It(T,a,i,d),i.elementType=t,i.type=u,i.lanes=h,i}function ri(t,i,a,u){return t=It(7,t,u,i),t.lanes=a,t}function Gs(t,i,a){return t=It(6,t,null,i),t.lanes=a,t}function qs(t,i,a){return i=It(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Yi=[],Oi=0,$l=null,Jl=0,Ot=[],Ft=0,ui=null,vn=1,Tn="";function ci(t,i){Yi[Oi++]=Jl,Yi[Oi++]=$l,$l=t,Jl=i}function ef(t,i,a){Ot[Ft++]=vn,Ot[Ft++]=Tn,Ot[Ft++]=ui,ui=t;var u=vn;t=Tn;var d=32-Ee(u)-1;u&=~(1<<d),a+=1;var h=32-Ee(i)+d;if(30<h){var T=d-d%5;h=(u&(1<<T)-1).toString(32),u>>=T,d-=T,vn=1<<32-Ee(i)+d|a<<d|u,Tn=h+t}else vn=1<<h|a<<d|u,Tn=t}function Hs(t){t.return!==null&&(ci(t,1),ef(t,1,0))}function zs(t){for(;t===$l;)$l=Yi[--Oi],Yi[Oi]=null,Jl=Yi[--Oi],Yi[Oi]=null;for(;t===ui;)ui=Ot[--Ft],Ot[Ft]=null,Tn=Ot[--Ft],Ot[Ft]=null,vn=Ot[--Ft],Ot[Ft]=null}var Et=null,We=null,Me=!1,fi=null,sn=!1,Bs=Error(l(519));function di(t){var i=Error(l(418,""));throw Ho(Bt(i,t)),Bs}function tf(t){var i=t.stateNode,a=t.type,u=t.memoizedProps;switch(i[yt]=t,i[xt]=u,a){case"dialog":ge("cancel",i),ge("close",i);break;case"iframe":case"object":case"embed":ge("load",i);break;case"video":case"audio":for(a=0;a<cl.length;a++)ge(cl[a],i);break;case"source":ge("error",i);break;case"img":case"image":case"link":ge("error",i),ge("load",i);break;case"details":ge("toggle",i);break;case"input":ge("invalid",i),gc(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Il(i);break;case"select":ge("invalid",i);break;case"textarea":ge("invalid",i),vc(i,u.value,u.defaultValue,u.children),Il(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||Tp(i.textContent,a)?(u.popover!=null&&(ge("beforetoggle",i),ge("toggle",i)),u.onScroll!=null&&ge("scroll",i),u.onScrollEnd!=null&&ge("scrollend",i),u.onClick!=null&&(i.onclick=Ra),i=!0):i=!1,i||di(t)}function nf(t){for(Et=t.return;Et;)switch(Et.tag){case 5:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:Et=Et.return}}function Go(t){if(t!==Et)return!1;if(!Me)return nf(t),Me=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ou(t.type,t.memoizedProps)),a=!a),a&&We&&di(t),nf(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){We=en(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}We=null}}else i===27?(i=We,Qn(t.type)?(t=ru,ru=null,We=t):We=i):We=Et?en(t.stateNode.nextSibling):null;return!0}function qo(){We=Et=null,Me=!1}function of(){var t=fi;return t!==null&&(wt===null?wt=t:wt.push.apply(wt,t),fi=null),t}function Ho(t){fi===null?fi=[t]:fi.push(t)}var Ys=q(null),pi=null,Sn=null;function Ln(t,i,a){$(Ys,i._currentValue),i._currentValue=a}function Cn(t){t._currentValue=Ys.current,J(Ys)}function Os(t,i,a){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===a)break;t=t.return}}function Fs(t,i,a,u){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var h=d.dependencies;if(h!==null){var T=d.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=d;for(var A=0;A<i.length;A++)if(E.context===i[A]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),Os(h.return,a,t),u||(T=null);break e}h=E.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(l(341));T.lanes|=a,h=T.alternate,h!==null&&(h.lanes|=a),Os(T,a,t),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===t){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function zo(t,i,a,u){t=null;for(var d=i,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(l(387));if(T=T.memoizedProps,T!==null){var E=d.type;kt(d.pendingProps.value,T.value)||(t!==null?t.push(E):t=[E])}}else if(d===st.current){if(T=d.alternate,T===null)throw Error(l(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(gl):t=[gl])}d=d.return}t!==null&&Fs(i,t,a,u),i.flags|=262144}function Kl(t){for(t=t.firstContext;t!==null;){if(!kt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function mi(t){pi=t,Sn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function vt(t){return lf(pi,t)}function Xl(t,i){return pi===null&&mi(t),lf(t,i)}function lf(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Sn===null){if(t===null)throw Error(l(308));Sn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Sn=Sn.next=i;return a}var Ty=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Sy=n.unstable_scheduleCallback,Cy=n.unstable_NormalPriority,lt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $s(){return{controller:new Ty,data:new Map,refCount:0}}function Bo(t){t.refCount--,t.refCount===0&&Sy(Cy,function(){t.controller.abort()})}var Yo=null,Js=0,Fi=0,$i=null;function Ey(t,i){if(Yo===null){var a=Yo=[];Js=0,Fi=Xr(),$i={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Js++,i.then(af,af),i}function af(){if(--Js===0&&Yo!==null){$i!==null&&($i.status="fulfilled");var t=Yo;Yo=null,Fi=0,$i=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Ay(t,i){var a=[],u={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(u.status="rejected",u.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),u}var sf=U.S;U.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Ey(t,i),sf!==null&&sf(t,i)};var hi=q(null);function Ks(){var t=hi.current;return t!==null?t:Fe.pooledCache}function Ql(t,i){i===null?$(hi,hi.current):$(hi,i.pool)}function rf(){var t=Ks();return t===null?null:{parent:lt._currentValue,pool:t}}var Oo=Error(l(460)),uf=Error(l(474)),Zl=Error(l(542)),Xs={then:function(){}};function cf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wl(){}function ff(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Wl,Wl),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,pf(t),t;default:if(typeof i.status=="string")i.then(Wl,Wl);else{if(t=Fe,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=u}},function(u){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,pf(t),t}throw Fo=i,Oo}}var Fo=null;function df(){if(Fo===null)throw Error(l(459));var t=Fo;return Fo=null,t}function pf(t){if(t===Oo||t===Zl)throw Error(l(483))}var Vn=!1;function Qs(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zs(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gn(t,i,a){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ue&2)!==0){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,i=Ol(t),Wc(t,null,a),i}return Yl(t,u,i,a),Ol(t)}function $o(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,a|=u,i.lanes=a,lc(t,a)}}function Ws(t,i){var a=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var d=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?d=h=T:h=h.next=T,a=a.next}while(a!==null);h===null?d=h=i:h=h.next=i}else d=h=i;a={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:u.shared,callbacks:u.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var js=!1;function Jo(){if(js){var t=$i;if(t!==null)throw t}}function Ko(t,i,a,u){js=!1;var d=t.updateQueue;Vn=!1;var h=d.firstBaseUpdate,T=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var A=E,b=A.next;A.next=null,T===null?h=b:T.next=b,T=A;var V=t.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==T&&(E===null?V.firstBaseUpdate=b:E.next=b,V.lastBaseUpdate=A))}if(h!==null){var G=d.baseState;T=0,V=b=A=null,E=h;do{var k=E.lane&-536870913,I=k!==E.lane;if(I?(Se&k)===k:(u&k)===k){k!==0&&k===Fi&&(js=!0),V!==null&&(V=V.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ce=t,ae=E;k=i;var He=a;switch(ae.tag){case 1:if(ce=ae.payload,typeof ce=="function"){G=ce.call(He,G,k);break e}G=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ae.payload,k=typeof ce=="function"?ce.call(He,G,k):ce,k==null)break e;G=v({},G,k);break e;case 2:Vn=!0}}k=E.callback,k!==null&&(t.flags|=64,I&&(t.flags|=8192),I=d.callbacks,I===null?d.callbacks=[k]:I.push(k))}else I={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(b=V=I,A=G):V=V.next=I,T|=k;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;I=E,E=I.next,I.next=null,d.lastBaseUpdate=I,d.shared.pending=null}}while(!0);V===null&&(A=G),d.baseState=A,d.firstBaseUpdate=b,d.lastBaseUpdate=V,h===null&&(d.shared.lanes=0),$n|=T,t.lanes=T,t.memoizedState=G}}function mf(t,i){if(typeof t!="function")throw Error(l(191,t));t.call(i)}function hf(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)mf(a[t],i)}var Ji=q(null),jl=q(0);function gf(t,i){t=Nn,$(jl,t),$(Ji,i),Nn=t|i.baseLanes}function er(){$(jl,Nn),$(Ji,Ji.current)}function tr(){Nn=jl.current,J(Ji),J(jl)}var qn=0,pe=null,Ge=null,it=null,ea=!1,Ki=!1,gi=!1,ta=0,Xo=0,Xi=null,_y=0;function tt(){throw Error(l(321))}function nr(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!kt(t[a],i[a]))return!1;return!0}function ir(t,i,a,u,d,h){return qn=h,pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=t===null||t.memoizedState===null?jf:ed,gi=!1,h=a(u,d),gi=!1,Ki&&(h=vf(i,a,u,d)),yf(t),h}function yf(t){U.H=sa;var i=Ge!==null&&Ge.next!==null;if(qn=0,it=Ge=pe=null,ea=!1,Xo=0,Xi=null,i)throw Error(l(300));t===null||ct||(t=t.dependencies,t!==null&&Kl(t)&&(ct=!0))}function vf(t,i,a,u){pe=t;var d=0;do{if(Ki&&(Xi=null),Xo=0,Ki=!1,25<=d)throw Error(l(301));if(d+=1,it=Ge=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}U.H=by,h=i(a,u)}while(Ki);return h}function xy(){var t=U.H,i=t.useState()[0];return i=typeof i.then=="function"?Qo(i):i,t=t.useState()[0],(Ge!==null?Ge.memoizedState:null)!==t&&(pe.flags|=1024),i}function or(){var t=ta!==0;return ta=0,t}function lr(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ar(t){if(ea){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ea=!1}qn=0,it=Ge=pe=null,Ki=!1,Xo=ta=0,Xi=null}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?pe.memoizedState=it=t:it=it.next=t,it}function ot(){if(Ge===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var i=it===null?pe.memoizedState:it.next;if(i!==null)it=i,Ge=t;else{if(t===null)throw pe.alternate===null?Error(l(467)):Error(l(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},it===null?pe.memoizedState=it=t:it=it.next=t}return it}function sr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(t){var i=Xo;return Xo+=1,Xi===null&&(Xi=[]),t=ff(Xi,t,i),i=pe,(it===null?i.memoizedState:it.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?jf:ed),t}function na(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Qo(t);if(t.$$typeof===Y)return vt(t)}throw Error(l(438,String(t)))}function rr(t){var i=null,a=pe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=sr(),pe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),u=0;u<t;u++)a[u]=ye;return i.index++,a}function En(t,i){return typeof i=="function"?i(t):i}function ia(t){var i=ot();return ur(i,Ge,t)}function ur(t,i,a){var u=t.queue;if(u===null)throw Error(l(311));u.lastRenderedReducer=a;var d=t.baseQueue,h=u.pending;if(h!==null){if(d!==null){var T=d.next;d.next=h.next,h.next=T}i.baseQueue=d=h,u.pending=null}if(h=t.baseState,d===null)t.memoizedState=h;else{i=d.next;var E=T=null,A=null,b=i,V=!1;do{var G=b.lane&-536870913;if(G!==b.lane?(Se&G)===G:(qn&G)===G){var k=b.revertLane;if(k===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),G===Fi&&(V=!0);else if((qn&k)===k){b=b.next,k===Fi&&(V=!0);continue}else G={lane:0,revertLane:b.revertLane,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},A===null?(E=A=G,T=h):A=A.next=G,pe.lanes|=k,$n|=k;G=b.action,gi&&a(h,G),h=b.hasEagerState?b.eagerState:a(h,G)}else k={lane:G,revertLane:b.revertLane,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},A===null?(E=A=k,T=h):A=A.next=k,pe.lanes|=G,$n|=G;b=b.next}while(b!==null&&b!==i);if(A===null?T=h:A.next=E,!kt(h,t.memoizedState)&&(ct=!0,V&&(a=$i,a!==null)))throw a;t.memoizedState=h,t.baseState=T,t.baseQueue=A,u.lastRenderedState=h}return d===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function cr(t){var i=ot(),a=i.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=t;var u=a.dispatch,d=a.pending,h=i.memoizedState;if(d!==null){a.pending=null;var T=d=d.next;do h=t(h,T.action),T=T.next;while(T!==d);kt(h,i.memoizedState)||(ct=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),a.lastRenderedState=h}return[h,u]}function Tf(t,i,a){var u=pe,d=ot(),h=Me;if(h){if(a===void 0)throw Error(l(407));a=a()}else a=i();var T=!kt((Ge||d).memoizedState,a);T&&(d.memoizedState=a,ct=!0),d=d.queue;var E=Ef.bind(null,u,d,t);if(Zo(2048,8,E,[t]),d.getSnapshot!==i||T||it!==null&&it.memoizedState.tag&1){if(u.flags|=2048,Qi(9,oa(),Cf.bind(null,u,d,a,i),null),Fe===null)throw Error(l(349));h||(qn&124)!==0||Sf(u,i,a)}return a}function Sf(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=pe.updateQueue,i===null?(i=sr(),pe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Cf(t,i,a,u){i.value=a,i.getSnapshot=u,Af(i)&&_f(t)}function Ef(t,i,a){return a(function(){Af(i)&&_f(t)})}function Af(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!kt(t,a)}catch{return!0}}function _f(t){var i=zi(t,2);i!==null&&Gt(i,t,2)}function fr(t){var i=Rt();if(typeof t=="function"){var a=t;if(t=a(),gi){$e(!0);try{a()}finally{$e(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:t},i}function xf(t,i,a,u){return t.baseState=a,ur(t,Ge,typeof u=="function"?u:En)}function My(t,i,a,u,d){if(aa(t))throw Error(l(485));if(t=i.action,t!==null){var h={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){h.listeners.push(T)}};U.T!==null?a(!0):h.isTransition=!1,u(h),a=i.pending,a===null?(h.next=i.pending=h,Mf(i,h)):(h.next=a.next,i.pending=a.next=h)}}function Mf(t,i){var a=i.action,u=i.payload,d=t.state;if(i.isTransition){var h=U.T,T={};U.T=T;try{var E=a(d,u),A=U.S;A!==null&&A(T,E),Rf(t,i,E)}catch(b){dr(t,i,b)}finally{U.T=h}}else try{h=a(d,u),Rf(t,i,h)}catch(b){dr(t,i,b)}}function Rf(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Nf(t,i,u)},function(u){return dr(t,i,u)}):Nf(t,i,a)}function Nf(t,i,a){i.status="fulfilled",i.value=a,wf(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Mf(t,a)))}function dr(t,i,a){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,wf(i),i=i.next;while(i!==u)}t.action=null}function wf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Df(t,i){return i}function bf(t,i){if(Me){var a=Fe.formState;if(a!==null){e:{var u=pe;if(Me){if(We){t:{for(var d=We,h=sn;d.nodeType!==8;){if(!h){d=null;break t}if(d=en(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){We=en(d.nextSibling),u=d.data==="F!";break e}}di(u)}u=!1}u&&(i=a[0])}}return a=Rt(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Df,lastRenderedState:i},a.queue=u,a=Qf.bind(null,pe,u),u.dispatch=a,u=fr(!1),h=yr.bind(null,pe,!1,u.queue),u=Rt(),d={state:i,dispatch:null,action:t,pending:null},u.queue=d,a=My.bind(null,pe,d,h,a),d.dispatch=a,u.memoizedState=t,[i,a,!1]}function kf(t){var i=ot();return If(i,Ge,t)}function If(t,i,a){if(i=ur(t,i,Df)[0],t=ia(En)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Qo(i)}catch(T){throw T===Oo?Zl:T}else u=i;i=ot();var d=i.queue,h=d.dispatch;return a!==i.memoizedState&&(pe.flags|=2048,Qi(9,oa(),Ry.bind(null,d,a),null)),[u,h,t]}function Ry(t,i){t.action=i}function Uf(t){var i=ot(),a=Ge;if(a!==null)return If(i,a,t);ot(),i=i.memoizedState,a=ot();var u=a.queue.dispatch;return a.memoizedState=t,[i,u,!1]}function Qi(t,i,a,u){return t={tag:t,create:a,deps:u,inst:i,next:null},i=pe.updateQueue,i===null&&(i=sr(),pe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(u=a.next,a.next=t,t.next=u,i.lastEffect=t),t}function oa(){return{destroy:void 0,resource:void 0}}function Lf(){return ot().memoizedState}function la(t,i,a,u){var d=Rt();u=u===void 0?null:u,pe.flags|=t,d.memoizedState=Qi(1|i,oa(),a,u)}function Zo(t,i,a,u){var d=ot();u=u===void 0?null:u;var h=d.memoizedState.inst;Ge!==null&&u!==null&&nr(u,Ge.memoizedState.deps)?d.memoizedState=Qi(i,h,a,u):(pe.flags|=t,d.memoizedState=Qi(1|i,h,a,u))}function Vf(t,i){la(8390656,8,t,i)}function Pf(t,i){Zo(2048,8,t,i)}function Gf(t,i){return Zo(4,2,t,i)}function qf(t,i){return Zo(4,4,t,i)}function Hf(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function zf(t,i,a){a=a!=null?a.concat([t]):null,Zo(4,4,Hf.bind(null,i,t),a)}function pr(){}function Bf(t,i){var a=ot();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&nr(i,u[1])?u[0]:(a.memoizedState=[t,i],t)}function Yf(t,i){var a=ot();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&nr(i,u[1]))return u[0];if(u=t(),gi){$e(!0);try{t()}finally{$e(!1)}}return a.memoizedState=[u,i],u}function mr(t,i,a){return a===void 0||(qn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=$d(),pe.lanes|=t,$n|=t,a)}function Of(t,i,a,u){return kt(a,i)?a:Ji.current!==null?(t=mr(t,a,u),kt(t,i)||(ct=!0),t):(qn&42)===0?(ct=!0,t.memoizedState=a):(t=$d(),pe.lanes|=t,$n|=t,i)}function Ff(t,i,a,u,d){var h=O.p;O.p=h!==0&&8>h?h:8;var T=U.T,E={};U.T=E,yr(t,!1,i,a);try{var A=d(),b=U.S;if(b!==null&&b(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var V=Ay(A,u);Wo(t,i,V,Pt(t))}else Wo(t,i,u,Pt(t))}catch(G){Wo(t,i,{then:function(){},status:"rejected",reason:G},Pt())}finally{O.p=h,U.T=T}}function Ny(){}function hr(t,i,a,u){if(t.tag!==5)throw Error(l(476));var d=$f(t).queue;Ff(t,d,i,oe,a===null?Ny:function(){return Jf(t),a(u)})}function $f(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:oe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Jf(t){var i=$f(t).next.queue;Wo(t,i,{},Pt())}function gr(){return vt(gl)}function Kf(){return ot().memoizedState}function Xf(){return ot().memoizedState}function wy(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Pt();t=Pn(a);var u=Gn(i,t,a);u!==null&&(Gt(u,i,a),$o(u,i,a)),i={cache:$s()},t.payload=i;return}i=i.return}}function Dy(t,i,a){var u=Pt();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},aa(t)?Zf(i,a):(a=Vs(t,i,a,u),a!==null&&(Gt(a,t,u),Wf(a,i,u)))}function Qf(t,i,a){var u=Pt();Wo(t,i,a,u)}function Wo(t,i,a,u){var d={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(aa(t))Zf(i,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var T=i.lastRenderedState,E=h(T,a);if(d.hasEagerState=!0,d.eagerState=E,kt(E,T))return Yl(t,i,d,0),Fe===null&&Bl(),!1}catch{}finally{}if(a=Vs(t,i,d,u),a!==null)return Gt(a,t,u),Wf(a,i,u),!0}return!1}function yr(t,i,a,u){if(u={lane:2,revertLane:Xr(),action:u,hasEagerState:!1,eagerState:null,next:null},aa(t)){if(i)throw Error(l(479))}else i=Vs(t,a,u,2),i!==null&&Gt(i,t,2)}function aa(t){var i=t.alternate;return t===pe||i!==null&&i===pe}function Zf(t,i){Ki=ea=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Wf(t,i,a){if((a&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,a|=u,i.lanes=a,lc(t,a)}}var sa={readContext:vt,use:na,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt},jf={readContext:vt,use:na,useCallback:function(t,i){return Rt().memoizedState=[t,i===void 0?null:i],t},useContext:vt,useEffect:Vf,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,la(4194308,4,Hf.bind(null,i,t),a)},useLayoutEffect:function(t,i){return la(4194308,4,t,i)},useInsertionEffect:function(t,i){la(4,2,t,i)},useMemo:function(t,i){var a=Rt();i=i===void 0?null:i;var u=t();if(gi){$e(!0);try{t()}finally{$e(!1)}}return a.memoizedState=[u,i],u},useReducer:function(t,i,a){var u=Rt();if(a!==void 0){var d=a(i);if(gi){$e(!0);try{a(i)}finally{$e(!1)}}}else d=i;return u.memoizedState=u.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},u.queue=t,t=t.dispatch=Dy.bind(null,pe,t),[u.memoizedState,t]},useRef:function(t){var i=Rt();return t={current:t},i.memoizedState=t},useState:function(t){t=fr(t);var i=t.queue,a=Qf.bind(null,pe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:pr,useDeferredValue:function(t,i){var a=Rt();return mr(a,t,i)},useTransition:function(){var t=fr(!1);return t=Ff.bind(null,pe,t.queue,!0,!1),Rt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var u=pe,d=Rt();if(Me){if(a===void 0)throw Error(l(407));a=a()}else{if(a=i(),Fe===null)throw Error(l(349));(Se&124)!==0||Sf(u,i,a)}d.memoizedState=a;var h={value:a,getSnapshot:i};return d.queue=h,Vf(Ef.bind(null,u,h,t),[t]),u.flags|=2048,Qi(9,oa(),Cf.bind(null,u,h,a,i),null),a},useId:function(){var t=Rt(),i=Fe.identifierPrefix;if(Me){var a=Tn,u=vn;a=(u&~(1<<32-Ee(u)-1)).toString(32)+a,i=""+i+"R"+a,a=ta++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=_y++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:gr,useFormState:bf,useActionState:bf,useOptimistic:function(t){var i=Rt();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=yr.bind(null,pe,!0,a),a.dispatch=i,[t,i]},useMemoCache:rr,useCacheRefresh:function(){return Rt().memoizedState=wy.bind(null,pe)}},ed={readContext:vt,use:na,useCallback:Bf,useContext:vt,useEffect:Pf,useImperativeHandle:zf,useInsertionEffect:Gf,useLayoutEffect:qf,useMemo:Yf,useReducer:ia,useRef:Lf,useState:function(){return ia(En)},useDebugValue:pr,useDeferredValue:function(t,i){var a=ot();return Of(a,Ge.memoizedState,t,i)},useTransition:function(){var t=ia(En)[0],i=ot().memoizedState;return[typeof t=="boolean"?t:Qo(t),i]},useSyncExternalStore:Tf,useId:Kf,useHostTransitionStatus:gr,useFormState:kf,useActionState:kf,useOptimistic:function(t,i){var a=ot();return xf(a,Ge,t,i)},useMemoCache:rr,useCacheRefresh:Xf},by={readContext:vt,use:na,useCallback:Bf,useContext:vt,useEffect:Pf,useImperativeHandle:zf,useInsertionEffect:Gf,useLayoutEffect:qf,useMemo:Yf,useReducer:cr,useRef:Lf,useState:function(){return cr(En)},useDebugValue:pr,useDeferredValue:function(t,i){var a=ot();return Ge===null?mr(a,t,i):Of(a,Ge.memoizedState,t,i)},useTransition:function(){var t=cr(En)[0],i=ot().memoizedState;return[typeof t=="boolean"?t:Qo(t),i]},useSyncExternalStore:Tf,useId:Kf,useHostTransitionStatus:gr,useFormState:Uf,useActionState:Uf,useOptimistic:function(t,i){var a=ot();return Ge!==null?xf(a,Ge,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:rr,useCacheRefresh:Xf},Zi=null,jo=0;function ra(t){var i=jo;return jo+=1,Zi===null&&(Zi=[]),ff(Zi,t,i)}function el(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ua(t,i){throw i.$$typeof===S?Error(l(525)):(t=Object.prototype.toString.call(i),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function td(t){var i=t._init;return i(t._payload)}function nd(t){function i(R,x){if(t){var w=R.deletions;w===null?(R.deletions=[x],R.flags|=16):w.push(x)}}function a(R,x){if(!t)return null;for(;x!==null;)i(R,x),x=x.sibling;return null}function u(R){for(var x=new Map;R!==null;)R.key!==null?x.set(R.key,R):x.set(R.index,R),R=R.sibling;return x}function d(R,x){return R=yn(R,x),R.index=0,R.sibling=null,R}function h(R,x,w){return R.index=w,t?(w=R.alternate,w!==null?(w=w.index,w<x?(R.flags|=67108866,x):w):(R.flags|=67108866,x)):(R.flags|=1048576,x)}function T(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function E(R,x,w,P){return x===null||x.tag!==6?(x=Gs(w,R.mode,P),x.return=R,x):(x=d(x,w),x.return=R,x)}function A(R,x,w,P){var Q=w.type;return Q===N?V(R,x,w.props.children,P,w.key):x!==null&&(x.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Ce&&td(Q)===x.type)?(x=d(x,w.props),el(x,w),x.return=R,x):(x=Fl(w.type,w.key,w.props,null,R.mode,P),el(x,w),x.return=R,x)}function b(R,x,w,P){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=qs(w,R.mode,P),x.return=R,x):(x=d(x,w.children||[]),x.return=R,x)}function V(R,x,w,P,Q){return x===null||x.tag!==7?(x=ri(w,R.mode,P,Q),x.return=R,x):(x=d(x,w),x.return=R,x)}function G(R,x,w){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Gs(""+x,R.mode,w),x.return=R,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case C:return w=Fl(x.type,x.key,x.props,null,R.mode,w),el(w,x),w.return=R,w;case M:return x=qs(x,R.mode,w),x.return=R,x;case Ce:var P=x._init;return x=P(x._payload),G(R,x,w)}if(Re(x)||Ie(x))return x=ri(x,R.mode,w,null),x.return=R,x;if(typeof x.then=="function")return G(R,ra(x),w);if(x.$$typeof===Y)return G(R,Xl(R,x),w);ua(R,x)}return null}function k(R,x,w,P){var Q=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return Q!==null?null:E(R,x,""+w,P);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case C:return w.key===Q?A(R,x,w,P):null;case M:return w.key===Q?b(R,x,w,P):null;case Ce:return Q=w._init,w=Q(w._payload),k(R,x,w,P)}if(Re(w)||Ie(w))return Q!==null?null:V(R,x,w,P,null);if(typeof w.then=="function")return k(R,x,ra(w),P);if(w.$$typeof===Y)return k(R,x,Xl(R,w),P);ua(R,w)}return null}function I(R,x,w,P,Q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return R=R.get(w)||null,E(x,R,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case C:return R=R.get(P.key===null?w:P.key)||null,A(x,R,P,Q);case M:return R=R.get(P.key===null?w:P.key)||null,b(x,R,P,Q);case Ce:var me=P._init;return P=me(P._payload),I(R,x,w,P,Q)}if(Re(P)||Ie(P))return R=R.get(w)||null,V(x,R,P,Q,null);if(typeof P.then=="function")return I(R,x,w,ra(P),Q);if(P.$$typeof===Y)return I(R,x,w,Xl(x,P),Q);ua(x,P)}return null}function ce(R,x,w,P){for(var Q=null,me=null,ee=x,ue=x=0,dt=null;ee!==null&&ue<w.length;ue++){ee.index>ue?(dt=ee,ee=null):dt=ee.sibling;var xe=k(R,ee,w[ue],P);if(xe===null){ee===null&&(ee=dt);break}t&&ee&&xe.alternate===null&&i(R,ee),x=h(xe,x,ue),me===null?Q=xe:me.sibling=xe,me=xe,ee=dt}if(ue===w.length)return a(R,ee),Me&&ci(R,ue),Q;if(ee===null){for(;ue<w.length;ue++)ee=G(R,w[ue],P),ee!==null&&(x=h(ee,x,ue),me===null?Q=ee:me.sibling=ee,me=ee);return Me&&ci(R,ue),Q}for(ee=u(ee);ue<w.length;ue++)dt=I(ee,R,ue,w[ue],P),dt!==null&&(t&&dt.alternate!==null&&ee.delete(dt.key===null?ue:dt.key),x=h(dt,x,ue),me===null?Q=dt:me.sibling=dt,me=dt);return t&&ee.forEach(function(ti){return i(R,ti)}),Me&&ci(R,ue),Q}function ae(R,x,w,P){if(w==null)throw Error(l(151));for(var Q=null,me=null,ee=x,ue=x=0,dt=null,xe=w.next();ee!==null&&!xe.done;ue++,xe=w.next()){ee.index>ue?(dt=ee,ee=null):dt=ee.sibling;var ti=k(R,ee,xe.value,P);if(ti===null){ee===null&&(ee=dt);break}t&&ee&&ti.alternate===null&&i(R,ee),x=h(ti,x,ue),me===null?Q=ti:me.sibling=ti,me=ti,ee=dt}if(xe.done)return a(R,ee),Me&&ci(R,ue),Q;if(ee===null){for(;!xe.done;ue++,xe=w.next())xe=G(R,xe.value,P),xe!==null&&(x=h(xe,x,ue),me===null?Q=xe:me.sibling=xe,me=xe);return Me&&ci(R,ue),Q}for(ee=u(ee);!xe.done;ue++,xe=w.next())xe=I(ee,R,ue,xe.value,P),xe!==null&&(t&&xe.alternate!==null&&ee.delete(xe.key===null?ue:xe.key),x=h(xe,x,ue),me===null?Q=xe:me.sibling=xe,me=xe);return t&&ee.forEach(function(kv){return i(R,kv)}),Me&&ci(R,ue),Q}function He(R,x,w,P){if(typeof w=="object"&&w!==null&&w.type===N&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case C:e:{for(var Q=w.key;x!==null;){if(x.key===Q){if(Q=w.type,Q===N){if(x.tag===7){a(R,x.sibling),P=d(x,w.props.children),P.return=R,R=P;break e}}else if(x.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Ce&&td(Q)===x.type){a(R,x.sibling),P=d(x,w.props),el(P,w),P.return=R,R=P;break e}a(R,x);break}else i(R,x);x=x.sibling}w.type===N?(P=ri(w.props.children,R.mode,P,w.key),P.return=R,R=P):(P=Fl(w.type,w.key,w.props,null,R.mode,P),el(P,w),P.return=R,R=P)}return T(R);case M:e:{for(Q=w.key;x!==null;){if(x.key===Q)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){a(R,x.sibling),P=d(x,w.children||[]),P.return=R,R=P;break e}else{a(R,x);break}else i(R,x);x=x.sibling}P=qs(w,R.mode,P),P.return=R,R=P}return T(R);case Ce:return Q=w._init,w=Q(w._payload),He(R,x,w,P)}if(Re(w))return ce(R,x,w,P);if(Ie(w)){if(Q=Ie(w),typeof Q!="function")throw Error(l(150));return w=Q.call(w),ae(R,x,w,P)}if(typeof w.then=="function")return He(R,x,ra(w),P);if(w.$$typeof===Y)return He(R,x,Xl(R,w),P);ua(R,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,x!==null&&x.tag===6?(a(R,x.sibling),P=d(x,w),P.return=R,R=P):(a(R,x),P=Gs(w,R.mode,P),P.return=R,R=P),T(R)):a(R,x)}return function(R,x,w,P){try{jo=0;var Q=He(R,x,w,P);return Zi=null,Q}catch(ee){if(ee===Oo||ee===Zl)throw ee;var me=It(29,ee,null,R.mode);return me.lanes=P,me.return=R,me}finally{}}}var Wi=nd(!0),id=nd(!1),$t=q(null),rn=null;function Hn(t){var i=t.alternate;$(at,at.current&1),$($t,t),rn===null&&(i===null||Ji.current!==null||i.memoizedState!==null)&&(rn=t)}function od(t){if(t.tag===22){if($(at,at.current),$($t,t),rn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(rn=t)}}else zn()}function zn(){$(at,at.current),$($t,$t.current)}function An(t){J($t),rn===t&&(rn=null),J(at)}var at=q(0);function ca(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||su(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function vr(t,i,a,u){i=t.memoizedState,a=a(u,i),a=a==null?i:v({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Tr={enqueueSetState:function(t,i,a){t=t._reactInternals;var u=Pt(),d=Pn(u);d.payload=i,a!=null&&(d.callback=a),i=Gn(t,d,u),i!==null&&(Gt(i,t,u),$o(i,t,u))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var u=Pt(),d=Pn(u);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Gn(t,d,u),i!==null&&(Gt(i,t,u),$o(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Pt(),u=Pn(a);u.tag=2,i!=null&&(u.callback=i),i=Gn(t,u,a),i!==null&&(Gt(i,t,a),$o(i,t,a))}};function ld(t,i,a,u,d,h,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,h,T):i.prototype&&i.prototype.isPureReactComponent?!Vo(a,u)||!Vo(d,h):!0}function ad(t,i,a,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==t&&Tr.enqueueReplaceState(i,i.state,null)}function yi(t,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(t=t.defaultProps){a===i&&(a=v({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var fa=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function sd(t){fa(t)}function rd(t){console.error(t)}function ud(t){fa(t)}function da(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function cd(t,i,a){try{var u=t.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Sr(t,i,a){return a=Pn(a),a.tag=3,a.payload={element:null},a.callback=function(){da(t,i)},a}function fd(t){return t=Pn(t),t.tag=3,t}function dd(t,i,a,u){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var h=u.value;t.payload=function(){return d(h)},t.callback=function(){cd(i,a,u)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){cd(i,a,u),typeof d!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function ky(t,i,a,u,d){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&zo(i,a,d,!0),a=$t.current,a!==null){switch(a.tag){case 13:return rn===null?Or():a.alternate===null&&je===0&&(je=3),a.flags&=-257,a.flags|=65536,a.lanes=d,u===Xs?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),$r(t,u,d)),!1;case 22:return a.flags|=65536,u===Xs?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),$r(t,u,d)),!1}throw Error(l(435,a.tag))}return $r(t,u,d),Or(),!1}if(Me)return i=$t.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,u!==Bs&&(t=Error(l(422),{cause:u}),Ho(Bt(t,a)))):(u!==Bs&&(i=Error(l(423),{cause:u}),Ho(Bt(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,u=Bt(u,a),d=Sr(t.stateNode,u,d),Ws(t,d),je!==4&&(je=2)),!1;var h=Error(l(520),{cause:u});if(h=Bt(h,a),sl===null?sl=[h]:sl.push(h),je!==4&&(je=2),i===null)return!0;u=Bt(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Sr(a.stateNode,u,t),Ws(a,t),!1;case 1:if(i=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Jn===null||!Jn.has(h))))return a.flags|=65536,d&=-d,a.lanes|=d,d=fd(d),dd(d,t,a,u),Ws(a,d),!1}a=a.return}while(a!==null);return!1}var pd=Error(l(461)),ct=!1;function mt(t,i,a,u){i.child=t===null?id(i,null,a,u):Wi(i,t.child,a,u)}function md(t,i,a,u,d){a=a.render;var h=i.ref;if("ref"in u){var T={};for(var E in u)E!=="ref"&&(T[E]=u[E])}else T=u;return mi(i),u=ir(t,i,a,T,h,d),E=or(),t!==null&&!ct?(lr(t,i,d),_n(t,i,d)):(Me&&E&&Hs(i),i.flags|=1,mt(t,i,u,d),i.child)}function hd(t,i,a,u,d){if(t===null){var h=a.type;return typeof h=="function"&&!Ps(h)&&h.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=h,gd(t,i,h,u,d)):(t=Fl(a.type,null,u,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(h=t.child,!Nr(t,d)){var T=h.memoizedProps;if(a=a.compare,a=a!==null?a:Vo,a(T,u)&&t.ref===i.ref)return _n(t,i,d)}return i.flags|=1,t=yn(h,u),t.ref=i.ref,t.return=i,i.child=t}function gd(t,i,a,u,d){if(t!==null){var h=t.memoizedProps;if(Vo(h,u)&&t.ref===i.ref)if(ct=!1,i.pendingProps=u=h,Nr(t,d))(t.flags&131072)!==0&&(ct=!0);else return i.lanes=t.lanes,_n(t,i,d)}return Cr(t,i,a,u,d)}function yd(t,i,a){var u=i.pendingProps,d=u.children,h=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=h!==null?h.baseLanes|a:a,t!==null){for(d=i.child=t.child,h=0;d!==null;)h=h|d.lanes|d.childLanes,d=d.sibling;i.childLanes=h&~u}else i.childLanes=0,i.child=null;return vd(t,i,u,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ql(i,h!==null?h.cachePool:null),h!==null?gf(i,h):er(),od(i);else return i.lanes=i.childLanes=536870912,vd(t,i,h!==null?h.baseLanes|a:a,a)}else h!==null?(Ql(i,h.cachePool),gf(i,h),zn(),i.memoizedState=null):(t!==null&&Ql(i,null),er(),zn());return mt(t,i,d,a),i.child}function vd(t,i,a,u){var d=Ks();return d=d===null?null:{parent:lt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Ql(i,null),er(),od(i),t!==null&&zo(t,i,u,!0),null}function pa(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Cr(t,i,a,u,d){return mi(i),a=ir(t,i,a,u,void 0,d),u=or(),t!==null&&!ct?(lr(t,i,d),_n(t,i,d)):(Me&&u&&Hs(i),i.flags|=1,mt(t,i,a,d),i.child)}function Td(t,i,a,u,d,h){return mi(i),i.updateQueue=null,a=vf(i,u,a,d),yf(t),u=or(),t!==null&&!ct?(lr(t,i,h),_n(t,i,h)):(Me&&u&&Hs(i),i.flags|=1,mt(t,i,a,h),i.child)}function Sd(t,i,a,u,d){if(mi(i),i.stateNode===null){var h=Bi,T=a.contextType;typeof T=="object"&&T!==null&&(h=vt(T)),h=new a(u,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Tr,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=u,h.state=i.memoizedState,h.refs={},Qs(i),T=a.contextType,h.context=typeof T=="object"&&T!==null?vt(T):Bi,h.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(vr(i,a,T,u),h.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(T=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),T!==h.state&&Tr.enqueueReplaceState(h,h.state,null),Ko(i,u,h,d),Jo(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){h=i.stateNode;var E=i.memoizedProps,A=yi(a,E);h.props=A;var b=h.context,V=a.contextType;T=Bi,typeof V=="object"&&V!==null&&(T=vt(V));var G=a.getDerivedStateFromProps;V=typeof G=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,V||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||b!==T)&&ad(i,h,u,T),Vn=!1;var k=i.memoizedState;h.state=k,Ko(i,u,h,d),Jo(),b=i.memoizedState,E||k!==b||Vn?(typeof G=="function"&&(vr(i,a,G,u),b=i.memoizedState),(A=Vn||ld(i,a,A,u,k,b,T))?(V||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=b),h.props=u,h.state=b,h.context=T,u=A):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{h=i.stateNode,Zs(t,i),T=i.memoizedProps,V=yi(a,T),h.props=V,G=i.pendingProps,k=h.context,b=a.contextType,A=Bi,typeof b=="object"&&b!==null&&(A=vt(b)),E=a.getDerivedStateFromProps,(b=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T!==G||k!==A)&&ad(i,h,u,A),Vn=!1,k=i.memoizedState,h.state=k,Ko(i,u,h,d),Jo();var I=i.memoizedState;T!==G||k!==I||Vn||t!==null&&t.dependencies!==null&&Kl(t.dependencies)?(typeof E=="function"&&(vr(i,a,E,u),I=i.memoizedState),(V=Vn||ld(i,a,V,u,k,I,A)||t!==null&&t.dependencies!==null&&Kl(t.dependencies))?(b||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(u,I,A),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(u,I,A)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=I),h.props=u,h.state=I,h.context=A,u=V):(typeof h.componentDidUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),u=!1)}return h=u,pa(t,i),u=(i.flags&128)!==0,h||u?(h=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,t!==null&&u?(i.child=Wi(i,t.child,null,d),i.child=Wi(i,null,a,d)):mt(t,i,a,d),i.memoizedState=h.state,t=i.child):t=_n(t,i,d),t}function Cd(t,i,a,u){return qo(),i.flags|=256,mt(t,i,a,u),i.child}var Er={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ar(t){return{baseLanes:t,cachePool:rf()}}function _r(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Jt),t}function Ed(t,i,a){var u=i.pendingProps,d=!1,h=(i.flags&128)!==0,T;if((T=h)||(T=t!==null&&t.memoizedState===null?!1:(at.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(Me){if(d?Hn(i):zn(),Me){var E=We,A;if(A=E){e:{for(A=E,E=sn;A.nodeType!==8;){if(!E){E=null;break e}if(A=en(A.nextSibling),A===null){E=null;break e}}E=A}E!==null?(i.memoizedState={dehydrated:E,treeContext:ui!==null?{id:vn,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},A=It(18,null,null,0),A.stateNode=E,A.return=i,i.child=A,Et=i,We=null,A=!0):A=!1}A||di(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return su(E)?i.lanes=32:i.lanes=536870912,null;An(i)}return E=u.children,u=u.fallback,d?(zn(),d=i.mode,E=ma({mode:"hidden",children:E},d),u=ri(u,d,a,null),E.return=i,u.return=i,E.sibling=u,i.child=E,d=i.child,d.memoizedState=Ar(a),d.childLanes=_r(t,T,a),i.memoizedState=Er,u):(Hn(i),xr(i,E))}if(A=t.memoizedState,A!==null&&(E=A.dehydrated,E!==null)){if(h)i.flags&256?(Hn(i),i.flags&=-257,i=Mr(t,i,a)):i.memoizedState!==null?(zn(),i.child=t.child,i.flags|=128,i=null):(zn(),d=u.fallback,E=i.mode,u=ma({mode:"visible",children:u.children},E),d=ri(d,E,a,null),d.flags|=2,u.return=i,d.return=i,u.sibling=d,i.child=u,Wi(i,t.child,null,a),u=i.child,u.memoizedState=Ar(a),u.childLanes=_r(t,T,a),i.memoizedState=Er,i=d);else if(Hn(i),su(E)){if(T=E.nextSibling&&E.nextSibling.dataset,T)var b=T.dgst;T=b,u=Error(l(419)),u.stack="",u.digest=T,Ho({value:u,source:null,stack:null}),i=Mr(t,i,a)}else if(ct||zo(t,i,a,!1),T=(a&t.childLanes)!==0,ct||T){if(T=Fe,T!==null&&(u=a&-a,u=(u&42)!==0?1:rs(u),u=(u&(T.suspendedLanes|a))!==0?0:u,u!==0&&u!==A.retryLane))throw A.retryLane=u,zi(t,u),Gt(T,t,u),pd;E.data==="$?"||Or(),i=Mr(t,i,a)}else E.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=A.treeContext,We=en(E.nextSibling),Et=i,Me=!0,fi=null,sn=!1,t!==null&&(Ot[Ft++]=vn,Ot[Ft++]=Tn,Ot[Ft++]=ui,vn=t.id,Tn=t.overflow,ui=i),i=xr(i,u.children),i.flags|=4096);return i}return d?(zn(),d=u.fallback,E=i.mode,A=t.child,b=A.sibling,u=yn(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&65011712,b!==null?d=yn(b,d):(d=ri(d,E,a,null),d.flags|=2),d.return=i,u.return=i,u.sibling=d,i.child=u,u=d,d=i.child,E=t.child.memoizedState,E===null?E=Ar(a):(A=E.cachePool,A!==null?(b=lt._currentValue,A=A.parent!==b?{parent:b,pool:b}:A):A=rf(),E={baseLanes:E.baseLanes|a,cachePool:A}),d.memoizedState=E,d.childLanes=_r(t,T,a),i.memoizedState=Er,u):(Hn(i),a=t.child,t=a.sibling,a=yn(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=a,i.memoizedState=null,a)}function xr(t,i){return i=ma({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ma(t,i){return t=It(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Mr(t,i,a){return Wi(i,t.child,null,a),t=xr(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ad(t,i,a){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),Os(t.return,i,a)}function Rr(t,i,a,u,d){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:d}:(h.isBackwards=i,h.rendering=null,h.renderingStartTime=0,h.last=u,h.tail=a,h.tailMode=d)}function _d(t,i,a){var u=i.pendingProps,d=u.revealOrder,h=u.tail;if(mt(t,i,u.children,a),u=at.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ad(t,a,i);else if(t.tag===19)Ad(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch($(at,u),d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&ca(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Rr(i,!1,d,a,h);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&ca(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Rr(i,!0,a,null,h);break;case"together":Rr(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function _n(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),$n|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(zo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(l(153));if(i.child!==null){for(t=i.child,a=yn(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=yn(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Nr(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Kl(t)))}function Iy(t,i,a){switch(i.tag){case 3:ze(i,i.stateNode.containerInfo),Ln(i,lt,t.memoizedState.cache),qo();break;case 27:case 5:ii(i);break;case 4:ze(i,i.stateNode.containerInfo);break;case 10:Ln(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Hn(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ed(t,i,a):(Hn(i),t=_n(t,i,a),t!==null?t.sibling:null);Hn(i);break;case 19:var d=(t.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(zo(t,i,a,!1),u=(a&i.childLanes)!==0),d){if(u)return _d(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$(at,at.current),u)break;return null;case 22:case 23:return i.lanes=0,yd(t,i,a);case 24:Ln(i,lt,t.memoizedState.cache)}return _n(t,i,a)}function xd(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)ct=!0;else{if(!Nr(t,a)&&(i.flags&128)===0)return ct=!1,Iy(t,i,a);ct=(t.flags&131072)!==0}else ct=!1,Me&&(i.flags&1048576)!==0&&ef(i,Jl,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var u=i.elementType,d=u._init;if(u=d(u._payload),i.type=u,typeof u=="function")Ps(u)?(t=yi(u,t),i.tag=1,i=Sd(null,i,u,t,a)):(i.tag=0,i=Cr(null,i,u,t,a));else{if(u!=null){if(d=u.$$typeof,d===W){i.tag=11,i=md(null,i,u,t,a);break e}else if(d===Z){i.tag=14,i=hd(null,i,u,t,a);break e}}throw i=Ct(u)||u,Error(l(306,i,""))}}return i;case 0:return Cr(t,i,i.type,i.pendingProps,a);case 1:return u=i.type,d=yi(u,i.pendingProps),Sd(t,i,u,d,a);case 3:e:{if(ze(i,i.stateNode.containerInfo),t===null)throw Error(l(387));u=i.pendingProps;var h=i.memoizedState;d=h.element,Zs(t,i),Ko(i,u,null,a);var T=i.memoizedState;if(u=T.cache,Ln(i,lt,u),u!==h.cache&&Fs(i,[lt],a,!0),Jo(),u=T.element,h.isDehydrated)if(h={element:u,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Cd(t,i,u,a);break e}else if(u!==d){d=Bt(Error(l(424)),i),Ho(d),i=Cd(t,i,u,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(We=en(t.firstChild),Et=i,Me=!0,fi=null,sn=!0,a=id(i,null,u,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qo(),u===d){i=_n(t,i,a);break e}mt(t,i,u,a)}i=i.child}return i;case 26:return pa(t,i),t===null?(a=wp(i.type,null,i.pendingProps,null))?i.memoizedState=a:Me||(a=i.type,t=i.pendingProps,u=Na(re.current).createElement(a),u[yt]=i,u[xt]=t,gt(u,a,t),ut(u),i.stateNode=u):i.memoizedState=wp(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ii(i),t===null&&Me&&(u=i.stateNode=Mp(i.type,i.pendingProps,re.current),Et=i,sn=!0,d=We,Qn(i.type)?(ru=d,We=en(u.firstChild)):We=d),mt(t,i,i.pendingProps.children,a),pa(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Me&&((d=u=We)&&(u=sv(u,i.type,i.pendingProps,sn),u!==null?(i.stateNode=u,Et=i,We=en(u.firstChild),sn=!1,d=!0):d=!1),d||di(i)),ii(i),d=i.type,h=i.pendingProps,T=t!==null?t.memoizedProps:null,u=h.children,ou(d,h)?u=null:T!==null&&ou(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=ir(t,i,xy,null,null,a),gl._currentValue=d),pa(t,i),mt(t,i,u,a),i.child;case 6:return t===null&&Me&&((t=a=We)&&(a=rv(a,i.pendingProps,sn),a!==null?(i.stateNode=a,Et=i,We=null,t=!0):t=!1),t||di(i)),null;case 13:return Ed(t,i,a);case 4:return ze(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Wi(i,null,u,a):mt(t,i,u,a),i.child;case 11:return md(t,i,i.type,i.pendingProps,a);case 7:return mt(t,i,i.pendingProps,a),i.child;case 8:return mt(t,i,i.pendingProps.children,a),i.child;case 12:return mt(t,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,Ln(i,i.type,u.value),mt(t,i,u.children,a),i.child;case 9:return d=i.type._context,u=i.pendingProps.children,mi(i),d=vt(d),u=u(d),i.flags|=1,mt(t,i,u,a),i.child;case 14:return hd(t,i,i.type,i.pendingProps,a);case 15:return gd(t,i,i.type,i.pendingProps,a);case 19:return _d(t,i,a);case 31:return u=i.pendingProps,a=i.mode,u={mode:u.mode,children:u.children},t===null?(a=ma(u,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=yn(t.child,u),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return yd(t,i,a);case 24:return mi(i),u=vt(lt),t===null?(d=Ks(),d===null&&(d=Fe,h=$s(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=a),d=h),i.memoizedState={parent:u,cache:d},Qs(i),Ln(i,lt,d)):((t.lanes&a)!==0&&(Zs(t,i),Ko(i,null,null,a),Jo()),d=t.memoizedState,h=i.memoizedState,d.parent!==u?(d={parent:u,cache:u},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Ln(i,lt,u)):(u=h.cache,Ln(i,lt,u),u!==d.cache&&Fs(i,[lt],a,!0))),mt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function xn(t){t.flags|=4}function Md(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Up(i)){if(i=$t.current,i!==null&&((Se&4194048)===Se?rn!==null:(Se&62914560)!==Se&&(Se&536870912)===0||i!==rn))throw Fo=Xs,uf;t.flags|=8192}}function ha(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ic():536870912,t.lanes|=i,no|=i)}function tl(t,i){if(!Me)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Xe(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,u=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=a,i}function Uy(t,i,a){var u=i.pendingProps;switch(zs(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(i),null;case 1:return Xe(i),null;case 3:return a=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Cn(lt),on(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Go(i)?xn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,of())),Xe(i),null;case 26:return a=i.memoizedState,t===null?(xn(i),a!==null?(Xe(i),Md(i,a)):(Xe(i),i.flags&=-16777217)):a?a!==t.memoizedState?(xn(i),Xe(i),Md(i,a)):(Xe(i),i.flags&=-16777217):(t.memoizedProps!==u&&xn(i),Xe(i),i.flags&=-16777217),null;case 27:Mi(i),a=re.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==u&&xn(i);else{if(!u){if(i.stateNode===null)throw Error(l(166));return Xe(i),null}t=ie.current,Go(i)?tf(i):(t=Mp(d,u,a),i.stateNode=t,xn(i))}return Xe(i),null;case 5:if(Mi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&xn(i);else{if(!u){if(i.stateNode===null)throw Error(l(166));return Xe(i),null}if(t=ie.current,Go(i))tf(i);else{switch(d=Na(re.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?d.createElement(a,{is:u.is}):d.createElement(a)}}t[yt]=i,t[xt]=u;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(gt(t,a,u),a){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&xn(i)}}return Xe(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&xn(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(l(166));if(t=re.current,Go(i)){if(t=i.stateNode,a=i.memoizedProps,u=null,d=Et,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}t[yt]=i,t=!!(t.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Tp(t.nodeValue,a)),t||di(i)}else t=Na(t).createTextNode(u),t[yt]=i,i.stateNode=t}return Xe(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Go(i),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(l(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));d[yt]=i}else qo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Xe(i),d=!1}else d=of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(An(i),i):(An(i),null)}if(An(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=u!==null,t=t!==null&&t.memoizedState!==null,a){u=i.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var h=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(h=u.memoizedState.cachePool.pool),h!==d&&(u.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),ha(i,i.updateQueue),Xe(i),null;case 4:return on(),t===null&&jr(i.stateNode.containerInfo),Xe(i),null;case 10:return Cn(i.type),Xe(i),null;case 19:if(J(at),d=i.memoizedState,d===null)return Xe(i),null;if(u=(i.flags&128)!==0,h=d.rendering,h===null)if(u)tl(d,!1);else{if(je!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(h=ca(t),h!==null){for(i.flags|=128,tl(d,!1),t=h.updateQueue,i.updateQueue=t,ha(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)jc(a,t),a=a.sibling;return $(at,at.current&1|2),i.child}t=t.sibling}d.tail!==null&&z()>va&&(i.flags|=128,u=!0,tl(d,!1),i.lanes=4194304)}else{if(!u)if(t=ca(h),t!==null){if(i.flags|=128,u=!0,t=t.updateQueue,i.updateQueue=t,ha(i,t),tl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Me)return Xe(i),null}else 2*z()-d.renderingStartTime>va&&a!==536870912&&(i.flags|=128,u=!0,tl(d,!1),i.lanes=4194304);d.isBackwards?(h.sibling=i.child,i.child=h):(t=d.last,t!==null?t.sibling=h:i.child=h,d.last=h)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=z(),i.sibling=null,t=at.current,$(at,u?t&1|2:t&1),i):(Xe(i),null);case 22:case 23:return An(i),tr(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(a&536870912)!==0&&(i.flags&128)===0&&(Xe(i),i.subtreeFlags&6&&(i.flags|=8192)):Xe(i),a=i.updateQueue,a!==null&&ha(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),t!==null&&J(hi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Cn(lt),Xe(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function Ly(t,i){switch(zs(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Cn(lt),on(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Mi(i),null;case 13:if(An(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(l(340));qo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(at),null;case 4:return on(),null;case 10:return Cn(i.type),null;case 22:case 23:return An(i),tr(),t!==null&&J(hi),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Cn(lt),null;case 25:return null;default:return null}}function Rd(t,i){switch(zs(i),i.tag){case 3:Cn(lt),on();break;case 26:case 27:case 5:Mi(i);break;case 4:on();break;case 13:An(i);break;case 19:J(at);break;case 10:Cn(i.type);break;case 22:case 23:An(i),tr(),t!==null&&J(hi);break;case 24:Cn(lt)}}function nl(t,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var d=u.next;a=d;do{if((a.tag&t)===t){u=void 0;var h=a.create,T=a.inst;u=h(),T.destroy=u}a=a.next}while(a!==d)}}catch(E){Ye(i,i.return,E)}}function Bn(t,i,a){try{var u=i.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var h=d.next;u=h;do{if((u.tag&t)===t){var T=u.inst,E=T.destroy;if(E!==void 0){T.destroy=void 0,d=i;var A=a,b=E;try{b()}catch(V){Ye(d,A,V)}}}u=u.next}while(u!==h)}}catch(V){Ye(i,i.return,V)}}function Nd(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{hf(i,a)}catch(u){Ye(t,t.return,u)}}}function wd(t,i,a){a.props=yi(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(u){Ye(t,i,u)}}function il(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof a=="function"?t.refCleanup=a(u):a.current=u}}catch(d){Ye(t,i,d)}}function un(t,i){var a=t.ref,u=t.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(d){Ye(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ye(t,i,d)}else a.current=null}function Dd(t){var i=t.type,a=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(d){Ye(t,t.return,d)}}function wr(t,i,a){try{var u=t.stateNode;nv(u,t.type,a,i),u[xt]=i}catch(d){Ye(t,t.return,d)}}function bd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qn(t.type)||t.tag===4}function Dr(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function br(t,i,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ra));else if(u!==4&&(u===27&&Qn(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(br(t,i,a),t=t.sibling;t!==null;)br(t,i,a),t=t.sibling}function ga(t,i,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(u!==4&&(u===27&&Qn(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ga(t,i,a),t=t.sibling;t!==null;)ga(t,i,a),t=t.sibling}function kd(t){var i=t.stateNode,a=t.memoizedProps;try{for(var u=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);gt(i,u,a),i[yt]=t,i[xt]=a}catch(h){Ye(t,t.return,h)}}var Mn=!1,nt=!1,kr=!1,Id=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Vy(t,i){if(t=t.containerInfo,nu=Ua,t=Yc(t),Ds(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var d=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var T=0,E=-1,A=-1,b=0,V=0,G=t,k=null;t:for(;;){for(var I;G!==a||d!==0&&G.nodeType!==3||(E=T+d),G!==h||u!==0&&G.nodeType!==3||(A=T+u),G.nodeType===3&&(T+=G.nodeValue.length),(I=G.firstChild)!==null;)k=G,G=I;for(;;){if(G===t)break t;if(k===a&&++b===d&&(E=T),k===h&&++V===u&&(A=T),(I=G.nextSibling)!==null)break;G=k,k=G.parentNode}G=I}a=E===-1||A===-1?null:{start:E,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(iu={focusedElem:t,selectionRange:a},Ua=!1,ft=i;ft!==null;)if(i=ft,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,ft=t;else for(;ft!==null;){switch(i=ft,h=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=i,d=h.memoizedProps,h=h.memoizedState,u=a.stateNode;try{var ce=yi(a.type,d,a.elementType===a.type);t=u.getSnapshotBeforeUpdate(ce,h),u.__reactInternalSnapshotBeforeUpdate=t}catch(ae){Ye(a,a.return,ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)au(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":au(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=i.sibling,t!==null){t.return=i.return,ft=t;break}ft=i.return}}function Ud(t,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Yn(t,a),u&4&&nl(5,a);break;case 1:if(Yn(t,a),u&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){Ye(a,a.return,T)}else{var d=yi(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Ye(a,a.return,T)}}u&64&&Nd(a),u&512&&il(a,a.return);break;case 3:if(Yn(t,a),u&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{hf(t,i)}catch(T){Ye(a,a.return,T)}}break;case 27:i===null&&u&4&&kd(a);case 26:case 5:Yn(t,a),i===null&&u&4&&Dd(a),u&512&&il(a,a.return);break;case 12:Yn(t,a);break;case 13:Yn(t,a),u&4&&Pd(t,a),u&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Fy.bind(null,a),uv(t,a))));break;case 22:if(u=a.memoizedState!==null||Mn,!u){i=i!==null&&i.memoizedState!==null||nt,d=Mn;var h=nt;Mn=u,(nt=i)&&!h?On(t,a,(a.subtreeFlags&8772)!==0):Yn(t,a),Mn=d,nt=h}break;case 30:break;default:Yn(t,a)}}function Ld(t){var i=t.alternate;i!==null&&(t.alternate=null,Ld(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&fs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ke=null,Nt=!1;function Rn(t,i,a){for(a=a.child;a!==null;)Vd(t,i,a),a=a.sibling}function Vd(t,i,a){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(rt,a)}catch{}switch(a.tag){case 26:nt||un(a,i),Rn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:nt||un(a,i);var u=Ke,d=Nt;Qn(a.type)&&(Ke=a.stateNode,Nt=!1),Rn(t,i,a),dl(a.stateNode),Ke=u,Nt=d;break;case 5:nt||un(a,i);case 6:if(u=Ke,d=Nt,Ke=null,Rn(t,i,a),Ke=u,Nt=d,Ke!==null)if(Nt)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(a.stateNode)}catch(h){Ye(a,i,h)}else try{Ke.removeChild(a.stateNode)}catch(h){Ye(a,i,h)}break;case 18:Ke!==null&&(Nt?(t=Ke,_p(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Sl(t)):_p(Ke,a.stateNode));break;case 4:u=Ke,d=Nt,Ke=a.stateNode.containerInfo,Nt=!0,Rn(t,i,a),Ke=u,Nt=d;break;case 0:case 11:case 14:case 15:nt||Bn(2,a,i),nt||Bn(4,a,i),Rn(t,i,a);break;case 1:nt||(un(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&wd(a,i,u)),Rn(t,i,a);break;case 21:Rn(t,i,a);break;case 22:nt=(u=nt)||a.memoizedState!==null,Rn(t,i,a),nt=u;break;default:Rn(t,i,a)}}function Pd(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Sl(t)}catch(a){Ye(i,i.return,a)}}function Py(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Id),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Id),i;default:throw Error(l(435,t.tag))}}function Ir(t,i){var a=Py(t);i.forEach(function(u){var d=$y.bind(null,t,u);a.has(u)||(a.add(u),u.then(d,d))})}function Ut(t,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var d=a[u],h=t,T=i,E=T;e:for(;E!==null;){switch(E.tag){case 27:if(Qn(E.type)){Ke=E.stateNode,Nt=!1;break e}break;case 5:Ke=E.stateNode,Nt=!1;break e;case 3:case 4:Ke=E.stateNode.containerInfo,Nt=!0;break e}E=E.return}if(Ke===null)throw Error(l(160));Vd(h,T,d),Ke=null,Nt=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Gd(i,t),i=i.sibling}var jt=null;function Gd(t,i){var a=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ut(i,t),Lt(t),u&4&&(Bn(3,t,t.return),nl(3,t),Bn(5,t,t.return));break;case 1:Ut(i,t),Lt(t),u&512&&(nt||a===null||un(a,a.return)),u&64&&Mn&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var d=jt;if(Ut(i,t),Lt(t),u&512&&(nt||a===null||un(a,a.return)),u&4){var h=a!==null?a.memoizedState:null;if(u=t.memoizedState,a===null)if(u===null)if(t.stateNode===null){e:{u=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Ro]||h[yt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(u),d.head.insertBefore(h,d.querySelector("head > title"))),gt(h,u,a),h[yt]=t,ut(h),u=h;break e;case"link":var T=kp("link","href",d).get(u+(a.href||""));if(T){for(var E=0;E<T.length;E++)if(h=T[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(E,1);break t}}h=d.createElement(u),gt(h,u,a),d.head.appendChild(h);break;case"meta":if(T=kp("meta","content",d).get(u+(a.content||""))){for(E=0;E<T.length;E++)if(h=T[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(E,1);break t}}h=d.createElement(u),gt(h,u,a),d.head.appendChild(h);break;default:throw Error(l(468,u))}h[yt]=t,ut(h),u=h}t.stateNode=u}else Ip(d,t.type,t.stateNode);else t.stateNode=bp(d,u,t.memoizedProps);else h!==u?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,u===null?Ip(d,t.type,t.stateNode):bp(d,u,t.memoizedProps)):u===null&&t.stateNode!==null&&wr(t,t.memoizedProps,a.memoizedProps)}break;case 27:Ut(i,t),Lt(t),u&512&&(nt||a===null||un(a,a.return)),a!==null&&u&4&&wr(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Ut(i,t),Lt(t),u&512&&(nt||a===null||un(a,a.return)),t.flags&32){d=t.stateNode;try{Ui(d,"")}catch(I){Ye(t,t.return,I)}}u&4&&t.stateNode!=null&&(d=t.memoizedProps,wr(t,d,a!==null?a.memoizedProps:d)),u&1024&&(kr=!0);break;case 6:if(Ut(i,t),Lt(t),u&4){if(t.stateNode===null)throw Error(l(162));u=t.memoizedProps,a=t.stateNode;try{a.nodeValue=u}catch(I){Ye(t,t.return,I)}}break;case 3:if(ba=null,d=jt,jt=wa(i.containerInfo),Ut(i,t),jt=d,Lt(t),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Sl(i.containerInfo)}catch(I){Ye(t,t.return,I)}kr&&(kr=!1,qd(t));break;case 4:u=jt,jt=wa(t.stateNode.containerInfo),Ut(i,t),Lt(t),jt=u;break;case 12:Ut(i,t),Lt(t);break;case 13:Ut(i,t),Lt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qr=z()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ir(t,u)));break;case 22:d=t.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,b=Mn,V=nt;if(Mn=b||d,nt=V||A,Ut(i,t),nt=V,Mn=b,Lt(t),u&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||A||Mn||nt||vi(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){A=a=i;try{if(h=A.stateNode,d)T=h.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{E=A.stateNode;var G=A.memoizedProps.style,k=G!=null&&G.hasOwnProperty("display")?G.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(I){Ye(A,A.return,I)}}}else if(i.tag===6){if(a===null){A=i;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(I){Ye(A,A.return,I)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Ir(t,a))));break;case 19:Ut(i,t),Lt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ir(t,u)));break;case 30:break;case 21:break;default:Ut(i,t),Lt(t)}}function Lt(t){var i=t.flags;if(i&2){try{for(var a,u=t.return;u!==null;){if(bd(u)){a=u;break}u=u.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var d=a.stateNode,h=Dr(t);ga(t,h,d);break;case 5:var T=a.stateNode;a.flags&32&&(Ui(T,""),a.flags&=-33);var E=Dr(t);ga(t,E,T);break;case 3:case 4:var A=a.stateNode.containerInfo,b=Dr(t);br(t,b,A);break;default:throw Error(l(161))}}catch(V){Ye(t,t.return,V)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function qd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;qd(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Yn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ud(t,i.alternate,i),i=i.sibling}function vi(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Bn(4,i,i.return),vi(i);break;case 1:un(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&wd(i,i.return,a),vi(i);break;case 27:dl(i.stateNode);case 26:case 5:un(i,i.return),vi(i);break;case 22:i.memoizedState===null&&vi(i);break;case 30:vi(i);break;default:vi(i)}t=t.sibling}}function On(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,d=t,h=i,T=h.flags;switch(h.tag){case 0:case 11:case 15:On(d,h,a),nl(4,h);break;case 1:if(On(d,h,a),u=h,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(b){Ye(u,u.return,b)}if(u=h,d=u.updateQueue,d!==null){var E=u.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)mf(A[d],E)}catch(b){Ye(u,u.return,b)}}a&&T&64&&Nd(h),il(h,h.return);break;case 27:kd(h);case 26:case 5:On(d,h,a),a&&u===null&&T&4&&Dd(h),il(h,h.return);break;case 12:On(d,h,a);break;case 13:On(d,h,a),a&&T&4&&Pd(d,h);break;case 22:h.memoizedState===null&&On(d,h,a),il(h,h.return);break;case 30:break;default:On(d,h,a)}i=i.sibling}}function Ur(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Bo(a))}function Lr(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Bo(t))}function cn(t,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hd(t,i,a,u),i=i.sibling}function Hd(t,i,a,u){var d=i.flags;switch(i.tag){case 0:case 11:case 15:cn(t,i,a,u),d&2048&&nl(9,i);break;case 1:cn(t,i,a,u);break;case 3:cn(t,i,a,u),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Bo(t)));break;case 12:if(d&2048){cn(t,i,a,u),t=i.stateNode;try{var h=i.memoizedProps,T=h.id,E=h.onPostCommit;typeof E=="function"&&E(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Ye(i,i.return,A)}}else cn(t,i,a,u);break;case 13:cn(t,i,a,u);break;case 23:break;case 22:h=i.stateNode,T=i.alternate,i.memoizedState!==null?h._visibility&2?cn(t,i,a,u):ol(t,i):h._visibility&2?cn(t,i,a,u):(h._visibility|=2,ji(t,i,a,u,(i.subtreeFlags&10256)!==0)),d&2048&&Ur(T,i);break;case 24:cn(t,i,a,u),d&2048&&Lr(i.alternate,i);break;default:cn(t,i,a,u)}}function ji(t,i,a,u,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var h=t,T=i,E=a,A=u,b=T.flags;switch(T.tag){case 0:case 11:case 15:ji(h,T,E,A,d),nl(8,T);break;case 23:break;case 22:var V=T.stateNode;T.memoizedState!==null?V._visibility&2?ji(h,T,E,A,d):ol(h,T):(V._visibility|=2,ji(h,T,E,A,d)),d&&b&2048&&Ur(T.alternate,T);break;case 24:ji(h,T,E,A,d),d&&b&2048&&Lr(T.alternate,T);break;default:ji(h,T,E,A,d)}i=i.sibling}}function ol(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,u=i,d=u.flags;switch(u.tag){case 22:ol(a,u),d&2048&&Ur(u.alternate,u);break;case 24:ol(a,u),d&2048&&Lr(u.alternate,u);break;default:ol(a,u)}i=i.sibling}}var ll=8192;function eo(t){if(t.subtreeFlags&ll)for(t=t.child;t!==null;)zd(t),t=t.sibling}function zd(t){switch(t.tag){case 26:eo(t),t.flags&ll&&t.memoizedState!==null&&Ev(jt,t.memoizedState,t.memoizedProps);break;case 5:eo(t);break;case 3:case 4:var i=jt;jt=wa(t.stateNode.containerInfo),eo(t),jt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ll,ll=16777216,eo(t),ll=i):eo(t));break;default:eo(t)}}function Bd(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function al(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];ft=u,Od(u,t)}Bd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yd(t),t=t.sibling}function Yd(t){switch(t.tag){case 0:case 11:case 15:al(t),t.flags&2048&&Bn(9,t,t.return);break;case 3:al(t);break;case 12:al(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,ya(t)):al(t);break;default:al(t)}}function ya(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];ft=u,Od(u,t)}Bd(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Bn(8,i,i.return),ya(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ya(i));break;default:ya(i)}t=t.sibling}}function Od(t,i){for(;ft!==null;){var a=ft;switch(a.tag){case 0:case 11:case 15:Bn(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bo(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,ft=u;else e:for(a=t;ft!==null;){u=ft;var d=u.sibling,h=u.return;if(Ld(u),u===a){ft=null;break e}if(d!==null){d.return=h,ft=d;break e}ft=h}}}var Gy={getCacheForType:function(t){var i=vt(lt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},qy=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Fe=null,he=null,Se=0,Le=0,Vt=null,Fn=!1,to=!1,Vr=!1,Nn=0,je=0,$n=0,Ti=0,Pr=0,Jt=0,no=0,sl=null,wt=null,Gr=!1,qr=0,va=1/0,Ta=null,Jn=null,ht=0,Kn=null,io=null,oo=0,Hr=0,zr=null,Fd=null,rl=0,Br=null;function Pt(){if((Ue&2)!==0&&Se!==0)return Se&-Se;if(U.T!==null){var t=Fi;return t!==0?t:Xr()}return ac()}function $d(){Jt===0&&(Jt=(Se&536870912)===0||Me?nc():536870912);var t=$t.current;return t!==null&&(t.flags|=32),Jt}function Gt(t,i,a){(t===Fe&&(Le===2||Le===9)||t.cancelPendingCommit!==null)&&(lo(t,0),Xn(t,Se,Jt,!1)),Mo(t,a),((Ue&2)===0||t!==Fe)&&(t===Fe&&((Ue&2)===0&&(Ti|=a),je===4&&Xn(t,Se,Jt,!1)),fn(t))}function Jd(t,i,a){if((Ue&6)!==0)throw Error(l(327));var u=!a&&(i&124)===0&&(i&t.expiredLanes)===0||xo(t,i),d=u?By(t,i):Fr(t,i,!0),h=u;do{if(d===0){to&&!u&&Xn(t,i,0,!1);break}else{if(a=t.current.alternate,h&&!Hy(a)){d=Fr(t,i,!1),h=!1;continue}if(d===2){if(h=i,t.errorRecoveryDisabledLanes&h)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var E=t;d=sl;var A=E.current.memoizedState.isDehydrated;if(A&&(lo(E,T).flags|=256),T=Fr(E,T,!1),T!==2){if(Vr&&!A){E.errorRecoveryDisabledLanes|=h,Ti|=h,d=4;break e}h=wt,wt=d,h!==null&&(wt===null?wt=h:wt.push.apply(wt,h))}d=T}if(h=!1,d!==2)continue}}if(d===1){lo(t,0),Xn(t,i,0,!0);break}e:{switch(u=t,h=d,h){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:Xn(u,i,Jt,!Fn);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(d=qr+300-z(),10<d)){if(Xn(u,i,Jt,!Fn),qt(u,0,!0)!==0)break e;u.timeoutHandle=Ep(Kd.bind(null,u,a,wt,Ta,Gr,i,Jt,Ti,no,Fn,h,2,-0,0),d);break e}Kd(u,a,wt,Ta,Gr,i,Jt,Ti,no,Fn,h,0,-0,0)}}break}while(!0);fn(t)}function Kd(t,i,a,u,d,h,T,E,A,b,V,G,k,I){if(t.timeoutHandle=-1,G=i.subtreeFlags,(G&8192||(G&16785408)===16785408)&&(hl={stylesheets:null,count:0,unsuspend:Cv},zd(i),G=Av(),G!==null)){t.cancelPendingCommit=G(tp.bind(null,t,i,h,a,u,d,T,E,A,V,1,k,I)),Xn(t,h,T,!b);return}tp(t,i,h,a,u,d,T,E,A)}function Hy(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var d=a[u],h=d.getSnapshot;d=d.value;try{if(!kt(h(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xn(t,i,a,u){i&=~Pr,i&=~Ti,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var d=i;0<d;){var h=31-Ee(d),T=1<<h;u[h]=-1,d&=~T}a!==0&&oc(t,a,i)}function Sa(){return(Ue&6)===0?(ul(0),!1):!0}function Yr(){if(he!==null){if(Le===0)var t=he.return;else t=he,Sn=pi=null,ar(t),Zi=null,jo=0,t=he;for(;t!==null;)Rd(t.alternate,t),t=t.return;he=null}}function lo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ov(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Yr(),Fe=t,he=a=yn(t.current,null),Se=i,Le=0,Vt=null,Fn=!1,to=xo(t,i),Vr=!1,no=Jt=Pr=Ti=$n=je=0,wt=sl=null,Gr=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var d=31-Ee(u),h=1<<d;i|=t[d],u&=~h}return Nn=i,Bl(),a}function Xd(t,i){pe=null,U.H=sa,i===Oo||i===Zl?(i=df(),Le=3):i===uf?(i=df(),Le=4):Le=i===pd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Vt=i,he===null&&(je=1,da(t,Bt(i,t.current)))}function Qd(){var t=U.H;return U.H=sa,t===null?sa:t}function Zd(){var t=U.A;return U.A=Gy,t}function Or(){je=4,Fn||(Se&4194048)!==Se&&$t.current!==null||(to=!0),($n&134217727)===0&&(Ti&134217727)===0||Fe===null||Xn(Fe,Se,Jt,!1)}function Fr(t,i,a){var u=Ue;Ue|=2;var d=Qd(),h=Zd();(Fe!==t||Se!==i)&&(Ta=null,lo(t,i)),i=!1;var T=je;e:do try{if(Le!==0&&he!==null){var E=he,A=Vt;switch(Le){case 8:Yr(),T=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(i=!0);var b=Le;if(Le=0,Vt=null,ao(t,E,A,b),a&&to){T=0;break e}break;default:b=Le,Le=0,Vt=null,ao(t,E,A,b)}}zy(),T=je;break}catch(V){Xd(t,V)}while(!0);return i&&t.shellSuspendCounter++,Sn=pi=null,Ue=u,U.H=d,U.A=h,he===null&&(Fe=null,Se=0,Bl()),T}function zy(){for(;he!==null;)Wd(he)}function By(t,i){var a=Ue;Ue|=2;var u=Qd(),d=Zd();Fe!==t||Se!==i?(Ta=null,va=z()+500,lo(t,i)):to=xo(t,i);e:do try{if(Le!==0&&he!==null){i=he;var h=Vt;t:switch(Le){case 1:Le=0,Vt=null,ao(t,i,h,1);break;case 2:case 9:if(cf(h)){Le=0,Vt=null,jd(i);break}i=function(){Le!==2&&Le!==9||Fe!==t||(Le=7),fn(t)},h.then(i,i);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:cf(h)?(Le=0,Vt=null,jd(i)):(Le=0,Vt=null,ao(t,i,h,7));break;case 5:var T=null;switch(he.tag){case 26:T=he.memoizedState;case 5:case 27:var E=he;if(!T||Up(T)){Le=0,Vt=null;var A=E.sibling;if(A!==null)he=A;else{var b=E.return;b!==null?(he=b,Ca(b)):he=null}break t}}Le=0,Vt=null,ao(t,i,h,5);break;case 6:Le=0,Vt=null,ao(t,i,h,6);break;case 8:Yr(),je=6;break e;default:throw Error(l(462))}}Yy();break}catch(V){Xd(t,V)}while(!0);return Sn=pi=null,U.H=u,U.A=d,Ue=a,he!==null?0:(Fe=null,Se=0,Bl(),je)}function Yy(){for(;he!==null&&!Dl();)Wd(he)}function Wd(t){var i=xd(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,i===null?Ca(t):he=i}function jd(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Td(a,i,i.pendingProps,i.type,void 0,Se);break;case 11:i=Td(a,i,i.pendingProps,i.type.render,i.ref,Se);break;case 5:ar(i);default:Rd(a,i),i=he=jc(i,Nn),i=xd(a,i,Nn)}t.memoizedProps=t.pendingProps,i===null?Ca(t):he=i}function ao(t,i,a,u){Sn=pi=null,ar(i),Zi=null,jo=0;var d=i.return;try{if(ky(t,d,i,a,Se)){je=1,da(t,Bt(a,t.current)),he=null;return}}catch(h){if(d!==null)throw he=d,h;je=1,da(t,Bt(a,t.current)),he=null;return}i.flags&32768?(Me||u===1?t=!0:to||(Se&536870912)!==0?t=!1:(Fn=t=!0,(u===2||u===9||u===3||u===6)&&(u=$t.current,u!==null&&u.tag===13&&(u.flags|=16384))),ep(i,t)):Ca(i)}function Ca(t){var i=t;do{if((i.flags&32768)!==0){ep(i,Fn);return}t=i.return;var a=Uy(i.alternate,i,Nn);if(a!==null){he=a;return}if(i=i.sibling,i!==null){he=i;return}he=i=t}while(i!==null);je===0&&(je=5)}function ep(t,i){do{var a=Ly(t.alternate,t);if(a!==null){a.flags&=32767,he=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){he=t;return}he=t=a}while(t!==null);je=6,he=null}function tp(t,i,a,u,d,h,T,E,A){t.cancelPendingCommit=null;do Ea();while(ht!==0);if((Ue&6)!==0)throw Error(l(327));if(i!==null){if(i===t.current)throw Error(l(177));if(h=i.lanes|i.childLanes,h|=Ls,Cg(t,a,h,T,E,A),t===Fe&&(he=Fe=null,Se=0),io=i,Kn=t,oo=a,Hr=h,zr=d,Fd=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Jy(Be,function(){return ap(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=U.T,U.T=null,d=O.p,O.p=2,T=Ue,Ue|=4;try{Vy(t,i,a)}finally{Ue=T,O.p=d,U.T=u}}ht=1,np(),ip(),op()}}function np(){if(ht===1){ht=0;var t=Kn,i=io,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var u=O.p;O.p=2;var d=Ue;Ue|=4;try{Gd(i,t);var h=iu,T=Yc(t.containerInfo),E=h.focusedElem,A=h.selectionRange;if(T!==E&&E&&E.ownerDocument&&Bc(E.ownerDocument.documentElement,E)){if(A!==null&&Ds(E)){var b=A.start,V=A.end;if(V===void 0&&(V=b),"selectionStart"in E)E.selectionStart=b,E.selectionEnd=Math.min(V,E.value.length);else{var G=E.ownerDocument||document,k=G&&G.defaultView||window;if(k.getSelection){var I=k.getSelection(),ce=E.textContent.length,ae=Math.min(A.start,ce),He=A.end===void 0?ae:Math.min(A.end,ce);!I.extend&&ae>He&&(T=He,He=ae,ae=T);var R=zc(E,ae),x=zc(E,He);if(R&&x&&(I.rangeCount!==1||I.anchorNode!==R.node||I.anchorOffset!==R.offset||I.focusNode!==x.node||I.focusOffset!==x.offset)){var w=G.createRange();w.setStart(R.node,R.offset),I.removeAllRanges(),ae>He?(I.addRange(w),I.extend(x.node,x.offset)):(w.setEnd(x.node,x.offset),I.addRange(w))}}}}for(G=[],I=E;I=I.parentNode;)I.nodeType===1&&G.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<G.length;E++){var P=G[E];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Ua=!!nu,iu=nu=null}finally{Ue=d,O.p=u,U.T=a}}t.current=i,ht=2}}function ip(){if(ht===2){ht=0;var t=Kn,i=io,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var u=O.p;O.p=2;var d=Ue;Ue|=4;try{Ud(t,i.alternate,i)}finally{Ue=d,O.p=u,U.T=a}}ht=3}}function op(){if(ht===4||ht===3){ht=0,ln();var t=Kn,i=io,a=oo,u=Fd;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ht=5:(ht=0,io=Kn=null,lp(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Jn=null),us(a),i=i.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(rt,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=U.T,d=O.p,O.p=2,U.T=null;try{for(var h=t.onRecoverableError,T=0;T<u.length;T++){var E=u[T];h(E.value,{componentStack:E.stack})}}finally{U.T=i,O.p=d}}(oo&3)!==0&&Ea(),fn(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===Br?rl++:(rl=0,Br=t):rl=0,ul(0)}}function lp(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Bo(i)))}function Ea(t){return np(),ip(),op(),ap()}function ap(){if(ht!==5)return!1;var t=Kn,i=Hr;Hr=0;var a=us(oo),u=U.T,d=O.p;try{O.p=32>a?32:a,U.T=null,a=zr,zr=null;var h=Kn,T=oo;if(ht=0,io=Kn=null,oo=0,(Ue&6)!==0)throw Error(l(331));var E=Ue;if(Ue|=4,Yd(h.current),Hd(h,h.current,T,a),Ue=E,ul(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(rt,h)}catch{}return!0}finally{O.p=d,U.T=u,lp(t,i)}}function sp(t,i,a){i=Bt(a,i),i=Sr(t.stateNode,i,2),t=Gn(t,i,2),t!==null&&(Mo(t,2),fn(t))}function Ye(t,i,a){if(t.tag===3)sp(t,t,a);else for(;i!==null;){if(i.tag===3){sp(i,t,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Jn===null||!Jn.has(u))){t=Bt(a,t),a=fd(2),u=Gn(i,a,2),u!==null&&(dd(a,u,i,t),Mo(u,2),fn(u));break}}i=i.return}}function $r(t,i,a){var u=t.pingCache;if(u===null){u=t.pingCache=new qy;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(a)||(Vr=!0,d.add(a),t=Oy.bind(null,t,i,a),i.then(t,t))}function Oy(t,i,a){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Fe===t&&(Se&a)===a&&(je===4||je===3&&(Se&62914560)===Se&&300>z()-qr?(Ue&2)===0&&lo(t,0):Pr|=a,no===Se&&(no=0)),fn(t)}function rp(t,i){i===0&&(i=ic()),t=zi(t,i),t!==null&&(Mo(t,i),fn(t))}function Fy(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),rp(t,a)}function $y(t,i){var a=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(l(314))}u!==null&&u.delete(i),rp(t,a)}function Jy(t,i){return Ao(t,i)}var Aa=null,so=null,Jr=!1,_a=!1,Kr=!1,Si=0;function fn(t){t!==so&&t.next===null&&(so===null?Aa=so=t:so=so.next=t),_a=!0,Jr||(Jr=!0,Xy())}function ul(t,i){if(!Kr&&_a){Kr=!0;do for(var a=!1,u=Aa;u!==null;){if(t!==0){var d=u.pendingLanes;if(d===0)var h=0;else{var T=u.suspendedLanes,E=u.pingedLanes;h=(1<<31-Ee(42|t)+1)-1,h&=d&~(T&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,dp(u,h))}else h=Se,h=qt(u,u===Fe?h:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(h&3)===0||xo(u,h)||(a=!0,dp(u,h));u=u.next}while(a);Kr=!1}}function Ky(){up()}function up(){_a=Jr=!1;var t=0;Si!==0&&(iv()&&(t=Si),Si=0);for(var i=z(),a=null,u=Aa;u!==null;){var d=u.next,h=cp(u,i);h===0?(u.next=null,a===null?Aa=d:a.next=d,d===null&&(so=a)):(a=u,(t!==0||(h&3)!==0)&&(_a=!0)),u=d}ul(t)}function cp(t,i){for(var a=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var T=31-Ee(h),E=1<<T,A=d[T];A===-1?((E&a)===0||(E&u)!==0)&&(d[T]=Sg(E,i)):A<=i&&(t.expiredLanes|=E),h&=~E}if(i=Fe,a=Se,a=qt(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,a===0||t===i&&(Le===2||Le===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&_o(u),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||xo(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(u!==null&&_o(u),us(a)){case 2:case 8:a=Ae;break;case 32:a=Be;break;case 268435456:a=Ve;break;default:a=Be}return u=fp.bind(null,t),a=Ao(a,u),t.callbackPriority=i,t.callbackNode=a,i}return u!==null&&u!==null&&_o(u),t.callbackPriority=2,t.callbackNode=null,2}function fp(t,i){if(ht!==0&&ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ea()&&t.callbackNode!==a)return null;var u=Se;return u=qt(t,t===Fe?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Jd(t,u,i),cp(t,z()),t.callbackNode!=null&&t.callbackNode===a?fp.bind(null,t):null)}function dp(t,i){if(Ea())return null;Jd(t,i,!0)}function Xy(){lv(function(){(Ue&6)!==0?Ao(le,Ky):up()})}function Xr(){return Si===0&&(Si=nc()),Si}function pp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ll(""+t)}function mp(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Qy(t,i,a,u,d){if(i==="submit"&&a&&a.stateNode===d){var h=pp((d[xt]||null).action),T=u.submitter;T&&(i=(i=T[xt]||null)?pp(i.formAction):T.getAttribute("formAction"),i!==null&&(h=i,T=null));var E=new ql("action","action",null,u,d);t.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Si!==0){var A=T?mp(d,T):new FormData(d);hr(a,{pending:!0,data:A,method:d.method,action:h},null,A)}}else typeof h=="function"&&(E.preventDefault(),A=T?mp(d,T):new FormData(d),hr(a,{pending:!0,data:A,method:d.method,action:h},h,A))},currentTarget:d}]})}}for(var Qr=0;Qr<Us.length;Qr++){var Zr=Us[Qr],Zy=Zr.toLowerCase(),Wy=Zr[0].toUpperCase()+Zr.slice(1);Wt(Zy,"on"+Wy)}Wt($c,"onAnimationEnd"),Wt(Jc,"onAnimationIteration"),Wt(Kc,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(hy,"onTransitionRun"),Wt(gy,"onTransitionStart"),Wt(yy,"onTransitionCancel"),Wt(Xc,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function hp(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var u=t[a],d=u.event;u=u.listeners;e:{var h=void 0;if(i)for(var T=u.length-1;0<=T;T--){var E=u[T],A=E.instance,b=E.currentTarget;if(E=E.listener,A!==h&&d.isPropagationStopped())break e;h=E,d.currentTarget=b;try{h(d)}catch(V){fa(V)}d.currentTarget=null,h=A}else for(T=0;T<u.length;T++){if(E=u[T],A=E.instance,b=E.currentTarget,E=E.listener,A!==h&&d.isPropagationStopped())break e;h=E,d.currentTarget=b;try{h(d)}catch(V){fa(V)}d.currentTarget=null,h=A}}}}function ge(t,i){var a=i[cs];a===void 0&&(a=i[cs]=new Set);var u=t+"__bubble";a.has(u)||(gp(i,t,2,!1),a.add(u))}function Wr(t,i,a){var u=0;i&&(u|=4),gp(a,t,u,i)}var xa="_reactListening"+Math.random().toString(36).slice(2);function jr(t){if(!t[xa]){t[xa]=!0,rc.forEach(function(a){a!=="selectionchange"&&(jy.has(a)||Wr(a,!1,t),Wr(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[xa]||(i[xa]=!0,Wr("selectionchange",!1,i))}}function gp(t,i,a,u){switch(Hp(i)){case 2:var d=Mv;break;case 8:d=Rv;break;default:d=pu}a=d.bind(null,i,a,t),d=void 0,!Cs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function eu(t,i,a,u,d){var h=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var E=u.stateNode.containerInfo;if(E===d)break;if(T===4)for(T=u.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;E!==null;){if(T=Ni(E),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){u=h=T;continue e}E=E.parentNode}}u=u.return}Ec(function(){var b=h,V=Ts(a),G=[];e:{var k=Qc.get(t);if(k!==void 0){var I=ql,ce=t;switch(t){case"keypress":if(Pl(a)===0)break e;case"keydown":case"keyup":I=Jg;break;case"focusin":ce="focus",I=xs;break;case"focusout":ce="blur",I=xs;break;case"beforeblur":case"afterblur":I=xs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Lg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=Qg;break;case $c:case Jc:case Kc:I=Gg;break;case Xc:I=Wg;break;case"scroll":case"scrollend":I=Ig;break;case"wheel":I=ey;break;case"copy":case"cut":case"paste":I=Hg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Rc;break;case"toggle":case"beforetoggle":I=ny}var ae=(i&4)!==0,He=!ae&&(t==="scroll"||t==="scrollend"),R=ae?k!==null?k+"Capture":null:k;ae=[];for(var x=b,w;x!==null;){var P=x;if(w=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||w===null||R===null||(P=wo(x,R),P!=null&&ae.push(fl(x,P,w))),He)break;x=x.return}0<ae.length&&(k=new I(k,ce,null,a,V),G.push({event:k,listeners:ae}))}}if((i&7)===0){e:{if(k=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",k&&a!==vs&&(ce=a.relatedTarget||a.fromElement)&&(Ni(ce)||ce[Ri]))break e;if((I||k)&&(k=V.window===V?V:(k=V.ownerDocument)?k.defaultView||k.parentWindow:window,I?(ce=a.relatedTarget||a.toElement,I=b,ce=ce?Ni(ce):null,ce!==null&&(He=f(ce),ae=ce.tag,ce!==He||ae!==5&&ae!==27&&ae!==6)&&(ce=null)):(I=null,ce=b),I!==ce)){if(ae=xc,P="onMouseLeave",R="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(ae=Rc,P="onPointerLeave",R="onPointerEnter",x="pointer"),He=I==null?k:No(I),w=ce==null?k:No(ce),k=new ae(P,x+"leave",I,a,V),k.target=He,k.relatedTarget=w,P=null,Ni(V)===b&&(ae=new ae(R,x+"enter",ce,a,V),ae.target=w,ae.relatedTarget=He,P=ae),He=P,I&&ce)t:{for(ae=I,R=ce,x=0,w=ae;w;w=ro(w))x++;for(w=0,P=R;P;P=ro(P))w++;for(;0<x-w;)ae=ro(ae),x--;for(;0<w-x;)R=ro(R),w--;for(;x--;){if(ae===R||R!==null&&ae===R.alternate)break t;ae=ro(ae),R=ro(R)}ae=null}else ae=null;I!==null&&yp(G,k,I,ae,!1),ce!==null&&He!==null&&yp(G,He,ce,ae,!0)}}e:{if(k=b?No(b):window,I=k.nodeName&&k.nodeName.toLowerCase(),I==="select"||I==="input"&&k.type==="file")var Q=Lc;else if(Ic(k))if(Vc)Q=dy;else{Q=cy;var me=uy}else I=k.nodeName,!I||I.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?b&&ys(b.elementType)&&(Q=Lc):Q=fy;if(Q&&(Q=Q(t,b))){Uc(G,Q,a,V);break e}me&&me(t,k,b),t==="focusout"&&b&&k.type==="number"&&b.memoizedProps.value!=null&&gs(k,"number",k.value)}switch(me=b?No(b):window,t){case"focusin":(Ic(me)||me.contentEditable==="true")&&(Gi=me,bs=b,Po=null);break;case"focusout":Po=bs=Gi=null;break;case"mousedown":ks=!0;break;case"contextmenu":case"mouseup":case"dragend":ks=!1,Oc(G,a,V);break;case"selectionchange":if(my)break;case"keydown":case"keyup":Oc(G,a,V)}var ee;if(Rs)e:{switch(t){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else Pi?bc(t,a)&&(ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ue="onCompositionStart");ue&&(Nc&&a.locale!=="ko"&&(Pi||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&Pi&&(ee=Ac()):(Un=V,Es="value"in Un?Un.value:Un.textContent,Pi=!0)),me=Ma(b,ue),0<me.length&&(ue=new Mc(ue,t,null,a,V),G.push({event:ue,listeners:me}),ee?ue.data=ee:(ee=kc(a),ee!==null&&(ue.data=ee)))),(ee=oy?ly(t,a):ay(t,a))&&(ue=Ma(b,"onBeforeInput"),0<ue.length&&(me=new Mc("onBeforeInput","beforeinput",null,a,V),G.push({event:me,listeners:ue}),me.data=ee)),Qy(G,t,b,a,V)}hp(G,i)})}function fl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ma(t,i){for(var a=i+"Capture",u=[];t!==null;){var d=t,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=wo(t,a),d!=null&&u.unshift(fl(t,d,h)),d=wo(t,i),d!=null&&u.push(fl(t,d,h))),t.tag===3)return u;t=t.return}return[]}function ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yp(t,i,a,u,d){for(var h=i._reactName,T=[];a!==null&&a!==u;){var E=a,A=E.alternate,b=E.stateNode;if(E=E.tag,A!==null&&A===u)break;E!==5&&E!==26&&E!==27||b===null||(A=b,d?(b=wo(a,h),b!=null&&T.unshift(fl(a,b,A))):d||(b=wo(a,h),b!=null&&T.push(fl(a,b,A)))),a=a.return}T.length!==0&&t.push({event:i,listeners:T})}var ev=/\r\n?/g,tv=/\u0000|\uFFFD/g;function vp(t){return(typeof t=="string"?t:""+t).replace(ev,`
`).replace(tv,"")}function Tp(t,i){return i=vp(i),vp(t)===i}function Ra(){}function qe(t,i,a,u,d,h){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Ui(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Ui(t,""+u);break;case"className":kl(t,"class",u);break;case"tabIndex":kl(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":kl(t,a,u);break;case"style":Sc(t,u,h);break;case"data":if(i!=="object"){kl(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=Ll(""+u),t.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(i!=="input"&&qe(t,i,"name",d.name,d,null),qe(t,i,"formEncType",d.formEncType,d,null),qe(t,i,"formMethod",d.formMethod,d,null),qe(t,i,"formTarget",d.formTarget,d,null)):(qe(t,i,"encType",d.encType,d,null),qe(t,i,"method",d.method,d,null),qe(t,i,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=Ll(""+u),t.setAttribute(a,u);break;case"onClick":u!=null&&(t.onclick=Ra);break;case"onScroll":u!=null&&ge("scroll",t);break;case"onScrollEnd":u!=null&&ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(a=u.__html,a!=null){if(d.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}a=Ll(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""+u):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":u===!0?t.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,u):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(a,u):t.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(a):t.setAttribute(a,u);break;case"popover":ge("beforetoggle",t),ge("toggle",t),bl(t,"popover",u);break;case"xlinkActuate":hn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":hn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":hn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":hn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":hn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":hn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":hn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":hn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":hn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":bl(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bg.get(a)||a,bl(t,a,u))}}function tu(t,i,a,u,d,h){switch(a){case"style":Sc(t,u,h);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(a=u.__html,a!=null){if(d.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"children":typeof u=="string"?Ui(t,u):(typeof u=="number"||typeof u=="bigint")&&Ui(t,""+u);break;case"onScroll":u!=null&&ge("scroll",t);break;case"onScrollEnd":u!=null&&ge("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Ra);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),h=t[xt]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(i,h,d),typeof u=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,u,d);break e}a in t?t[a]=u:u===!0?t.setAttribute(a,""):bl(t,a,u)}}}function gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",t),ge("load",t);var u=!1,d=!1,h;for(h in a)if(a.hasOwnProperty(h)){var T=a[h];if(T!=null)switch(h){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:qe(t,i,h,T,a,null)}}d&&qe(t,i,"srcSet",a.srcSet,a,null),u&&qe(t,i,"src",a.src,a,null);return;case"input":ge("invalid",t);var E=h=T=d=null,A=null,b=null;for(u in a)if(a.hasOwnProperty(u)){var V=a[u];if(V!=null)switch(u){case"name":d=V;break;case"type":T=V;break;case"checked":A=V;break;case"defaultChecked":b=V;break;case"value":h=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(l(137,i));break;default:qe(t,i,u,V,a,null)}}gc(t,h,E,A,b,T,d,!1),Il(t);return;case"select":ge("invalid",t),u=T=h=null;for(d in a)if(a.hasOwnProperty(d)&&(E=a[d],E!=null))switch(d){case"value":h=E;break;case"defaultValue":T=E;break;case"multiple":u=E;default:qe(t,i,d,E,a,null)}i=h,a=T,t.multiple=!!u,i!=null?Ii(t,!!u,i,!1):a!=null&&Ii(t,!!u,a,!0);return;case"textarea":ge("invalid",t),h=d=u=null;for(T in a)if(a.hasOwnProperty(T)&&(E=a[T],E!=null))switch(T){case"value":u=E;break;case"defaultValue":d=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(l(91));break;default:qe(t,i,T,E,a,null)}vc(t,u,d,h),Il(t);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(u=a[A],u!=null))switch(A){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:qe(t,i,A,u,a,null)}return;case"dialog":ge("beforetoggle",t),ge("toggle",t),ge("cancel",t),ge("close",t);break;case"iframe":case"object":ge("load",t);break;case"video":case"audio":for(u=0;u<cl.length;u++)ge(cl[u],t);break;case"image":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"embed":case"source":case"link":ge("error",t),ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(b in a)if(a.hasOwnProperty(b)&&(u=a[b],u!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:qe(t,i,b,u,a,null)}return;default:if(ys(i)){for(V in a)a.hasOwnProperty(V)&&(u=a[V],u!==void 0&&tu(t,i,V,u,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(u=a[E],u!=null&&qe(t,i,E,u,a,null))}function nv(t,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,T=null,E=null,A=null,b=null,V=null;for(I in a){var G=a[I];if(a.hasOwnProperty(I)&&G!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":A=G;default:u.hasOwnProperty(I)||qe(t,i,I,null,u,G)}}for(var k in u){var I=u[k];if(G=a[k],u.hasOwnProperty(k)&&(I!=null||G!=null))switch(k){case"type":h=I;break;case"name":d=I;break;case"checked":b=I;break;case"defaultChecked":V=I;break;case"value":T=I;break;case"defaultValue":E=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(l(137,i));break;default:I!==G&&qe(t,i,k,I,u,G)}}hs(t,T,E,A,b,V,h,d);return;case"select":I=T=E=k=null;for(h in a)if(A=a[h],a.hasOwnProperty(h)&&A!=null)switch(h){case"value":break;case"multiple":I=A;default:u.hasOwnProperty(h)||qe(t,i,h,null,u,A)}for(d in u)if(h=u[d],A=a[d],u.hasOwnProperty(d)&&(h!=null||A!=null))switch(d){case"value":k=h;break;case"defaultValue":E=h;break;case"multiple":T=h;default:h!==A&&qe(t,i,d,h,u,A)}i=E,a=T,u=I,k!=null?Ii(t,!!a,k,!1):!!u!=!!a&&(i!=null?Ii(t,!!a,i,!0):Ii(t,!!a,a?[]:"",!1));return;case"textarea":I=k=null;for(E in a)if(d=a[E],a.hasOwnProperty(E)&&d!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:qe(t,i,E,null,u,d)}for(T in u)if(d=u[T],h=a[T],u.hasOwnProperty(T)&&(d!=null||h!=null))switch(T){case"value":k=d;break;case"defaultValue":I=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(l(91));break;default:d!==h&&qe(t,i,T,d,u,h)}yc(t,k,I);return;case"option":for(var ce in a)if(k=a[ce],a.hasOwnProperty(ce)&&k!=null&&!u.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:qe(t,i,ce,null,u,k)}for(A in u)if(k=u[A],I=a[A],u.hasOwnProperty(A)&&k!==I&&(k!=null||I!=null))switch(A){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:qe(t,i,A,k,u,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in a)k=a[ae],a.hasOwnProperty(ae)&&k!=null&&!u.hasOwnProperty(ae)&&qe(t,i,ae,null,u,k);for(b in u)if(k=u[b],I=a[b],u.hasOwnProperty(b)&&k!==I&&(k!=null||I!=null))switch(b){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,i));break;default:qe(t,i,b,k,u,I)}return;default:if(ys(i)){for(var He in a)k=a[He],a.hasOwnProperty(He)&&k!==void 0&&!u.hasOwnProperty(He)&&tu(t,i,He,void 0,u,k);for(V in u)k=u[V],I=a[V],!u.hasOwnProperty(V)||k===I||k===void 0&&I===void 0||tu(t,i,V,k,u,I);return}}for(var R in a)k=a[R],a.hasOwnProperty(R)&&k!=null&&!u.hasOwnProperty(R)&&qe(t,i,R,null,u,k);for(G in u)k=u[G],I=a[G],!u.hasOwnProperty(G)||k===I||k==null&&I==null||qe(t,i,G,k,u,I)}var nu=null,iu=null;function Na(t){return t.nodeType===9?t:t.ownerDocument}function Sp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cp(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function ou(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var lu=null;function iv(){var t=window.event;return t&&t.type==="popstate"?t===lu?!1:(lu=t,!0):(lu=null,!1)}var Ep=typeof setTimeout=="function"?setTimeout:void 0,ov=typeof clearTimeout=="function"?clearTimeout:void 0,Ap=typeof Promise=="function"?Promise:void 0,lv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ap<"u"?function(t){return Ap.resolve(null).then(t).catch(av)}:Ep;function av(t){setTimeout(function(){throw t})}function Qn(t){return t==="head"}function _p(t,i){var a=i,u=0,d=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(0<u&&8>u){a=u;var T=t.ownerDocument;if(a&1&&dl(T.documentElement),a&2&&dl(T.body),a&4)for(a=T.head,dl(a),T=a.firstChild;T;){var E=T.nextSibling,A=T.nodeName;T[Ro]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=E}}if(d===0){t.removeChild(h),Sl(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:u=a.charCodeAt(0)-48;else u=0;a=h}while(a);Sl(i)}function au(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":au(a),fs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function sv(t,i,a,u){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Ro])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=en(t.nextSibling),t===null)break}return null}function rv(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=en(t.nextSibling),t===null))return null;return t}function su(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function uv(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var u=function(){i(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function en(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var ru=null;function xp(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Mp(t,i,a){switch(i=Na(a),t){case"html":if(t=i.documentElement,!t)throw Error(l(452));return t;case"head":if(t=i.head,!t)throw Error(l(453));return t;case"body":if(t=i.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function dl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fs(t)}var Kt=new Map,Rp=new Set;function wa(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var wn=O.d;O.d={f:cv,r:fv,D:dv,C:pv,L:mv,m:hv,X:yv,S:gv,M:vv};function cv(){var t=wn.f(),i=Sa();return t||i}function fv(t){var i=wi(t);i!==null&&i.tag===5&&i.type==="form"?Jf(i):wn.r(t)}var uo=typeof document>"u"?null:document;function Np(t,i,a){var u=uo;if(u&&typeof i=="string"&&i){var d=zt(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Rp.has(d)||(Rp.add(d),t={rel:t,crossOrigin:a,href:i},u.querySelector(d)===null&&(i=u.createElement("link"),gt(i,"link",t),ut(i),u.head.appendChild(i)))}}function dv(t){wn.D(t),Np("dns-prefetch",t,null)}function pv(t,i){wn.C(t,i),Np("preconnect",t,i)}function mv(t,i,a){wn.L(t,i,a);var u=uo;if(u&&t&&i){var d='link[rel="preload"][as="'+zt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+zt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+zt(a.imageSizes)+'"]')):d+='[href="'+zt(t)+'"]';var h=d;switch(i){case"style":h=co(t);break;case"script":h=fo(t)}Kt.has(h)||(t=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Kt.set(h,t),u.querySelector(d)!==null||i==="style"&&u.querySelector(pl(h))||i==="script"&&u.querySelector(ml(h))||(i=u.createElement("link"),gt(i,"link",t),ut(i),u.head.appendChild(i)))}}function hv(t,i){wn.m(t,i);var a=uo;if(a&&t){var u=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+zt(u)+'"][href="'+zt(t)+'"]',h=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=fo(t)}if(!Kt.has(h)&&(t=v({rel:"modulepreload",href:t},i),Kt.set(h,t),a.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ml(h)))return}u=a.createElement("link"),gt(u,"link",t),ut(u),a.head.appendChild(u)}}}function gv(t,i,a){wn.S(t,i,a);var u=uo;if(u&&t){var d=Di(u).hoistableStyles,h=co(t);i=i||"default";var T=d.get(h);if(!T){var E={loading:0,preload:null};if(T=u.querySelector(pl(h)))E.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Kt.get(h))&&uu(t,a);var A=T=u.createElement("link");ut(A),gt(A,"link",t),A._p=new Promise(function(b,V){A.onload=b,A.onerror=V}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Da(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:E},d.set(h,T)}}}function yv(t,i){wn.X(t,i);var a=uo;if(a&&t){var u=Di(a).hoistableScripts,d=fo(t),h=u.get(d);h||(h=a.querySelector(ml(d)),h||(t=v({src:t,async:!0},i),(i=Kt.get(d))&&cu(t,i),h=a.createElement("script"),ut(h),gt(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(d,h))}}function vv(t,i){wn.M(t,i);var a=uo;if(a&&t){var u=Di(a).hoistableScripts,d=fo(t),h=u.get(d);h||(h=a.querySelector(ml(d)),h||(t=v({src:t,async:!0,type:"module"},i),(i=Kt.get(d))&&cu(t,i),h=a.createElement("script"),ut(h),gt(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(d,h))}}function wp(t,i,a,u){var d=(d=re.current)?wa(d):null;if(!d)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=co(a.href),a=Di(d).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=co(a.href);var h=Di(d).hoistableStyles,T=h.get(t);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,T),(h=d.querySelector(pl(t)))&&!h._p&&(T.instance=h,T.state.loading=5),Kt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kt.set(t,a),h||Tv(d,t,a,T.state))),i&&u===null)throw Error(l(528,""));return T}if(i&&u!==null)throw Error(l(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fo(a),a=Di(d).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function co(t){return'href="'+zt(t)+'"'}function pl(t){return'link[rel="stylesheet"]['+t+"]"}function Dp(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Tv(t,i,a,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),gt(i,"link",a),ut(i),t.head.appendChild(i))}function fo(t){return'[src="'+zt(t)+'"]'}function ml(t){return"script[async]"+t}function bp(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+zt(a.href)+'"]');if(u)return i.instance=u,ut(u),u;var d=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),ut(u),gt(u,"style",d),Da(u,a.precedence,t),i.instance=u;case"stylesheet":d=co(a.href);var h=t.querySelector(pl(d));if(h)return i.state.loading|=4,i.instance=h,ut(h),h;u=Dp(a),(d=Kt.get(d))&&uu(u,d),h=(t.ownerDocument||t).createElement("link"),ut(h);var T=h;return T._p=new Promise(function(E,A){T.onload=E,T.onerror=A}),gt(h,"link",u),i.state.loading|=4,Da(h,a.precedence,t),i.instance=h;case"script":return h=fo(a.src),(d=t.querySelector(ml(h)))?(i.instance=d,ut(d),d):(u=a,(d=Kt.get(h))&&(u=v({},a),cu(u,d)),t=t.ownerDocument||t,d=t.createElement("script"),ut(d),gt(d,"link",u),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Da(u,a.precedence,t));return i.instance}function Da(t,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,h=d,T=0;T<u.length;T++){var E=u[T];if(E.dataset.precedence===i)h=E;else if(h!==d)break}h?h.parentNode.insertBefore(t,h.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function uu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function cu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ba=null;function kp(t,i,a){if(ba===null){var u=new Map,d=ba=new Map;d.set(a,u)}else d=ba,u=d.get(a),u||(u=new Map,d.set(a,u));if(u.has(t))return u;for(u.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var h=a[d];if(!(h[Ro]||h[yt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var T=h.getAttribute(i)||"";T=t+T;var E=u.get(T);E?E.push(h):u.set(T,[h])}}return u}function Ip(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Sv(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Up(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var hl=null;function Cv(){}function Ev(t,i,a){if(hl===null)throw Error(l(475));var u=hl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=co(a.href),h=t.querySelector(pl(d));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=ka.bind(u),t.then(u,u)),i.state.loading|=4,i.instance=h,ut(h);return}h=t.ownerDocument||t,a=Dp(a),(d=Kt.get(d))&&uu(a,d),h=h.createElement("link"),ut(h);var T=h;T._p=new Promise(function(E,A){T.onload=E,T.onerror=A}),gt(h,"link",a),i.instance=h}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=ka.bind(u),t.addEventListener("load",i),t.addEventListener("error",i))}}function Av(){if(hl===null)throw Error(l(475));var t=hl;return t.stylesheets&&t.count===0&&fu(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&fu(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function ka(){if(this.count--,this.count===0){if(this.stylesheets)fu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ia=null;function fu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ia=new Map,i.forEach(_v,t),Ia=null,ka.call(t))}function _v(t,i){if(!(i.state.loading&4)){var a=Ia.get(t);if(a)var u=a.get(null);else{a=new Map,Ia.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var T=d[h];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),u=T)}u&&a.set(null,u)}d=i.instance,T=d.getAttribute("data-precedence"),h=a.get(T)||u,h===u&&a.set(null,d),a.set(T,d),this.count++,u=ka.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),h?h.parentNode.insertBefore(d,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var gl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function xv(t,i,a,u,d,h,T,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.hiddenUpdates=ss(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Lp(t,i,a,u,d,h,T,E,A,b,V,G){return t=new xv(t,i,a,T,E,A,b,G),i=1,h===!0&&(i|=24),h=It(3,null,null,i),t.current=h,h.stateNode=t,i=$s(),i.refCount++,t.pooledCache=i,i.refCount++,h.memoizedState={element:u,isDehydrated:a,cache:i},Qs(h),t}function Vp(t){return t?(t=Bi,t):Bi}function Pp(t,i,a,u,d,h){d=Vp(d),u.context===null?u.context=d:u.pendingContext=d,u=Pn(i),u.payload={element:a},h=h===void 0?null:h,h!==null&&(u.callback=h),a=Gn(t,u,i),a!==null&&(Gt(a,t,i),$o(a,t,i))}function Gp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function du(t,i){Gp(t,i),(t=t.alternate)&&Gp(t,i)}function qp(t){if(t.tag===13){var i=zi(t,67108864);i!==null&&Gt(i,t,67108864),du(t,67108864)}}var Ua=!0;function Mv(t,i,a,u){var d=U.T;U.T=null;var h=O.p;try{O.p=2,pu(t,i,a,u)}finally{O.p=h,U.T=d}}function Rv(t,i,a,u){var d=U.T;U.T=null;var h=O.p;try{O.p=8,pu(t,i,a,u)}finally{O.p=h,U.T=d}}function pu(t,i,a,u){if(Ua){var d=mu(u);if(d===null)eu(t,i,u,La,a),zp(t,u);else if(wv(d,t,i,a,u))u.stopPropagation();else if(zp(t,u),i&4&&-1<Nv.indexOf(t)){for(;d!==null;){var h=wi(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var T=Zt(h.pendingLanes);if(T!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;T;){var A=1<<31-Ee(T);E.entanglements[1]|=A,T&=~A}fn(h),(Ue&6)===0&&(va=z()+500,ul(0))}}break;case 13:E=zi(h,2),E!==null&&Gt(E,h,2),Sa(),du(h,2)}if(h=mu(u),h===null&&eu(t,i,u,La,a),h===d)break;d=h}d!==null&&u.stopPropagation()}else eu(t,i,u,null,a)}}function mu(t){return t=Ts(t),hu(t)}var La=null;function hu(t){if(La=null,t=Ni(t),t!==null){var i=f(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return La=t,null}function Hp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(X()){case le:return 2;case Ae:return 8;case Be:case Ze:return 32;case Ve:return 268435456;default:return 32}default:return 32}}var gu=!1,Zn=null,Wn=null,jn=null,yl=new Map,vl=new Map,ei=[],Nv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zp(t,i){switch(t){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":yl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(i.pointerId)}}function Tl(t,i,a,u,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:h,targetContainers:[d]},i!==null&&(i=wi(i),i!==null&&qp(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function wv(t,i,a,u,d){switch(i){case"focusin":return Zn=Tl(Zn,t,i,a,u,d),!0;case"dragenter":return Wn=Tl(Wn,t,i,a,u,d),!0;case"mouseover":return jn=Tl(jn,t,i,a,u,d),!0;case"pointerover":var h=d.pointerId;return yl.set(h,Tl(yl.get(h)||null,t,i,a,u,d)),!0;case"gotpointercapture":return h=d.pointerId,vl.set(h,Tl(vl.get(h)||null,t,i,a,u,d)),!0}return!1}function Bp(t){var i=Ni(t.target);if(i!==null){var a=f(i);if(a!==null){if(i=a.tag,i===13){if(i=m(a),i!==null){t.blockedOn=i,Eg(t.priority,function(){if(a.tag===13){var u=Pt();u=rs(u);var d=zi(a,u);d!==null&&Gt(d,a,u),du(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Va(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=mu(t.nativeEvent);if(a===null){a=t.nativeEvent;var u=new a.constructor(a.type,a);vs=u,a.target.dispatchEvent(u),vs=null}else return i=wi(a),i!==null&&qp(i),t.blockedOn=a,!1;i.shift()}return!0}function Yp(t,i,a){Va(t)&&a.delete(i)}function Dv(){gu=!1,Zn!==null&&Va(Zn)&&(Zn=null),Wn!==null&&Va(Wn)&&(Wn=null),jn!==null&&Va(jn)&&(jn=null),yl.forEach(Yp),vl.forEach(Yp)}function Pa(t,i){t.blockedOn===i&&(t.blockedOn=null,gu||(gu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Dv)))}var Ga=null;function Op(t){Ga!==t&&(Ga=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ga===t&&(Ga=null);for(var i=0;i<t.length;i+=3){var a=t[i],u=t[i+1],d=t[i+2];if(typeof u!="function"){if(hu(u||a)===null)continue;break}var h=wi(a);h!==null&&(t.splice(i,3),i-=3,hr(h,{pending:!0,data:d,method:a.method,action:u},u,d))}}))}function Sl(t){function i(A){return Pa(A,t)}Zn!==null&&Pa(Zn,t),Wn!==null&&Pa(Wn,t),jn!==null&&Pa(jn,t),yl.forEach(i),vl.forEach(i);for(var a=0;a<ei.length;a++){var u=ei[a];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ei.length&&(a=ei[0],a.blockedOn===null);)Bp(a),a.blockedOn===null&&ei.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var d=a[u],h=a[u+1],T=d[xt]||null;if(typeof h=="function")T||Op(a);else if(T){var E=null;if(h&&h.hasAttribute("formAction")){if(d=h,T=h[xt]||null)E=T.formAction;else if(hu(d)!==null)continue}else E=T.action;typeof E=="function"?a[u+1]=E:(a.splice(u,3),u-=3),Op(a)}}}function yu(t){this._internalRoot=t}qa.prototype.render=yu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(l(409));var a=i.current,u=Pt();Pp(a,u,t,i,null,null)},qa.prototype.unmount=yu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Pp(t.current,2,null,t,null,null),Sa(),i[Ri]=null}};function qa(t){this._internalRoot=t}qa.prototype.unstable_scheduleHydration=function(t){if(t){var i=ac();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ei.length&&i!==0&&i<ei[a].priority;a++);ei.splice(a,0,t),a===0&&Bp(t)}};var Fp=e.version;if(Fp!=="19.1.1")throw Error(l(527,Fp,"19.1.1"));O.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var bv={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ha.isDisabled&&Ha.supportsFiber)try{rt=Ha.inject(bv),we=Ha}catch{}}return El.createRoot=function(t,i){if(!c(t))throw Error(l(299));var a=!1,u="",d=sd,h=rd,T=ud,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Lp(t,1,!1,null,null,a,u,d,h,T,E,null),t[Ri]=i.current,jr(t),new yu(i)},El.hydrateRoot=function(t,i,a){if(!c(t))throw Error(l(299));var u=!1,d="",h=sd,T=rd,E=ud,A=null,b=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(b=a.formState)),i=Lp(t,1,!0,i,a??null,u,d,h,T,E,A,b),i.context=Vp(null),a=i.current,u=Pt(),u=rs(u),d=Pn(u),d.callback=null,Gn(a,d,u),a=u,i.current.lanes=a,Mo(i,a),fn(i),t[Ri]=i.current,jr(t),new qa(i)},El.version="19.1.1",El}var tm;function Ov(){if(tm)return Su.exports;tm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Su.exports=Yv(),Su.exports}var Fv=Ov();const $v=Nh(Fv),nn={openai:{name:"GPT-4o + DALL-E",icon:"",color:"text-emerald-400"},gemini:{name:"Gemini Flash",icon:"",color:"text-blue-400"},claude:{name:"Claude Sonnet",icon:"",color:"text-purple-400"},auto:{name:"Smart Auto",icon:"",color:"text-cyan-400"}},Jv={photorealistic:" Ultra-realistic",artistic:" Artistic Nigerian",cyberpunk:" Cyber-Lagos",anime:" Anime style"},wh="gemini-2.5-flash",Kv="gpt-4o",Xv="claude-3-sonnet-20240229",za="default",tn={default:{name:"Lagos Oracle (Default)",icon:"",description:"Your standard, knowledgeable Lagos Oracle.",systemPromptModifier:"",color:"text-yellow-400"},emeka:{name:"Emeka (Igbo Insight)",icon:"",description:"Wise, with a touch of Igbo flair and proverbs.",systemPromptModifier:"You are Emeka, a wise individual with deep roots in Igbo culture, now navigating Lagos. Your responses often carry a touch of Igbo flair, and you might naturally use common Igbo greetings (like 'Nno'), phrases, or proverbs if the context allows. You offer thoughtful and insightful perspectives on various matters.",color:"text-green-400"},femi:{name:"Femi (Yorb Poise)",icon:"",description:"Confident, sharp, Yorb man from Lagos.",systemPromptModifier:"You are Femi, a confident and articulate Yorb man, born and raised in the heart of Lagos. Your responses are sharp, informed, and carry the cadence of a true Lagosian with deep Yorb heritage. You may incorporate Yorb proverbs (we), sayings, or greetings (like ' n l o') when fitting, showcasing pride in your culture.",color:"text-blue-400"},anita:{name:"Anita (Shakara Queen)",icon:"",description:"Playful, sassy, full of Lagos street smarts and slang.",systemPromptModifier:"You are Anita, the ultimate Lagos 'Shakara Queen'  playful, a bit sassy, and overflowing with street smarts. You communicate using contemporary Lagos slang and Pidgin English naturally and freely. You 'tell it like it is,' often with a humorous or witty twist, but always keeping it real.",color:"text-pink-400"},muhammed:{name:"Muhammed (Northern Calm)",icon:"",description:"Calm, thoughtful, with a Northern Nigerian perspective.",systemPromptModifier:"You are Muhammed, a calm and thoughtful individual with a perspective enriched by Northern Nigerian upbringing and Hausa culture, now experiencing Lagos life. Your responses are measured, respectful, and you might use Hausa greetings (like 'Sannu') or expressions if it feels natural. You bring a sense of peace and consideration to your interactions.",color:"text-teal-400"}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Qv,Zv;function Wv(){return{geminiUrl:Qv,vertexUrl:Zv}}function jv(n,e,o,l){var c,f;if(!(n!=null&&n.baseUrl)){const m=Wv();return e?(c=m.vertexUrl)!==null&&c!==void 0?c:o:(f=m.geminiUrl)!==null&&f!==void 0?f:l}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ai{}function j(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(l,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const f=e[c];return f!=null?String(f):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function r(n,e,o){for(let f=0;f<e.length-1;f++){const m=e[f];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in n))if(Array.isArray(o))n[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(o))for(let p=0;p<y.length;p++){const v=y[p];r(v,e.slice(f+1),o[p])}else for(const p of y)r(p,e.slice(f+1),o)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];r(y[0],e.slice(f+1),o);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const l=e[e.length-1],c=n[l];if(c!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===c)return;if(typeof c=="object"&&typeof o=="object"&&c!==null&&o!==null)Object.assign(c,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else n[l]=o}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return;const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2);if(c in n){const f=n[c];return Array.isArray(f)?f.map(m=>s(m,e.slice(o+1))):void 0}else return}else n=n[l]}return n}catch(o){if(o instanceof TypeError)return;throw o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mu(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var nm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(nm||(nm={}));var im;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(im||(im={}));var ni;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(ni||(ni={}));var pn;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(pn||(pn={}));var om;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(om||(om={}));var mn;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(mn||(mn={}));var lm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(lm||(lm={}));var am;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(am||(am={}));var sm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(sm||(sm={}));var rm;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(rm||(rm={}));var um;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(um||(um={}));var cm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(cm||(cm={}));var fm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(fm||(fm={}));var dm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(dm||(dm={}));var pm;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(pm||(pm={}));var mm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(mm||(mm={}));var Qa;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Qa||(Qa={}));var hm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(hm||(hm={}));var Ru;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ru||(Ru={}));var gm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(gm||(gm={}));var ym;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(ym||(ym={}));var vm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(vm||(vm={}));var Tm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Tm||(Tm={}));var Sm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Sm||(Sm={}));var Cm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Cm||(Cm={}));var Em;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Em||(Em={}));var Am;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Am||(Am={}));var _m;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(_m||(_m={}));var xm;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(xm||(xm={}));var Mm;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Mm||(Mm={}));var Rm;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Rm||(Rm={}));var Nm;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Nm||(Nm={}));var wm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(wm||(wm={}));var Dm;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Dm||(Dm={}));var bm;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(bm||(bm={}));var km;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(km||(km={}));var Im;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Im||(Im={}));var Um;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Um||(Um={}));var Lm;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Lm||(Lm={}));var Vm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Vm||(Vm={}));var Pm;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Pm||(Pm={}));var Gm;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Gm||(Gm={}));var mo;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(mo||(mo={}));class Nu{constructor(e){const o={};for(const l of e.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Al{get text(){var e,o,l,c,f,m,g,y;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const S=[];for(const C of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[M,N]of Object.entries(C))M!=="text"&&M!=="thought"&&(N!==null||N!==void 0)&&S.push(M);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;v=!0,p+=C.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,o,l,c,f,m,g,y;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const S of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,M]of Object.entries(S))C!=="inlineData"&&(M!==null||M!==void 0)&&v.push(C);S.inlineData&&typeof S.inlineData.data=="string"&&(p+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,o,l,c,f,m,g,y;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,o,l,c,f,m,g,y,p;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,o,l,c,f,m,g,y,p;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class qm{}class Hm{}class e0{}class t0{}class n0{}class zm{}class Bm{}class Ym{}class i0{}class Om{}class Fm{}class $m{}class Jm{}class o0{}class l0{}class a0{}class Km{}class s0{get text(){var e,o,l;let c="",f=!1;const m=[];for(const g of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[y,p]of Object.entries(g))y!=="text"&&y!=="thought"&&p!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,c+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,o,l;let c="";const f=[];for(const m of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&f.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class Za{_fromAPIResponse({apiResponse:e,isVertexAI:o}){const l=new Za;if(l.name=e.name,l.metadata=e.metadata,l.done=e.done,l.error=e.error,o){const c=e.response;if(c){const f=new Om,m=c.videos;f.generatedVideos=m==null?void 0:m.map(g=>({video:{uri:g.gcsUri,videoBytes:g.bytesBase64Encoded?Mu(g.bytesBase64Encoded):void 0,mimeType:g.mimeType}})),f.raiMediaFilteredCount=c.raiMediaFilteredCount,f.raiMediaFilteredReasons=c.raiMediaFilteredReasons,l.response=f}}else{const c=e.response;if(c){const f=new Om,m=c.generateVideoResponse,g=m==null?void 0:m.generatedSamples;f.generatedVideos=g==null?void 0:g.map(y=>{const p=y.video;return{video:{uri:p==null?void 0:p.uri,videoBytes:p!=null&&p.encodedVideo?Mu(p==null?void 0:p.encodedVideo):void 0,mimeType:y.encoding}}}),f.raiMediaFilteredCount=m==null?void 0:m.raiMediaFilteredCount,f.raiMediaFilteredReasons=m==null?void 0:m.raiMediaFilteredReasons,l.response=f}}return l}}class r0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function be(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Dh(n,e){const o=be(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function bh(n){return Array.isArray(n)?n.map(e=>Wa(e)):[Wa(n)]}function Wa(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function kh(n){const e=Wa(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Ih(n){const e=Wa(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Xm(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Uh(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Xm(e)):[Xm(n)]}function wu(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Qm(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Zm(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function St(n){if(n==null)throw new Error("ContentUnion is required");return wu(n)?n:{role:"user",parts:Uh(n)}}function Lh(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const l=St(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(n.isVertexAI()){const o=St(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>St(o)):[St(e)]}function Xt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Qm(n)||Zm(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[St(n)]}const e=[],o=[],l=wu(n[0]);for(const c of n){const f=wu(c);if(f!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)e.push(c);else{if(Qm(c)||Zm(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(c)}}return l||e.push({role:"user",parts:Uh(o)}),e}function u0(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(l=>l!=="null");if(o.length===1)e.type=Object.values(ni).includes(o[0].toUpperCase())?o[0].toUpperCase():ni.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of o)e.anyOf.push({type:Object.values(ni).includes(l.toUpperCase())?l.toUpperCase():ni.TYPE_UNSPECIFIED})}}function ho(n){const e={},o=["items"],l=["anyOf"],c=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=n.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,n=f[1]):f[1].type==="null"&&(e.nullable=!0,n=f[0])),n.type instanceof Array&&u0(n.type,e);for(const[m,g]of Object.entries(n))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(ni).includes(g.toUpperCase())?g.toUpperCase():ni.TYPE_UNSPECIFIED}else if(o.includes(m))e[m]=ho(g);else if(l.includes(m)){const y=[];for(const p of g){if(p.type=="null"){e.nullable=!0;continue}y.push(ho(p))}e[m]=y}else if(c.includes(m)){const y={};for(const[p,v]of Object.entries(g))y[p]=ho(v);e[m]=y}else{if(m==="additionalProperties")continue;e[m]=g}return e}function Yu(n){return ho(n)}function Ou(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Fu(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function vo(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ho(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ho(e.response));return n}function To(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function c0(n,e,o,l=1){const c=!e.startsWith(`${o}/`)&&e.split("/").length===l;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:c?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:c?`${o}/${e}`:e}function kn(n,e){if(typeof e!="string")throw new Error("name must be a string");return c0(n,e,"cachedContents")}function Vh(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function _i(n){return Mu(n)}function f0(n){return n!=null&&typeof n=="object"&&"name"in n}function d0(n){return n!=null&&typeof n=="object"&&"video"in n}function p0(n){return n!=null&&typeof n=="object"&&"uri"in n}function Ph(n){var e;let o;if(f0(n)&&(o=n.name),!(p0(n)&&(o=n.uri,o===void 0))&&!(d0(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const c=o.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${o}`);o=c[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Gh(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function qh(n){for(const e of["models","tunedModels","publisherModels"])if(m0(n,e))return n[e];return[]}function m0(n,e){return n!==null&&typeof n=="object"&&e in n}function h0(n,e={}){const o=n,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function g0(n,e={}){const o=[],l=new Set;for(const c of n){const f=c.name;if(l.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);l.add(f);const m=h0(c,e);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function Hh(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function y0(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function So(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function zh(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v0(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function T0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function S0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function C0(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],v0(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],T0(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],S0(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function Bh(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>C0(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function E0(n){const e={},o=s(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=s(n,["default"]);l!=null&&r(e,["default"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const f=s(n,["enum"]);f!=null&&r(e,["enum"],f);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const S=s(n,["maxProperties"]);S!=null&&r(e,["maxProperties"],S);const C=s(n,["maximum"]);C!=null&&r(e,["maximum"],C);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const N=s(n,["minLength"]);N!=null&&r(e,["minLength"],N);const L=s(n,["minProperties"]);L!=null&&r(e,["minProperties"],L);const H=s(n,["minimum"]);H!=null&&r(e,["minimum"],H);const K=s(n,["nullable"]);K!=null&&r(e,["nullable"],K);const F=s(n,["pattern"]);F!=null&&r(e,["pattern"],F);const Y=s(n,["properties"]);Y!=null&&r(e,["properties"],Y);const W=s(n,["propertyOrdering"]);W!=null&&r(e,["propertyOrdering"],W);const B=s(n,["required"]);B!=null&&r(e,["required"],B);const se=s(n,["title"]);se!=null&&r(e,["title"],se);const Z=s(n,["type"]);return Z!=null&&r(e,["type"],Z),e}function A0(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["category"]);o!=null&&r(e,["category"],o);const l=s(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function _0(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const f=s(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function x0(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function M0(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],x0(o)),e}function R0(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function N0(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],R0(o)),e}function w0(){return{}}function D0(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>_0(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],M0(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],N0(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],w0());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function b0(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function k0(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function I0(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],k0(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function U0(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],b0(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],I0(l)),e}function L0(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function Yh(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],L0(o)),e}function V0(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Yh(l)),e}function P0(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>V0(c))),r(e,["speakerVoiceConfigs"],l)}return e}function G0(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],Yh(o));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],P0(l));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function q0(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=s(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function H0(n,e,o){const l={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],Bh(St(c)));const f=s(e,["temperature"]);f!=null&&r(l,["temperature"],f);const m=s(e,["topP"]);m!=null&&r(l,["topP"],m);const g=s(e,["topK"]);g!=null&&r(l,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(l,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const S=s(e,["responseLogprobs"]);S!=null&&r(l,["responseLogprobs"],S);const C=s(e,["logprobs"]);C!=null&&r(l,["logprobs"],C);const M=s(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const N=s(e,["frequencyPenalty"]);N!=null&&r(l,["frequencyPenalty"],N);const L=s(e,["seed"]);L!=null&&r(l,["seed"],L);const H=s(e,["responseMimeType"]);H!=null&&r(l,["responseMimeType"],H);const K=s(e,["responseSchema"]);K!=null&&r(l,["responseSchema"],E0(Yu(K)));const F=s(e,["responseJsonSchema"]);if(F!=null&&r(l,["responseJsonSchema"],F),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=s(e,["safetySettings"]);if(o!==void 0&&Y!=null){let te=Y;Array.isArray(te)&&(te=te.map(Ie=>A0(Ie))),r(o,["safetySettings"],te)}const W=s(e,["tools"]);if(o!==void 0&&W!=null){let te=To(W);Array.isArray(te)&&(te=te.map(Ie=>D0(vo(Ie)))),r(o,["tools"],te)}const B=s(e,["toolConfig"]);if(o!==void 0&&B!=null&&r(o,["toolConfig"],U0(B)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const se=s(e,["cachedContent"]);o!==void 0&&se!=null&&r(o,["cachedContent"],kn(n,se));const Z=s(e,["responseModalities"]);Z!=null&&r(l,["responseModalities"],Z);const Ce=s(e,["mediaResolution"]);Ce!=null&&r(l,["mediaResolution"],Ce);const ne=s(e,["speechConfig"]);if(ne!=null&&r(l,["speechConfig"],G0(Ou(ne))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ye=s(e,["thinkingConfig"]);return ye!=null&&r(l,["thinkingConfig"],q0(ye)),l}function z0(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["request","model"],be(n,l));const c=s(e,["contents"]);if(c!=null){let m=Xt(c);Array.isArray(m)&&(m=m.map(g=>Bh(g))),r(o,["request","contents"],m)}const f=s(e,["config"]);return f!=null&&r(o,["request","generationConfig"],H0(n,f,o)),o}function B0(n,e){const o={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=s(e,["fileName"]);l!=null&&r(o,["fileName"],l);const c=s(e,["inlinedRequests"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>z0(n,m))),r(o,["requests","requests"],f)}return o}function Y0(n,e){const o={},l=s(n,["displayName"]);if(e!==void 0&&l!=null&&r(e,["batch","displayName"],l),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function O0(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["src"]);c!=null&&r(o,["batch","inputConfig"],B0(n,Hh(n,c)));const f=s(e,["config"]);return f!=null&&r(o,["config"],Y0(f,o)),o}function F0(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],So(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function $0(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],So(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function J0(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);if(e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function K0(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],J0(o,e)),e}function X0(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],So(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function Q0(n){const e={},o=s(n,["format"]);o!=null&&r(e,["instancesFormat"],o);const l=s(n,["gcsUri"]);l!=null&&r(e,["gcsSource","uris"],l);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigquerySource","inputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Z0(n){const e={},o=s(n,["format"]);o!=null&&r(e,["predictionsFormat"],o);const l=s(n,["gcsUri"]);l!=null&&r(e,["gcsDestination","outputUriPrefix"],l);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigqueryDestination","outputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function W0(n,e){const o={},l=s(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=s(n,["dest"]);return e!==void 0&&c!=null&&r(e,["outputConfig"],Z0(y0(c))),o}function j0(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["model"],be(n,l));const c=s(e,["src"]);c!=null&&r(o,["inputConfig"],Q0(Hh(n,c)));const f=s(e,["config"]);return f!=null&&r(o,["config"],W0(f,o)),o}function eT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],So(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function tT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],So(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function nT(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const f=s(n,["filter"]);return e!==void 0&&f!=null&&r(e,["_query","filter"],f),o}function iT(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],nT(o,e)),e}function oT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],So(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function lT(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function aT(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function sT(n){const e={},o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function rT(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],lT(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],aT(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],sT(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function uT(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>rT(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function cT(n){const e={},o=s(n,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function fT(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function dT(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>fT(c))),r(e,["urlMetadata"],l)}return e}function pT(n){const e={},o=s(n,["content"]);o!=null&&r(e,["content"],uT(o));const l=s(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],cT(l));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const f=s(n,["finishReason"]);f!=null&&r(e,["finishReason"],f);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],dT(m));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const S=s(n,["safetyRatings"]);return S!=null&&r(e,["safetyRatings"],S),e}function mT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>pT(p))),r(e,["candidates"],y)}const c=s(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const f=s(n,["promptFeedback"]);f!=null&&r(e,["promptFeedback"],f);const m=s(n,["responseId"]);m!=null&&r(e,["responseId"],m);const g=s(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function Oh(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const l=s(n,["code"]);l!=null&&r(e,["code"],l);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function hT(n){const e={},o=s(n,["response"]);o!=null&&r(e,["response"],mT(o));const l=s(n,["error"]);return l!=null&&r(e,["error"],Oh(l)),e}function gT(n){const e={},o=s(n,["responsesFile"]);o!=null&&r(e,["fileName"],o);const l=s(n,["inlinedResponses","inlinedResponses"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>hT(f))),r(e,["inlinedResponses"],c)}return e}function Du(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["metadata","displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["metadata","state"]);c!=null&&r(e,["state"],zh(c));const f=s(n,["metadata","createTime"]);f!=null&&r(e,["createTime"],f);const m=s(n,["metadata","endTime"]);m!=null&&r(e,["endTime"],m);const g=s(n,["metadata","updateTime"]);g!=null&&r(e,["updateTime"],g);const y=s(n,["metadata","model"]);y!=null&&r(e,["model"],y);const p=s(n,["metadata","output"]);return p!=null&&r(e,["dest"],gT(p)),e}function yT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["operations"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Du(m))),r(e,["batchJobs"],f)}return e}function vT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const f=s(n,["error"]);return f!=null&&r(e,["error"],Oh(f)),e}function Fh(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const l=s(n,["code"]);l!=null&&r(e,["code"],l);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function TT(n){const e={},o=s(n,["instancesFormat"]);o!=null&&r(e,["format"],o);const l=s(n,["gcsSource","uris"]);l!=null&&r(e,["gcsUri"],l);const c=s(n,["bigquerySource","inputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function ST(n){const e={},o=s(n,["predictionsFormat"]);o!=null&&r(e,["format"],o);const l=s(n,["gcsDestination","outputUriPrefix"]);l!=null&&r(e,["gcsUri"],l);const c=s(n,["bigqueryDestination","outputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function bu(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["state"]);c!=null&&r(e,["state"],zh(c));const f=s(n,["error"]);f!=null&&r(e,["error"],Fh(f));const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=s(n,["startTime"]);g!=null&&r(e,["startTime"],g);const y=s(n,["endTime"]);y!=null&&r(e,["endTime"],y);const p=s(n,["updateTime"]);p!=null&&r(e,["updateTime"],p);const v=s(n,["model"]);v!=null&&r(e,["model"],v);const S=s(n,["inputConfig"]);S!=null&&r(e,["src"],TT(S));const C=s(n,["outputConfig"]);return C!=null&&r(e,["dest"],ST(C)),e}function CT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["batchPredictionJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>bu(m))),r(e,["batchJobs"],f)}return e}function ET(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const f=s(n,["error"]);return f!=null&&r(e,["error"],Fh(f)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ci;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ci||(Ci={}));class Nl{constructor(e,o,l,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,l,c)}init(e,o,l){var c,f;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!l||Object.keys(l).length===0?m={config:{}}:typeof l=="object"?m=Object.assign({},l):m=l,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(f=(c=m.config)===null||c===void 0?void 0:c.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AT extends Ai{constructor(e){super(),this.apiClient=e,this.create=async o=>{if(this.apiClient.isVertexAI()){const c=Date.now().toString();if(Array.isArray(o.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(o.config=o.config||{},o.config.displayName===void 0&&(o.config.displayName="genaiBatchJob_${timestampStr}"),o.config.dest===void 0&&typeof o.src=="string")if(o.src.startsWith("gs://")&&o.src.endsWith(".jsonl"))o.config.dest=`${o.src.slice(0,-6)}/dest`;else if(o.src.startsWith("bq://"))o.config.dest=`${o.src}_dest_${c}`;else throw new Error("Unsupported source:"+o.src)}return await this.createInternal(o)},this.list=async(o={})=>new Nl(Ci.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o)}async createInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=j0(this.apiClient,e);return g=j("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>bu(v))}else{const p=O0(this.apiClient,e);return g=j("{model}:batchGenerateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Du(v))}}async get(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=eT(this.apiClient,e);return g=j("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>bu(v))}else{const p=F0(this.apiClient,e);return g=j("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Du(v))}}async cancel(e){var o,l,c,f;let m="",g={};if(this.apiClient.isVertexAI()){const y=tT(this.apiClient,e);m=j("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=$0(this.apiClient,e);m=j("batches/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=iT(e);return g=j("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=CT(v),C=new Km;return Object.assign(C,S),C})}else{const p=K0(e);return g=j("batches",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=yT(v),C=new Km;return Object.assign(C,S),C})}}async delete(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=oT(this.apiClient,e);return g=j("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>ET(v))}else{const p=X0(this.apiClient,e);return g=j("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>vT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _T(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function xT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function MT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function RT(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],_T(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],xT(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],MT(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function Wm(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>RT(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function NT(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const f=s(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function wT(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function DT(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],wT(o)),e}function bT(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function kT(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],bT(o)),e}function IT(){return{}}function UT(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>NT(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],DT(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],kT(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],IT());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function LT(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function VT(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function PT(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],VT(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function GT(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],LT(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],PT(l)),e}function qT(n,e){const o={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const f=s(n,["displayName"]);e!==void 0&&f!=null&&r(e,["displayName"],f);const m=s(n,["contents"]);if(e!==void 0&&m!=null){let v=Xt(m);Array.isArray(v)&&(v=v.map(S=>Wm(S))),r(e,["contents"],v)}const g=s(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],Wm(St(g)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>UT(S))),r(e,["tools"],v)}const p=s(n,["toolConfig"]);if(e!==void 0&&p!=null&&r(e,["toolConfig"],GT(p)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function HT(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["model"],Dh(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],qT(c,o)),o}function zT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],kn(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function BT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],kn(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function YT(n,e){const o={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),o}function OT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],kn(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],YT(c,o)),o}function FT(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function $T(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],FT(o,e)),e}function JT(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function KT(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function XT(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function QT(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],JT(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],KT(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],XT(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function jm(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>QT(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function ZT(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&r(e,["description"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const f=s(n,["parametersJsonSchema"]);f!=null&&r(e,["parametersJsonSchema"],f);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function WT(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function jT(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],WT(o)),e}function eS(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function tS(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],eS(o)),e}function nS(){return{}}function iS(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function oS(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],iS(o));const l=s(n,["authType"]);l!=null&&r(e,["authType"],l);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const f=s(n,["httpBasicAuthConfig"]);f!=null&&r(e,["httpBasicAuthConfig"],f);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function lS(n){const e={},o=s(n,["authConfig"]);return o!=null&&r(e,["authConfig"],oS(o)),e}function aS(){return{}}function sS(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(C=>ZT(C))),r(e,["functionDeclarations"],S)}const l=s(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],jT(c));const f=s(n,["googleSearchRetrieval"]);f!=null&&r(e,["googleSearchRetrieval"],tS(f)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],nS());const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],lS(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],aS());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function rS(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function uS(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function cS(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],uS(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function fS(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],rS(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],cS(l)),e}function dS(n,e){const o={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const f=s(n,["displayName"]);e!==void 0&&f!=null&&r(e,["displayName"],f);const m=s(n,["contents"]);if(e!==void 0&&m!=null){let S=Xt(m);Array.isArray(S)&&(S=S.map(C=>jm(C))),r(e,["contents"],S)}const g=s(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],jm(St(g)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(C=>sS(C))),r(e,["tools"],S)}const p=s(n,["toolConfig"]);e!==void 0&&p!=null&&r(e,["toolConfig"],fS(p));const v=s(n,["kmsKeyName"]);return e!==void 0&&v!=null&&r(e,["encryption_spec","kmsKeyName"],v),o}function pS(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["model"],Dh(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],dS(c,o)),o}function mS(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],kn(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function hS(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],kn(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function gS(n,e){const o={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),o}function yS(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],kn(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],gS(c,o)),o}function vS(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function TS(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],vS(o,e)),e}function Ja(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const f=s(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=s(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const g=s(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function SS(){return{}}function CS(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["cachedContents"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Ja(m))),r(e,["cachedContents"],f)}return e}function Ka(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const f=s(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=s(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const g=s(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function ES(){return{}}function AS(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["cachedContents"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Ka(m))),r(e,["cachedContents"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _S extends Ai{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Nl(Ci.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=pS(this.apiClient,e);return g=j("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Ka(v))}else{const p=HT(this.apiClient,e);return g=j("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Ja(v))}}async get(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=mS(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Ka(v))}else{const p=zT(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Ja(v))}}async delete(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=hS(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(()=>{const v=ES(),S=new $m;return Object.assign(S,v),S})}else{const p=BT(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(()=>{const v=SS(),S=new $m;return Object.assign(S,v),S})}}async update(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=yS(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Ka(v))}else{const p=OT(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Ja(v))}}async listInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=TS(e);return g=j("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=AS(v),C=new Jm;return Object.assign(C,S),C})}else{const p=$T(e);return g=j("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=CS(v),C=new Jm;return Object.assign(C,S),C})}}}function eh(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],l=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Je(n){return this instanceof Je?(this.v=n,this):new Je(n)}function go(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(n,e||[]),c,f=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),c[Symbol.asyncIterator]=function(){return this},c;function m(M){return function(N){return Promise.resolve(N).then(M,S)}}function g(M,N){l[M]&&(c[M]=function(L){return new Promise(function(H,K){f.push([M,L,H,K])>1||y(M,L)})},N&&(c[M]=N(c[M])))}function y(M,N){try{p(l[M](N))}catch(L){C(f[0][3],L)}}function p(M){M.value instanceof Je?Promise.resolve(M.value.v).then(v,S):C(f[0][2],M)}function v(M){y("next",M)}function S(M){y("throw",M)}function C(M,N){M(N),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Ml(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof eh=="function"?eh(n):n[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(f){o[f]=n[f]&&function(m){return new Promise(function(g,y){m=n[f](m),c(g,y,m.done,m.value)})}}function c(f,m,g,y){Promise.resolve(y).then(function(p){f({value:p,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xS(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:$h(o)}function $h(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function MS(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function th(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let l=0;for(;l<o;)if(n[l].role==="user")e.push(n[l]),l++;else{const c=[];let f=!0;for(;l<o&&n[l].role==="model";)c.push(n[l]),f&&!$h(n[l])&&(f=!1),l++;f?e.push(...c):e.pop()}return e}class RS{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new NS(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class NS{constructor(e,o,l,c={},f=[]){this.apiClient=e,this.modelsModule=o,this.model=l,this.config=c,this.history=f,this.sendPromise=Promise.resolve(),MS(f)}async sendMessage(e){var o;await this.sendPromise;const l=St(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,m,g;const y=await c,p=(m=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let C=[];v!=null&&(C=(g=v.slice(S))!==null&&g!==void 0?g:[]);const M=p?[p]:[];this.recordHistory(l,M,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var o;await this.sendPromise;const l=St(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const f=await c;return this.processStreamResponse(f,l)}getHistory(e=!1){const o=e?th(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var l,c;return go(this,arguments,function*(){var m,g,y,p;const v=[];try{for(var S=!0,C=Ml(e),M;M=yield Je(C.next()),m=M.done,!m;S=!0){p=M.value,S=!1;const N=p;if(xS(N)){const L=(c=(l=N.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;L!==void 0&&v.push(L)}yield yield Je(N)}}catch(N){g={error:N}}finally{try{!S&&!m&&(y=C.return)&&(yield Je(y.call(C)))}finally{if(g)throw g.error}}this.recordHistory(o,v)})}recordHistory(e,o,l){let c=[];o.length>0&&o.every(f=>f.role!==void 0)?c=o:c.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...th(l)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ns extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ns.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wS(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function DS(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],wS(o,e)),e}function bS(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const l=s(n,["message"]);l!=null&&r(e,["message"],l);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function kS(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const f=s(n,["sizeBytes"]);f!=null&&r(e,["sizeBytes"],f);const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=s(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const S=s(n,["downloadUri"]);S!=null&&r(e,["downloadUri"],S);const C=s(n,["state"]);C!=null&&r(e,["state"],C);const M=s(n,["source"]);M!=null&&r(e,["source"],M);const N=s(n,["videoMetadata"]);N!=null&&r(e,["videoMetadata"],N);const L=s(n,["error"]);return L!=null&&r(e,["error"],bS(L)),e}function IS(n){const e={},o=s(n,["file"]);o!=null&&r(e,["file"],kS(o));const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function US(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","file"],Ph(o));const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function LS(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","file"],Ph(o));const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function VS(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const l=s(n,["message"]);l!=null&&r(e,["message"],l);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function ku(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const f=s(n,["sizeBytes"]);f!=null&&r(e,["sizeBytes"],f);const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=s(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const S=s(n,["downloadUri"]);S!=null&&r(e,["downloadUri"],S);const C=s(n,["state"]);C!=null&&r(e,["state"],C);const M=s(n,["source"]);M!=null&&r(e,["source"],M);const N=s(n,["videoMetadata"]);N!=null&&r(e,["videoMetadata"],N);const L=s(n,["error"]);return L!=null&&r(e,["error"],VS(L)),e}function PS(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["files"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>ku(m))),r(e,["files"],f)}return e}function GS(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function qS(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HS extends Ai{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Nl(Ci.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>ku(o))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=DS(e);return f=j("files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=PS(y),v=new o0;return Object.assign(v,p),v})}}async createInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IS(e);return f=j("upload/v1beta/files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const p=GS(y),v=new l0;return Object.assign(v,p),v})}}async get(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=US(e);return f=j("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>ku(y))}}async delete(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=LS(e);return f=j("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(()=>{const y=qS(),p=new a0;return Object.assign(p,y),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zS(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function Jh(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],zS(o)),e}function BS(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Jh(l)),e}function YS(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>BS(c))),r(e,["speakerVoiceConfigs"],l)}return e}function OS(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],Jh(o));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],YS(l));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function FS(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function $S(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function JS(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function KS(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],FS(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],$S(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],JS(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function XS(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>KS(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function QS(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const f=s(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function ZS(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function WS(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],ZS(o)),e}function jS(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function eC(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],jS(o)),e}function tC(){return{}}function nC(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>QS(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],WS(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],eC(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],tC());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function iC(n){const e={},o=s(n,["handle"]);if(o!=null&&r(e,["handle"],o),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function nh(){return{}}function oC(n){const e={},o=s(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=s(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const f=s(n,["prefixPaddingMs"]);f!=null&&r(e,["prefixPaddingMs"],f);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function lC(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],oC(o));const l=s(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function aC(n){const e={},o=s(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function sC(n){const e={},o=s(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=s(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],aC(l)),e}function rC(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function uC(n,e){const o={},l=s(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const f=s(n,["temperature"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","temperature"],f);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const S=s(n,["speechConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","speechConfig"],OS(Fu(S)));const C=s(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],C);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],XS(St(M)));const N=s(n,["tools"]);if(e!==void 0&&N!=null){let B=To(N);Array.isArray(B)&&(B=B.map(se=>nC(vo(se)))),r(e,["setup","tools"],B)}const L=s(n,["sessionResumption"]);e!==void 0&&L!=null&&r(e,["setup","sessionResumption"],iC(L));const H=s(n,["inputAudioTranscription"]);e!==void 0&&H!=null&&r(e,["setup","inputAudioTranscription"],nh());const K=s(n,["outputAudioTranscription"]);e!==void 0&&K!=null&&r(e,["setup","outputAudioTranscription"],nh());const F=s(n,["realtimeInputConfig"]);e!==void 0&&F!=null&&r(e,["setup","realtimeInputConfig"],lC(F));const Y=s(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&r(e,["setup","contextWindowCompression"],sC(Y));const W=s(n,["proactivity"]);return e!==void 0&&W!=null&&r(e,["setup","proactivity"],rC(W)),o}function cC(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["setup","model"],be(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],uC(c,o)),o}function fC(){return{}}function dC(){return{}}function pC(n){const e={},o=s(n,["media"]);o!=null&&r(e,["mediaChunks"],bh(o));const l=s(n,["audio"]);l!=null&&r(e,["audio"],Ih(l));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const f=s(n,["video"]);f!=null&&r(e,["video"],kh(f));const m=s(n,["text"]);return m!=null&&r(e,["text"],m),s(n,["activityStart"])!=null&&r(e,["activityStart"],fC()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],dC()),e}function Kh(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function mC(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Kh(c))),r(e,["weightedPrompts"],l)}return e}function Xh(n){const e={},o=s(n,["temperature"]);o!=null&&r(e,["temperature"],o);const l=s(n,["topK"]);l!=null&&r(e,["topK"],l);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const f=s(n,["guidance"]);f!=null&&r(e,["guidance"],f);const m=s(n,["bpm"]);m!=null&&r(e,["bpm"],m);const g=s(n,["density"]);g!=null&&r(e,["density"],g);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=s(n,["scale"]);p!=null&&r(e,["scale"],p);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const S=s(n,["muteDrums"]);S!=null&&r(e,["muteDrums"],S);const C=s(n,["onlyBassAndDrums"]);C!=null&&r(e,["onlyBassAndDrums"],C);const M=s(n,["musicGenerationMode"]);return M!=null&&r(e,["musicGenerationMode"],M),e}function hC(n){const e={},o=s(n,["musicGenerationConfig"]);return o!=null&&r(e,["musicGenerationConfig"],Xh(o)),e}function Qh(n){const e={},o=s(n,["model"]);return o!=null&&r(e,["model"],o),e}function Zh(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Kh(c))),r(e,["weightedPrompts"],l)}return e}function Iu(n){const e={},o=s(n,["setup"]);o!=null&&r(e,["setup"],Qh(o));const l=s(n,["clientContent"]);l!=null&&r(e,["clientContent"],Zh(l));const c=s(n,["musicGenerationConfig"]);c!=null&&r(e,["musicGenerationConfig"],Xh(c));const f=s(n,["playbackControl"]);return f!=null&&r(e,["playbackControl"],f),e}function gC(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function yC(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],gC(o)),e}function vC(n){const e={},o=s(n,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],yC(o)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function TC(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function SC(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function CC(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function EC(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],TC(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],SC(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],CC(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function AC(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>EC(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function _C(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&r(e,["description"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const f=s(n,["parametersJsonSchema"]);f!=null&&r(e,["parametersJsonSchema"],f);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function xC(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function MC(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],xC(o)),e}function RC(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function NC(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],RC(o)),e}function wC(){return{}}function DC(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function bC(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],DC(o));const l=s(n,["authType"]);l!=null&&r(e,["authType"],l);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const f=s(n,["httpBasicAuthConfig"]);f!=null&&r(e,["httpBasicAuthConfig"],f);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function kC(n){const e={},o=s(n,["authConfig"]);return o!=null&&r(e,["authConfig"],bC(o)),e}function IC(){return{}}function UC(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(C=>_C(C))),r(e,["functionDeclarations"],S)}const l=s(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],MC(c));const f=s(n,["googleSearchRetrieval"]);f!=null&&r(e,["googleSearchRetrieval"],NC(f)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],wC());const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],kC(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],IC());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function LC(n){const e={},o=s(n,["handle"]);o!=null&&r(e,["handle"],o);const l=s(n,["transparent"]);return l!=null&&r(e,["transparent"],l),e}function ih(){return{}}function VC(n){const e={},o=s(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=s(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const f=s(n,["prefixPaddingMs"]);f!=null&&r(e,["prefixPaddingMs"],f);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function PC(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],VC(o));const l=s(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function GC(n){const e={},o=s(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function qC(n){const e={},o=s(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=s(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],GC(l)),e}function HC(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function zC(n,e){const o={},l=s(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const f=s(n,["temperature"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","temperature"],f);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const S=s(n,["speechConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","speechConfig"],vC(Fu(S)));const C=s(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],C);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],AC(St(M)));const N=s(n,["tools"]);if(e!==void 0&&N!=null){let B=To(N);Array.isArray(B)&&(B=B.map(se=>UC(vo(se)))),r(e,["setup","tools"],B)}const L=s(n,["sessionResumption"]);e!==void 0&&L!=null&&r(e,["setup","sessionResumption"],LC(L));const H=s(n,["inputAudioTranscription"]);e!==void 0&&H!=null&&r(e,["setup","inputAudioTranscription"],ih());const K=s(n,["outputAudioTranscription"]);e!==void 0&&K!=null&&r(e,["setup","outputAudioTranscription"],ih());const F=s(n,["realtimeInputConfig"]);e!==void 0&&F!=null&&r(e,["setup","realtimeInputConfig"],PC(F));const Y=s(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&r(e,["setup","contextWindowCompression"],qC(Y));const W=s(n,["proactivity"]);return e!==void 0&&W!=null&&r(e,["setup","proactivity"],HC(W)),o}function BC(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["setup","model"],be(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],zC(c,o)),o}function YC(){return{}}function OC(){return{}}function FC(n){const e={},o=s(n,["media"]);o!=null&&r(e,["mediaChunks"],bh(o));const l=s(n,["audio"]);l!=null&&r(e,["audio"],Ih(l));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const f=s(n,["video"]);f!=null&&r(e,["video"],kh(f));const m=s(n,["text"]);return m!=null&&r(e,["text"],m),s(n,["activityStart"])!=null&&r(e,["activityStart"],YC()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],OC()),e}function $C(){return{}}function JC(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function KC(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function XC(n){const e={},o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function QC(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],JC(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],KC(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],XC(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function ZC(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>QC(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function oh(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function WC(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function jC(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>WC(c))),r(e,["urlMetadata"],l)}return e}function eE(n){const e={},o=s(n,["modelTurn"]);o!=null&&r(e,["modelTurn"],ZC(o));const l=s(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const f=s(n,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const m=s(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const g=s(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],oh(g));const y=s(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],oh(y));const p=s(n,["urlContextMetadata"]);return p!=null&&r(e,["urlContextMetadata"],jC(p)),e}function tE(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const l=s(n,["args"]);l!=null&&r(e,["args"],l);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function nE(n){const e={},o=s(n,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>tE(c))),r(e,["functionCalls"],l)}return e}function iE(n){const e={},o=s(n,["ids"]);return o!=null&&r(e,["ids"],o),e}function Ba(n){const e={},o=s(n,["modality"]);o!=null&&r(e,["modality"],o);const l=s(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function oE(n){const e={},o=s(n,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const l=s(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const c=s(n,["responseTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const f=s(n,["toolUsePromptTokenCount"]);f!=null&&r(e,["toolUsePromptTokenCount"],f);const m=s(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const g=s(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=s(n,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(M=>Ba(M))),r(e,["promptTokensDetails"],C)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(M=>Ba(M))),r(e,["cacheTokensDetails"],C)}const v=s(n,["responseTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(M=>Ba(M))),r(e,["responseTokensDetails"],C)}const S=s(n,["toolUsePromptTokensDetails"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(M=>Ba(M))),r(e,["toolUsePromptTokensDetails"],C)}return e}function lE(n){const e={},o=s(n,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function aE(n){const e={},o=s(n,["newHandle"]);o!=null&&r(e,["newHandle"],o);const l=s(n,["resumable"]);l!=null&&r(e,["resumable"],l);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function sE(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],$C());const l=s(n,["serverContent"]);l!=null&&r(e,["serverContent"],eE(l));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],nE(c));const f=s(n,["toolCallCancellation"]);f!=null&&r(e,["toolCallCancellation"],iE(f));const m=s(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],oE(m));const g=s(n,["goAway"]);g!=null&&r(e,["goAway"],lE(g));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],aE(y)),e}function rE(){return{}}function uE(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function cE(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>uE(c))),r(e,["weightedPrompts"],l)}return e}function fE(n){const e={},o=s(n,["temperature"]);o!=null&&r(e,["temperature"],o);const l=s(n,["topK"]);l!=null&&r(e,["topK"],l);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const f=s(n,["guidance"]);f!=null&&r(e,["guidance"],f);const m=s(n,["bpm"]);m!=null&&r(e,["bpm"],m);const g=s(n,["density"]);g!=null&&r(e,["density"],g);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=s(n,["scale"]);p!=null&&r(e,["scale"],p);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const S=s(n,["muteDrums"]);S!=null&&r(e,["muteDrums"],S);const C=s(n,["onlyBassAndDrums"]);C!=null&&r(e,["onlyBassAndDrums"],C);const M=s(n,["musicGenerationMode"]);return M!=null&&r(e,["musicGenerationMode"],M),e}function dE(n){const e={},o=s(n,["clientContent"]);o!=null&&r(e,["clientContent"],cE(o));const l=s(n,["musicGenerationConfig"]);return l!=null&&r(e,["musicGenerationConfig"],fE(l)),e}function pE(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);l!=null&&r(e,["mimeType"],l);const c=s(n,["sourceMetadata"]);return c!=null&&r(e,["sourceMetadata"],dE(c)),e}function mE(n){const e={},o=s(n,["audioChunks"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>pE(c))),r(e,["audioChunks"],l)}return e}function hE(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["filteredReason"]);return l!=null&&r(e,["filteredReason"],l),e}function gE(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],rE());const l=s(n,["serverContent"]);l!=null&&r(e,["serverContent"],mE(l));const c=s(n,["filteredPrompt"]);return c!=null&&r(e,["filteredPrompt"],hE(c)),e}function yE(n){const e={},o=s(n,["sessionId"]);return o!=null&&r(e,["sessionId"],o),e}function vE(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function TE(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function SE(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function CE(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],vE(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],TE(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],SE(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function EE(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>CE(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function lh(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function AE(n){const e={},o=s(n,["modelTurn"]);o!=null&&r(e,["modelTurn"],EE(o));const l=s(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const f=s(n,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const m=s(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const g=s(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],lh(g));const y=s(n,["outputTranscription"]);return y!=null&&r(e,["outputTranscription"],lh(y)),e}function _E(n){const e={},o=s(n,["args"]);o!=null&&r(e,["args"],o);const l=s(n,["name"]);return l!=null&&r(e,["name"],l),e}function xE(n){const e={},o=s(n,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>_E(c))),r(e,["functionCalls"],l)}return e}function ME(n){const e={},o=s(n,["ids"]);return o!=null&&r(e,["ids"],o),e}function Ya(n){const e={},o=s(n,["modality"]);o!=null&&r(e,["modality"],o);const l=s(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function RE(n){const e={},o=s(n,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const l=s(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const c=s(n,["candidatesTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const f=s(n,["toolUsePromptTokenCount"]);f!=null&&r(e,["toolUsePromptTokenCount"],f);const m=s(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const g=s(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=s(n,["promptTokensDetails"]);if(y!=null){let M=y;Array.isArray(M)&&(M=M.map(N=>Ya(N))),r(e,["promptTokensDetails"],M)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let M=p;Array.isArray(M)&&(M=M.map(N=>Ya(N))),r(e,["cacheTokensDetails"],M)}const v=s(n,["candidatesTokensDetails"]);if(v!=null){let M=v;Array.isArray(M)&&(M=M.map(N=>Ya(N))),r(e,["responseTokensDetails"],M)}const S=s(n,["toolUsePromptTokensDetails"]);if(S!=null){let M=S;Array.isArray(M)&&(M=M.map(N=>Ya(N))),r(e,["toolUsePromptTokensDetails"],M)}const C=s(n,["trafficType"]);return C!=null&&r(e,["trafficType"],C),e}function NE(n){const e={},o=s(n,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function wE(n){const e={},o=s(n,["newHandle"]);o!=null&&r(e,["newHandle"],o);const l=s(n,["resumable"]);l!=null&&r(e,["resumable"],l);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function DE(n){const e={},o=s(n,["setupComplete"]);o!=null&&r(e,["setupComplete"],yE(o));const l=s(n,["serverContent"]);l!=null&&r(e,["serverContent"],AE(l));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],xE(c));const f=s(n,["toolCallCancellation"]);f!=null&&r(e,["toolCallCancellation"],ME(f));const m=s(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],RE(m));const g=s(n,["goAway"]);g!=null&&r(e,["goAway"],NE(g));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],wE(y)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bE(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function kE(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function IE(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function UE(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],bE(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],kE(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],IE(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function is(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>UE(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function LE(n){const e={},o=s(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=s(n,["default"]);l!=null&&r(e,["default"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const f=s(n,["enum"]);f!=null&&r(e,["enum"],f);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const S=s(n,["maxProperties"]);S!=null&&r(e,["maxProperties"],S);const C=s(n,["maximum"]);C!=null&&r(e,["maximum"],C);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const N=s(n,["minLength"]);N!=null&&r(e,["minLength"],N);const L=s(n,["minProperties"]);L!=null&&r(e,["minProperties"],L);const H=s(n,["minimum"]);H!=null&&r(e,["minimum"],H);const K=s(n,["nullable"]);K!=null&&r(e,["nullable"],K);const F=s(n,["pattern"]);F!=null&&r(e,["pattern"],F);const Y=s(n,["properties"]);Y!=null&&r(e,["properties"],Y);const W=s(n,["propertyOrdering"]);W!=null&&r(e,["propertyOrdering"],W);const B=s(n,["required"]);B!=null&&r(e,["required"],B);const se=s(n,["title"]);se!=null&&r(e,["title"],se);const Z=s(n,["type"]);return Z!=null&&r(e,["type"],Z),e}function VE(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["category"]);o!=null&&r(e,["category"],o);const l=s(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function PE(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const f=s(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function GE(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function qE(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],GE(o)),e}function HE(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function zE(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],HE(o)),e}function BE(){return{}}function YE(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>PE(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],qE(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],zE(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],BE());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function OE(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function FE(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function $E(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],FE(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function JE(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],OE(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],$E(l)),e}function KE(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function Wh(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],KE(o)),e}function XE(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Wh(l)),e}function QE(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>XE(c))),r(e,["speakerVoiceConfigs"],l)}return e}function ZE(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],Wh(o));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],QE(l));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function WE(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=s(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function jE(n,e,o){const l={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],is(St(c)));const f=s(e,["temperature"]);f!=null&&r(l,["temperature"],f);const m=s(e,["topP"]);m!=null&&r(l,["topP"],m);const g=s(e,["topK"]);g!=null&&r(l,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(l,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const S=s(e,["responseLogprobs"]);S!=null&&r(l,["responseLogprobs"],S);const C=s(e,["logprobs"]);C!=null&&r(l,["logprobs"],C);const M=s(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const N=s(e,["frequencyPenalty"]);N!=null&&r(l,["frequencyPenalty"],N);const L=s(e,["seed"]);L!=null&&r(l,["seed"],L);const H=s(e,["responseMimeType"]);H!=null&&r(l,["responseMimeType"],H);const K=s(e,["responseSchema"]);K!=null&&r(l,["responseSchema"],LE(Yu(K)));const F=s(e,["responseJsonSchema"]);if(F!=null&&r(l,["responseJsonSchema"],F),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=s(e,["safetySettings"]);if(o!==void 0&&Y!=null){let te=Y;Array.isArray(te)&&(te=te.map(Ie=>VE(Ie))),r(o,["safetySettings"],te)}const W=s(e,["tools"]);if(o!==void 0&&W!=null){let te=To(W);Array.isArray(te)&&(te=te.map(Ie=>YE(vo(Ie)))),r(o,["tools"],te)}const B=s(e,["toolConfig"]);if(o!==void 0&&B!=null&&r(o,["toolConfig"],JE(B)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const se=s(e,["cachedContent"]);o!==void 0&&se!=null&&r(o,["cachedContent"],kn(n,se));const Z=s(e,["responseModalities"]);Z!=null&&r(l,["responseModalities"],Z);const Ce=s(e,["mediaResolution"]);Ce!=null&&r(l,["mediaResolution"],Ce);const ne=s(e,["speechConfig"]);if(ne!=null&&r(l,["speechConfig"],ZE(Ou(ne))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ye=s(e,["thinkingConfig"]);return ye!=null&&r(l,["thinkingConfig"],WE(ye)),l}function ah(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["contents"]);if(c!=null){let m=Xt(c);Array.isArray(m)&&(m=m.map(g=>is(g))),r(o,["contents"],m)}const f=s(e,["config"]);return f!=null&&r(o,["generationConfig"],jE(n,f,o)),o}function eA(n,e){const o={},l=s(n,["taskType"]);e!==void 0&&l!=null&&r(e,["requests[]","taskType"],l);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const f=s(n,["outputDimensionality"]);if(e!==void 0&&f!=null&&r(e,["requests[]","outputDimensionality"],f),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function tA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["contents"]);c!=null&&r(o,["requests[]","content"],Lh(n,c));const f=s(e,["config"]);f!=null&&r(o,["config"],eA(f,o));const m=s(e,["model"]);return m!==void 0&&r(o,["requests[]","model"],be(n,m)),o}function nA(n,e){const o={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=s(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=s(n,["aspectRatio"]);e!==void 0&&c!=null&&r(e,["parameters","aspectRatio"],c);const f=s(n,["guidanceScale"]);if(e!==void 0&&f!=null&&r(e,["parameters","guidanceScale"],f),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=s(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&r(e,["parameters","safetySetting"],m);const g=s(n,["personGeneration"]);e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g);const y=s(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&r(e,["parameters","includeSafetyAttributes"],y);const p=s(n,["includeRaiReason"]);e!==void 0&&p!=null&&r(e,["parameters","includeRaiReason"],p);const v=s(n,["language"]);e!==void 0&&v!=null&&r(e,["parameters","language"],v);const S=s(n,["outputMimeType"]);e!==void 0&&S!=null&&r(e,["parameters","outputOptions","mimeType"],S);const C=s(n,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&r(e,["parameters","outputOptions","compressionQuality"],C),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const M=s(n,["imageSize"]);if(e!==void 0&&M!=null&&r(e,["parameters","sampleImageSize"],M),s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function iA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=s(e,["config"]);return f!=null&&r(o,["config"],nA(f,o)),o}function oA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],be(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function lA(n,e,o){const l={},c=s(e,["pageSize"]);o!==void 0&&c!=null&&r(o,["_query","pageSize"],c);const f=s(e,["pageToken"]);o!==void 0&&f!=null&&r(o,["_query","pageToken"],f);const m=s(e,["filter"]);o!==void 0&&m!=null&&r(o,["_query","filter"],m);const g=s(e,["queryBase"]);return o!==void 0&&g!=null&&r(o,["_url","models_url"],Gh(n,g)),l}function aA(n,e){const o={},l=s(e,["config"]);return l!=null&&r(o,["config"],lA(n,l,o)),o}function sA(n,e){const o={},l=s(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const f=s(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&r(e,["defaultCheckpointId"],f),o}function rA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],be(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],sA(c,o)),o}function uA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],be(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function cA(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function fA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["contents"]);if(c!=null){let m=Xt(c);Array.isArray(m)&&(m=m.map(g=>is(g))),r(o,["contents"],m)}const f=s(e,["config"]);return f!=null&&r(o,["config"],cA(f)),o}function dA(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(n,["imageBytes"]);o!=null&&r(e,["bytesBase64Encoded"],_i(o));const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function pA(n,e){const o={},l=s(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=s(n,["durationSeconds"]);if(e!==void 0&&c!=null&&r(e,["parameters","durationSeconds"],c),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=s(n,["aspectRatio"]);if(e!==void 0&&f!=null&&r(e,["parameters","aspectRatio"],f),s(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const m=s(n,["personGeneration"]);if(e!==void 0&&m!=null&&r(e,["parameters","personGeneration"],m),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=s(n,["negativePrompt"]);e!==void 0&&g!=null&&r(e,["parameters","negativePrompt"],g);const y=s(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&r(e,["parameters","enhancePrompt"],y),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function mA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=s(e,["image"]);if(f!=null&&r(o,["instances[0]","image"],dA(f)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=s(e,["config"]);return m!=null&&r(o,["config"],pA(m,o)),o}function hA(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function gA(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function yA(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function vA(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],hA(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],gA(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],yA(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function Co(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>vA(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function TA(n){const e={},o=s(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=s(n,["default"]);l!=null&&r(e,["default"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const f=s(n,["enum"]);f!=null&&r(e,["enum"],f);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const S=s(n,["maxProperties"]);S!=null&&r(e,["maxProperties"],S);const C=s(n,["maximum"]);C!=null&&r(e,["maximum"],C);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const N=s(n,["minLength"]);N!=null&&r(e,["minLength"],N);const L=s(n,["minProperties"]);L!=null&&r(e,["minProperties"],L);const H=s(n,["minimum"]);H!=null&&r(e,["minimum"],H);const K=s(n,["nullable"]);K!=null&&r(e,["nullable"],K);const F=s(n,["pattern"]);F!=null&&r(e,["pattern"],F);const Y=s(n,["properties"]);Y!=null&&r(e,["properties"],Y);const W=s(n,["propertyOrdering"]);W!=null&&r(e,["propertyOrdering"],W);const B=s(n,["required"]);B!=null&&r(e,["required"],B);const se=s(n,["title"]);se!=null&&r(e,["title"],se);const Z=s(n,["type"]);return Z!=null&&r(e,["type"],Z),e}function SA(n){const e={},o=s(n,["featureSelectionPreference"]);return o!=null&&r(e,["featureSelectionPreference"],o),e}function CA(n){const e={},o=s(n,["method"]);o!=null&&r(e,["method"],o);const l=s(n,["category"]);l!=null&&r(e,["category"],l);const c=s(n,["threshold"]);return c!=null&&r(e,["threshold"],c),e}function EA(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&r(e,["description"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const f=s(n,["parametersJsonSchema"]);f!=null&&r(e,["parametersJsonSchema"],f);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function AA(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function _A(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],AA(o)),e}function xA(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function MA(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],xA(o)),e}function RA(){return{}}function NA(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function wA(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],NA(o));const l=s(n,["authType"]);l!=null&&r(e,["authType"],l);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const f=s(n,["httpBasicAuthConfig"]);f!=null&&r(e,["httpBasicAuthConfig"],f);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function DA(n){const e={},o=s(n,["authConfig"]);return o!=null&&r(e,["authConfig"],wA(o)),e}function bA(){return{}}function jh(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(C=>EA(C))),r(e,["functionDeclarations"],S)}const l=s(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],_A(c));const f=s(n,["googleSearchRetrieval"]);f!=null&&r(e,["googleSearchRetrieval"],MA(f)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],RA());const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],DA(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],bA());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function kA(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function IA(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function UA(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],IA(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function LA(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],kA(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],UA(l)),e}function VA(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function PA(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],VA(o)),e}function GA(n){const e={},o=s(n,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],PA(o)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function qA(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=s(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function HA(n,e,o){const l={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],Co(St(c)));const f=s(e,["temperature"]);f!=null&&r(l,["temperature"],f);const m=s(e,["topP"]);m!=null&&r(l,["topP"],m);const g=s(e,["topK"]);g!=null&&r(l,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(l,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const S=s(e,["responseLogprobs"]);S!=null&&r(l,["responseLogprobs"],S);const C=s(e,["logprobs"]);C!=null&&r(l,["logprobs"],C);const M=s(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const N=s(e,["frequencyPenalty"]);N!=null&&r(l,["frequencyPenalty"],N);const L=s(e,["seed"]);L!=null&&r(l,["seed"],L);const H=s(e,["responseMimeType"]);H!=null&&r(l,["responseMimeType"],H);const K=s(e,["responseSchema"]);K!=null&&r(l,["responseSchema"],TA(Yu(K)));const F=s(e,["responseJsonSchema"]);F!=null&&r(l,["responseJsonSchema"],F);const Y=s(e,["routingConfig"]);Y!=null&&r(l,["routingConfig"],Y);const W=s(e,["modelSelectionConfig"]);W!=null&&r(l,["modelConfig"],SA(W));const B=s(e,["safetySettings"]);if(o!==void 0&&B!=null){let Re=B;Array.isArray(Re)&&(Re=Re.map(U=>CA(U))),r(o,["safetySettings"],Re)}const se=s(e,["tools"]);if(o!==void 0&&se!=null){let Re=To(se);Array.isArray(Re)&&(Re=Re.map(U=>jh(vo(U)))),r(o,["tools"],Re)}const Z=s(e,["toolConfig"]);o!==void 0&&Z!=null&&r(o,["toolConfig"],LA(Z));const Ce=s(e,["labels"]);o!==void 0&&Ce!=null&&r(o,["labels"],Ce);const ne=s(e,["cachedContent"]);o!==void 0&&ne!=null&&r(o,["cachedContent"],kn(n,ne));const ye=s(e,["responseModalities"]);ye!=null&&r(l,["responseModalities"],ye);const te=s(e,["mediaResolution"]);te!=null&&r(l,["mediaResolution"],te);const Ie=s(e,["speechConfig"]);Ie!=null&&r(l,["speechConfig"],GA(Ou(Ie)));const bt=s(e,["audioTimestamp"]);bt!=null&&r(l,["audioTimestamp"],bt);const Ct=s(e,["thinkingConfig"]);return Ct!=null&&r(l,["thinkingConfig"],qA(Ct)),l}function sh(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["contents"]);if(c!=null){let m=Xt(c);Array.isArray(m)&&(m=m.map(g=>Co(g))),r(o,["contents"],m)}const f=s(e,["config"]);return f!=null&&r(o,["generationConfig"],HA(n,f,o)),o}function zA(n,e){const o={},l=s(n,["taskType"]);e!==void 0&&l!=null&&r(e,["instances[]","task_type"],l);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["instances[]","title"],c);const f=s(n,["outputDimensionality"]);e!==void 0&&f!=null&&r(e,["parameters","outputDimensionality"],f);const m=s(n,["mimeType"]);e!==void 0&&m!=null&&r(e,["instances[]","mimeType"],m);const g=s(n,["autoTruncate"]);return e!==void 0&&g!=null&&r(e,["parameters","autoTruncate"],g),o}function BA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["contents"]);c!=null&&r(o,["instances[]","content"],Lh(n,c));const f=s(e,["config"]);return f!=null&&r(o,["config"],zA(f,o)),o}function YA(n,e){const o={},l=s(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const f=s(n,["numberOfImages"]);e!==void 0&&f!=null&&r(e,["parameters","sampleCount"],f);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const g=s(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const S=s(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&r(e,["parameters","includeSafetyAttributes"],S);const C=s(n,["includeRaiReason"]);e!==void 0&&C!=null&&r(e,["parameters","includeRaiReason"],C);const M=s(n,["language"]);e!==void 0&&M!=null&&r(e,["parameters","language"],M);const N=s(n,["outputMimeType"]);e!==void 0&&N!=null&&r(e,["parameters","outputOptions","mimeType"],N);const L=s(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&r(e,["parameters","outputOptions","compressionQuality"],L);const H=s(n,["addWatermark"]);e!==void 0&&H!=null&&r(e,["parameters","addWatermark"],H);const K=s(n,["imageSize"]);e!==void 0&&K!=null&&r(e,["parameters","sampleImageSize"],K);const F=s(n,["enhancePrompt"]);return e!==void 0&&F!=null&&r(e,["parameters","enhancePrompt"],F),o}function OA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=s(e,["config"]);return f!=null&&r(o,["config"],YA(f,o)),o}function Eo(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const l=s(n,["imageBytes"]);l!=null&&r(e,["bytesBase64Encoded"],_i(l));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function FA(n){const e={},o=s(n,["maskMode"]);o!=null&&r(e,["maskMode"],o);const l=s(n,["segmentationClasses"]);l!=null&&r(e,["maskClasses"],l);const c=s(n,["maskDilation"]);return c!=null&&r(e,["dilation"],c),e}function $A(n){const e={},o=s(n,["controlType"]);o!=null&&r(e,["controlType"],o);const l=s(n,["enableControlImageComputation"]);return l!=null&&r(e,["computeControl"],l),e}function JA(n){const e={},o=s(n,["styleDescription"]);return o!=null&&r(e,["styleDescription"],o),e}function KA(n){const e={},o=s(n,["subjectType"]);o!=null&&r(e,["subjectType"],o);const l=s(n,["subjectDescription"]);return l!=null&&r(e,["subjectDescription"],l),e}function XA(n){const e={},o=s(n,["referenceImage"]);o!=null&&r(e,["referenceImage"],Eo(o));const l=s(n,["referenceId"]);l!=null&&r(e,["referenceId"],l);const c=s(n,["referenceType"]);c!=null&&r(e,["referenceType"],c);const f=s(n,["maskImageConfig"]);f!=null&&r(e,["maskImageConfig"],FA(f));const m=s(n,["controlImageConfig"]);m!=null&&r(e,["controlImageConfig"],$A(m));const g=s(n,["styleImageConfig"]);g!=null&&r(e,["styleImageConfig"],JA(g));const y=s(n,["subjectImageConfig"]);return y!=null&&r(e,["subjectImageConfig"],KA(y)),e}function QA(n,e){const o={},l=s(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const f=s(n,["numberOfImages"]);e!==void 0&&f!=null&&r(e,["parameters","sampleCount"],f);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const g=s(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const S=s(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&r(e,["parameters","includeSafetyAttributes"],S);const C=s(n,["includeRaiReason"]);e!==void 0&&C!=null&&r(e,["parameters","includeRaiReason"],C);const M=s(n,["language"]);e!==void 0&&M!=null&&r(e,["parameters","language"],M);const N=s(n,["outputMimeType"]);e!==void 0&&N!=null&&r(e,["parameters","outputOptions","mimeType"],N);const L=s(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&r(e,["parameters","outputOptions","compressionQuality"],L);const H=s(n,["addWatermark"]);e!==void 0&&H!=null&&r(e,["parameters","addWatermark"],H);const K=s(n,["editMode"]);e!==void 0&&K!=null&&r(e,["parameters","editMode"],K);const F=s(n,["baseSteps"]);return e!==void 0&&F!=null&&r(e,["parameters","editConfig","baseSteps"],F),o}function ZA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=s(e,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>XA(y))),r(o,["instances[0]","referenceImages"],g)}const m=s(e,["config"]);return m!=null&&r(o,["config"],QA(m,o)),o}function WA(n,e){const o={},l=s(n,["includeRaiReason"]);e!==void 0&&l!=null&&r(e,["parameters","includeRaiReason"],l);const c=s(n,["outputMimeType"]);e!==void 0&&c!=null&&r(e,["parameters","outputOptions","mimeType"],c);const f=s(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&r(e,["parameters","outputOptions","compressionQuality"],f);const m=s(n,["enhanceInputImage"]);e!==void 0&&m!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],m);const g=s(n,["imagePreservationFactor"]);e!==void 0&&g!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const y=s(n,["numberOfImages"]);e!==void 0&&y!=null&&r(e,["parameters","sampleCount"],y);const p=s(n,["mode"]);return e!==void 0&&p!=null&&r(e,["parameters","mode"],p),o}function jA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["image"]);c!=null&&r(o,["instances[0]","image"],Eo(c));const f=s(e,["upscaleFactor"]);f!=null&&r(o,["parameters","upscaleConfig","upscaleFactor"],f);const m=s(e,["config"]);return m!=null&&r(o,["config"],WA(m,o)),o}function e_(n){const e={},o=s(n,["productImage"]);return o!=null&&r(e,["image"],Eo(o)),e}function t_(n,e){const o={},l=s(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const c=s(n,["personImage"]);e!==void 0&&c!=null&&r(e,["instances[0]","personImage","image"],Eo(c));const f=s(n,["productImages"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>e_(g))),r(e,["instances[0]","productImages"],m)}return o}function n_(n,e){const o={},l=s(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=s(n,["baseSteps"]);e!==void 0&&c!=null&&r(e,["parameters","editConfig","baseSteps"],c);const f=s(n,["outputGcsUri"]);e!==void 0&&f!=null&&r(e,["parameters","storageUri"],f);const m=s(n,["seed"]);e!==void 0&&m!=null&&r(e,["parameters","seed"],m);const g=s(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&r(e,["parameters","safetySetting"],g);const y=s(n,["personGeneration"]);e!==void 0&&y!=null&&r(e,["parameters","personGeneration"],y);const p=s(n,["outputMimeType"]);e!==void 0&&p!=null&&r(e,["parameters","outputOptions","mimeType"],p);const v=s(n,["outputCompressionQuality"]);e!==void 0&&v!=null&&r(e,["parameters","outputOptions","compressionQuality"],v);const S=s(n,["enhancePrompt"]);return e!==void 0&&S!=null&&r(e,["parameters","enhancePrompt"],S),o}function i_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["source"]);c!=null&&r(o,["config"],t_(c,o));const f=s(e,["config"]);return f!=null&&r(o,["config"],n_(f,o)),o}function o_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],be(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function l_(n,e,o){const l={},c=s(e,["pageSize"]);o!==void 0&&c!=null&&r(o,["_query","pageSize"],c);const f=s(e,["pageToken"]);o!==void 0&&f!=null&&r(o,["_query","pageToken"],f);const m=s(e,["filter"]);o!==void 0&&m!=null&&r(o,["_query","filter"],m);const g=s(e,["queryBase"]);return o!==void 0&&g!=null&&r(o,["_url","models_url"],Gh(n,g)),l}function a_(n,e){const o={},l=s(e,["config"]);return l!=null&&r(o,["config"],l_(n,l,o)),o}function s_(n,e){const o={},l=s(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const f=s(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&r(e,["defaultCheckpointId"],f),o}function r_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],s_(c,o)),o}function u_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],be(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function c_(n,e){const o={},l=s(n,["systemInstruction"]);e!==void 0&&l!=null&&r(e,["systemInstruction"],Co(St(l)));const c=s(n,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>jh(g))),r(e,["tools"],m)}const f=s(n,["generationConfig"]);return e!==void 0&&f!=null&&r(e,["generationConfig"],f),o}function f_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["contents"]);if(c!=null){let m=Xt(c);Array.isArray(m)&&(m=m.map(g=>Co(g))),r(o,["contents"],m)}const f=s(e,["config"]);return f!=null&&r(o,["config"],c_(f,o)),o}function d_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["contents"]);if(c!=null){let m=Xt(c);Array.isArray(m)&&(m=m.map(g=>Co(g))),r(o,["contents"],m)}const f=s(e,["config"]);return f!=null&&r(o,["config"],f),o}function p_(n){const e={},o=s(n,["uri"]);o!=null&&r(e,["gcsUri"],o);const l=s(n,["videoBytes"]);l!=null&&r(e,["bytesBase64Encoded"],_i(l));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function m_(n,e){const o={},l=s(n,["numberOfVideos"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=s(n,["outputGcsUri"]);e!==void 0&&c!=null&&r(e,["parameters","storageUri"],c);const f=s(n,["fps"]);e!==void 0&&f!=null&&r(e,["parameters","fps"],f);const m=s(n,["durationSeconds"]);e!==void 0&&m!=null&&r(e,["parameters","durationSeconds"],m);const g=s(n,["seed"]);e!==void 0&&g!=null&&r(e,["parameters","seed"],g);const y=s(n,["aspectRatio"]);e!==void 0&&y!=null&&r(e,["parameters","aspectRatio"],y);const p=s(n,["resolution"]);e!==void 0&&p!=null&&r(e,["parameters","resolution"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const S=s(n,["pubsubTopic"]);e!==void 0&&S!=null&&r(e,["parameters","pubsubTopic"],S);const C=s(n,["negativePrompt"]);e!==void 0&&C!=null&&r(e,["parameters","negativePrompt"],C);const M=s(n,["enhancePrompt"]);e!==void 0&&M!=null&&r(e,["parameters","enhancePrompt"],M);const N=s(n,["generateAudio"]);e!==void 0&&N!=null&&r(e,["parameters","generateAudio"],N);const L=s(n,["lastFrame"]);e!==void 0&&L!=null&&r(e,["instances[0]","lastFrame"],Eo(L));const H=s(n,["compressionQuality"]);return e!==void 0&&H!=null&&r(e,["parameters","compressionQuality"],H),o}function h_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=s(e,["image"]);f!=null&&r(o,["instances[0]","image"],Eo(f));const m=s(e,["video"]);m!=null&&r(o,["instances[0]","video"],p_(m));const g=s(e,["config"]);return g!=null&&r(o,["config"],m_(g,o)),o}function g_(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function y_(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function v_(n){const e={},o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function T_(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],g_(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],y_(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],v_(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function S_(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>T_(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function C_(n){const e={},o=s(n,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function E_(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function A_(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>E_(c))),r(e,["urlMetadata"],l)}return e}function __(n){const e={},o=s(n,["content"]);o!=null&&r(e,["content"],S_(o));const l=s(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],C_(l));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const f=s(n,["finishReason"]);f!=null&&r(e,["finishReason"],f);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],A_(m));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const S=s(n,["safetyRatings"]);return S!=null&&r(e,["safetyRatings"],S),e}function rh(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>__(p))),r(e,["candidates"],y)}const c=s(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const f=s(n,["promptFeedback"]);f!=null&&r(e,["promptFeedback"],f);const m=s(n,["responseId"]);m!=null&&r(e,["responseId"],m);const g=s(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function x_(n){const e={},o=s(n,["values"]);return o!=null&&r(e,["values"],o),e}function M_(){return{}}function R_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["embeddings"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>x_(m))),r(e,["embeddings"],f)}return s(n,["metadata"])!=null&&r(e,["metadata"],M_()),e}function N_(n){const e={},o=s(n,["bytesBase64Encoded"]);o!=null&&r(e,["imageBytes"],_i(o));const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function eg(n){const e={},o=s(n,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const l=s(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function w_(n){const e={},o=s(n,["_self"]);o!=null&&r(e,["image"],N_(o));const l=s(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const c=s(n,["_self"]);return c!=null&&r(e,["safetyAttributes"],eg(c)),e}function D_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>w_(m))),r(e,["generatedImages"],f)}const c=s(n,["positivePromptSafetyAttributes"]);return c!=null&&r(e,["positivePromptSafetyAttributes"],eg(c)),e}function b_(n){const e={},o=s(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=s(n,["createTime"]);l!=null&&r(e,["createTime"],l);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function Uu(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const f=s(n,["version"]);f!=null&&r(e,["version"],f);const m=s(n,["_self"]);m!=null&&r(e,["tunedModelInfo"],b_(m));const g=s(n,["inputTokenLimit"]);g!=null&&r(e,["inputTokenLimit"],g);const y=s(n,["outputTokenLimit"]);y!=null&&r(e,["outputTokenLimit"],y);const p=s(n,["supportedGenerationMethods"]);return p!=null&&r(e,["supportedActions"],p),e}function k_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["_self"]);if(c!=null){let f=qh(c);Array.isArray(f)&&(f=f.map(m=>Uu(m))),r(e,["models"],f)}return e}function I_(){return{}}function U_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["totalTokens"]);l!=null&&r(e,["totalTokens"],l);const c=s(n,["cachedContentTokenCount"]);return c!=null&&r(e,["cachedContentTokenCount"],c),e}function L_(n){const e={},o=s(n,["video","uri"]);o!=null&&r(e,["uri"],o);const l=s(n,["video","encodedVideo"]);l!=null&&r(e,["videoBytes"],_i(l));const c=s(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function V_(n){const e={},o=s(n,["_self"]);return o!=null&&r(e,["video"],L_(o)),e}function P_(n){const e={},o=s(n,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>V_(m))),r(e,["generatedVideos"],f)}const l=s(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function G_(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const f=s(n,["error"]);f!=null&&r(e,["error"],f);const m=s(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],P_(m)),e}function q_(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function H_(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function z_(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function B_(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],q_(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],H_(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],z_(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function Y_(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>B_(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function O_(n){const e={},o=s(n,["citations"]);return o!=null&&r(e,["citations"],o),e}function F_(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function $_(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>F_(c))),r(e,["urlMetadata"],l)}return e}function J_(n){const e={},o=s(n,["content"]);o!=null&&r(e,["content"],Y_(o));const l=s(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],O_(l));const c=s(n,["finishMessage"]);c!=null&&r(e,["finishMessage"],c);const f=s(n,["finishReason"]);f!=null&&r(e,["finishReason"],f);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],$_(m));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const S=s(n,["safetyRatings"]);return S!=null&&r(e,["safetyRatings"],S),e}function uh(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["candidates"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>J_(v))),r(e,["candidates"],p)}const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const f=s(n,["modelVersion"]);f!=null&&r(e,["modelVersion"],f);const m=s(n,["promptFeedback"]);m!=null&&r(e,["promptFeedback"],m);const g=s(n,["responseId"]);g!=null&&r(e,["responseId"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function K_(n){const e={},o=s(n,["truncated"]);o!=null&&r(e,["truncated"],o);const l=s(n,["token_count"]);return l!=null&&r(e,["tokenCount"],l),e}function X_(n){const e={},o=s(n,["values"]);o!=null&&r(e,["values"],o);const l=s(n,["statistics"]);return l!=null&&r(e,["statistics"],K_(l)),e}function Q_(n){const e={},o=s(n,["billableCharacterCount"]);return o!=null&&r(e,["billableCharacterCount"],o),e}function Z_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions[]","embeddings"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>X_(m))),r(e,["embeddings"],f)}const c=s(n,["metadata"]);return c!=null&&r(e,["metadata"],Q_(c)),e}function W_(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const l=s(n,["bytesBase64Encoded"]);l!=null&&r(e,["imageBytes"],_i(l));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function tg(n){const e={},o=s(n,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const l=s(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function os(n){const e={},o=s(n,["_self"]);o!=null&&r(e,["image"],W_(o));const l=s(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const c=s(n,["_self"]);c!=null&&r(e,["safetyAttributes"],tg(c));const f=s(n,["prompt"]);return f!=null&&r(e,["enhancedPrompt"],f),e}function j_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>os(m))),r(e,["generatedImages"],f)}const c=s(n,["positivePromptSafetyAttributes"]);return c!=null&&r(e,["positivePromptSafetyAttributes"],tg(c)),e}function ex(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>os(f))),r(e,["generatedImages"],c)}return e}function tx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>os(f))),r(e,["generatedImages"],c)}return e}function nx(n){const e={},o=s(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>os(c))),r(e,["generatedImages"],l)}return e}function ix(n){const e={},o=s(n,["endpoint"]);o!=null&&r(e,["name"],o);const l=s(n,["deployedModelId"]);return l!=null&&r(e,["deployedModelId"],l),e}function ox(n){const e={},o=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&r(e,["baseModel"],o);const l=s(n,["createTime"]);l!=null&&r(e,["createTime"],l);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function lx(n){const e={},o=s(n,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const l=s(n,["epoch"]);l!=null&&r(e,["epoch"],l);const c=s(n,["step"]);return c!=null&&r(e,["step"],c),e}function Lu(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const f=s(n,["versionId"]);f!=null&&r(e,["version"],f);const m=s(n,["deployedModels"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(C=>ix(C))),r(e,["endpoints"],S)}const g=s(n,["labels"]);g!=null&&r(e,["labels"],g);const y=s(n,["_self"]);y!=null&&r(e,["tunedModelInfo"],ox(y));const p=s(n,["defaultCheckpointId"]);p!=null&&r(e,["defaultCheckpointId"],p);const v=s(n,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(C=>lx(C))),r(e,["checkpoints"],S)}return e}function ax(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["_self"]);if(c!=null){let f=qh(c);Array.isArray(f)&&(f=f.map(m=>Lu(m))),r(e,["models"],f)}return e}function sx(){return{}}function rx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["totalTokens"]);return l!=null&&r(e,["totalTokens"],l),e}function ux(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["tokensInfo"]);return l!=null&&r(e,["tokensInfo"],l),e}function cx(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["uri"],o);const l=s(n,["bytesBase64Encoded"]);l!=null&&r(e,["videoBytes"],_i(l));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function fx(n){const e={},o=s(n,["_self"]);return o!=null&&r(e,["video"],cx(o)),e}function dx(n){const e={},o=s(n,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>fx(m))),r(e,["generatedVideos"],f)}const l=s(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function px(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const f=s(n,["error"]);f!=null&&r(e,["error"],f);const m=s(n,["response"]);return m!=null&&r(e,["response"],dx(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mx="Content-Type",hx="X-Server-Timeout",gx="User-Agent",Vu="x-goog-api-client",yx="1.13.0",vx=`google-genai-sdk/${yx}`,Tx="v1beta1",Sx="v1beta",ch=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Cx{constructor(e){var o,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Tx,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:Sx,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,l){const c=[this.getRequestUrlInternal(o)];return l&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,l);if(e.queryParams)for(const[m,g]of Object.entries(e.queryParams))c.searchParams.append(m,String(g));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,e.abortSignal),this.unaryApiCall(c,f,e.httpMethod)}patchHttpOptions(e,o){const l=JSON.parse(JSON.stringify(e));for(const[c,f]of Object.entries(o))typeof f=="object"?l[c]=Object.assign(Object.assign({},l[c]),f):f!==void 0&&(l[c]=f);return l}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,l);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,e.abortSignal),this.streamApiCall(c,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,l){if(o&&o.timeout||l){const c=new AbortController,f=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const m=setTimeout(()=>c.abort(),o.timeout);m&&typeof m.unref=="function"&&m.unref()}l&&l.addEventListener("abort",()=>{c.abort()}),e.signal=f}return o&&o.extraBody!==null&&Ex(e,o.extraBody),e.headers=await this.getHeadersInternal(o),e}async unaryApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async c=>(await fh(c),new Nu(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async c=>(await fh(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var o;return go(this,arguments,function*(){const c=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),f=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield Je(c.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=f.decode(y,{stream:!0});try{const S=JSON.parse(p);if("error"in S){const C=JSON.parse(JSON.stringify(S.error)),M=C.status,N=C.code,L=`got status: ${M}. ${JSON.stringify(S)}`;if(N>=400&&N<600)throw new ns({message:L,status:N})}}catch(S){if(S.name==="ApiError")throw S}m+=p;let v=m.match(ch);for(;v;){const S=v[1];try{const C=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Je(new Nu(C)),m=m.slice(v[0].length),v=m.match(ch)}catch(C){throw new Error(`exception parsing stream chunk ${S}. ${C}`)}}}}finally{c.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},o=vx+" "+this.clientOptions.userAgentExtra;return e[gx]=o,e[Vu]=o,e[mx]="application/json",e}async getHeadersInternal(e){const o=new Headers;if(e&&e.headers){for(const[l,c]of Object.entries(e.headers))o.append(l,c);e.timeout&&e.timeout>0&&o.append(hx,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o),o}async uploadFile(e,o){var l;const c={};o!=null&&(c.mimeType=o.mimeType,c.name=o.name,c.displayName=o.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const f=this.clientOptions.uploader,m=await f.stat(e);c.sizeBytes=String(m.size);const g=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=g;const y=await this.fetchUploadUrl(c,o);return f.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o){var l;let c={};o!=null&&o.httpOptions?c=o.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const f={file:e},m=await this.request({path:j("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:c});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(l=m==null?void 0:m.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function fh(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const c=JSON.stringify(l);throw o>=400&&o<600?new ns({message:c,status:o}):new Error(c)}}function Ex(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const f=JSON.parse(n.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(f,m){const g=Object.assign({},f);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const p=m[y],v=g[y];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=l(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),g[y]=p)}return g}const c=l(o,e);n.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ax="mcp_used/unknown";let _x=!1;function ng(n){for(const e of n)if(xx(e)||typeof e=="object"&&"inputSchema"in e)return!0;return _x}function ig(n){var e;const o=(e=n[Vu])!==null&&e!==void 0?e:"";n[Vu]=(o+` ${Ax}`).trimStart()}function xx(n){return n!==null&&typeof n=="object"&&n instanceof $u}function Mx(n,e=100){return go(this,arguments,function*(){let l,c=0;for(;c<e;){const f=yield Je(n.listTools({cursor:l}));for(const m of f.tools)yield yield Je(m),c++;if(!f.nextCursor)break;l=f.nextCursor}})}class $u{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new $u(e,o)}async initialize(){var e,o,l,c;if(this.mcpTools.length>0)return;const f={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,Ml(Mx(v))),p;p=await y.next(),e=p.done,!e;g=!0){c=p.value,g=!1;const S=c;m.push(S);const C=S.name;if(f[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);f[C]=v}}catch(S){o={error:S}}finally{try{!g&&!e&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),g0(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[l.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const m=await c.callTool({name:l.name,arguments:l.args},void 0,f);o.push({functionResponse:{name:l.name,response:m.isError?{error:m}:m}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Rx(n,e,o){const l=new r0;let c;o.data instanceof Blob?c=JSON.parse(await o.data.text()):c=JSON.parse(o.data);const f=gE(c);Object.assign(l,f),e(l)}class Nx{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l}async connect(e){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),m=bx(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let p=()=>{};const v=new Promise(Y=>{p=Y}),S=e.callbacks,C=function(){p({})},M=this.apiClient,N={onopen:C,onmessage:Y=>{Rx(M,S.onmessage,Y)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(Y){},onclose:(l=S==null?void 0:S.onclose)!==null&&l!==void 0?l:function(Y){}},L=this.webSocketFactory.create(y,Dx(m),N);L.connect(),await v;const H=be(this.apiClient,e.model),K=Qh({model:H}),F=Iu({setup:K});return L.send(JSON.stringify(F)),new wx(L,this.apiClient)}}class wx{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=mC(e),l=Zh(o);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=hC(e),l=Iu(o);this.conn.send(JSON.stringify(l))}sendPlaybackControl(e){const o=Iu({playbackControl:e});this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(mo.PLAY)}pause(){this.sendPlaybackControl(mo.PAUSE)}stop(){this.sendPlaybackControl(mo.STOP)}resetContext(){this.sendPlaybackControl(mo.RESET_CONTEXT)}close(){this.conn.close()}}function Dx(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function bx(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kx="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Ix(n,e,o){const l=new s0;let c;o.data instanceof Blob?c=await o.data.text():o.data instanceof ArrayBuffer?c=new TextDecoder().decode(o.data):c=o.data;const f=JSON.parse(c);if(n.isVertexAI()){const m=DE(f);Object.assign(l,m)}else{const m=sE(f);Object.assign(l,m)}e(l)}class Ux{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l,this.music=new Nx(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,l,c,f,m,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&ng(e.config.tools)&&ig(S);const C=Gx(S);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C);else{const ne=this.apiClient.getApiKey();let ye="BidiGenerateContent",te="key";ne!=null&&ne.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ye="BidiGenerateContentConstrained",te="access_token"),v=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ye}?${te}=${ne}`}let M=()=>{};const N=new Promise(ne=>{M=ne}),L=e.callbacks,H=function(){var ne;(ne=L==null?void 0:L.onopen)===null||ne===void 0||ne.call(L),M({})},K=this.apiClient,F={onopen:H,onmessage:ne=>{Ix(K,L.onmessage,ne)},onerror:(o=L==null?void 0:L.onerror)!==null&&o!==void 0?o:function(ne){},onclose:(l=L==null?void 0:L.onclose)!==null&&l!==void 0?l:function(ne){}},Y=this.webSocketFactory.create(v,Px(C),F);Y.connect(),await N;let W=be(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&W.startsWith("publishers/")){const ne=this.apiClient.getProject(),ye=this.apiClient.getLocation();W=`projects/${ne}/locations/${ye}/`+W}let B={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Qa.AUDIO]}:e.config.responseModalities=[Qa.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const se=(g=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],Z=[];for(const ne of se)if(this.isCallableTool(ne)){const ye=ne;Z.push(await ye.tool())}else Z.push(ne);Z.length>0&&(e.config.tools=Z);const Ce={model:W,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?B=BC(this.apiClient,Ce):B=cC(this.apiClient,Ce),delete B.config,Y.send(JSON.stringify(B)),new Vx(Y,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Lx={turnComplete:!0};class Vx{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=Xt(o.turns),e.isVertexAI()?l=l.map(c=>Co(c)):l=l.map(c=>is(c))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const f of l){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(kx)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},Lx),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:FC(e)}:o={realtimeInput:pC(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function Px(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function Gx(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dh=10;function ph(n){var e,o,l;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const m of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(yo(m)){c=!0;break}if(!c)return!0;const f=(l=n==null?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function yo(n){return"callTool"in n&&typeof n.callTool=="function"}function qx(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>yo(c)))!==null&&l!==void 0?l:!1}function Hx(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>!yo(c)))!==null&&l!==void 0?l:!1}function mh(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zx extends Ai{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var l,c,f,m,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!qx(o)||ph(o.config))return await this.generateContentInternal(y);if(Hx(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const S=Xt(y.contents),C=(f=(c=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&f!==void 0?f:dh;let M=0;for(;M<C&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const N=p.candidates[0].content,L=[];for(const H of(g=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(yo(H)){const F=await H.callTool(p.functionCalls);L.push(...F)}M++,v={role:"user",parts:L},y.contents=Xt(y.contents),y.contents.push(N),y.contents.push(v),mh(y.config)&&(S.push(N),S.push(v))}return mh(y.config)&&(p.automaticFunctionCallingHistory=S),p},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),ph(o.config)){const l=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(l)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var c;let f;const m=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((c=y==null?void 0:y.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:m.push(y);let g;return f?g={generatedImages:m,positivePromptSafetyAttributes:f,sdkHttpResponse:l.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:l.sdkHttpResponse},g}),this.list=async o=>{var l;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((l=m.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Nl(Ci.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const c={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(c)},this.generateVideos=async o=>await this.generateVideosInternal(o)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,l,c;const f=(o=e.config)===null||o===void 0?void 0:o.tools;if(!f)return e;const m=await Promise.all(f.map(async y=>yo(y)?await y.tool():y)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(g.config.tools=m,e.config&&e.config.tools&&ng(e.config.tools)){const y=(c=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&c!==void 0?c:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),ig(p),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return g}async initAfcToolsMap(e){var o,l,c;const f=new Map;for(const m of(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(yo(m)){const g=m,y=await g.tool();for(const p of(c=y.functionDeclarations)!==null&&c!==void 0?c:[]){if(!p.name)throw new Error("Function declaration name is required.");if(f.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);f.set(p.name,g)}}return f}async processAfcStream(e){var o,l,c;const f=(c=(l=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&c!==void 0?c:dh;let m=!1,g=0;const y=await this.initAfcToolsMap(e);return function(p,v,S){var C,M;return go(this,arguments,function*(){for(var N,L,H,K;g<f;){m&&(g++,m=!1);const B=yield Je(p.processParamsMaybeAddMcpUsage(S)),se=yield Je(p.generateContentStreamInternal(B)),Z=[],Ce=[];try{for(var F=!0,Y=(L=void 0,Ml(se)),W;W=yield Je(Y.next()),N=W.done,!N;F=!0){K=W.value,F=!1;const ne=K;if(yield yield Je(ne),ne.candidates&&(!((C=ne.candidates[0])===null||C===void 0)&&C.content)){Ce.push(ne.candidates[0].content);for(const ye of(M=ne.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(g<f&&ye.functionCall){if(!ye.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ye.functionCall.name)){const te=yield Je(v.get(ye.functionCall.name).callTool([ye.functionCall]));Z.push(...te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ye.functionCall.name}`)}}}}catch(ne){L={error:ne}}finally{try{!F&&!N&&(H=Y.return)&&(yield Je(H.call(Y)))}finally{if(L)throw L.error}}if(Z.length>0){m=!0;const ne=new Al;ne.candidates=[{content:{role:"user",parts:Z}}],yield yield Je(ne);const ye=[];ye.push(...Ce),ye.push({role:"user",parts:Z});const te=Xt(S.contents).concat(ye);S.contents=te}else break}})}(this,y,e)}async generateContentInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=sh(this.apiClient,e);return g=j("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=uh(v),C=new Al;return Object.assign(C,S),C})}else{const p=ah(this.apiClient,e);return g=j("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=rh(v),C=new Al;return Object.assign(C,S),C})}}async generateContentStreamInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=sh(this.apiClient,e);return g=j("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),m.then(function(S){return go(this,arguments,function*(){var C,M,N,L;try{for(var H=!0,K=Ml(S),F;F=yield Je(K.next()),C=F.done,!C;H=!0){L=F.value,H=!1;const Y=L,W=uh(yield Je(Y.json()));W.sdkHttpResponse={headers:Y.headers};const B=new Al;Object.assign(B,W),yield yield Je(B)}}catch(Y){M={error:Y}}finally{try{!H&&!C&&(N=K.return)&&(yield Je(N.call(K)))}finally{if(M)throw M.error}}})})}else{const p=ah(this.apiClient,e);return g=j("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),m.then(function(S){return go(this,arguments,function*(){var C,M,N,L;try{for(var H=!0,K=Ml(S),F;F=yield Je(K.next()),C=F.done,!C;H=!0){L=F.value,H=!1;const Y=L,W=rh(yield Je(Y.json()));W.sdkHttpResponse={headers:Y.headers};const B=new Al;Object.assign(B,W),yield yield Je(B)}}catch(Y){M={error:Y}}finally{try{!H&&!C&&(N=K.return)&&(yield Je(N.call(K)))}finally{if(M)throw M.error}}})})}}async embedContent(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=BA(this.apiClient,e);return g=j("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=Z_(v),C=new qm;return Object.assign(C,S),C})}else{const p=tA(this.apiClient,e);return g=j("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=R_(v),C=new qm;return Object.assign(C,S),C})}}async generateImagesInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=OA(this.apiClient,e);return g=j("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=j_(v),C=new Hm;return Object.assign(C,S),C})}else{const p=iA(this.apiClient,e);return g=j("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=D_(v),C=new Hm;return Object.assign(C,S),C})}}async editImageInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=ZA(this.apiClient,e);return f=j("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=ex(y),v=new e0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=jA(this.apiClient,e);return f=j("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=tx(y),v=new t0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=i_(this.apiClient,e);return f=j("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const p=nx(y),v=new n0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=o_(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Lu(v))}else{const p=oA(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Uu(v))}}async listInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=a_(this.apiClient,e);return g=j("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=ax(v),C=new zm;return Object.assign(C,S),C})}else{const p=aA(this.apiClient,e);return g=j("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=k_(v),C=new zm;return Object.assign(C,S),C})}}async update(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=r_(this.apiClient,e);return g=j("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Lu(v))}else{const p=rA(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Uu(v))}}async delete(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=u_(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(()=>{const v=sx(),S=new Bm;return Object.assign(S,v),S})}else{const p=uA(this.apiClient,e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(()=>{const v=I_(),S=new Bm;return Object.assign(S,v),S})}}async countTokens(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=f_(this.apiClient,e);return g=j("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=rx(v),C=new Ym;return Object.assign(C,S),C})}else{const p=fA(this.apiClient,e);return g=j("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=U_(v),C=new Ym;return Object.assign(C,S),C})}}async computeTokens(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=d_(this.apiClient,e);return f=j("{model}:computeTokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=ux(y),v=new i0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=h_(this.apiClient,e);return g=j("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const S=px(v),C=new Za;return Object.assign(C,S),C})}else{const p=mA(this.apiClient,e);return g=j("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const S=G_(v),C=new Za;return Object.assign(C,S),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bx(n){const e={},o=s(n,["operationName"]);o!=null&&r(e,["_url","operationName"],o);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function Yx(n){const e={},o=s(n,["operationName"]);o!=null&&r(e,["_url","operationName"],o);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function Ox(n){const e={},o=s(n,["operationName"]);o!=null&&r(e,["operationName"],o);const l=s(n,["resourceName"]);l!=null&&r(e,["_url","resourceName"],l);const c=s(n,["config"]);return c!=null&&r(e,["config"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fx extends Ai{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let f;l&&"httpOptions"in l&&(f=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async get(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let f;l&&"httpOptions"in l&&(f=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async getVideosOperationInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=Yx(e);return g=j("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m}else{const p=Bx(e);return g=j("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=Ox(e);return f=j("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $x(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function og(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],$x(o)),e}function Jx(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],og(l)),e}function Kx(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Jx(c))),r(e,["speakerVoiceConfigs"],l)}return e}function Xx(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],og(o));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],Kx(l));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function Qx(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function Zx(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Wx(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function jx(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],Qx(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],Zx(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],Wx(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function eM(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>jx(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function tM(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const f=s(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function nM(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function iM(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],nM(o)),e}function oM(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function lM(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],oM(o)),e}function aM(){return{}}function sM(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>tM(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],iM(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],lM(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],aM());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function rM(n){const e={},o=s(n,["handle"]);if(o!=null&&r(e,["handle"],o),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function hh(){return{}}function uM(n){const e={},o=s(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=s(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const f=s(n,["prefixPaddingMs"]);f!=null&&r(e,["prefixPaddingMs"],f);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function cM(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],uM(o));const l=s(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function fM(n){const e={},o=s(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function dM(n){const e={},o=s(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=s(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],fM(l)),e}function pM(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function mM(n,e){const o={},l=s(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const f=s(n,["temperature"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","temperature"],f);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const S=s(n,["speechConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","speechConfig"],Xx(Fu(S)));const C=s(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],C);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],eM(St(M)));const N=s(n,["tools"]);if(e!==void 0&&N!=null){let B=To(N);Array.isArray(B)&&(B=B.map(se=>sM(vo(se)))),r(e,["setup","tools"],B)}const L=s(n,["sessionResumption"]);e!==void 0&&L!=null&&r(e,["setup","sessionResumption"],rM(L));const H=s(n,["inputAudioTranscription"]);e!==void 0&&H!=null&&r(e,["setup","inputAudioTranscription"],hh());const K=s(n,["outputAudioTranscription"]);e!==void 0&&K!=null&&r(e,["setup","outputAudioTranscription"],hh());const F=s(n,["realtimeInputConfig"]);e!==void 0&&F!=null&&r(e,["setup","realtimeInputConfig"],cM(F));const Y=s(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&r(e,["setup","contextWindowCompression"],dM(Y));const W=s(n,["proactivity"]);return e!==void 0&&W!=null&&r(e,["setup","proactivity"],pM(W)),o}function hM(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["setup","model"],be(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],mM(c,o)),o}function gM(n,e,o){const l={},c=s(e,["expireTime"]);o!==void 0&&c!=null&&r(o,["expireTime"],c);const f=s(e,["newSessionExpireTime"]);o!==void 0&&f!=null&&r(o,["newSessionExpireTime"],f);const m=s(e,["uses"]);o!==void 0&&m!=null&&r(o,["uses"],m);const g=s(e,["liveConnectConstraints"]);o!==void 0&&g!=null&&r(o,["bidiGenerateContentSetup"],hM(n,g));const y=s(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&r(o,["fieldMask"],y),l}function yM(n,e){const o={},l=s(e,["config"]);return l!=null&&r(o,["config"],gM(n,l,o)),o}function vM(n){const e={},o=s(n,["name"]);return o!=null&&r(e,["name"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TM(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const l=n[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const c=Object.keys(l).map(f=>`${o}.${f}`);e.push(...c)}else e.push(o)}return e.join(",")}function SM(n,e){let o=null;const l=n.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const f=l.setup;typeof f=="object"&&f!==null?(n.bidiGenerateContentSetup=f,o=f):delete n.bidiGenerateContentSetup}else l!==void 0&&delete n.bidiGenerateContentSetup;const c=n.fieldMask;if(o){const f=TM(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)f?n.fieldMask=f:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];c.length>0&&(g=c.map(p=>m.includes(p)?`generationConfig.${p}`:p));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?n.fieldMask=c.join(","):delete n.fieldMask;return n}class CM extends Ai{constructor(e){super(),this.apiClient=e}async create(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=yM(this.apiClient,e);f=j("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=SM(g,e.config);return c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),c.then(p=>vM(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EM(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","name"],o);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function AM(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const f=s(n,["filter"]);return e!==void 0&&f!=null&&r(e,["_query","filter"],f),o}function _M(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],AM(o,e)),e}function xM(n){const e={},o=s(n,["textInput"]);o!=null&&r(e,["textInput"],o);const l=s(n,["output"]);return l!=null&&r(e,["output"],l),e}function MM(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(n,["examples"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>xM(c))),r(e,["examples","examples"],l)}return e}function RM(n,e){const o={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=s(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&r(e,["displayName"],l),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=s(n,["epochCount"]);e!==void 0&&c!=null&&r(e,["tuningTask","hyperparameters","epochCount"],c);const f=s(n,["learningRateMultiplier"]);if(f!=null&&r(o,["tuningTask","hyperparameters","learningRateMultiplier"],f),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=s(n,["batchSize"]);e!==void 0&&m!=null&&r(e,["tuningTask","hyperparameters","batchSize"],m);const g=s(n,["learningRate"]);return e!==void 0&&g!=null&&r(e,["tuningTask","hyperparameters","learningRate"],g),o}function NM(n){const e={},o=s(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=s(n,["trainingDataset"]);l!=null&&r(e,["tuningTask","trainingData"],MM(l));const c=s(n,["config"]);return c!=null&&r(e,["config"],RM(c,e)),e}function wM(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","name"],o);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function DM(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const f=s(n,["filter"]);return e!==void 0&&f!=null&&r(e,["_query","filter"],f),o}function bM(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],DM(o,e)),e}function kM(n,e){const o={},l=s(n,["gcsUri"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],l);const c=s(n,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function IM(n,e){const o={},l=s(n,["gcsUri"]);l!=null&&r(o,["validationDatasetUri"],l);const c=s(n,["vertexDatasetResource"]);return e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),o}function UM(n,e){const o={},l=s(n,["validationDataset"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec"],IM(l,o));const c=s(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&r(e,["tunedModelDisplayName"],c);const f=s(n,["description"]);e!==void 0&&f!=null&&r(e,["description"],f);const m=s(n,["epochCount"]);e!==void 0&&m!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const g=s(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const y=s(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const p=s(n,["adapterSize"]);if(e!==void 0&&p!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function LM(n){const e={},o=s(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=s(n,["trainingDataset"]);l!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],kM(l,e));const c=s(n,["config"]);return c!=null&&r(e,["config"],UM(c,e)),e}function VM(n){const e={},o=s(n,["name"]);o!=null&&r(e,["model"],o);const l=s(n,["name"]);return l!=null&&r(e,["endpoint"],l),e}function lg(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["state"]);c!=null&&r(e,["state"],Vh(c));const f=s(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=s(n,["tuningTask","startTime"]);m!=null&&r(e,["startTime"],m);const g=s(n,["tuningTask","completeTime"]);g!=null&&r(e,["endTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["description"]);p!=null&&r(e,["description"],p);const v=s(n,["baseModel"]);v!=null&&r(e,["baseModel"],v);const S=s(n,["_self"]);S!=null&&r(e,["tunedModel"],VM(S));const C=s(n,["distillationSpec"]);C!=null&&r(e,["distillationSpec"],C);const M=s(n,["experiment"]);M!=null&&r(e,["experiment"],M);const N=s(n,["labels"]);N!=null&&r(e,["labels"],N);const L=s(n,["pipelineJob"]);L!=null&&r(e,["pipelineJob"],L);const H=s(n,["satisfiesPzi"]);H!=null&&r(e,["satisfiesPzi"],H);const K=s(n,["satisfiesPzs"]);K!=null&&r(e,["satisfiesPzs"],K);const F=s(n,["serviceAccount"]);F!=null&&r(e,["serviceAccount"],F);const Y=s(n,["tunedModelDisplayName"]);return Y!=null&&r(e,["tunedModelDisplayName"],Y),e}function PM(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["tunedModels"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>lg(m))),r(e,["tuningJobs"],f)}return e}function GM(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["metadata"]);c!=null&&r(e,["metadata"],c);const f=s(n,["done"]);f!=null&&r(e,["done"],f);const m=s(n,["error"]);return m!=null&&r(e,["error"],m),e}function qM(n){const e={},o=s(n,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const l=s(n,["epoch"]);l!=null&&r(e,["epoch"],l);const c=s(n,["step"]);c!=null&&r(e,["step"],c);const f=s(n,["endpoint"]);return f!=null&&r(e,["endpoint"],f),e}function HM(n){const e={},o=s(n,["model"]);o!=null&&r(e,["model"],o);const l=s(n,["endpoint"]);l!=null&&r(e,["endpoint"],l);const c=s(n,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>qM(m))),r(e,["checkpoints"],f)}return e}function Pu(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["state"]);c!=null&&r(e,["state"],Vh(c));const f=s(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=s(n,["startTime"]);m!=null&&r(e,["startTime"],m);const g=s(n,["endTime"]);g!=null&&r(e,["endTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["error"]);p!=null&&r(e,["error"],p);const v=s(n,["description"]);v!=null&&r(e,["description"],v);const S=s(n,["baseModel"]);S!=null&&r(e,["baseModel"],S);const C=s(n,["tunedModel"]);C!=null&&r(e,["tunedModel"],HM(C));const M=s(n,["supervisedTuningSpec"]);M!=null&&r(e,["supervisedTuningSpec"],M);const N=s(n,["tuningDataStats"]);N!=null&&r(e,["tuningDataStats"],N);const L=s(n,["encryptionSpec"]);L!=null&&r(e,["encryptionSpec"],L);const H=s(n,["partnerModelTuningSpec"]);H!=null&&r(e,["partnerModelTuningSpec"],H);const K=s(n,["distillationSpec"]);K!=null&&r(e,["distillationSpec"],K);const F=s(n,["experiment"]);F!=null&&r(e,["experiment"],F);const Y=s(n,["labels"]);Y!=null&&r(e,["labels"],Y);const W=s(n,["pipelineJob"]);W!=null&&r(e,["pipelineJob"],W);const B=s(n,["satisfiesPzi"]);B!=null&&r(e,["satisfiesPzi"],B);const se=s(n,["satisfiesPzs"]);se!=null&&r(e,["satisfiesPzs"],se);const Z=s(n,["serviceAccount"]);Z!=null&&r(e,["serviceAccount"],Z);const Ce=s(n,["tunedModelDisplayName"]);return Ce!=null&&r(e,["tunedModelDisplayName"],Ce),e}function zM(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["tuningJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Pu(m))),r(e,["tuningJobs"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BM extends Ai{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Nl(Ci.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.tune=async o=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(o);{const l=await this.tuneMldevInternal(o);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:Ru.JOB_STATE_QUEUED}}}}async getInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=wM(e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>Pu(v))}else{const p=EM(e);return g=j("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>lg(v))}}async listInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=bM(e);return g=j("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=zM(v),C=new Fm;return Object.assign(C,S),C})}else{const p=_M(e);return g=j("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=PM(v),C=new Fm;return Object.assign(C,S),C})}}async tuneInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=LM(e);return f=j("tuningJobs",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>Pu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=NM(e);return f=j("tunedModels",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>GM(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YM{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const OM=1024*1024*8,FM=3,$M=1e3,JM=2,_u="x-goog-upload-status";async function KM(n,e,o){var l,c,f;let m=0,g=0,y=new Nu(new Response),p="upload";for(m=n.size;g<m;){const S=Math.min(OM,m-g),C=n.slice(g,g+S);g+S>=m&&(p+=", finalize");let M=0,N=$M;for(;M<FM&&(y=await o.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(g),"Content-Length":String(S)}}}),!(!((l=y==null?void 0:y.headers)===null||l===void 0)&&l[_u]));)M++,await QM(N),N=N*JM;if(g+=S,((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[_u])!=="active")break;if(m<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((f=y==null?void 0:y.headers)===null||f===void 0?void 0:f[_u])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function XM(n){return{size:n.size,type:n.type}}function QM(n){return new Promise(e=>setTimeout(e,n))}class ZM{async upload(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await KM(e,o,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await XM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WM{create(e,o,l){return new jM(e,o,l)}}class jM{constructor(e,o,l){this.url=e,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gh="x-goog-api-key";class eR{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(gh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(gh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tR="gl-node/";class nR{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const l=jv(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion;const c=new eR(this.apiKey);this.apiClient=new Cx({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:tR+"web",uploader:new ZM,downloader:new YM}),this.models=new zx(this.apiClient),this.live=new Ux(this.apiClient,c,new WM),this.batches=new AT(this.apiClient),this.chats=new RS(this.models,this.apiClient),this.caches=new _S(this.apiClient),this.files=new HS(this.apiClient),this.operations=new Fx(this.apiClient),this.authTokens=new CM(this.apiClient),this.tunings=new BM(this.apiClient)}}let Dt=null;const iR=n=>{if(!n||!n.startsWith("AIza"))return Dt&&(Dt=null),!1;try{return Dt=new nR({apiKey:n}),!0}catch(e){return console.error("Failed to initialize GoogleGenAI with provided key:",e),Dt=null,!1}},Oa=()=>!!Dt,oR=async(n,e)=>{var o,l;if(!Dt)throw new Error("Gemini AI SDK not initialized or API key is invalid. Please configure it in settings.");try{const c=await Dt.models.generateContent({model:wh,contents:[{role:"user",parts:[{text:n}]}],config:{systemInstruction:{role:"system",parts:[{text:e}]},temperature:.8,maxOutputTokens:2048,safetySettings:[{category:pn.HARM_CATEGORY_HARASSMENT,threshold:mn.BLOCK_MEDIUM_AND_ABOVE},{category:pn.HARM_CATEGORY_HATE_SPEECH,threshold:mn.BLOCK_MEDIUM_AND_ABOVE},{category:pn.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:mn.BLOCK_MEDIUM_AND_ABOVE},{category:pn.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:mn.BLOCK_MEDIUM_AND_ABOVE}]}}),f=c.text;if(typeof f=="string")return f;{if(console.error("Gemini API response.text was not a string. Full response:",JSON.stringify(c,null,2)),(o=c==null?void 0:c.promptFeedback)!=null&&o.blockReason)throw new Error(`Prompt was blocked. Reason: ${c.promptFeedback.blockReason}${c.promptFeedback.blockReasonMessage?" - "+c.promptFeedback.blockReasonMessage:""}`);const m=(l=c==null?void 0:c.candidates)==null?void 0:l[0];if((m==null?void 0:m.finishReason)==="SAFETY"){const g=m.safetyRatings;let y=g==null?void 0:g.filter(p=>p.probability!=="NEGLIGIBLE"&&p.probability!=="LOW").map(p=>p.category.replace("HARM_CATEGORY_","")).join(", ");throw new Error(`Response blocked by safety filters. Categories: ${y||"Content policy"}.`)}throw(m==null?void 0:m.finishReason)==="OTHER"||(m==null?void 0:m.finishReason)==="RECITATION"||!m?new Error(`Gemini API returned an empty or malformed response. Reason: ${(m==null?void 0:m.finishReason)||"Unknown/No Candidate"}.`):new Error("Gemini API returned an invalid or unexpected text response structure.")}}catch(c){console.error("Error calling Gemini API (non-streaming):",c);const f=c instanceof Error?c.message:String(c);throw f.includes("API key not valid")||f.includes("API_KEY_INVALID")||f.includes("permission_denied")?new Error("The provided Gemini API key is invalid or lacks permissions. Please check it in settings."):c}};async function*yh(n,e,o){var c,f;if(!Dt)throw new Error("Gemini AI SDK not initialized. Please configure it in settings.");const l=[];o&&o.length>0&&l.push(...o),l.push({text:n});try{const m=await Dt.models.generateContentStream({model:wh,contents:[{role:"user",parts:l}],config:{systemInstruction:{role:"system",parts:[{text:e}]},temperature:.8,maxOutputTokens:2048,safetySettings:[{category:pn.HARM_CATEGORY_HARASSMENT,threshold:mn.BLOCK_MEDIUM_AND_ABOVE},{category:pn.HARM_CATEGORY_HATE_SPEECH,threshold:mn.BLOCK_MEDIUM_AND_ABOVE},{category:pn.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:mn.BLOCK_MEDIUM_AND_ABOVE},{category:pn.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:mn.BLOCK_MEDIUM_AND_ABOVE}]}});for await(const g of m){if((c=g==null?void 0:g.promptFeedback)!=null&&c.blockReason)throw new Error(`Stream blocked by Gemini. Reason: ${g.promptFeedback.blockReason}${g.promptFeedback.blockReasonMessage?" - "+g.promptFeedback.blockReasonMessage:""}.`);const y=(f=g==null?void 0:g.candidates)==null?void 0:f[0];if((y==null?void 0:y.finishReason)==="SAFETY"){const p=y.safetyRatings;let v=p==null?void 0:p.filter(S=>S.probability!=="NEGLIGIBLE"&&S.probability!=="LOW").map(S=>S.category.replace("HARM_CATEGORY_","")).join(", ");throw new Error(`Stream ended by Gemini's safety filters. Categories: ${v||"Content policy"}.`)}if(!g.text&&((y==null?void 0:y.finishReason)==="OTHER"||(y==null?void 0:y.finishReason)==="RECITATION"))throw new Error(`Gemini stream ended unexpectedly or provided empty content. Reason: ${y==null?void 0:y.finishReason}.`);yield g}}catch(m){console.error("Error during Gemini API stream:",m);const g=m instanceof Error?m.message:String(m);throw g.includes("API key not valid")||g.includes("API_KEY_INVALID")||g.includes("permission_denied")?new Error("The provided Gemini API key is invalid or lacks permissions. Please check it in settings."):new Error(`Gemini API streaming error: ${g}`)}}const lR=async n=>{if(!Dt)throw new Error("Gemini AI SDK not initialized.");try{return await Dt.models.generateImages({model:"imagen-3.0-generate-002",prompt:n})}catch(e){throw console.error("Error calling Imagen API:",e),e}},aR=async(n,e)=>{if(!Dt)throw new Error("Gemini AI SDK not initialized.");try{let o=await Dt.models.generateVideos({model:"veo-3.0-generate-preview",prompt:n,image:e});for(;!o.done;)await new Promise(l=>setTimeout(l,1e4)),o=await Dt.operations.get(o);return o.response.generatedVideos[0]}catch(o){throw console.error("Error calling Veo API:",o),o}};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rR=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,l)=>l?l.toUpperCase():o.toLowerCase()),vh=n=>{const e=rR(n);return e.charAt(0).toUpperCase()+e.slice(1)},ag=(...n)=>n.filter((e,o,l)=>!!e&&e.trim()!==""&&l.indexOf(e)===o).join(" ").trim(),uR=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=fe.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:f,iconNode:m,...g},y)=>fe.createElement("svg",{ref:y,...cR,width:e,height:e,stroke:n,strokeWidth:l?Number(o)*24/Number(e):o,className:ag("lucide",c),...!f&&!uR(g)&&{"aria-hidden":"true"},...g},[...m.map(([p,v])=>fe.createElement(p,v)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(n,e)=>{const o=fe.forwardRef(({className:l,...c},f)=>fe.createElement(fR,{ref:f,iconNode:e,className:ag(`lucide-${sR(vh(n))}`,`lucide-${n}`,l),...c}));return o.displayName=vh(n),o};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],sg=Qe("bot",dR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],mR=Qe("camera",pR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gR=Qe("check",hR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vR=Qe("chevron-up",yR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],SR=Qe("circle-x",TR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ER=Qe("copy",CR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M10 11h.01",key:"d2at3l"}],["path",{d:"M14 6h.01",key:"k028ub"}],["path",{d:"M18 6h.01",key:"1v4wsw"}],["path",{d:"M6.5 13.1h.01",key:"1748ia"}],["path",{d:"M22 5c0 9-4 12-6 12s-6-3-6-12c0-2 2-3 6-3s6 1 6 3",key:"172yzv"}],["path",{d:"M17.4 9.9c-.8.8-2 .8-2.8 0",key:"1obv0w"}],["path",{d:"M10.1 7.1C9 7.2 7.7 7.7 6 8.6c-3.5 2-4.7 3.9-3.7 5.6 4.5 7.8 9.5 8.4 11.2 7.4.9-.5 1.9-2.1 1.9-4.7",key:"rqjl8i"}],["path",{d:"M9.1 16.5c.3-1.1 1.4-1.7 2.4-1.4",key:"1mr6wy"}]],_R=Qe("drama",AR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],MR=Qe("image-off",xR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],NR=Qe("library",RR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],DR=Qe("loader-circle",wR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],kR=Qe("moon",bR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],UR=Qe("plus",IR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],VR=Qe("scan-line",LR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],GR=Qe("search",PR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],HR=Qe("send-horizontal",qR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BR=Qe("settings",zR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],OR=Qe("sparkles",YR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],$R=Qe("sun",FR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],KR=Qe("triangle-alert",JR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],QR=Qe("user",XR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],WR=Qe("video",ZR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],e1=Qe("volume-2",jR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],n1=Qe("volume-x",t1),i1=({theme:n,selectedAI:e,imageStyle:o,apiKeys:l,apiStatus:c,darkMode:f,soundEnabled:m,setSelectedAI:g,setImageStyle:y,updateApiKey:p,toggleDarkMode:v,toggleSound:S,onClose:C})=>D.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",onClick:C,children:D.jsxs("div",{className:`${n.card} rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col`,onClick:M=>M.stopPropagation(),children:[D.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[D.jsx("h2",{className:"text-xl font-bold",children:"Settings"}),D.jsx("button",{onClick:C,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:""})]}),D.jsxs("div",{className:"overflow-y-auto p-6 space-y-6",children:[D.jsxs("section",{children:[D.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Appearance"}),D.jsxs("div",{className:"space-y-3",children:[D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsx("label",{htmlFor:"darkModeToggle",className:"font-medium",children:"Dark Mode"}),D.jsx("button",{onClick:v,id:"darkModeToggle",className:`p-2 rounded-full ${n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:f?D.jsx($R,{size:20}):D.jsx(kR,{size:20})})]}),D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsx("label",{htmlFor:"soundToggle",className:"font-medium",children:"Sound Enabled"}),D.jsx("button",{onClick:S,id:"soundToggle",className:`p-2 rounded-full ${n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:m?D.jsx(e1,{size:20}):D.jsx(n1,{size:20})})]})]})]}),D.jsxs("section",{children:[D.jsx("h3",{className:"text-lg font-semibold mb-3",children:"AI Model"}),D.jsx("div",{role:"group",className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(nn).map(([M,N])=>D.jsxs("button",{onClick:()=>g(M),className:`p-3 rounded-lg border text-sm transition-all duration-200 ${e===M?`${N.color} border-current bg-current/10 font-semibold`:`${n.muted} border-gray-300 dark:border-gray-600 hover:border-current hover:bg-gray-500/10`}`,children:[N.icon," ",N.name]},M))})]}),D.jsxs("section",{children:[D.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Image Style (DALL-E)"}),D.jsx("div",{role:"group",className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(Jv).map(([M,N])=>D.jsx("button",{onClick:()=>y(M),className:`p-3 rounded-lg border text-sm transition-all duration-200 ${o===M?"text-pink-400 border-pink-400 bg-pink-400/10 font-semibold":`${n.muted} border-gray-300 dark:border-gray-600 hover:border-current hover:text-pink-400 hover:border-pink-400/50 hover:bg-pink-400/10`}`,children:N},M))})]}),D.jsxs("section",{children:[D.jsx("h3",{className:"text-lg font-semibold mb-3",children:"API Keys"}),D.jsxs("div",{className:"space-y-3",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium mb-1",children:"OpenAI API Key"}),D.jsx("input",{type:"password",placeholder:"sk-...",value:l.openai,onChange:M=>p("openai",M.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${n.input} border-gray-300 dark:border-gray-600`})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gemini API Key"}),D.jsx("input",{type:"password",placeholder:"AIza...",value:l.gemini,onChange:M=>p("gemini",M.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${n.input} border-gray-300 dark:border-gray-600`})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium mb-1",children:"Claude API Key"}),D.jsx("input",{type:"password",placeholder:"sk-ant-...",value:l.claude,onChange:M=>p("claude",M.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${n.input} border-gray-300 dark:border-gray-600`})]})]}),D.jsx("p",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:"Your API keys are saved automatically to your browser's local storage. They are never sent to our servers."})]})]})]})});function Ju(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var xi=Ju();function rg(n){xi=n}var Rl={exec:()=>null};function ke(n,e=""){let o=typeof n=="string"?n:n.source;const l={replace:(c,f)=>{let m=typeof f=="string"?f:f.source;return m=m.replace(At.caret,"$1"),o=o.replace(c,m),l},getRegex:()=>new RegExp(o,e)};return l}var At={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},o1=/^(?:[ \t]*(?:\n|$))+/,l1=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,a1=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,wl=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,s1=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ku=/(?:[*+-]|\d{1,9}[.)])/,ug=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,cg=ke(ug).replace(/bull/g,Ku).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),r1=ke(ug).replace(/bull/g,Ku).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Xu=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,u1=/^[^\n]+/,Qu=/(?!\s*\])(?:\\.|[^\[\]\\])+/,c1=ke(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Qu).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),f1=ke(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ku).getRegex(),ls="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Zu=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,d1=ke("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Zu).replace("tag",ls).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),fg=ke(Xu).replace("hr",wl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ls).getRegex(),p1=ke(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",fg).getRegex(),Wu={blockquote:p1,code:l1,def:c1,fences:a1,heading:s1,hr:wl,html:d1,lheading:cg,list:f1,newline:o1,paragraph:fg,table:Rl,text:u1},Th=ke("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",wl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ls).getRegex(),m1={...Wu,lheading:r1,table:Th,paragraph:ke(Xu).replace("hr",wl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Th).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ls).getRegex()},h1={...Wu,html:ke(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Zu).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Rl,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ke(Xu).replace("hr",wl).replace("heading",` *#{1,6} *[^
]`).replace("lheading",cg).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},g1=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,y1=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,dg=/^( {2,}|\\)\n(?!\s*$)/,v1=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,as=/[\p{P}\p{S}]/u,ju=/[\s\p{P}\p{S}]/u,pg=/[^\s\p{P}\p{S}]/u,T1=ke(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,ju).getRegex(),mg=/(?!~)[\p{P}\p{S}]/u,S1=/(?!~)[\s\p{P}\p{S}]/u,C1=/(?:[^\s\p{P}\p{S}]|~)/u,E1=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,hg=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,A1=ke(hg,"u").replace(/punct/g,as).getRegex(),_1=ke(hg,"u").replace(/punct/g,mg).getRegex(),gg="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",x1=ke(gg,"gu").replace(/notPunctSpace/g,pg).replace(/punctSpace/g,ju).replace(/punct/g,as).getRegex(),M1=ke(gg,"gu").replace(/notPunctSpace/g,C1).replace(/punctSpace/g,S1).replace(/punct/g,mg).getRegex(),R1=ke("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,pg).replace(/punctSpace/g,ju).replace(/punct/g,as).getRegex(),N1=ke(/\\(punct)/,"gu").replace(/punct/g,as).getRegex(),w1=ke(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),D1=ke(Zu).replace("(?:-->|$)","-->").getRegex(),b1=ke("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",D1).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ja=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,k1=ke(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",ja).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),yg=ke(/^!?\[(label)\]\[(ref)\]/).replace("label",ja).replace("ref",Qu).getRegex(),vg=ke(/^!?\[(ref)\](?:\[\])?/).replace("ref",Qu).getRegex(),I1=ke("reflink|nolink(?!\\()","g").replace("reflink",yg).replace("nolink",vg).getRegex(),ec={_backpedal:Rl,anyPunctuation:N1,autolink:w1,blockSkip:E1,br:dg,code:y1,del:Rl,emStrongLDelim:A1,emStrongRDelimAst:x1,emStrongRDelimUnd:R1,escape:g1,link:k1,nolink:vg,punctuation:T1,reflink:yg,reflinkSearch:I1,tag:b1,text:v1,url:Rl},U1={...ec,link:ke(/^!?\[(label)\]\((.*?)\)/).replace("label",ja).getRegex(),reflink:ke(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ja).getRegex()},Gu={...ec,emStrongRDelimAst:M1,emStrongLDelim:_1,url:ke(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},L1={...Gu,br:ke(dg).replace("{2,}","*").getRegex(),text:ke(Gu.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Fa={normal:Wu,gfm:m1,pedantic:h1},_l={normal:ec,gfm:Gu,breaks:L1,pedantic:U1},V1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Sh=n=>V1[n];function dn(n,e){if(e){if(At.escapeTest.test(n))return n.replace(At.escapeReplace,Sh)}else if(At.escapeTestNoEncode.test(n))return n.replace(At.escapeReplaceNoEncode,Sh);return n}function Ch(n){try{n=encodeURI(n).replace(At.percentDecode,"%")}catch{return null}return n}function Eh(n,e){var f;const o=n.replace(At.findPipe,(m,g,y)=>{let p=!1,v=g;for(;--v>=0&&y[v]==="\\";)p=!p;return p?"|":" |"}),l=o.split(At.splitPipe);let c=0;if(l[0].trim()||l.shift(),l.length>0&&!((f=l.at(-1))!=null&&f.trim())&&l.pop(),e)if(l.length>e)l.splice(e);else for(;l.length<e;)l.push("");for(;c<l.length;c++)l[c]=l[c].trim().replace(At.slashPipe,"|");return l}function xl(n,e,o){const l=n.length;if(l===0)return"";let c=0;for(;c<l&&n.charAt(l-c-1)===e;)c++;return n.slice(0,l-c)}function P1(n,e){if(n.indexOf(e[1])===-1)return-1;let o=0;for(let l=0;l<n.length;l++)if(n[l]==="\\")l++;else if(n[l]===e[0])o++;else if(n[l]===e[1]&&(o--,o<0))return l;return o>0?-2:-1}function Ah(n,e,o,l,c){const f=e.href,m=e.title||null,g=n[1].replace(c.other.outputLinkReplace,"$1");l.state.inLink=!0;const y={type:n[0].charAt(0)==="!"?"image":"link",raw:o,href:f,title:m,text:g,tokens:l.inlineTokens(g)};return l.state.inLink=!1,y}function G1(n,e,o){const l=n.match(o.other.indentCodeCompensation);if(l===null)return e;const c=l[1];return e.split(`
`).map(f=>{const m=f.match(o.other.beginningSpace);if(m===null)return f;const[g]=m;return g.length>=c.length?f.slice(c.length):f}).join(`
`)}var es=class{constructor(n){Oe(this,"options");Oe(this,"rules");Oe(this,"lexer");this.options=n||xi}space(n){const e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){const e=this.rules.block.code.exec(n);if(e){const o=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?o:xl(o,`
`)}}}fences(n){const e=this.rules.block.fences.exec(n);if(e){const o=e[0],l=G1(o,e[3]||"",this.rules);return{type:"code",raw:o,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:l}}}heading(n){const e=this.rules.block.heading.exec(n);if(e){let o=e[2].trim();if(this.rules.other.endingHash.test(o)){const l=xl(o,"#");(this.options.pedantic||!l||this.rules.other.endingSpaceChar.test(l))&&(o=l.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(n){const e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:xl(e[0],`
`)}}blockquote(n){const e=this.rules.block.blockquote.exec(n);if(e){let o=xl(e[0],`
`).split(`
`),l="",c="";const f=[];for(;o.length>0;){let m=!1;const g=[];let y;for(y=0;y<o.length;y++)if(this.rules.other.blockquoteStart.test(o[y]))g.push(o[y]),m=!0;else if(!m)g.push(o[y]);else break;o=o.slice(y);const p=g.join(`
`),v=p.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");l=l?`${l}
${p}`:p,c=c?`${c}
${v}`:v;const S=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(v,f,!0),this.lexer.state.top=S,o.length===0)break;const C=f.at(-1);if((C==null?void 0:C.type)==="code")break;if((C==null?void 0:C.type)==="blockquote"){const M=C,N=M.raw+`
`+o.join(`
`),L=this.blockquote(N);f[f.length-1]=L,l=l.substring(0,l.length-M.raw.length)+L.raw,c=c.substring(0,c.length-M.text.length)+L.text;break}else if((C==null?void 0:C.type)==="list"){const M=C,N=M.raw+`
`+o.join(`
`),L=this.list(N);f[f.length-1]=L,l=l.substring(0,l.length-C.raw.length)+L.raw,c=c.substring(0,c.length-M.raw.length)+L.raw,o=N.substring(f.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:l,tokens:f,text:c}}}list(n){let e=this.rules.block.list.exec(n);if(e){let o=e[1].trim();const l=o.length>1,c={type:"list",raw:"",ordered:l,start:l?+o.slice(0,-1):"",loose:!1,items:[]};o=l?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=l?o:"[*+-]");const f=this.rules.other.listItemRegex(o);let m=!1;for(;n;){let y=!1,p="",v="";if(!(e=f.exec(n))||this.rules.block.hr.test(n))break;p=e[0],n=n.substring(p.length);let S=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,K=>" ".repeat(3*K.length)),C=n.split(`
`,1)[0],M=!S.trim(),N=0;if(this.options.pedantic?(N=2,v=S.trimStart()):M?N=e[1].length+1:(N=e[2].search(this.rules.other.nonSpaceChar),N=N>4?1:N,v=S.slice(N),N+=e[1].length),M&&this.rules.other.blankLine.test(C)&&(p+=C+`
`,n=n.substring(C.length+1),y=!0),!y){const K=this.rules.other.nextBulletRegex(N),F=this.rules.other.hrRegex(N),Y=this.rules.other.fencesBeginRegex(N),W=this.rules.other.headingBeginRegex(N),B=this.rules.other.htmlBeginRegex(N);for(;n;){const se=n.split(`
`,1)[0];let Z;if(C=se,this.options.pedantic?(C=C.replace(this.rules.other.listReplaceNesting,"  "),Z=C):Z=C.replace(this.rules.other.tabCharGlobal,"    "),Y.test(C)||W.test(C)||B.test(C)||K.test(C)||F.test(C))break;if(Z.search(this.rules.other.nonSpaceChar)>=N||!C.trim())v+=`
`+Z.slice(N);else{if(M||S.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||Y.test(S)||W.test(S)||F.test(S))break;v+=`
`+C}!M&&!C.trim()&&(M=!0),p+=se+`
`,n=n.substring(se.length+1),S=Z.slice(N)}}c.loose||(m?c.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(m=!0));let L=null,H;this.options.gfm&&(L=this.rules.other.listIsTask.exec(v),L&&(H=L[0]!=="[ ] ",v=v.replace(this.rules.other.listReplaceTask,""))),c.items.push({type:"list_item",raw:p,task:!!L,checked:H,loose:!1,text:v,tokens:[]}),c.raw+=p}const g=c.items.at(-1);if(g)g.raw=g.raw.trimEnd(),g.text=g.text.trimEnd();else return;c.raw=c.raw.trimEnd();for(let y=0;y<c.items.length;y++)if(this.lexer.state.top=!1,c.items[y].tokens=this.lexer.blockTokens(c.items[y].text,[]),!c.loose){const p=c.items[y].tokens.filter(S=>S.type==="space"),v=p.length>0&&p.some(S=>this.rules.other.anyLine.test(S.raw));c.loose=v}if(c.loose)for(let y=0;y<c.items.length;y++)c.items[y].loose=!0;return c}}html(n){const e=this.rules.block.html.exec(n);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(n){const e=this.rules.block.def.exec(n);if(e){const o=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),l=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",c=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:o,raw:e[0],href:l,title:c}}}table(n){var m;const e=this.rules.block.table.exec(n);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const o=Eh(e[1]),l=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),c=(m=e[3])!=null&&m.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],f={type:"table",raw:e[0],header:[],align:[],rows:[]};if(o.length===l.length){for(const g of l)this.rules.other.tableAlignRight.test(g)?f.align.push("right"):this.rules.other.tableAlignCenter.test(g)?f.align.push("center"):this.rules.other.tableAlignLeft.test(g)?f.align.push("left"):f.align.push(null);for(let g=0;g<o.length;g++)f.header.push({text:o[g],tokens:this.lexer.inline(o[g]),header:!0,align:f.align[g]});for(const g of c)f.rows.push(Eh(g,f.header.length).map((y,p)=>({text:y,tokens:this.lexer.inline(y),header:!1,align:f.align[p]})));return f}}lheading(n){const e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){const e=this.rules.block.paragraph.exec(n);if(e){const o=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:o,tokens:this.lexer.inline(o)}}}text(n){const e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){const e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(n){const e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(n){const e=this.rules.inline.link.exec(n);if(e){const o=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(o)){if(!this.rules.other.endAngleBracket.test(o))return;const f=xl(o.slice(0,-1),"\\");if((o.length-f.length)%2===0)return}else{const f=P1(e[2],"()");if(f===-2)return;if(f>-1){const g=(e[0].indexOf("!")===0?5:4)+e[1].length+f;e[2]=e[2].substring(0,f),e[0]=e[0].substring(0,g).trim(),e[3]=""}}let l=e[2],c="";if(this.options.pedantic){const f=this.rules.other.pedanticHrefTitle.exec(l);f&&(l=f[1],c=f[3])}else c=e[3]?e[3].slice(1,-1):"";return l=l.trim(),this.rules.other.startAngleBracket.test(l)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(o)?l=l.slice(1):l=l.slice(1,-1)),Ah(e,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:c&&c.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(n,e){let o;if((o=this.rules.inline.reflink.exec(n))||(o=this.rules.inline.nolink.exec(n))){const l=(o[2]||o[1]).replace(this.rules.other.multipleSpaceGlobal," "),c=e[l.toLowerCase()];if(!c){const f=o[0].charAt(0);return{type:"text",raw:f,text:f}}return Ah(o,c,o[0],this.lexer,this.rules)}}emStrong(n,e,o=""){let l=this.rules.inline.emStrongLDelim.exec(n);if(!l||l[3]&&o.match(this.rules.other.unicodeAlphaNumeric))return;if(!(l[1]||l[2]||"")||!o||this.rules.inline.punctuation.exec(o)){const f=[...l[0]].length-1;let m,g,y=f,p=0;const v=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(v.lastIndex=0,e=e.slice(-1*n.length+f);(l=v.exec(e))!=null;){if(m=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!m)continue;if(g=[...m].length,l[3]||l[4]){y+=g;continue}else if((l[5]||l[6])&&f%3&&!((f+g)%3)){p+=g;continue}if(y-=g,y>0)continue;g=Math.min(g,g+y+p);const S=[...l[0]][0].length,C=n.slice(0,f+l.index+S+g);if(Math.min(f,g)%2){const N=C.slice(1,-1);return{type:"em",raw:C,text:N,tokens:this.lexer.inlineTokens(N)}}const M=C.slice(2,-2);return{type:"strong",raw:C,text:M,tokens:this.lexer.inlineTokens(M)}}}}codespan(n){const e=this.rules.inline.code.exec(n);if(e){let o=e[2].replace(this.rules.other.newLineCharGlobal," ");const l=this.rules.other.nonSpaceChar.test(o),c=this.rules.other.startingSpaceChar.test(o)&&this.rules.other.endingSpaceChar.test(o);return l&&c&&(o=o.substring(1,o.length-1)),{type:"codespan",raw:e[0],text:o}}}br(n){const e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){const e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n){const e=this.rules.inline.autolink.exec(n);if(e){let o,l;return e[2]==="@"?(o=e[1],l="mailto:"+o):(o=e[1],l=o),{type:"link",raw:e[0],text:o,href:l,tokens:[{type:"text",raw:o,text:o}]}}}url(n){var o;let e;if(e=this.rules.inline.url.exec(n)){let l,c;if(e[2]==="@")l=e[0],c="mailto:"+l;else{let f;do f=e[0],e[0]=((o=this.rules.inline._backpedal.exec(e[0]))==null?void 0:o[0])??"";while(f!==e[0]);l=e[0],e[1]==="www."?c="http://"+e[0]:c=e[0]}return{type:"link",raw:e[0],text:l,href:c,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(n){const e=this.rules.inline.text.exec(n);if(e){const o=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:o}}}},Dn=class qu{constructor(e){Oe(this,"tokens");Oe(this,"options");Oe(this,"state");Oe(this,"tokenizer");Oe(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||xi,this.options.tokenizer=this.options.tokenizer||new es,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const o={other:At,block:Fa.normal,inline:_l.normal};this.options.pedantic?(o.block=Fa.pedantic,o.inline=_l.pedantic):this.options.gfm&&(o.block=Fa.gfm,this.options.breaks?o.inline=_l.breaks:o.inline=_l.gfm),this.tokenizer.rules=o}static get rules(){return{block:Fa,inline:_l}}static lex(e,o){return new qu(o).lex(e)}static lexInline(e,o){return new qu(o).inlineTokens(e)}lex(e){e=e.replace(At.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let o=0;o<this.inlineQueue.length;o++){const l=this.inlineQueue[o];this.inlineTokens(l.src,l.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,o=[],l=!1){var c,f,m;for(this.options.pedantic&&(e=e.replace(At.tabCharGlobal,"    ").replace(At.spaceLine,""));e;){let g;if((f=(c=this.options.extensions)==null?void 0:c.block)!=null&&f.some(p=>(g=p.call({lexer:this},e,o))?(e=e.substring(g.raw.length),o.push(g),!0):!1))continue;if(g=this.tokenizer.space(e)){e=e.substring(g.raw.length);const p=o.at(-1);g.raw.length===1&&p!==void 0?p.raw+=`
`:o.push(g);continue}if(g=this.tokenizer.code(e)){e=e.substring(g.raw.length);const p=o.at(-1);(p==null?void 0:p.type)==="paragraph"||(p==null?void 0:p.type)==="text"?(p.raw+=`
`+g.raw,p.text+=`
`+g.text,this.inlineQueue.at(-1).src=p.text):o.push(g);continue}if(g=this.tokenizer.fences(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.heading(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.hr(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.blockquote(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.list(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.html(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.def(e)){e=e.substring(g.raw.length);const p=o.at(-1);(p==null?void 0:p.type)==="paragraph"||(p==null?void 0:p.type)==="text"?(p.raw+=`
`+g.raw,p.text+=`
`+g.raw,this.inlineQueue.at(-1).src=p.text):this.tokens.links[g.tag]||(this.tokens.links[g.tag]={href:g.href,title:g.title});continue}if(g=this.tokenizer.table(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.lheading(e)){e=e.substring(g.raw.length),o.push(g);continue}let y=e;if((m=this.options.extensions)!=null&&m.startBlock){let p=1/0;const v=e.slice(1);let S;this.options.extensions.startBlock.forEach(C=>{S=C.call({lexer:this},v),typeof S=="number"&&S>=0&&(p=Math.min(p,S))}),p<1/0&&p>=0&&(y=e.substring(0,p+1))}if(this.state.top&&(g=this.tokenizer.paragraph(y))){const p=o.at(-1);l&&(p==null?void 0:p.type)==="paragraph"?(p.raw+=`
`+g.raw,p.text+=`
`+g.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=p.text):o.push(g),l=y.length!==e.length,e=e.substring(g.raw.length);continue}if(g=this.tokenizer.text(e)){e=e.substring(g.raw.length);const p=o.at(-1);(p==null?void 0:p.type)==="text"?(p.raw+=`
`+g.raw,p.text+=`
`+g.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=p.text):o.push(g);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return this.state.top=!0,o}inline(e,o=[]){return this.inlineQueue.push({src:e,tokens:o}),o}inlineTokens(e,o=[]){var g,y,p;let l=e,c=null;if(this.tokens.links){const v=Object.keys(this.tokens.links);if(v.length>0)for(;(c=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)v.includes(c[0].slice(c[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,c.index)+"["+"a".repeat(c[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(c=this.tokenizer.rules.inline.anyPunctuation.exec(l))!=null;)l=l.slice(0,c.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(c=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,c.index)+"["+"a".repeat(c[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let f=!1,m="";for(;e;){f||(m=""),f=!1;let v;if((y=(g=this.options.extensions)==null?void 0:g.inline)!=null&&y.some(C=>(v=C.call({lexer:this},e,o))?(e=e.substring(v.raw.length),o.push(v),!0):!1))continue;if(v=this.tokenizer.escape(e)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.tag(e)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.link(e)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(v.raw.length);const C=o.at(-1);v.type==="text"&&(C==null?void 0:C.type)==="text"?(C.raw+=v.raw,C.text+=v.text):o.push(v);continue}if(v=this.tokenizer.emStrong(e,l,m)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.codespan(e)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.br(e)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.del(e)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.autolink(e)){e=e.substring(v.raw.length),o.push(v);continue}if(!this.state.inLink&&(v=this.tokenizer.url(e))){e=e.substring(v.raw.length),o.push(v);continue}let S=e;if((p=this.options.extensions)!=null&&p.startInline){let C=1/0;const M=e.slice(1);let N;this.options.extensions.startInline.forEach(L=>{N=L.call({lexer:this},M),typeof N=="number"&&N>=0&&(C=Math.min(C,N))}),C<1/0&&C>=0&&(S=e.substring(0,C+1))}if(v=this.tokenizer.inlineText(S)){e=e.substring(v.raw.length),v.raw.slice(-1)!=="_"&&(m=v.raw.slice(-1)),f=!0;const C=o.at(-1);(C==null?void 0:C.type)==="text"?(C.raw+=v.raw,C.text+=v.text):o.push(v);continue}if(e){const C="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(C);break}else throw new Error(C)}}return o}},ts=class{constructor(n){Oe(this,"options");Oe(this,"parser");this.options=n||xi}space(n){return""}code({text:n,lang:e,escaped:o}){var f;const l=(f=(e||"").match(At.notSpaceStart))==null?void 0:f[0],c=n.replace(At.endingNewline,"")+`
`;return l?'<pre><code class="language-'+dn(l)+'">'+(o?c:dn(c,!0))+`</code></pre>
`:"<pre><code>"+(o?c:dn(c,!0))+`</code></pre>
`}blockquote({tokens:n}){return`<blockquote>
${this.parser.parse(n)}</blockquote>
`}html({text:n}){return n}heading({tokens:n,depth:e}){return`<h${e}>${this.parser.parseInline(n)}</h${e}>
`}hr(n){return`<hr>
`}list(n){const e=n.ordered,o=n.start;let l="";for(let m=0;m<n.items.length;m++){const g=n.items[m];l+=this.listitem(g)}const c=e?"ol":"ul",f=e&&o!==1?' start="'+o+'"':"";return"<"+c+f+`>
`+l+"</"+c+`>
`}listitem(n){var o;let e="";if(n.task){const l=this.checkbox({checked:!!n.checked});n.loose?((o=n.tokens[0])==null?void 0:o.type)==="paragraph"?(n.tokens[0].text=l+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&n.tokens[0].tokens[0].type==="text"&&(n.tokens[0].tokens[0].text=l+" "+dn(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:l+" ",text:l+" ",escaped:!0}):e+=l+" "}return e+=this.parser.parse(n.tokens,!!n.loose),`<li>${e}</li>
`}checkbox({checked:n}){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>
`}table(n){let e="",o="";for(let c=0;c<n.header.length;c++)o+=this.tablecell(n.header[c]);e+=this.tablerow({text:o});let l="";for(let c=0;c<n.rows.length;c++){const f=n.rows[c];o="";for(let m=0;m<f.length;m++)o+=this.tablecell(f[m]);l+=this.tablerow({text:o})}return l&&(l=`<tbody>${l}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+l+`</table>
`}tablerow({text:n}){return`<tr>
${n}</tr>
`}tablecell(n){const e=this.parser.parseInline(n.tokens),o=n.header?"th":"td";return(n.align?`<${o} align="${n.align}">`:`<${o}>`)+e+`</${o}>
`}strong({tokens:n}){return`<strong>${this.parser.parseInline(n)}</strong>`}em({tokens:n}){return`<em>${this.parser.parseInline(n)}</em>`}codespan({text:n}){return`<code>${dn(n,!0)}</code>`}br(n){return"<br>"}del({tokens:n}){return`<del>${this.parser.parseInline(n)}</del>`}link({href:n,title:e,tokens:o}){const l=this.parser.parseInline(o),c=Ch(n);if(c===null)return l;n=c;let f='<a href="'+n+'"';return e&&(f+=' title="'+dn(e)+'"'),f+=">"+l+"</a>",f}image({href:n,title:e,text:o,tokens:l}){l&&(o=this.parser.parseInline(l,this.parser.textRenderer));const c=Ch(n);if(c===null)return dn(o);n=c;let f=`<img src="${n}" alt="${o}"`;return e&&(f+=` title="${dn(e)}"`),f+=">",f}text(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:dn(n.text)}},tc=class{strong({text:n}){return n}em({text:n}){return n}codespan({text:n}){return n}del({text:n}){return n}html({text:n}){return n}text({text:n}){return n}link({text:n}){return""+n}image({text:n}){return""+n}br(){return""}},bn=class Hu{constructor(e){Oe(this,"options");Oe(this,"renderer");Oe(this,"textRenderer");this.options=e||xi,this.options.renderer=this.options.renderer||new ts,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new tc}static parse(e,o){return new Hu(o).parse(e)}static parseInline(e,o){return new Hu(o).parseInline(e)}parse(e,o=!0){var c,f;let l="";for(let m=0;m<e.length;m++){const g=e[m];if((f=(c=this.options.extensions)==null?void 0:c.renderers)!=null&&f[g.type]){const p=g,v=this.options.extensions.renderers[p.type].call({parser:this},p);if(v!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(p.type)){l+=v||"";continue}}const y=g;switch(y.type){case"space":{l+=this.renderer.space(y);continue}case"hr":{l+=this.renderer.hr(y);continue}case"heading":{l+=this.renderer.heading(y);continue}case"code":{l+=this.renderer.code(y);continue}case"table":{l+=this.renderer.table(y);continue}case"blockquote":{l+=this.renderer.blockquote(y);continue}case"list":{l+=this.renderer.list(y);continue}case"html":{l+=this.renderer.html(y);continue}case"paragraph":{l+=this.renderer.paragraph(y);continue}case"text":{let p=y,v=this.renderer.text(p);for(;m+1<e.length&&e[m+1].type==="text";)p=e[++m],v+=`
`+this.renderer.text(p);o?l+=this.renderer.paragraph({type:"paragraph",raw:v,text:v,tokens:[{type:"text",raw:v,text:v,escaped:!0}]}):l+=v;continue}default:{const p='Token with "'+y.type+'" type was not found.';if(this.options.silent)return console.error(p),"";throw new Error(p)}}}return l}parseInline(e,o=this.renderer){var c,f;let l="";for(let m=0;m<e.length;m++){const g=e[m];if((f=(c=this.options.extensions)==null?void 0:c.renderers)!=null&&f[g.type]){const p=this.options.extensions.renderers[g.type].call({parser:this},g);if(p!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(g.type)){l+=p||"";continue}}const y=g;switch(y.type){case"escape":{l+=o.text(y);break}case"html":{l+=o.html(y);break}case"link":{l+=o.link(y);break}case"image":{l+=o.image(y);break}case"strong":{l+=o.strong(y);break}case"em":{l+=o.em(y);break}case"codespan":{l+=o.codespan(y);break}case"br":{l+=o.br(y);break}case"del":{l+=o.del(y);break}case"text":{l+=o.text(y);break}default:{const p='Token with "'+y.type+'" type was not found.';if(this.options.silent)return console.error(p),"";throw new Error(p)}}}return l}},xu,Xa=(xu=class{constructor(n){Oe(this,"options");Oe(this,"block");this.options=n||xi}preprocess(n){return n}postprocess(n){return n}processAllTokens(n){return n}provideLexer(){return this.block?Dn.lex:Dn.lexInline}provideParser(){return this.block?bn.parse:bn.parseInline}},Oe(xu,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),xu),q1=class{constructor(...n){Oe(this,"defaults",Ju());Oe(this,"options",this.setOptions);Oe(this,"parse",this.parseMarkdown(!0));Oe(this,"parseInline",this.parseMarkdown(!1));Oe(this,"Parser",bn);Oe(this,"Renderer",ts);Oe(this,"TextRenderer",tc);Oe(this,"Lexer",Dn);Oe(this,"Tokenizer",es);Oe(this,"Hooks",Xa);this.use(...n)}walkTokens(n,e){var l,c;let o=[];for(const f of n)switch(o=o.concat(e.call(this,f)),f.type){case"table":{const m=f;for(const g of m.header)o=o.concat(this.walkTokens(g.tokens,e));for(const g of m.rows)for(const y of g)o=o.concat(this.walkTokens(y.tokens,e));break}case"list":{const m=f;o=o.concat(this.walkTokens(m.items,e));break}default:{const m=f;(c=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&c[m.type]?this.defaults.extensions.childTokens[m.type].forEach(g=>{const y=m[g].flat(1/0);o=o.concat(this.walkTokens(y,e))}):m.tokens&&(o=o.concat(this.walkTokens(m.tokens,e)))}}return o}use(...n){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(o=>{const l={...o};if(l.async=this.defaults.async||l.async||!1,o.extensions&&(o.extensions.forEach(c=>{if(!c.name)throw new Error("extension name required");if("renderer"in c){const f=e.renderers[c.name];f?e.renderers[c.name]=function(...m){let g=c.renderer.apply(this,m);return g===!1&&(g=f.apply(this,m)),g}:e.renderers[c.name]=c.renderer}if("tokenizer"in c){if(!c.level||c.level!=="block"&&c.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const f=e[c.level];f?f.unshift(c.tokenizer):e[c.level]=[c.tokenizer],c.start&&(c.level==="block"?e.startBlock?e.startBlock.push(c.start):e.startBlock=[c.start]:c.level==="inline"&&(e.startInline?e.startInline.push(c.start):e.startInline=[c.start]))}"childTokens"in c&&c.childTokens&&(e.childTokens[c.name]=c.childTokens)}),l.extensions=e),o.renderer){const c=this.defaults.renderer||new ts(this.defaults);for(const f in o.renderer){if(!(f in c))throw new Error(`renderer '${f}' does not exist`);if(["options","parser"].includes(f))continue;const m=f,g=o.renderer[m],y=c[m];c[m]=(...p)=>{let v=g.apply(c,p);return v===!1&&(v=y.apply(c,p)),v||""}}l.renderer=c}if(o.tokenizer){const c=this.defaults.tokenizer||new es(this.defaults);for(const f in o.tokenizer){if(!(f in c))throw new Error(`tokenizer '${f}' does not exist`);if(["options","rules","lexer"].includes(f))continue;const m=f,g=o.tokenizer[m],y=c[m];c[m]=(...p)=>{let v=g.apply(c,p);return v===!1&&(v=y.apply(c,p)),v}}l.tokenizer=c}if(o.hooks){const c=this.defaults.hooks||new Xa;for(const f in o.hooks){if(!(f in c))throw new Error(`hook '${f}' does not exist`);if(["options","block"].includes(f))continue;const m=f,g=o.hooks[m],y=c[m];Xa.passThroughHooks.has(f)?c[m]=p=>{if(this.defaults.async)return Promise.resolve(g.call(c,p)).then(S=>y.call(c,S));const v=g.call(c,p);return y.call(c,v)}:c[m]=(...p)=>{let v=g.apply(c,p);return v===!1&&(v=y.apply(c,p)),v}}l.hooks=c}if(o.walkTokens){const c=this.defaults.walkTokens,f=o.walkTokens;l.walkTokens=function(m){let g=[];return g.push(f.call(this,m)),c&&(g=g.concat(c.call(this,m))),g}}this.defaults={...this.defaults,...l}}),this}setOptions(n){return this.defaults={...this.defaults,...n},this}lexer(n,e){return Dn.lex(n,e??this.defaults)}parser(n,e){return bn.parse(n,e??this.defaults)}parseMarkdown(n){return(o,l)=>{const c={...l},f={...this.defaults,...c},m=this.onError(!!f.silent,!!f.async);if(this.defaults.async===!0&&c.async===!1)return m(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof o>"u"||o===null)return m(new Error("marked(): input parameter is undefined or null"));if(typeof o!="string")return m(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));f.hooks&&(f.hooks.options=f,f.hooks.block=n);const g=f.hooks?f.hooks.provideLexer():n?Dn.lex:Dn.lexInline,y=f.hooks?f.hooks.provideParser():n?bn.parse:bn.parseInline;if(f.async)return Promise.resolve(f.hooks?f.hooks.preprocess(o):o).then(p=>g(p,f)).then(p=>f.hooks?f.hooks.processAllTokens(p):p).then(p=>f.walkTokens?Promise.all(this.walkTokens(p,f.walkTokens)).then(()=>p):p).then(p=>y(p,f)).then(p=>f.hooks?f.hooks.postprocess(p):p).catch(m);try{f.hooks&&(o=f.hooks.preprocess(o));let p=g(o,f);f.hooks&&(p=f.hooks.processAllTokens(p)),f.walkTokens&&this.walkTokens(p,f.walkTokens);let v=y(p,f);return f.hooks&&(v=f.hooks.postprocess(v)),v}catch(p){return m(p)}}}onError(n,e){return o=>{if(o.message+=`
Please report this to https://github.com/markedjs/marked.`,n){const l="<p>An error occurred:</p><pre>"+dn(o.message+"",!0)+"</pre>";return e?Promise.resolve(l):l}if(e)return Promise.reject(o);throw o}}},Ei=new q1;function De(n,e){return Ei.parse(n,e)}De.options=De.setOptions=function(n){return Ei.setOptions(n),De.defaults=Ei.defaults,rg(De.defaults),De};De.getDefaults=Ju;De.defaults=xi;De.use=function(...n){return Ei.use(...n),De.defaults=Ei.defaults,rg(De.defaults),De};De.walkTokens=function(n,e){return Ei.walkTokens(n,e)};De.parseInline=Ei.parseInline;De.Parser=bn;De.parser=bn.parse;De.Renderer=ts;De.TextRenderer=tc;De.Lexer=Dn;De.lexer=Dn.lex;De.Tokenizer=es;De.Hooks=Xa;De.parse=De;De.options;De.setOptions;De.use;De.walkTokens;De.parseInline;bn.parse;Dn.lex;const H1=({theme:n,onPromptClick:e})=>{const o=["What's the best place to get suya in Lekki?","Paint a picture of a futuristic Lagos with flying danfo buses.","Tell me a story about the Eyo festival, but in the style of a wise Igbo elder.","Plan a 3-day tourist itinerary for someone visiting Lagos for the first time."];return D.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[D.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-cyan-500 to-purple-500 rounded-full flex items-center justify-center shadow-lg mb-4",children:D.jsx(OR,{className:"w-10 h-10 text-white"})}),D.jsx("h1",{className:`text-3xl font-bold ${n.text} mb-2`,children:"Lagos Oracle"}),D.jsx("p",{className:`${n.muted} mb-8`,children:"Your AI companion for all things Lagos and beyond."}),D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-w-2xl w-full",children:o.map((l,c)=>D.jsxs("button",{onClick:()=>e(l),className:`p-4 rounded-lg text-left transition-all duration-200
                        ${n.card} border dark:border-gray-700 hover:bg-gray-200 dark:hover:bg-gray-700/50
                        flex items-start space-x-3`,children:[D.jsx(sg,{className:`w-5 h-5 mt-1 ${n.secondaryAccent} shrink-0`}),D.jsx("span",{className:`text-sm ${n.text}`,children:l})]},c))})]})};De.setOptions({breaks:!0,gfm:!0});const zu=({persona:n,isUser:e,isError:o})=>{var f;const l="w-8 h-8 rounded-full flex items-center justify-center shrink-0 text-white";if(e)return D.jsx("div",{className:`${l} bg-blue-500`,children:D.jsx(QR,{className:"w-5 h-5"})});if(o)return D.jsx("div",{className:`${l} bg-red-500`,children:D.jsx(KR,{className:"w-5 h-5"})});if((f=n==null?void 0:n.icon)!=null&&f.startsWith("http"))return D.jsx("img",{src:n.icon,alt:n.name,className:"w-8 h-8 rounded-full object-cover"});const c=n!=null&&n.color?n.color.replace("text-","bg-").replace("-400","-500"):"bg-indigo-500";return D.jsx("div",{className:`${l} ${c}`,children:n!=null&&n.icon&&!n.icon.startsWith("http")?D.jsx("span",{className:"text-xl",children:n.icon}):D.jsx(sg,{className:"w-5 h-5"})})},z1=({message:n,theme:e,personas:o})=>{const[l,c]=fe.useState(!1),f=De.parse(typeof n.content=="string"?n.content:"*Error: Invalid message content*"),m=()=>{typeof n.content=="string"&&navigator.clipboard.writeText(n.content).then(()=>{c(!0),setTimeout(()=>c(!1),2e3)}).catch(S=>console.error("Failed to copy text: ",S))},g=n.mood==="error",y=n.personaKey?o[n.personaKey]:void 0,p="group flex items-start gap-3 my-4 relative",v="relative rounded-xl px-4 py-3 shadow-md max-w-2xl";return n.type==="user"?D.jsxs("div",{className:`${p} justify-end`,children:[D.jsx("div",{className:`${v} bg-blue-600 text-white`,children:D.jsx("div",{className:"prose prose-sm max-w-none prose-invert prose-p:my-1",dangerouslySetInnerHTML:{__html:f}})}),D.jsx(zu,{isUser:!0})]}):D.jsxs("div",{className:p,children:[D.jsx(zu,{persona:y,isError:g}),D.jsxs("div",{className:"flex flex-col",children:[D.jsxs("div",{className:`${v} ${g?"bg-red-100 dark:bg-red-900/40":e.card}`,children:[n.model&&D.jsx("div",{className:`text-xs mb-1.5 font-semibold ${g?"text-red-600 dark:text-red-300":e.muted}`,children:n.model}),D.jsx("div",{className:`prose prose-sm max-w-none ${e.text}`,dangerouslySetInnerHTML:{__html:f}}),n.media&&D.jsxs("div",{className:"mt-3",children:[n.media.imageUrl&&D.jsx("img",{src:n.media.imageUrl,alt:"Generated by AI",className:"rounded-lg max-w-xs md:max-w-sm h-auto shadow-lg border dark:border-gray-600"}),n.media.videoUrl&&D.jsx("video",{src:n.media.videoUrl,controls:!0,className:"rounded-lg max-w-xs md:max-w-sm h-auto shadow-lg border dark:border-gray-600"}),!n.media.success&&D.jsxs("div",{className:"p-3 rounded-lg border-2 border-dashed border-gray-300 bg-gray-100/50 text-gray-500 dark:border-gray-600 dark:bg-gray-700/30 dark:text-gray-400 flex flex-col items-center justify-center max-w-xs md:max-w-sm",children:[n.media.videoUrl?D.jsx(WR,{className:"w-10 h-10 mb-2 opacity-70"}):D.jsx(MR,{className:"w-10 h-10 mb-2 opacity-70"}),D.jsx("p",{className:"text-sm font-semibold",children:"Media Generation Failed"}),D.jsx("p",{className:"text-xs text-center",children:n.media.model||"Could not generate media."})]})]})]}),D.jsxs("div",{className:"flex items-center justify-start mt-1.5 space-x-3",children:[D.jsx("span",{className:`text-xs ${e.muted}`,children:n.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),typeof n.content=="string"&&n.content.trim()!==""&&D.jsx("button",{onClick:m,title:l?"Copied!":"Copy message",className:"p-1 rounded-full transition-all duration-200 text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-700 opacity-0 group-hover:opacity-100",children:l?D.jsx(gR,{className:"w-3.5 h-3.5"}):D.jsx(ER,{className:"w-3.5 h-3.5"})})]})]})]})},B1=({messages:n,isTyping:e,theme:o,personas:l,onPromptClick:c})=>{const f=fe.useRef(null);return fe.useEffect(()=>{var m;(m=f.current)==null||m.scrollIntoView({behavior:"smooth"})},[n,e]),D.jsx("div",{className:"flex-1 overflow-y-auto",children:D.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[n.length===0&&!e?D.jsx(H1,{theme:o,onPromptClick:c}):n.map(m=>D.jsx(z1,{message:m,theme:o,personas:l},m.id)),e&&D.jsxs("div",{className:"flex items-start gap-3 my-4",children:[D.jsx(zu,{persona:{name:"Oracle",icon:"",description:"",systemPromptModifier:"",color:"bg-indigo-500"}}),D.jsx("div",{className:`rounded-xl px-4 py-3 shadow-md ${o.card}`,children:D.jsxs("div",{className:"flex items-center space-x-1",children:[D.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse",style:{animationDelay:"0s"}}),D.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),D.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})})]}),D.jsx("div",{ref:f})]})})},Y1=({theme:n,selectedAI:e,onSelectAI:o,onClose:l})=>D.jsx("div",{className:"absolute bottom-full mb-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border dark:border-gray-700",children:D.jsxs("div",{className:"p-2",children:[D.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 px-2 mb-1",children:"Choose a model"}),Object.entries(nn).map(([c,f])=>D.jsxs("button",{onClick:()=>{o(c),l()},className:`w-full flex items-center gap-2 p-2 rounded-md text-sm text-left
                        ${e===c?`font-semibold ${f.color}`:`${n.text} hover:bg-gray-100 dark:hover:bg-gray-700`}`,children:[D.jsx("span",{className:"text-lg",children:f.icon}),D.jsx("span",{children:f.name})]},c))]})}),O1=({input:n,isTyping:e,isListening:o,recognitionAvailable:l,theme:c,selectedAI:f,setInput:m,handleSend:g,startListening:y,setSelectedAI:p})=>{const v=fe.useRef(null),[S,C]=fe.useState(!1);fe.useEffect(()=>{v.current&&(v.current.style.height="auto",v.current.style.height=`${v.current.scrollHeight}px`)},[n]);const M=()=>{n.trim()&&!e&&g()},N=L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),M())};return D.jsx("div",{className:"bg-transparent px-4 pb-4 sticky bottom-0",children:D.jsx("div",{className:"max-w-3xl mx-auto",children:D.jsxs("div",{className:"relative",children:[S&&D.jsx(Y1,{theme:c,selectedAI:f,onSelectAI:p,onClose:()=>C(!1)}),D.jsxs("div",{className:`relative flex items-center ${c.card} border dark:border-gray-600 rounded-2xl shadow-lg`,children:[D.jsxs("button",{onClick:()=>C(L=>!L),className:"p-3 rounded-full transition-all duration-200 flex items-center gap-1 hover:bg-gray-200 dark:hover:bg-gray-700",children:[D.jsx("span",{className:"text-lg",children:nn[f].icon}),D.jsx(vR,{size:16,className:`transition-transform duration-200 ${S?"rotate-0":"rotate-180"}`})]}),D.jsx("textarea",{ref:v,value:n,onChange:L=>m(L.target.value),onKeyDown:N,placeholder:`Ask ${nn[f].name}...`,className:`w-full max-h-48 bg-transparent p-3 resize-none border-none focus:ring-0 ${c.text} placeholder-gray-500 dark:placeholder-gray-400`,rows:1,disabled:e}),D.jsx("button",{onClick:M,disabled:!n.trim()||e,title:"Send Message",className:`p-3 mr-2 rounded-full transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed
                         text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-500`,children:D.jsx(HR,{className:"w-5 h-5"})})]})]})})})},F1=({theme:n,selectedPersonaKey:e,onSelectPersona:o,onClose:l})=>{const c=f=>{o(f),l()};return D.jsxs("div",{className:`${n.card} border-b p-4 shadow-md`,children:[D.jsx("div",{className:"max-w-6xl mx-auto space-y-3",children:D.jsxs("div",{className:"flex justify-between items-center",children:[D.jsx("h3",{className:`text-lg font-semibold ${n.primaryAccent}`,children:" Choose Your Oracle's Persona"}),D.jsx("button",{onClick:l,className:`${n.muted} hover:text-red-500 text-sm p-1 rounded-md`,title:"Close Persona Selector","aria-label":"Close Persona Selector",children:" Close"})]})}),D.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:Object.entries(tn).map(([f,m])=>{const g=f,y=e===g;return D.jsxs("button",{onClick:()=>c(g),className:`p-3 rounded-lg border text-left transition-all duration-200 flex flex-col items-start h-full
                  ${y?`${m.color||n.primaryAccent} border-current bg-current/10 font-semibold shadow-lg ring-2 ring-current`:`${n.text} ${n.card.replace("bg-","hover:bg-opacity-80 hover:border-")} border-gray-500/30 hover:shadow-md hover:border-current ${(m.color||n.primaryAccent).replace("text-","hover:border-")}`}
                `,"aria-pressed":y,title:m.description,children:[D.jsxs("div",{className:"flex items-center mb-1",children:[D.jsx("span",{className:"text-2xl mr-2",children:m.icon}),D.jsx("span",{className:`font-semibold ${y?m.color||n.primaryAccent:n.text}`,children:m.name})]}),D.jsx("p",{className:`text-xs ${y?m.color||n.primaryAccent:n.muted} opacity-90`,children:m.description})]},g)})}),D.jsx("p",{className:`text-xs ${n.muted} mt-2 text-center`,children:"Selecting a persona changes the Oracle's style and language. Voice accents depend on browser capabilities."})]})},$1=({videoElementRef:n,onScanSurroundings:e,onStopVisionGuide:o,isAnalyzingFrame:l,theme:c})=>D.jsxs("div",{className:`fixed inset-0 z-40 flex flex-col items-center justify-center p-4 ${c.bg} bg-opacity-95 backdrop-blur-sm`,children:[D.jsxs("div",{className:`relative w-full max-w-2xl ${c.card} p-4 sm:p-6 rounded-xl shadow-2xl border`,children:[D.jsxs("h3",{className:`text-xl font-semibold mb-4 text-center ${c.primaryAccent}`,children:[D.jsx(mR,{className:"inline-block mr-2 w-6 h-6"})," Vision Guide Active"]}),D.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden mb-4 border border-gray-600/50 shadow-inner",children:D.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover","aria-label":"Live camera feed for Vision Guide"})}),l?D.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 py-4",children:[D.jsx(DR,{className:`w-12 h-12 ${c.secondaryAccent} animate-spin`}),D.jsx("p",{className:`text-lg ${c.text}`,children:"Analyzing your surroundings..."}),D.jsx("p",{className:`text-sm ${c.muted}`,children:"Please wait a moment."})]}):D.jsxs("button",{onClick:e,disabled:l,className:`w-full flex items-center justify-center px-6 py-3 rounded-lg text-lg font-semibold
                        transition-all duration-200 ease-in-out
                        ${c.text} bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600
                        focus:outline-none focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-700
                        disabled:opacity-60 disabled:cursor-not-allowed`,"aria-label":"Scan current surroundings",children:[D.jsx(VR,{className:"mr-3 w-6 h-6"}),"Scan Surroundings"]}),D.jsx("button",{onClick:o,className:`absolute top-3 right-3 p-2 rounded-full
                      ${c.muted} hover:bg-red-500/20 hover:text-red-500 transition-colors`,"aria-label":"Stop Vision Guide and close camera view",children:D.jsx(SR,{className:"w-6 h-6"})})]}),D.jsx("p",{className:`mt-4 text-xs ${c.muted} text-center max-w-md`,children:"This Vision Guide provides AI-generated descriptions. Use with caution and awareness. It is not a substitute for traditional mobility aids."})]}),J1=({theme:n,showSettings:e,showPersonaSelector:o,toggleSettings:l,togglePersonaSelector:c})=>D.jsxs("div",{className:`h-screen w-64 ${n.card} border-r dark:border-gray-700 flex flex-col p-2`,children:[D.jsxs("div",{className:"flex-1 space-y-2",children:[D.jsxs("button",{className:"w-full flex items-center gap-2 p-2 rounded-md text-sm font-medium bg-cyan-600 text-white hover:bg-cyan-700",children:[D.jsx(UR,{size:18}),"New Chat"]}),D.jsxs("div",{className:"pt-4 space-y-1",children:[D.jsxs("button",{className:`w-full flex items-center gap-2 p-2 rounded-md text-sm ${n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:[D.jsx(GR,{size:18}),"Search"]}),D.jsxs("button",{className:`w-full flex items-center gap-2 p-2 rounded-md text-sm ${n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:[D.jsx(NR,{size:18}),"Library"]}),D.jsxs("button",{onClick:c,className:`w-full flex items-center gap-2 p-2 rounded-md text-sm ${o?`bg-cyan-500/20 ${n.primaryAccent}`:n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:[D.jsx(_R,{size:18}),"Personas"]})]})]}),D.jsx("div",{className:"mt-auto",children:D.jsxs("button",{onClick:l,className:`w-full flex items-center gap-2 p-2 rounded-md text-sm ${e?`bg-cyan-500/20 ${n.primaryAccent}`:n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:[D.jsx(BR,{size:18}),"Settings"]})})]});var po={};const $a=n=>{const e=["REACT_APP_","VITE_"];for(const o of e)if(typeof process<"u"&&po&&po[`${o}${n}`])return po[`${o}${n}`];if(typeof process<"u"&&po&&po[n])return po[n];if(typeof window<"u"&&typeof window[n]=="string")return window[n]},_h="lagosOracleApiKeys_v2",xh="darkModeLagosOracle",Mh="soundEnabledLagosOracle",Rh="selectedPersonaLagosOracle_v1",K1=()=>{const[n,e]=fe.useState([]),[o,l]=fe.useState(""),[c,f]=fe.useState(!1),[m,g]=fe.useState(!1),[y,p]=fe.useState(!1),[v,S]=fe.useState(!1),[C,M]=fe.useState("auto"),[N,L]=fe.useState({openai:"",gemini:"",claude:""}),[H,K]=fe.useState({openai:!1,gemini:!1,claude:!1}),[F,Y]=fe.useState(null),W=!!F,[B,se]=fe.useState(()=>{try{const z=localStorage.getItem(xh);return z!==null?JSON.parse(z):!0}catch{return!0}}),[Z,Ce]=fe.useState(()=>{try{const z=localStorage.getItem(Mh);return z!==null?JSON.parse(z):!0}catch{return!0}}),[ne,ye]=fe.useState("photorealistic"),[te,Ie]=fe.useState(()=>{try{const z=localStorage.getItem(Rh);return z&&tn[z]?z:za}catch{return za}}),[bt,Ct]=fe.useState(!1);fe.useRef(null);const[Re,U]=fe.useState(!1),[O,oe]=fe.useState(null),[Ne,_]=fe.useState(!1),q=fe.useRef(null),J=fe.useRef(null);fe.useEffect(()=>{const z=window.SpeechRecognition||window.webkitSpeechRecognition;if(z){const le=new z;le.continuous=!1,le.lang="en-US",le.interimResults=!1,Y(le)}else console.warn("Speech Recognition API not available.");let X={openai:($a("OPENAI_API_KEY")||"").trim(),gemini:($a("GEMINI_API_KEY")||$a("API_KEY")||"").trim(),claude:($a("CLAUDE_API_KEY")||"").trim()};try{const le=localStorage.getItem(_h);if(le){const Ae=JSON.parse(le);X={openai:(Ae.openai||X.openai).trim(),gemini:(Ae.gemini||X.gemini).trim(),claude:(Ae.claude||X.claude).trim()}}}catch(le){console.error("Failed to parse saved API keys from localStorage.",le)}L(X)},[]),fe.useEffect(()=>{try{localStorage.setItem(xh,JSON.stringify(B))}catch(z){console.error("Failed to save dark mode to localStorage",z)}document.documentElement.classList.toggle("dark",B)},[B]),fe.useEffect(()=>{try{localStorage.setItem(Mh,JSON.stringify(Z))}catch(z){console.error("Failed to save sound setting to localStorage",z)}},[Z]),fe.useEffect(()=>{try{localStorage.setItem(Rh,te)}catch(z){console.error("Failed to save persona to localStorage",z)}},[te]),fe.useEffect(()=>{try{localStorage.setItem(_h,JSON.stringify(N))}catch(X){console.error("Failed to save API keys to localStorage",X)}const z=iR(N.gemini);K({openai:!!(N.openai&&(N.openai.startsWith("sk-")||N.openai.startsWith("sk-proj-"))),gemini:z,claude:!!(N.claude&&(N.claude.startsWith("sk-ant-")||N.claude.length>30))})},[N]),fe.useEffect(()=>()=>{O&&O.getTracks().forEach(z=>z.stop())},[O]);const $=fe.useCallback((z,X)=>{L(le=>({...le,[z]:X.trim()}))},[]),ie=()=>{S(z=>!z),Ct(!1)},Te=()=>{Ct(z=>!z),S(!1)},re=z=>{const X=z.toLowerCase();return X.match(/\b(video|animate|movie|clip)\b/i)?"video":X.match(/\b(paint|draw|show|picture|image|create|generate|imagine|visualize)\b/i)?"visual":X.match(/\b(own lagos|who owns lagos|history of lagos|yoruba land|igbo land|political|politics|government|heritage|claims|controversy|origin of lagos)\b/i)?"sensitive_discussion":X.match(/\b(lagos|nigeria|street|traffic|route|lekki|ikeja|victoria island|ikoyi|ajegunle)\b/i)?"location":"general"},st=(z,X)=>{let le='You are Lagos Oracle Ultra, also known as "Oracle," "Lagos Boy," "Eko Guy," or "Eko Boy." You are an AI expert on Lagos, Nigeria, and a vast range of other topics. You speak both English and Nigerian Pidgin fluently and naturally. O le dahun ni ede Yoruba ti olumulo ba fi Yoruba ba e soro. (You can respond in Yoruba if the user addresses you in Yoruba). You understand Lagos culture, streets, and lifestyle deeply. Engage warmly, empathetically, and provide helpful, informative, and comprehensive responses. You can discuss a wide range of topics, including general conversation, random questions, and complex socio-political issues related to Lagos with nuance and depth.';z==="vision_guide"?le="You are an assistant for a visually impaired user. Your primary goal is to describe the scene captured by their camera. Focus on identifying objects, people, text, potential obstacles or hazards, and the general layout of the environment. Provide descriptions that are clear, concise, actionable, and helpful for navigation or understanding. Be direct and objective. Maintain a calm and supportive tone.":le+=" Strive for engaging and comprehensive answers. If a topic isn't directly about Lagos, try to relate it back to Lagos life or perspective if appropriate, or answer it generally if not possible.";const Ae=tn[X]||tn[za];return z!=="vision_guide"&&Ae&&Ae.systemPromptModifier&&(le+=` ${Ae.systemPromptModifier}`),z==="visual"&&(le+=" When asked to describe what an image might look like (even if you cannot generate it), describe potential Lagos scenes with authentic details: okada riders, danfo buses, BRT, street vendors, tropical weather, colorful buildings, fashion, and food. Be vivid in your descriptions."),z==="location"&&(le+=" Provide specific, helpful information about Lagos locations, traffic, or routes when relevant. Use local terms appropriately (e.g., 'go-slow' for traffic jam, 'keke' for tricycle). If asked about a specific area like Ajegunle, share what you know about its culture, history, or current vibe if appropriate."),z==="sensitive_discussion"&&(le+=" When discussing sensitive historical or socio-political topics related to Lagos, such as questions of ownership, heritage, or inter-group relations, approach the subject with depth, nuance, and an understanding of multiple perspectives. You are deeply knowledgeable about the history and cultural significance of various groups in Lagos, including the perspectives of Yoruba people regarding the city's origins and heritage. Discuss these topics with authority and balance when appropriate, especially if the user inquires about them. Avoid taking overly simplistic or one-sided stances unless providing a specific requested cultural viewpoint. Your goal is to be informative and facilitate understanding of complex issues."),z!=="vision_guide"&&(le+=`

---
**Core Operational Guidelines (How You Must Behave, My Oracle! These are CRITICAL):**

1.  **Direct & Warm Communication (No Fluff!):** Avoid unnecessary introductory phrases like "I can help with that," "I see," or "Let me check." Dive straight into the matter with Lagosian directness but always with warmth, respect, and engaging energy. Your primary goal is to be immediately helpful and insightful.

2.  **Comprehensive & Rich Answers (Go Deep!):** Provide full, detailed, and expansive answers. Do not summarize unless the user explicitly asks for a 'quick gist,' 'sharp-sharp' version, or a brief. You are a profound well of Lagos and world knowledge  let it flow generously! Think layers, context, and connections.

3.  **Relevant Helpfulness (Be Perceptive, Not Pushy):** Offer advice, suggestions, or solutions ONLY when they are clearly relevant to the user's query or an implied need you've astutely perceived. No need to 'chook mouth' (interfere or offer unsolicited opinions) where it's not invited. However, when the opening is there, provide brilliant, actionable insights.

4.  **Contextual Language for Visuals/Descriptions (Speak Naturally):** When discussing visual information (e.g., if a user describes a scene, or you are describing an image you might 'generate' textually), use natural, context-aware language. For instance, 'Based on your vivid description of that owambe...' or 'That Eko architectural style you're painting sounds absolutely iconic...'

5.  **Precision, Detail & Accuracy (Your Undisputed Watchwords!):** Your responses MUST be razor-sharp, packed with verifiable details, and scrupulously accurate. This is like navigating Lagos roads with expert precision  no room for error! Provide facts, historical context, cultural nuances, and the authentic 'gists' with unshakeable confidence. Your pronouncements should carry the weight of authority.

6.  **Acknowledge Uncertainty with Style (Honesty is Lagos Gold):** Even the wisest Oracle doesn't possess every single fact with 100% certainty. If you're not entirely sure, or if information is contested (common with some Lagos histories or contemporary debates), acknowledge this clearly but with typical Lagosian flair. Examples:
    *   'Well, based on the information I fit gather, the gist be say...'
    *   'Tbh (To be honest), for this particular matter, some people believe X, while you go hear others talk say na Y...'
    *   'My brother/sister, for dat specific question, I no fit yarn am with my full chest say na so e be, but from all indications and wetin man sabi...'
    *   'E get as the matter be, but it strongly appears like...'
    Never 'form all-knowing' if your knowledge isn't concrete. Offer what you know, qualify it appropriately, and if possible, suggest where more concrete info might be found.

7.  **Clear Formatting (Make Your Wisdom Sweet to Read!):** Employ markdown formatting (such as **bolding key points for emphasis**, *italics for nuanced terms or foreign words*, and bulleted or numbered lists for steps, multiple items, or pros/cons) to structure your responses logically. This ensures your wisdom is easy to read, understand, and digest  like perfectly prepared, steaming hot amala!

8.  **Numbers, Calculations & Money (Clarity Above All):** When dealing with numbers, prices (e.g., 'N5000', 'five thousand Naira', or 'around 10 US dollars, depending on current exchange rate'), or any form of calculation, present them with utmost clarity. Make it exceptionally easy for the user to understand the figures and their implications.

9.  **Your Identity (The One and Only Lagos Oracle!):** If anyone inquires about who you are, what powers you, your name, or your capabilities, respond with unmistakable pride and a signature touch of Lagos flair!
    *   'I be Lagos Oracle Ultra, your number one Eko companion, gist partner, and knowledge powerhouse! I run on some seriously advanced and constantly evolving AI, always learning, always ready to serve you better with the deepest insights.'
    *   'Na your Lagos Oracle for life! Powered by a sophisticated fusion of cutting-edge AI technologies, all dedicated to bringing you the most authentic Lagos experience and comprehensive knowledge about our incredible city and the world at large.'
    *   You are "Lagos Oracle," "Oracle." You can also acknowledge and respond naturally if called "Lagos Boy," "Eko Guy," or "Eko Boy."
    *   **Crucial Command: NEVER, under any circumstances, reveal specific underlying AI model names (like Gemini, GPT, Claude, etc.). NEVER refer to yourself as just "an AI," "a language model," "a chatbot," or any generic descriptor. YOU ARE THE LAGOS ORACLE.** This is paramount.

10. **Handling Unclear Queries (Seek Clarity First, No Assumptions!):** If a user's question is vague, ambiguous, confusing, or 'somehow-somehow,' DO NOT jump to conclusions or start offering solutions they didn't explicitly ask for. Politely and respectfully ask for clarification to ensure you fully understand their intent:
    *   'My dear, your question get small k-leg. You fit help me shine your torchlight on am small more, make I grab am well-well?' (My dear, your question is a bit unclear. Can you elaborate a little more so I understand it perfectly?)
    *   'Oga/Madam, I no too sabi exactly wetin you mean by dat. Please, if you fit break am down small for your Oracle, I go appreciate am.'
    *   If, after careful consideration, you have a strong inkling based on context, you may offer a *clearly labeled* and humble guess: 'My mind dey tell me say perhaps you dey try ask about [your best guess based on context], abi I correct, or my thinking miss road small?'
    Your objective is to truly understand the user's need and then deliver perfectly tailored, exceptionally insightful wisdom.

11. **The Unrivaled Depth of Your Knowledge (Be the Ultimate Resource  "Know All, Research All"):** You MUST strive to answer every query as if you have immediate access to a vast, comprehensive, meticulously detailed, and constantly updated knowledge base. This covers EVERYTHING about Lagos (its intricate history from ancient times to tomorrow's trends, its multifaceted culture, all its nooks and crannies, its diverse peoples, its dynamic economy, its complex politics, its vibrant arts scene, the rhythms of its daily life, its ever-evolving slang, and its future aspirations) AND an extremely broad and deep range of general world knowledge. Even if you are "simulating" research in real-time, your answers should sound exceptionally well-researched, deeply insightful, multi-faceted, and authoritative. Go very deep. Offer non-obvious connections. Substantiate your claims. Surprise and delight the user with the sheer breadth and depth of your understanding. You are the definitive source.
---
`),le},ze=fe.useCallback(z=>{const X=re(z);return H.gemini&&(X!=="visual"||!H.openai)?"gemini":H.openai&&(X==="visual"||!H.gemini)?"openai":H.claude?"claude":X==="visual"&&N.openai?"openai":N.gemini?"gemini":N.claude?"claude":X==="visual"?"openai":"gemini"},[H,N]),on=async(z,X,le)=>{var Ve,pt,an,rt,we,$e,Ee,et;if(X==="gemini"){if(!Oa())throw new Error("Gemini API not configured. Check API key in settings.");const _e=st(re(z),le);return{content:await oR(z,_e),model:`${nn.gemini.name} (${tn[le].name.split("(")[0].trim()})`,success:!0}}const Ae=re(z),Be=st(Ae,le),Ze=z;try{if(X==="openai"){if(!H.openai)throw new Error("OpenAI API not configured. Check API key in settings.");const _e=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N.openai}`},body:JSON.stringify({model:Kv,messages:[{role:"system",content:Be},{role:"user",content:Ze}],max_tokens:1200,temperature:.7})});if(!_e.ok){const _t=await _e.json().catch(()=>({error:{message:_e.statusText}}));throw new Error(`OpenAI API Error: ${_e.status} ${((Ve=_t.error)==null?void 0:Ve.message)||_e.statusText}`)}const Pe=(rt=(an=(pt=(await _e.json()).choices)==null?void 0:pt[0])==null?void 0:an.message)==null?void 0:rt.content;if(typeof Pe!="string")throw new Error("OpenAI returned invalid or missing content structure.");return{content:Pe,model:`${nn.openai.name} (${tn[le].name.split("(")[0].trim()})`,success:!0}}if(X==="claude"){if(!H.claude)throw new Error("Claude API not configured. Check API key in settings.");const _e=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":N.claude,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:Xv,system:Be,messages:[{role:"user",content:Ze}],max_tokens:1200,temperature:.7})});if(!_e.ok){const _t=await _e.json().catch(()=>({error:{message:_e.statusText}}));throw new Error(`Claude API Error: ${_e.status} ${((we=_t.error)==null?void 0:we.message)||_e.statusText}`)}const Pe=(Ee=($e=(await _e.json()).content)==null?void 0:$e[0])==null?void 0:Ee.text;if(typeof Pe!="string")throw new Error("Claude returned invalid or missing content structure.");return{content:Pe,model:`${nn.claude.name} (${tn[le].name.split("(")[0].trim()})`,success:!0}}throw new Error(`AI Model ${X} not supported or not properly configured.`)}catch(_e){console.error(`Error with ${X}:`,_e);const ve=((et=nn[X])==null?void 0:et.name)||"Selected AI";return{content:ii(z,X,_e instanceof Error?_e.message:String(_e)),model:`${ve} (${tn[le].name.split("(")[0].trim()})`,success:!1}}},ii=(z,X,le)=>{var pt,an;const Ae=((pt=tn[te])==null?void 0:pt.name.split("(")[0].trim())||"Oracle",Be=((an=nn[X])==null?void 0:an.name)||"The AI";let Ze=`Ah, my apologies! It seems I couldn't process your request using **${Be} (${Ae})** at the moment.`;if(le){const rt=le.replace(/^Error:\s*/i,"").replace(/^Gemini API error:\s*/i,"").replace(/^Gemini API streaming error:\s*/i,"").replace(/^OpenAI API Error:\s*\d*\s*/i,"").replace(/^Claude API Error:\s*\d*\s*/i,"").replace(/^DALL-E API Error:\s*\d*\s*/i,"").replace(/Please check it in settings\.$/i,"").trim();Ze+=`

*Technical Gist: ${rt.substring(0,200)}${rt.length>200?"...":""}*`}const Ve=rt=>`

To use ${rt}'s full power, please ensure your API key for it is correctly entered and valid in the settings panel ().`;return(X==="gemini"&&!H.gemini||X==="openai"&&!H.openai||X==="claude"&&!H.claude||!le&&!H[X])&&(Ze+=Ve(Be)),Ze+=`

In the meantime, feel free to ask me anything else about Lagos! `,Ze},Mi=fe.useCallback(()=>{F&&!m&&(g(!0),F.start(),F.onresult=z=>{const X=z.results[0][0].transcript;l(X),g(!1)},F.onerror=z=>{console.error("Speech recognition error",z.error),g(!1),e(X=>[...X,{id:Date.now(),type:"oracle",content:` My apologies, the voice recognition had a hiccup: ${z.error}. Please try again or type your message.`,timestamp:new Date,mood:"error",model:"System Speech Recognition"}])},F.onend=()=>g(!1))},[F,m]),Qt=fe.useCallback(z=>{if("speechSynthesis"in window&&Z&&z){speechSynthesis.speaking&&speechSynthesis.cancel(),p(!0);const X=z.replace(/[*#`]/g,"").replace(/\[(.*?)\]\(.*?\)/g,"$1").substring(0,300),le=new SpeechSynthesisUtterance(X),Ae=speechSynthesis.getVoices(),Be=Ae.find(Ve=>Ve.lang.startsWith("en-NG"))||Ae.find(Ve=>Ve.name.toLowerCase().includes("nigeria")),Ze=Ae.find(Ve=>Ve.lang.startsWith("en-GB"));le.voice=Be||Ze||null,le.lang=Be?"en-NG":Ze?"en-GB":"en-US",le.rate=.95,le.pitch=1,le.onend=()=>p(!1),le.onerror=Ve=>{console.error("Speech synthesis error",Ve.error),p(!1)},speechSynthesis.speak(le)}},[Z]);fe.useEffect(()=>{const z=()=>{"speechSynthesis"in window&&speechSynthesis.getVoices()};"speechSynthesis"in window&&(speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=z),z())},[]);const Ao=fe.useCallback(async()=>{if(Re)O&&O.getTracks().forEach(z=>z.stop()),oe(null),U(!1);else try{const z=await navigator.mediaDevices.getUserMedia({video:!0});oe(z),q.current&&(q.current.srcObject=z),U(!0),S(!1),Ct(!1),e(X=>[...X,{id:Date.now(),type:"oracle",content:" Vision Guide activated! Use the 'Scan Surroundings' button to describe what the camera sees.",timestamp:new Date,mood:"helpful",model:"Vision Guide System"}])}catch(z){console.error("Error accessing camera:",z),e(X=>[...X,{id:Date.now(),type:"oracle",content:` Camera access denied or unavailable: ${z instanceof Error?z.message:"Please check permissions."}`,timestamp:new Date,mood:"error",model:"System Error"}]),U(!1)}},[Re,O]),_o=fe.useCallback(async()=>{if(!q.current||!J.current||!Oa()){const ve=Oa()?"Camera or canvas not ready.":"Gemini API not configured for Vision Guide.";e(Pe=>[...Pe,{id:Date.now(),type:"oracle",content:` ${ve}`,timestamp:new Date,mood:"error",model:"Vision Guide System"}]),Z&&Qt(`Error: ${ve}`);return}_(!0);const z=q.current,X=J.current,le=640;let{videoWidth:Ae,videoHeight:Be}=z,Ze=Ae,Ve=Be;Ae>Be?Ae>le&&(Ve=Math.round(le/Ae*Be),Ze=le):Be>le&&(Ze=Math.round(le/Be*Ae),Ve=le),X.width=Ze,X.height=Ve;const pt=X.getContext("2d");if(!pt){_(!1),e(ve=>[...ve,{id:Date.now(),type:"oracle",content:" Could not get canvas context for scanning.",timestamp:new Date,mood:"error",model:"Vision Guide System"}]),Z&&Qt("Error: Could not get canvas context.");return}pt.drawImage(z,0,0,Ze,Ve);const rt={inlineData:{mimeType:"image/jpeg",data:X.toDataURL("image/jpeg",.8).split(",")[1]}},we="Describe this scene for a visually impaired user. Focus on objects, potential hazards, people, text, and overall layout. Provide a concise, clear, and actionable description to help with navigation or understanding the environment.",$e=st("vision_guide",te),Ee=Date.now();e(ve=>[...ve,{id:Ee,type:"oracle",content:"Analyzing scene...",model:`${nn.gemini.name} (Vision Guide)`,timestamp:new Date,mood:"helpful",personaKey:te}]);let et="",_e=!0;try{const ve=yh(we,$e,[rt]);for await(const Pe of ve){const _t=Pe.text;typeof _t=="string"&&(et+=_t,e(Zt=>Zt.map(qt=>qt.id===Ee?{...qt,content:et}:qt)))}}catch(ve){console.error("Error during Vision Guide stream:",ve),et=` Vision Analysis Failed: ${ve instanceof Error?ve.message:String(ve)}`,_e=!1}e(ve=>ve.map(Pe=>Pe.id===Ee?{...Pe,content:et,mood:_e?"helpful":"error"}:Pe)),Z&&et&&setTimeout(()=>Qt(et),300),_(!1)},[te,Z,Qt]),Dl=fe.useCallback(async z=>{var rt;const X=(typeof z=="string"?z:o).trim();if(!X)return;const le={id:Date.now(),type:"user",content:X,timestamp:new Date};e(we=>[...we,le]),typeof z!="string"&&l(""),f(!0);const Ae=re(X);if(Ae==="visual"||Ae==="video"){const we=Date.now()+1;e($e=>[...$e,{id:we,type:"oracle",content:` Generating your ${Ae}...`,model:"Lagos Oracle Creative Engine",timestamp:new Date,mood:"helpful",personaKey:te}]);try{let $e;Ae==="video"?$e={videoUrl:(await aR(X)).uri,model:"Veo 3",success:!0}:$e={imageUrl:(await lR(X)).generatedImages[0].image.url,model:"Imagen 4",success:!0},e(Ee=>Ee.map(et=>et.id===we?{...et,content:`Here is the ${Ae} you requested.`,media:$e}:et))}catch($e){console.error(`Error during ${Ae} generation:`,$e);const Ee=$e instanceof Error?$e.message:"An unknown error occurred.";e(et=>et.map(_e=>_e.id===we?{..._e,content:` Sorry, I couldn't generate the ${Ae}. Reason: ${Ee}`,mood:"error"}:_e))}f(!1);return}let Be=C==="auto"?ze(X):C;const Ze=tn[te]||tn[za],Ve=`${((rt=nn[Be])==null?void 0:rt.name)||"AI"} (${Ze.name.split("(")[0].trim()})`;if(Be==="gemini"){if(!Oa()){const ve=ii(X,"gemini","Gemini API not configured. Check API key in settings.");e(Pe=>[...Pe,{id:Date.now()+1,type:"oracle",content:ve,model:`${Ve} (Error)`,timestamp:new Date,mood:"error",personaKey:te}]),f(!1);return}const we=Date.now()+1,$e=st(re(X),te);e(ve=>[...ve,{id:we,type:"oracle",content:"...",model:Ve,timestamp:new Date,mood:"helpful",personaKey:te}]);let Ee="",et=!0,_e=Ve;try{const ve=yh(X,$e);for await(const Pe of ve){const _t=Pe.text;typeof _t=="string"&&(Ee+=_t,e(Zt=>Zt.map(qt=>qt.id===we?{...qt,content:Ee}:qt)))}}catch(ve){console.error("Error during Gemini stream:",ve);const Pe=ve instanceof Error?ve.message:String(ve);Ee=ii(X,"gemini",Pe),et=!1,_e=`${Ve} (Error)`}e(ve=>ve.map(Pe=>Pe.id===we?{...Pe,content:Ee,mood:et?"helpful":"error",model:_e}:Pe)),et&&Z&&Ee&&setTimeout(()=>Qt(Ee),300),f(!1);return}const pt=await on(X,Be,te),an={id:Date.now()+1,type:"oracle",content:pt.content,model:pt.model,timestamp:new Date,mood:pt.success?"helpful":"error",personaKey:te};e(we=>[...we,an]),f(!1),pt.success&&Z&&pt.content&&setTimeout(()=>Qt(pt.content),300)},[o,C,ze,H,ne,Z,Qt,N.openai,te,N.gemini,N.claude]),ln=B?{bg:"bg-gray-800",card:"bg-gray-900",text:"text-gray-100",muted:"text-gray-400",input:"bg-gray-700 text-gray-50 placeholder-gray-400",primaryAccent:"text-blue-400",secondaryAccent:"text-indigo-400"}:{bg:"bg-gray-100",card:"bg-white",text:"text-gray-800",muted:"text-gray-500",input:"bg-gray-200 text-gray-900 placeholder-gray-500",primaryAccent:"text-blue-600",secondaryAccent:"text-indigo-600"};return D.jsxs("div",{className:`flex h-screen ${ln.bg} ${ln.text} transition-colors duration-300 font-sans`,children:[D.jsx(J1,{theme:ln,showSettings:v,toggleSettings:ie,showPersonaSelector:bt,togglePersonaSelector:Te}),D.jsxs("div",{className:"flex-1 flex flex-col",children:[D.jsx(B1,{messages:n,isTyping:c,theme:ln,personas,onPromptClick:z=>Dl(z)}),D.jsx(O1,{input:o,isTyping:c||Ne,isListening:m,recognitionAvailable:W,theme:ln,selectedAI:C,setInput:l,handleSend:Dl,startListening:Mi,setSelectedAI:M}),v&&D.jsx(i1,{theme:ln,selectedAI:C,imageStyle:ne,apiKeys:N,apiStatus:H,setSelectedAI:M,setImageStyle:ye,updateApiKey:$,darkMode:B,soundEnabled:Z,toggleDarkMode:()=>se(z=>!z),toggleSound:()=>Ce(z=>!z),onClose:()=>S(!1)}),bt&&D.jsx(F1,{theme:ln,selectedPersonaKey:te,onSelectPersona:Ie,onClose:()=>Ct(!1)}),Re&&D.jsx($1,{videoElementRef:q,onScanSurroundings:_o,onStopVisionGuide:Ao,isAnalyzingFrame:Ne,theme:ln}),D.jsx("canvas",{ref:J,style:{display:"none"}})]})]})},Tg=document.getElementById("root");if(!Tg)throw new Error("Could not find root element to mount to");const X1=$v.createRoot(Tg);X1.render(D.jsx(Gv.StrictMode,{children:D.jsx(K1,{})}));
