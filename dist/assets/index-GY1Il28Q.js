var _S=Object.defineProperty;var SS=(t,e,i)=>e in t?_S(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var ct=(t,e,i)=>SS(t,typeof e!="symbol"?e+"":e,i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerPolicy&&(f.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?f.credentials="include":l.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(l){if(l.ep)return;l.ep=!0;const f=i(l);fetch(l.href,f)}})();function jv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rd={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function ES(){if(Ug)return Vl;Ug=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,f){var h=null;if(f!==void 0&&(h=""+f),l.key!==void 0&&(h=""+l.key),"key"in l){f={};for(var m in l)m!=="key"&&(f[m]=l[m])}else f=l;return l=f.ref,{$$typeof:t,type:s,key:h,ref:l!==void 0?l:null,props:f}}return Vl.Fragment=e,Vl.jsx=i,Vl.jsxs=i,Vl}var Lg;function CS(){return Lg||(Lg=1,rd.exports=ES()),rd.exports}var M=CS(),ld={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function AS(){if(Pg)return be;Pg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),E=Symbol.iterator;function A(O){return O===null||typeof O!="object"?null:(O=E&&O[E]||O["@@iterator"],typeof O=="function"?O:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,F={};function Q(O,W,ue){this.props=O,this.context=W,this.refs=F,this.updater=ue||I}Q.prototype.isReactComponent={},Q.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},Q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ae(){}ae.prototype=Q.prototype;function se(O,W,ue){this.props=O,this.context=W,this.refs=F,this.updater=ue||I}var ie=se.prototype=new ae;ie.constructor=se,L(ie,Q.prototype),ie.isPureReactComponent=!0;var fe=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function k(O,W,ue,re,Te,Ie){return ue=Ie.ref,{$$typeof:t,type:O,key:W,ref:ue!==void 0?ue:null,props:Ie}}function b(O,W){return k(O.type,W,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function P(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ue){return W[ue]})}var N=/\/+/g;function B(O,W){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):W.toString(36)}function U(){}function at(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(U,U):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Be(O,W,ue,re,Te){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var Ce=!1;if(O===null)Ce=!0;else switch(Ie){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(O.$$typeof){case t:case e:Ce=!0;break;case T:return Ce=O._init,Be(Ce(O._payload),W,ue,re,Te)}}if(Ce)return Te=Te(O),Ce=re===""?"."+B(O,0):re,fe(Te)?(ue="",Ce!=null&&(ue=Ce.replace(N,"$&/")+"/"),Be(Te,W,ue,"",function(Ht){return Ht})):Te!=null&&(R(Te)&&(Te=b(Te,ue+(Te.key==null||O&&O.key===Te.key?"":(""+Te.key).replace(N,"$&/")+"/")+Ce)),W.push(Te)),1;Ce=0;var yt=re===""?".":re+":";if(fe(O))for(var Ye=0;Ye<O.length;Ye++)re=O[Ye],Ie=yt+B(re,Ye),Ce+=Be(re,W,ue,Ie,Te);else if(Ye=A(O),typeof Ye=="function")for(O=Ye.call(O),Ye=0;!(re=O.next()).done;)re=re.value,Ie=yt+B(re,Ye++),Ce+=Be(re,W,ue,Ie,Te);else if(Ie==="object"){if(typeof O.then=="function")return Be(at(O),W,ue,re,Te);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function X(O,W,ue){if(O==null)return O;var re=[],Te=0;return Be(O,re,"","",function(Ie){return W.call(ue,Ie,Te++)}),re}function ce(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(ue){(O._status===0||O._status===-1)&&(O._status=1,O._result=ue)},function(ue){(O._status===0||O._status===-1)&&(O._status=2,O._result=ue)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ue(){}return be.Children={map:X,forEach:function(O,W,ue){X(O,function(){W.apply(this,arguments)},ue)},count:function(O){var W=0;return X(O,function(){W++}),W},toArray:function(O){return X(O,function(W){return W})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},be.Component=Q,be.Fragment=i,be.Profiler=l,be.PureComponent=se,be.StrictMode=s,be.Suspense=y,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,be.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ne.H.useMemoCache(O)}},be.cache=function(O){return function(){return O.apply(null,arguments)}},be.cloneElement=function(O,W,ue){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=L({},O.props),Te=O.key,Ie=void 0;if(W!=null)for(Ce in W.ref!==void 0&&(Ie=void 0),W.key!==void 0&&(Te=""+W.key),W)!he.call(W,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&W.ref===void 0||(re[Ce]=W[Ce]);var Ce=arguments.length-2;if(Ce===1)re.children=ue;else if(1<Ce){for(var yt=Array(Ce),Ye=0;Ye<Ce;Ye++)yt[Ye]=arguments[Ye+2];re.children=yt}return k(O.type,Te,void 0,void 0,Ie,re)},be.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:f,_context:O},O},be.createElement=function(O,W,ue){var re,Te={},Ie=null;if(W!=null)for(re in W.key!==void 0&&(Ie=""+W.key),W)he.call(W,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(Te[re]=W[re]);var Ce=arguments.length-2;if(Ce===1)Te.children=ue;else if(1<Ce){for(var yt=Array(Ce),Ye=0;Ye<Ce;Ye++)yt[Ye]=arguments[Ye+2];Te.children=yt}if(O&&O.defaultProps)for(re in Ce=O.defaultProps,Ce)Te[re]===void 0&&(Te[re]=Ce[re]);return k(O,Ie,void 0,void 0,null,Te)},be.createRef=function(){return{current:null}},be.forwardRef=function(O){return{$$typeof:m,render:O}},be.isValidElement=R,be.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:ce}},be.memo=function(O,W){return{$$typeof:g,type:O,compare:W===void 0?null:W}},be.startTransition=function(O){var W=ne.T,ue={};ne.T=ue;try{var re=O(),Te=ne.S;Te!==null&&Te(ue,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Ue,me)}catch(Ie){me(Ie)}finally{ne.T=W}},be.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},be.use=function(O){return ne.H.use(O)},be.useActionState=function(O,W,ue){return ne.H.useActionState(O,W,ue)},be.useCallback=function(O,W){return ne.H.useCallback(O,W)},be.useContext=function(O){return ne.H.useContext(O)},be.useDebugValue=function(){},be.useDeferredValue=function(O,W){return ne.H.useDeferredValue(O,W)},be.useEffect=function(O,W,ue){var re=ne.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(O,W)},be.useId=function(){return ne.H.useId()},be.useImperativeHandle=function(O,W,ue){return ne.H.useImperativeHandle(O,W,ue)},be.useInsertionEffect=function(O,W){return ne.H.useInsertionEffect(O,W)},be.useLayoutEffect=function(O,W){return ne.H.useLayoutEffect(O,W)},be.useMemo=function(O,W){return ne.H.useMemo(O,W)},be.useOptimistic=function(O,W){return ne.H.useOptimistic(O,W)},be.useReducer=function(O,W,ue){return ne.H.useReducer(O,W,ue)},be.useRef=function(O){return ne.H.useRef(O)},be.useState=function(O){return ne.H.useState(O)},be.useSyncExternalStore=function(O,W,ue){return ne.H.useSyncExternalStore(O,W,ue)},be.useTransition=function(){return ne.H.useTransition()},be.version="19.1.1",be}var Og;function Yd(){return Og||(Og=1,ld.exports=AS()),ld.exports}var ge=Yd();const Cs=jv(ge);var ad={exports:{}},Bl={},ud={exports:{}},cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg;function wS(){return Vg||(Vg=1,function(t){function e(X,ce){var me=X.length;X.push(ce);e:for(;0<me;){var Ue=me-1>>>1,O=X[Ue];if(0<l(O,ce))X[Ue]=ce,X[me]=O,me=Ue;else break e}}function i(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ce=X[0],me=X.pop();if(me!==ce){X[0]=me;e:for(var Ue=0,O=X.length,W=O>>>1;Ue<W;){var ue=2*(Ue+1)-1,re=X[ue],Te=ue+1,Ie=X[Te];if(0>l(re,me))Te<O&&0>l(Ie,re)?(X[Ue]=Ie,X[Te]=me,Ue=Te):(X[Ue]=re,X[ue]=me,Ue=ue);else if(Te<O&&0>l(Ie,me))X[Ue]=Ie,X[Te]=me,Ue=Te;else break e}}return ce}function l(X,ce){var me=X.sortIndex-ce.sortIndex;return me!==0?me:X.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;t.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();t.unstable_now=function(){return h.now()-m}}var y=[],g=[],T=1,E=null,A=3,I=!1,L=!1,F=!1,Q=!1,ae=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function fe(X){for(var ce=i(g);ce!==null;){if(ce.callback===null)s(g);else if(ce.startTime<=X)s(g),ce.sortIndex=ce.expirationTime,e(y,ce);else break;ce=i(g)}}function ne(X){if(F=!1,fe(X),!L)if(i(y)!==null)L=!0,he||(he=!0,B());else{var ce=i(g);ce!==null&&Be(ne,ce.startTime-X)}}var he=!1,k=-1,b=5,R=-1;function P(){return Q?!0:!(t.unstable_now()-R<b)}function N(){if(Q=!1,he){var X=t.unstable_now();R=X;var ce=!0;try{e:{L=!1,F&&(F=!1,se(k),k=-1),I=!0;var me=A;try{t:{for(fe(X),E=i(y);E!==null&&!(E.expirationTime>X&&P());){var Ue=E.callback;if(typeof Ue=="function"){E.callback=null,A=E.priorityLevel;var O=Ue(E.expirationTime<=X);if(X=t.unstable_now(),typeof O=="function"){E.callback=O,fe(X),ce=!0;break t}E===i(y)&&s(y),fe(X)}else s(y);E=i(y)}if(E!==null)ce=!0;else{var W=i(g);W!==null&&Be(ne,W.startTime-X),ce=!1}}break e}finally{E=null,A=me,I=!1}ce=void 0}}finally{ce?B():he=!1}}}var B;if(typeof ie=="function")B=function(){ie(N)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,at=U.port2;U.port1.onmessage=N,B=function(){at.postMessage(null)}}else B=function(){ae(N,0)};function Be(X,ce){k=ae(function(){X(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function(X){switch(A){case 1:case 2:case 3:var ce=3;break;default:ce=A}var me=A;A=ce;try{return X()}finally{A=me}},t.unstable_requestPaint=function(){Q=!0},t.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=A;A=X;try{return ce()}finally{A=me}},t.unstable_scheduleCallback=function(X,ce,me){var Ue=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ue+me:Ue):me=Ue,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=me+O,X={id:T++,callback:ce,priorityLevel:X,startTime:me,expirationTime:O,sortIndex:-1},me>Ue?(X.sortIndex=me,e(g,X),i(y)===null&&X===i(g)&&(F?(se(k),k=-1):F=!0,Be(ne,me-Ue))):(X.sortIndex=O,e(y,X),L||I||(L=!0,he||(he=!0,B()))),X},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(X){var ce=A;return function(){var me=A;A=ce;try{return X.apply(this,arguments)}finally{A=me}}}}(cd)),cd}var Bg;function xS(){return Bg||(Bg=1,ud.exports=wS()),ud.exports}var fd={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function RS(){if(Hg)return Kt;Hg=1;var t=Yd();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function f(y,g,T){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:y,containerInfo:g,implementation:T}}var h=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(y,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return f(y,g,null,T)},Kt.flushSync=function(y){var g=h.T,T=s.p;try{if(h.T=null,s.p=2,y)return y()}finally{h.T=g,s.p=T,s.d.f()}},Kt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},Kt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Kt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var T=g.as,E=m(T,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:I}):T==="script"&&s.d.X(y,{crossOrigin:E,integrity:A,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Kt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},Kt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,E=m(T,g.crossOrigin);s.d.L(y,T,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Kt.preloadModule=function(y,g){if(typeof y=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},Kt.requestFormReset=function(y){s.d.r(y)},Kt.unstable_batchedUpdates=function(y,g){return y(g)},Kt.useFormState=function(y,g,T){return h.H.useFormState(y,g,T)},Kt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Kt.version="19.1.1",Kt}var Gg;function MS(){if(Gg)return fd.exports;Gg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fd.exports=RS(),fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg;function bS(){if(qg)return Bl;qg=1;var t=xS(),e=Yd(),i=MS();function s(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)o+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function f(n){var o=n,r=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(r=o.return),n=o.return;while(n)}return o.tag===3?r:null}function h(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function m(n){if(f(n)!==n)throw Error(s(188))}function y(n){var o=n.alternate;if(!o){if(o=f(n),o===null)throw Error(s(188));return o!==n?null:n}for(var r=n,c=o;;){var p=r.return;if(p===null)break;var v=p.alternate;if(v===null){if(c=p.return,c!==null){r=c;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===r)return m(p),n;if(v===c)return m(p),o;v=v.sibling}throw Error(s(188))}if(r.return!==c.return)r=p,c=v;else{for(var C=!1,w=p.child;w;){if(w===r){C=!0,r=p,c=v;break}if(w===c){C=!0,c=p,r=v;break}w=w.sibling}if(!C){for(w=v.child;w;){if(w===r){C=!0,r=v,c=p;break}if(w===c){C=!0,c=v,r=p;break}w=w.sibling}if(!C)throw Error(s(189))}}if(r.alternate!==c)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?n:o}function g(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=g(n),o!==null)return o;n=n.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var U=Symbol.for("react.client.reference");function at(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===U?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case L:return"Fragment";case Q:return"Profiler";case F:return"StrictMode";case ne:return"Suspense";case he:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case ie:return(n.displayName||"Context")+".Provider";case se:return(n._context.displayName||"Context")+".Consumer";case fe:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return o=n.displayName||null,o!==null?o:at(n.type)||"Memo";case b:o=n._payload,n=n._init;try{return at(n(o))}catch{}}return null}var Be=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ue=[],O=-1;function W(n){return{current:n}}function ue(n){0>O||(n.current=Ue[O],Ue[O]=null,O--)}function re(n,o){O++,Ue[O]=n.current,n.current=o}var Te=W(null),Ie=W(null),Ce=W(null),yt=W(null);function Ye(n,o){switch(re(Ce,o),re(Ie,n),re(Te,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?ag(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=ag(o),n=ug(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(Te),re(Te,n)}function Ht(){ue(Te),ue(Ie),ue(Ce)}function Gn(n){n.memoizedState!==null&&re(yt,n);var o=Te.current,r=ug(o,n.type);o!==r&&(re(Ie,n),re(Te,r))}function wn(n){Ie.current===n&&(ue(Te),ue(Ie)),yt.current===n&&(ue(yt),Dl._currentValue=me)}var qn=Object.prototype.hasOwnProperty,hn=t.unstable_scheduleCallback,zn=t.unstable_cancelCallback,Go=t.unstable_shouldYield,qo=t.unstable_requestPaint,Qt=t.unstable_now,Vr=t.unstable_getCurrentPriorityLevel,zo=t.unstable_ImmediatePriority,Wn=t.unstable_UserBlockingPriority,Fn=t.unstable_NormalPriority,Ds=t.unstable_LowPriority,no=t.unstable_IdlePriority,Fo=t.log,$o=t.unstable_setDisableYieldValue,it=null,He=null;function Yt(n){if(typeof Fo=="function"&&$o(n),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(it,n)}catch{}}var Dt=Math.clz32?Math.clz32:Zt,io=Math.log,Br=Math.LN2;function Zt(n){return n>>>=0,n===0?32:31-(io(n)/Br|0)|0}var _i=256,jn=4194304;function pn(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Si(n,o,r){var c=n.pendingLanes;if(c===0)return 0;var p=0,v=n.suspendedLanes,C=n.pingedLanes;n=n.warmLanes;var w=c&134217727;return w!==0?(c=w&~v,c!==0?p=pn(c):(C&=w,C!==0?p=pn(C):r||(r=w&~n,r!==0&&(p=pn(r))))):(w=c&~v,w!==0?p=pn(w):C!==0?p=pn(C):r||(r=c&~n,r!==0&&(p=pn(r)))),p===0?0:o!==0&&o!==p&&(o&v)===0&&(v=p&-p,r=o&-o,v>=r||v===32&&(r&4194048)!==0)?o:p}function xt(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function J(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function te(){var n=_i;return _i<<=1,(_i&4194048)===0&&(_i=256),n}function oe(){var n=jn;return jn<<=1,(jn&62914560)===0&&(jn=4194304),n}function de(n){for(var o=[],r=0;31>r;r++)o.push(n);return o}function we(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ne(n,o,r,c,p,v){var C=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var w=n.entanglements,D=n.expirationTimes,z=n.hiddenUpdates;for(r=C&~r;0<r;){var Z=31-Dt(r),ee=1<<Z;w[Z]=0,D[Z]=-1;var $=z[Z];if($!==null)for(z[Z]=null,Z=0;Z<$.length;Z++){var Y=$[Z];Y!==null&&(Y.lane&=-536870913)}r&=~ee}c!==0&&Le(n,c,0),v!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=v&~(C&~o))}function Le(n,o,r){n.pendingLanes|=o,n.suspendedLanes&=~o;var c=31-Dt(o);n.entangledLanes|=o,n.entanglements[c]=n.entanglements[c]|1073741824|r&4194090}function pt(n,o){var r=n.entangledLanes|=o;for(n=n.entanglements;r;){var c=31-Dt(r),p=1<<c;p&o|n[c]&o&&(n[c]|=o),r&=~p}}function vt(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function It(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function dt(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:Mg(n.type))}function Et(n,o){var r=ce.p;try{return ce.p=n,o()}finally{ce.p=r}}var Me=Math.random().toString(36).slice(2),ke="__reactFiber$"+Me,_e="__reactProps$"+Me,xe="__reactContainer$"+Me,We="__reactEvents$"+Me,mn="__reactListeners$"+Me,xn="__reactHandles$"+Me,Rn="__reactResources$"+Me,Yo="__reactMarker$"+Me;function Jo(n){delete n[ke],delete n[_e],delete n[We],delete n[mn],delete n[xn]}function oo(n){var o=n[ke];if(o)return o;for(var r=n.parentNode;r;){if(o=r[xe]||r[ke]){if(r=o.alternate,o.child!==null||r!==null&&r.child!==null)for(n=hg(n);n!==null;){if(r=n[ke])return r;n=hg(n)}return o}n=r,r=n.parentNode}return null}function ei(n){if(n=n[ke]||n[xe]){var o=n.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return n}return null}function ti(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(s(33))}function Wt(n){var o=n[Rn];return o||(o=n[Rn]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ct(n){n[Yo]=!0}var Hr=new Set,Us={};function $n(n,o){Ei(n,o),Ei(n+"Capture",o)}function Ei(n,o){for(Us[n]=o,n=0;n<o.length;n++)Hr.add(o[n])}var aa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ua={},Ko={};function ca(n){return qn.call(Ko,n)?!0:qn.call(ua,n)?!1:aa.test(n)?Ko[n]=!0:(ua[n]=!0,!1)}function so(n,o,r){if(ca(o))if(r===null)n.removeAttribute(o);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+r)}}function ni(n,o,r){if(r===null)n.removeAttribute(o);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+r)}}function Gt(n,o,r,c){if(c===null)n.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(o,r,""+c)}}var Xo,fa;function Ci(n){if(Xo===void 0)try{throw Error()}catch(r){var o=r.stack.trim().match(/\n( *(at )?)/);Xo=o&&o[1]||"",fa=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xo+n+fa}var Ls=!1;function Ps(n,o){if(!n||Ls)return"";Ls=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var $=Y}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(Y){$=Y}n.call(ee.prototype)}}else{try{throw Error()}catch(Y){$=Y}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&$&&typeof Y.stack=="string")return[Y.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),C=v[0],w=v[1];if(C&&w){var D=C.split(`
`),z=w.split(`
`);for(p=c=0;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;for(;p<z.length&&!z[p].includes("DetermineComponentFrameRoot");)p++;if(c===D.length||p===z.length)for(c=D.length-1,p=z.length-1;1<=c&&0<=p&&D[c]!==z[p];)p--;for(;1<=c&&0<=p;c--,p--)if(D[c]!==z[p]){if(c!==1||p!==1)do if(c--,p--,0>p||D[c]!==z[p]){var Z=`
`+D[c].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=c&&0<=p);break}}}finally{Ls=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?Ci(r):""}function Gr(n){switch(n.tag){case 26:case 27:case 5:return Ci(n.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return Ps(n.type,!1);case 11:return Ps(n.type.render,!1);case 1:return Ps(n.type,!0);case 31:return Ci("Activity");default:return""}}function Os(n){try{var o="";do o+=Gr(n),n=n.return;while(n);return o}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function jt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qr(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function uc(n){var o=qr(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),c=""+n[o];if(!n.hasOwnProperty(o)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var p=r.get,v=r.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return p.call(this)},set:function(C){c=""+C,v.call(this,C)}}),Object.defineProperty(n,o,{enumerable:r.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Vs(n){n._valueTracker||(n._valueTracker=uc(n))}function zr(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var r=o.getValue(),c="";return n&&(c=qr(n)?n.checked?"true":"false":n.value),n=c,n!==r?(o.setValue(n),!0):!1}function Qo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var cc=/[\n"\\]/g;function Rt(n){return n.replace(cc,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function gn(n,o,r,c,p,v,C,w){n.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.type=C:n.removeAttribute("type"),o!=null?C==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+jt(o)):n.value!==""+jt(o)&&(n.value=""+jt(o)):C!=="submit"&&C!=="reset"||n.removeAttribute("value"),o!=null?ro(n,C,jt(o)):r!=null?ro(n,C,jt(r)):c!=null&&n.removeAttribute("value"),p==null&&v!=null&&(n.defaultChecked=!!v),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+jt(w):n.removeAttribute("name")}function Zo(n,o,r,c,p,v,C,w){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),o!=null||r!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;r=r!=null?""+jt(r):"",o=o!=null?""+jt(o):r,w||o===n.value||(n.value=o),n.defaultValue=o}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=w?n.checked:!!c,n.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(n.name=C)}function ro(n,o,r){o==="number"&&Qo(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function Ai(n,o,r,c){if(n=n.options,o){o={};for(var p=0;p<r.length;p++)o["$"+r[p]]=!0;for(r=0;r<n.length;r++)p=o.hasOwnProperty("$"+n[r].value),n[r].selected!==p&&(n[r].selected=p),p&&c&&(n[r].defaultSelected=!0)}else{for(r=""+jt(r),o=null,p=0;p<n.length;p++){if(n[p].value===r){n[p].selected=!0,c&&(n[p].defaultSelected=!0);return}o!==null||n[p].disabled||(o=n[p])}o!==null&&(o.selected=!0)}}function ot(n,o,r){if(o!=null&&(o=""+jt(o),o!==n.value&&(n.value=o),r==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=r!=null?""+jt(r):""}function Wo(n,o,r,c){if(o==null){if(c!=null){if(r!=null)throw Error(s(92));if(Be(c)){if(1<c.length)throw Error(s(93));c=c[0]}r=c}r==null&&(r=""),o=r}r=jt(o),n.defaultValue=r,c=n.textContent,c===r&&c!==""&&c!==null&&(n.value=c)}function Mn(n,o){if(o){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=o;return}}n.textContent=o}var jo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function da(n,o,r){var c=o.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":c?n.setProperty(o,r):typeof r!="number"||r===0||jo.has(o)?o==="float"?n.cssFloat=r:n[o]=(""+r).trim():n[o]=r+"px"}function Fr(n,o,r){if(o!=null&&typeof o!="object")throw Error(s(62));if(n=n.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var p in o)c=o[p],o.hasOwnProperty(p)&&r[p]!==c&&da(n,p,c)}else for(var v in o)o.hasOwnProperty(v)&&da(n,v,o[v])}function $r(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bs(n){return dc.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var wi=null;function bn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var xi=null,Ri=null;function Yr(n){var o=ei(n);if(o&&(n=o.stateNode)){var r=n[_e]||null;e:switch(n=o.stateNode,o.type){case"input":if(gn(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),o=r.name,r.type==="radio"&&o!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Rt(""+o)+'"][type="radio"]'),o=0;o<r.length;o++){var c=r[o];if(c!==n&&c.form===n.form){var p=c[_e]||null;if(!p)throw Error(s(90));gn(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<r.length;o++)c=r[o],c.form===n.form&&zr(c)}break e;case"textarea":ot(n,r.value,r.defaultValue);break e;case"select":o=r.value,o!=null&&Ai(n,!!r.multiple,o,!1)}}}var ii=!1;function ha(n,o,r){if(ii)return n(o,r);ii=!0;try{var c=n(o);return c}finally{if(ii=!1,(xi!==null||Ri!==null)&&(ru(),xi&&(o=xi,n=Ri,Ri=xi=null,Yr(o),n)))for(o=0;o<n.length;o++)Yr(n[o])}}function es(n,o){var r=n.stateNode;if(r===null)return null;var c=r[_e]||null;if(c===null)return null;r=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(s(231,o,typeof r));return r}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(Yn)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){In=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{In=!1}var oi=null,lo=null,Mi=null;function Jr(){if(Mi)return Mi;var n,o=lo,r=o.length,c,p="value"in oi?oi.value:oi.textContent,v=p.length;for(n=0;n<r&&o[n]===p[n];n++);var C=r-n;for(c=1;c<=C&&o[r-c]===p[v-c];c++);return Mi=p.slice(n,1<c?1-c:void 0)}function si(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function ri(){return!0}function Kr(){return!1}function Ut(n){function o(r,c,p,v,C){this._reactName=r,this._targetInst=p,this.type=c,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(r=n[w],this[w]=r?r(v):v[w]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ri:Kr,this.isPropagationStopped=Kr,this}return T(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),o}var je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=Ut(je),ns=T({},je,{view:0,detail:0}),pa=Ut(ns),Gs,qs,li,is=T({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==li&&(li&&n.type==="mousemove"?(Gs=n.screenX-li.screenX,qs=n.screenY-li.screenY):qs=Gs=0,li=n),Gs)},movementY:function(n){return"movementY"in n?n.movementY:qs}}),Nn=Ut(is),ma=T({},is,{dataTransfer:0}),hc=Ut(ma),os=T({},ns,{relatedTarget:0}),zs=Ut(os),Xr=T({},je,{animationName:0,elapsedTime:0,pseudoElement:0}),Fs=Ut(Xr),ga=T({},je,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),$s=Ut(ga),pc=T({},je,{data:0}),Qr=Ut(pc),ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ya={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},va={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zr(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=va[n])?!!o[n]:!1}function rs(){return Zr}var Ta=T({},ns,{key:function(n){if(n.key){var o=ss[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=si(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ya[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(n){return n.type==="keypress"?si(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?si(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ys=Ut(Ta),_a=T({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wr=Ut(_a),bi=T({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),Sa=Ut(bi),Ea=T({},je,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ca=Ut(Ea),Aa=T({},is,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),sn=Ut(Aa),wa=T({},je,{newState:0,oldState:0}),xa=Ut(wa),ao=[9,13,27,32],d=Yn&&"CompositionEvent"in window,_=null;Yn&&"documentMode"in document&&(_=document.documentMode);var S=Yn&&"TextEvent"in window&&!_,x=Yn&&(!d||_&&8<_&&11>=_),G=" ",K=!1;function le(n,o){switch(n){case"keyup":return ao.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Je(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var mt=!1;function Ge(n,o){switch(n){case"compositionend":return Je(o);case"keypress":return o.which!==32?null:(K=!0,G);case"textInput":return n=o.data,n===G&&K?null:n;default:return null}}function Lt(n,o){if(mt)return n==="compositionend"||!d&&le(n,o)?(n=Jr(),Mi=lo=oi=null,mt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return x&&o.locale!=="ko"?null:o.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ii(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!Pt[n.type]:o==="textarea"}function rn(n,o,r,c){xi?Ri?Ri.push(c):Ri=[c]:xi=c,o=du(o,"onChange"),0<o.length&&(r=new Hs("onChange","change",null,r,c),n.push({event:r,listeners:o}))}var ai=null,Ni=null;function XT(n){ig(n,0)}function Ra(n){var o=ti(n);if(zr(o))return n}function Ah(n,o){if(n==="change")return o}var wh=!1;if(Yn){var mc;if(Yn){var gc="oninput"in document;if(!gc){var xh=document.createElement("div");xh.setAttribute("oninput","return;"),gc=typeof xh.oninput=="function"}mc=gc}else mc=!1;wh=mc&&(!document.documentMode||9<document.documentMode)}function Rh(){ai&&(ai.detachEvent("onpropertychange",Mh),Ni=ai=null)}function Mh(n){if(n.propertyName==="value"&&Ra(Ni)){var o=[];rn(o,Ni,n,bn(n)),ha(XT,o)}}function QT(n,o,r){n==="focusin"?(Rh(),ai=o,Ni=r,ai.attachEvent("onpropertychange",Mh)):n==="focusout"&&Rh()}function ZT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ra(Ni)}function WT(n,o){if(n==="click")return Ra(o)}function jT(n,o){if(n==="input"||n==="change")return Ra(o)}function e_(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var yn=typeof Object.is=="function"?Object.is:e_;function jr(n,o){if(yn(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var r=Object.keys(n),c=Object.keys(o);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var p=r[c];if(!qn.call(o,p)||!yn(n[p],o[p]))return!1}return!0}function bh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ih(n,o){var r=bh(n);n=0;for(var c;r;){if(r.nodeType===3){if(c=n+r.textContent.length,n<=o&&c>=o)return{node:r,offset:o-n};n=c}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bh(r)}}function Nh(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?Nh(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function kh(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=Qo(n.document);o instanceof n.HTMLIFrameElement;){try{var r=typeof o.contentWindow.location.href=="string"}catch{r=!1}if(r)n=o.contentWindow;else break;o=Qo(n.document)}return o}function yc(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var t_=Yn&&"documentMode"in document&&11>=document.documentMode,Js=null,vc=null,el=null,Tc=!1;function Dh(n,o,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Tc||Js==null||Js!==Qo(c)||(c=Js,"selectionStart"in c&&yc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),el&&jr(el,c)||(el=c,c=du(vc,"onSelect"),0<c.length&&(o=new Hs("onSelect","select",null,o,r),n.push({event:o,listeners:c}),o.target=Js)))}function ls(n,o){var r={};return r[n.toLowerCase()]=o.toLowerCase(),r["Webkit"+n]="webkit"+o,r["Moz"+n]="moz"+o,r}var Ks={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},_c={},Uh={};Yn&&(Uh=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function as(n){if(_c[n])return _c[n];if(!Ks[n])return n;var o=Ks[n],r;for(r in o)if(o.hasOwnProperty(r)&&r in Uh)return _c[n]=o[r];return n}var Lh=as("animationend"),Ph=as("animationiteration"),Oh=as("animationstart"),n_=as("transitionrun"),i_=as("transitionstart"),o_=as("transitioncancel"),Vh=as("transitionend"),Bh=new Map,Sc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sc.push("scrollEnd");function Jn(n,o){Bh.set(n,o),$n(o,[n])}var Hh=new WeakMap;function kn(n,o){if(typeof n=="object"&&n!==null){var r=Hh.get(n);return r!==void 0?r:(o={value:n,source:o,stack:Os(o)},Hh.set(n,o),o)}return{value:n,source:o,stack:Os(o)}}var Dn=[],Xs=0,Ec=0;function Ma(){for(var n=Xs,o=Ec=Xs=0;o<n;){var r=Dn[o];Dn[o++]=null;var c=Dn[o];Dn[o++]=null;var p=Dn[o];Dn[o++]=null;var v=Dn[o];if(Dn[o++]=null,c!==null&&p!==null){var C=c.pending;C===null?p.next=p:(p.next=C.next,C.next=p),c.pending=p}v!==0&&Gh(r,p,v)}}function ba(n,o,r,c){Dn[Xs++]=n,Dn[Xs++]=o,Dn[Xs++]=r,Dn[Xs++]=c,Ec|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Cc(n,o,r,c){return ba(n,o,r,c),Ia(n)}function Qs(n,o){return ba(n,null,null,o),Ia(n)}function Gh(n,o,r){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r);for(var p=!1,v=n.return;v!==null;)v.childLanes|=r,c=v.alternate,c!==null&&(c.childLanes|=r),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(p=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,p&&o!==null&&(p=31-Dt(r),n=v.hiddenUpdates,c=n[p],c===null?n[p]=[o]:c.push(o),o.lane=r|536870912),v):null}function Ia(n){if(50<wl)throw wl=0,If=null,Error(s(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var Zs={};function s_(n,o,r,c){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(n,o,r,c){return new s_(n,o,r,c)}function Ac(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ki(n,o){var r=n.alternate;return r===null?(r=vn(n.tag,o,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=o,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,o=n.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function qh(n,o){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,o=r.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function Na(n,o,r,c,p,v){var C=0;if(c=n,typeof n=="function")Ac(n)&&(C=1);else if(typeof n=="string")C=lS(n,r,Te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=vn(31,r,o,p),n.elementType=R,n.lanes=v,n;case L:return us(r.children,p,v,o);case F:C=8,p|=24;break;case Q:return n=vn(12,r,o,p|2),n.elementType=Q,n.lanes=v,n;case ne:return n=vn(13,r,o,p),n.elementType=ne,n.lanes=v,n;case he:return n=vn(19,r,o,p),n.elementType=he,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ae:case ie:C=10;break e;case se:C=9;break e;case fe:C=11;break e;case k:C=14;break e;case b:C=16,c=null;break e}C=29,r=Error(s(130,n===null?"null":typeof n,"")),c=null}return o=vn(C,r,o,p),o.elementType=n,o.type=c,o.lanes=v,o}function us(n,o,r,c){return n=vn(7,n,c,o),n.lanes=r,n}function wc(n,o,r){return n=vn(6,n,null,o),n.lanes=r,n}function xc(n,o,r){return o=vn(4,n.children!==null?n.children:[],n.key,o),o.lanes=r,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var Ws=[],js=0,ka=null,Da=0,Un=[],Ln=0,cs=null,Di=1,Ui="";function fs(n,o){Ws[js++]=Da,Ws[js++]=ka,ka=n,Da=o}function zh(n,o,r){Un[Ln++]=Di,Un[Ln++]=Ui,Un[Ln++]=cs,cs=n;var c=Di;n=Ui;var p=32-Dt(c)-1;c&=~(1<<p),r+=1;var v=32-Dt(o)+p;if(30<v){var C=p-p%5;v=(c&(1<<C)-1).toString(32),c>>=C,p-=C,Di=1<<32-Dt(o)+p|r<<p|c,Ui=v+n}else Di=1<<v|r<<p|c,Ui=n}function Rc(n){n.return!==null&&(fs(n,1),zh(n,1,0))}function Mc(n){for(;n===ka;)ka=Ws[--js],Ws[js]=null,Da=Ws[--js],Ws[js]=null;for(;n===cs;)cs=Un[--Ln],Un[Ln]=null,Ui=Un[--Ln],Un[Ln]=null,Di=Un[--Ln],Un[Ln]=null}var en=null,_t=null,$e=!1,ds=null,ui=!1,bc=Error(s(519));function hs(n){var o=Error(s(418,""));throw il(kn(o,n)),bc}function Fh(n){var o=n.stateNode,r=n.type,c=n.memoizedProps;switch(o[ke]=n,o[_e]=c,r){case"dialog":Ve("cancel",o),Ve("close",o);break;case"iframe":case"object":case"embed":Ve("load",o);break;case"video":case"audio":for(r=0;r<Rl.length;r++)Ve(Rl[r],o);break;case"source":Ve("error",o);break;case"img":case"image":case"link":Ve("error",o),Ve("load",o);break;case"details":Ve("toggle",o);break;case"input":Ve("invalid",o),Zo(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Vs(o);break;case"select":Ve("invalid",o);break;case"textarea":Ve("invalid",o),Wo(o,c.value,c.defaultValue,c.children),Vs(o)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||o.textContent===""+r||c.suppressHydrationWarning===!0||lg(o.textContent,r)?(c.popover!=null&&(Ve("beforetoggle",o),Ve("toggle",o)),c.onScroll!=null&&Ve("scroll",o),c.onScrollEnd!=null&&Ve("scrollend",o),c.onClick!=null&&(o.onclick=hu),o=!0):o=!1,o||hs(n)}function $h(n){for(en=n.return;en;)switch(en.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:en=en.return}}function tl(n){if(n!==en)return!1;if(!$e)return $h(n),$e=!0,!1;var o=n.tag,r;if((r=o!==3&&o!==27)&&((r=o===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||Yf(n.type,n.memoizedProps)),r=!r),r&&_t&&hs(n),$h(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8)if(r=n.data,r==="/$"){if(o===0){_t=Xn(n.nextSibling);break e}o--}else r!=="$"&&r!=="$!"&&r!=="$?"||o++;n=n.nextSibling}_t=null}}else o===27?(o=_t,wo(n.type)?(n=Qf,Qf=null,_t=n):_t=o):_t=en?Xn(n.stateNode.nextSibling):null;return!0}function nl(){_t=en=null,$e=!1}function Yh(){var n=ds;return n!==null&&(un===null?un=n:un.push.apply(un,n),ds=null),n}function il(n){ds===null?ds=[n]:ds.push(n)}var Ic=W(null),ps=null,Li=null;function uo(n,o,r){re(Ic,o._currentValue),o._currentValue=r}function Pi(n){n._currentValue=Ic.current,ue(Ic)}function Nc(n,o,r){for(;n!==null;){var c=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),n===r)break;n=n.return}}function kc(n,o,r,c){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var v=p.dependencies;if(v!==null){var C=p.child;v=v.firstContext;e:for(;v!==null;){var w=v;v=p;for(var D=0;D<o.length;D++)if(w.context===o[D]){v.lanes|=r,w=v.alternate,w!==null&&(w.lanes|=r),Nc(v.return,r,n),c||(C=null);break e}v=w.next}}else if(p.tag===18){if(C=p.return,C===null)throw Error(s(341));C.lanes|=r,v=C.alternate,v!==null&&(v.lanes|=r),Nc(C,r,n),C=null}else C=p.child;if(C!==null)C.return=p;else for(C=p;C!==null;){if(C===n){C=null;break}if(p=C.sibling,p!==null){p.return=C.return,C=p;break}C=C.return}p=C}}function ol(n,o,r,c){n=null;for(var p=o,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var C=p.alternate;if(C===null)throw Error(s(387));if(C=C.memoizedProps,C!==null){var w=p.type;yn(p.pendingProps.value,C.value)||(n!==null?n.push(w):n=[w])}}else if(p===yt.current){if(C=p.alternate,C===null)throw Error(s(387));C.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(Dl):n=[Dl])}p=p.return}n!==null&&kc(o,n,r,c),o.flags|=262144}function Ua(n){for(n=n.firstContext;n!==null;){if(!yn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ms(n){ps=n,Li=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Jt(n){return Jh(ps,n)}function La(n,o){return ps===null&&ms(n),Jh(n,o)}function Jh(n,o){var r=o._currentValue;if(o={context:o,memoizedValue:r,next:null},Li===null){if(n===null)throw Error(s(308));Li=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else Li=Li.next=o;return r}var r_=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(r,c){n.push(c)}};this.abort=function(){o.aborted=!0,n.forEach(function(r){return r()})}},l_=t.unstable_scheduleCallback,a_=t.unstable_NormalPriority,Nt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dc(){return{controller:new r_,data:new Map,refCount:0}}function sl(n){n.refCount--,n.refCount===0&&l_(a_,function(){n.controller.abort()})}var rl=null,Uc=0,er=0,tr=null;function u_(n,o){if(rl===null){var r=rl=[];Uc=0,er=Of(),tr={status:"pending",value:void 0,then:function(c){r.push(c)}}}return Uc++,o.then(Kh,Kh),o}function Kh(){if(--Uc===0&&rl!==null){tr!==null&&(tr.status="fulfilled");var n=rl;rl=null,er=0,tr=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function c_(n,o){var r=[],c={status:"pending",value:null,reason:null,then:function(p){r.push(p)}};return n.then(function(){c.status="fulfilled",c.value=o;for(var p=0;p<r.length;p++)(0,r[p])(o)},function(p){for(c.status="rejected",c.reason=p,p=0;p<r.length;p++)(0,r[p])(void 0)}),c}var Xh=X.S;X.S=function(n,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&u_(n,o),Xh!==null&&Xh(n,o)};var gs=W(null);function Lc(){var n=gs.current;return n!==null?n:ft.pooledCache}function Pa(n,o){o===null?re(gs,gs.current):re(gs,o.pool)}function Qh(){var n=Lc();return n===null?null:{parent:Nt._currentValue,pool:n}}var ll=Error(s(460)),Zh=Error(s(474)),Oa=Error(s(542)),Pc={then:function(){}};function Wh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Va(){}function jh(n,o,r){switch(r=n[r],r===void 0?n.push(o):r!==o&&(o.then(Va,Va),o=r),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,tp(n),n;default:if(typeof o.status=="string")o.then(Va,Va);else{if(n=ft,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=o,n.status="pending",n.then(function(c){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=c}},function(c){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,tp(n),n}throw al=o,ll}}var al=null;function ep(){if(al===null)throw Error(s(459));var n=al;return al=null,n}function tp(n){if(n===ll||n===Oa)throw Error(s(483))}var co=!1;function Oc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vc(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function fo(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ho(n,o,r){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(et&2)!==0){var p=c.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),c.pending=o,o=Ia(n),Gh(n,null,r),o}return ba(n,c,o,r),Ia(n)}function ul(n,o,r){if(o=o.updateQueue,o!==null&&(o=o.shared,(r&4194048)!==0)){var c=o.lanes;c&=n.pendingLanes,r|=c,o.lanes=r,pt(n,r)}}function Bc(n,o){var r=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var p=null,v=null;if(r=r.firstBaseUpdate,r!==null){do{var C={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};v===null?p=v=C:v=v.next=C,r=r.next}while(r!==null);v===null?p=v=o:v=v.next=o}else p=v=o;r={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=o:n.next=o,r.lastBaseUpdate=o}var Hc=!1;function cl(){if(Hc){var n=tr;if(n!==null)throw n}}function fl(n,o,r,c){Hc=!1;var p=n.updateQueue;co=!1;var v=p.firstBaseUpdate,C=p.lastBaseUpdate,w=p.shared.pending;if(w!==null){p.shared.pending=null;var D=w,z=D.next;D.next=null,C===null?v=z:C.next=z,C=D;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==C&&(w===null?Z.firstBaseUpdate=z:w.next=z,Z.lastBaseUpdate=D))}if(v!==null){var ee=p.baseState;C=0,Z=z=D=null,w=v;do{var $=w.lane&-536870913,Y=$!==w.lane;if(Y?(qe&$)===$:(c&$)===$){$!==0&&$===er&&(Hc=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ae=n,Se=w;$=o;var lt=r;switch(Se.tag){case 1:if(Ae=Se.payload,typeof Ae=="function"){ee=Ae.call(lt,ee,$);break e}ee=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Se.payload,$=typeof Ae=="function"?Ae.call(lt,ee,$):Ae,$==null)break e;ee=T({},ee,$);break e;case 2:co=!0}}$=w.callback,$!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=p.callbacks,Y===null?p.callbacks=[$]:Y.push($))}else Y={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(z=Z=Y,D=ee):Z=Z.next=Y,C|=$;if(w=w.next,w===null){if(w=p.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,p.lastBaseUpdate=Y,p.shared.pending=null}}while(!0);Z===null&&(D=ee),p.baseState=D,p.firstBaseUpdate=z,p.lastBaseUpdate=Z,v===null&&(p.shared.lanes=0),So|=C,n.lanes=C,n.memoizedState=ee}}function np(n,o){if(typeof n!="function")throw Error(s(191,n));n.call(o)}function ip(n,o){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)np(r[n],o)}var nr=W(null),Ba=W(0);function op(n,o){n=zi,re(Ba,n),re(nr,o),zi=n|o.baseLanes}function Gc(){re(Ba,zi),re(nr,nr.current)}function qc(){zi=Ba.current,ue(nr),ue(Ba)}var po=0,De=null,st=null,Mt=null,Ha=!1,ir=!1,ys=!1,Ga=0,dl=0,or=null,f_=0;function At(){throw Error(s(321))}function zc(n,o){if(o===null)return!1;for(var r=0;r<o.length&&r<n.length;r++)if(!yn(n[r],o[r]))return!1;return!0}function Fc(n,o,r,c,p,v){return po=v,De=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,X.H=n===null||n.memoizedState===null?Gp:qp,ys=!1,v=r(c,p),ys=!1,ir&&(v=rp(o,r,c,p)),sp(n),v}function sp(n){X.H=Ja;var o=st!==null&&st.next!==null;if(po=0,Mt=st=De=null,Ha=!1,dl=0,or=null,o)throw Error(s(300));n===null||Ot||(n=n.dependencies,n!==null&&Ua(n)&&(Ot=!0))}function rp(n,o,r,c){De=n;var p=0;do{if(ir&&(or=null),dl=0,ir=!1,25<=p)throw Error(s(301));if(p+=1,Mt=st=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}X.H=v_,v=o(r,c)}while(ir);return v}function d_(){var n=X.H,o=n.useState()[0];return o=typeof o.then=="function"?hl(o):o,n=n.useState()[0],(st!==null?st.memoizedState:null)!==n&&(De.flags|=1024),o}function $c(){var n=Ga!==0;return Ga=0,n}function Yc(n,o,r){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~r}function Jc(n){if(Ha){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Ha=!1}po=0,Mt=st=De=null,ir=!1,dl=Ga=0,or=null}function ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?De.memoizedState=Mt=n:Mt=Mt.next=n,Mt}function bt(){if(st===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=st.next;var o=Mt===null?De.memoizedState:Mt.next;if(o!==null)Mt=o,st=n;else{if(n===null)throw De.alternate===null?Error(s(467)):Error(s(310));st=n,n={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Mt===null?De.memoizedState=Mt=n:Mt=Mt.next=n}return Mt}function Kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(n){var o=dl;return dl+=1,or===null&&(or=[]),n=jh(or,n,o),o=De,(Mt===null?o.memoizedState:Mt.next)===null&&(o=o.alternate,X.H=o===null||o.memoizedState===null?Gp:qp),n}function qa(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return hl(n);if(n.$$typeof===ie)return Jt(n)}throw Error(s(438,String(n)))}function Xc(n){var o=null,r=De.updateQueue;if(r!==null&&(o=r.memoCache),o==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),r===null&&(r=Kc(),De.updateQueue=r),r.memoCache=o,r=o.data[o.index],r===void 0)for(r=o.data[o.index]=Array(n),c=0;c<n;c++)r[c]=P;return o.index++,r}function Oi(n,o){return typeof o=="function"?o(n):o}function za(n){var o=bt();return Qc(o,st,n)}function Qc(n,o,r){var c=n.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=r;var p=n.baseQueue,v=c.pending;if(v!==null){if(p!==null){var C=p.next;p.next=v.next,v.next=C}o.baseQueue=p=v,c.pending=null}if(v=n.baseState,p===null)n.memoizedState=v;else{o=p.next;var w=C=null,D=null,z=o,Z=!1;do{var ee=z.lane&-536870913;if(ee!==z.lane?(qe&ee)===ee:(po&ee)===ee){var $=z.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),ee===er&&(Z=!0);else if((po&$)===$){z=z.next,$===er&&(Z=!0);continue}else ee={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(w=D=ee,C=v):D=D.next=ee,De.lanes|=$,So|=$;ee=z.action,ys&&r(v,ee),v=z.hasEagerState?z.eagerState:r(v,ee)}else $={lane:ee,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(w=D=$,C=v):D=D.next=$,De.lanes|=ee,So|=ee;z=z.next}while(z!==null&&z!==o);if(D===null?C=v:D.next=w,!yn(v,n.memoizedState)&&(Ot=!0,Z&&(r=tr,r!==null)))throw r;n.memoizedState=v,n.baseState=C,n.baseQueue=D,c.lastRenderedState=v}return p===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Zc(n){var o=bt(),r=o.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=n;var c=r.dispatch,p=r.pending,v=o.memoizedState;if(p!==null){r.pending=null;var C=p=p.next;do v=n(v,C.action),C=C.next;while(C!==p);yn(v,o.memoizedState)||(Ot=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),r.lastRenderedState=v}return[v,c]}function lp(n,o,r){var c=De,p=bt(),v=$e;if(v){if(r===void 0)throw Error(s(407));r=r()}else r=o();var C=!yn((st||p).memoizedState,r);C&&(p.memoizedState=r,Ot=!0),p=p.queue;var w=cp.bind(null,c,p,n);if(pl(2048,8,w,[n]),p.getSnapshot!==o||C||Mt!==null&&Mt.memoizedState.tag&1){if(c.flags|=2048,sr(9,Fa(),up.bind(null,c,p,r,o),null),ft===null)throw Error(s(349));v||(po&124)!==0||ap(c,o,r)}return r}function ap(n,o,r){n.flags|=16384,n={getSnapshot:o,value:r},o=De.updateQueue,o===null?(o=Kc(),De.updateQueue=o,o.stores=[n]):(r=o.stores,r===null?o.stores=[n]:r.push(n))}function up(n,o,r,c){o.value=r,o.getSnapshot=c,fp(o)&&dp(n)}function cp(n,o,r){return r(function(){fp(o)&&dp(n)})}function fp(n){var o=n.getSnapshot;n=n.value;try{var r=o();return!yn(n,r)}catch{return!0}}function dp(n){var o=Qs(n,2);o!==null&&Cn(o,n,2)}function Wc(n){var o=ln();if(typeof n=="function"){var r=n;if(n=r(),ys){Yt(!0);try{r()}finally{Yt(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:n},o}function hp(n,o,r,c){return n.baseState=r,Qc(n,st,typeof c=="function"?c:Oi)}function h_(n,o,r,c,p){if(Ya(n))throw Error(s(485));if(n=o.action,n!==null){var v={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};X.T!==null?r(!0):v.isTransition=!1,c(v),r=o.pending,r===null?(v.next=o.pending=v,pp(o,v)):(v.next=r.next,o.pending=r.next=v)}}function pp(n,o){var r=o.action,c=o.payload,p=n.state;if(o.isTransition){var v=X.T,C={};X.T=C;try{var w=r(p,c),D=X.S;D!==null&&D(C,w),mp(n,o,w)}catch(z){jc(n,o,z)}finally{X.T=v}}else try{v=r(p,c),mp(n,o,v)}catch(z){jc(n,o,z)}}function mp(n,o,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){gp(n,o,c)},function(c){return jc(n,o,c)}):gp(n,o,r)}function gp(n,o,r){o.status="fulfilled",o.value=r,yp(o),n.state=r,o=n.pending,o!==null&&(r=o.next,r===o?n.pending=null:(r=r.next,o.next=r,pp(n,r)))}function jc(n,o,r){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=r,yp(o),o=o.next;while(o!==c)}n.action=null}function yp(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function vp(n,o){return o}function Tp(n,o){if($e){var r=ft.formState;if(r!==null){e:{var c=De;if($e){if(_t){t:{for(var p=_t,v=ui;p.nodeType!==8;){if(!v){p=null;break t}if(p=Xn(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){_t=Xn(p.nextSibling),c=p.data==="F!";break e}}hs(c)}c=!1}c&&(o=r[0])}}return r=ln(),r.memoizedState=r.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:o},r.queue=c,r=Vp.bind(null,De,c),c.dispatch=r,c=Wc(!1),v=sf.bind(null,De,!1,c.queue),c=ln(),p={state:o,dispatch:null,action:n,pending:null},c.queue=p,r=h_.bind(null,De,p,v,r),p.dispatch=r,c.memoizedState=n,[o,r,!1]}function _p(n){var o=bt();return Sp(o,st,n)}function Sp(n,o,r){if(o=Qc(n,o,vp)[0],n=za(Oi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=hl(o)}catch(C){throw C===ll?Oa:C}else c=o;o=bt();var p=o.queue,v=p.dispatch;return r!==o.memoizedState&&(De.flags|=2048,sr(9,Fa(),p_.bind(null,p,r),null)),[c,v,n]}function p_(n,o){n.action=o}function Ep(n){var o=bt(),r=st;if(r!==null)return Sp(o,r,n);bt(),o=o.memoizedState,r=bt();var c=r.queue.dispatch;return r.memoizedState=n,[o,c,!1]}function sr(n,o,r,c){return n={tag:n,create:r,deps:c,inst:o,next:null},o=De.updateQueue,o===null&&(o=Kc(),De.updateQueue=o),r=o.lastEffect,r===null?o.lastEffect=n.next=n:(c=r.next,r.next=n,n.next=c,o.lastEffect=n),n}function Fa(){return{destroy:void 0,resource:void 0}}function Cp(){return bt().memoizedState}function $a(n,o,r,c){var p=ln();c=c===void 0?null:c,De.flags|=n,p.memoizedState=sr(1|o,Fa(),r,c)}function pl(n,o,r,c){var p=bt();c=c===void 0?null:c;var v=p.memoizedState.inst;st!==null&&c!==null&&zc(c,st.memoizedState.deps)?p.memoizedState=sr(o,v,r,c):(De.flags|=n,p.memoizedState=sr(1|o,v,r,c))}function Ap(n,o){$a(8390656,8,n,o)}function wp(n,o){pl(2048,8,n,o)}function xp(n,o){return pl(4,2,n,o)}function Rp(n,o){return pl(4,4,n,o)}function Mp(n,o){if(typeof o=="function"){n=n();var r=o(n);return function(){typeof r=="function"?r():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function bp(n,o,r){r=r!=null?r.concat([n]):null,pl(4,4,Mp.bind(null,o,n),r)}function ef(){}function Ip(n,o){var r=bt();o=o===void 0?null:o;var c=r.memoizedState;return o!==null&&zc(o,c[1])?c[0]:(r.memoizedState=[n,o],n)}function Np(n,o){var r=bt();o=o===void 0?null:o;var c=r.memoizedState;if(o!==null&&zc(o,c[1]))return c[0];if(c=n(),ys){Yt(!0);try{n()}finally{Yt(!1)}}return r.memoizedState=[c,o],c}function tf(n,o,r){return r===void 0||(po&1073741824)!==0?n.memoizedState=o:(n.memoizedState=r,n=Um(),De.lanes|=n,So|=n,r)}function kp(n,o,r,c){return yn(r,o)?r:nr.current!==null?(n=tf(n,r,c),yn(n,o)||(Ot=!0),n):(po&42)===0?(Ot=!0,n.memoizedState=r):(n=Um(),De.lanes|=n,So|=n,o)}function Dp(n,o,r,c,p){var v=ce.p;ce.p=v!==0&&8>v?v:8;var C=X.T,w={};X.T=w,sf(n,!1,o,r);try{var D=p(),z=X.S;if(z!==null&&z(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=c_(D,c);ml(n,o,Z,En(n))}else ml(n,o,c,En(n))}catch(ee){ml(n,o,{then:function(){},status:"rejected",reason:ee},En())}finally{ce.p=v,X.T=C}}function m_(){}function nf(n,o,r,c){if(n.tag!==5)throw Error(s(476));var p=Up(n).queue;Dp(n,p,o,me,r===null?m_:function(){return Lp(n),r(c)})}function Up(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:me},next:null};var r={};return o.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:r},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function Lp(n){var o=Up(n).next.queue;ml(n,o,{},En())}function of(){return Jt(Dl)}function Pp(){return bt().memoizedState}function Op(){return bt().memoizedState}function g_(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var r=En();n=fo(r);var c=ho(o,n,r);c!==null&&(Cn(c,o,r),ul(c,o,r)),o={cache:Dc()},n.payload=o;return}o=o.return}}function y_(n,o,r){var c=En();r={lane:c,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Ya(n)?Bp(o,r):(r=Cc(n,o,r,c),r!==null&&(Cn(r,n,c),Hp(r,o,c)))}function Vp(n,o,r){var c=En();ml(n,o,r,c)}function ml(n,o,r,c){var p={lane:c,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ya(n))Bp(o,p);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var C=o.lastRenderedState,w=v(C,r);if(p.hasEagerState=!0,p.eagerState=w,yn(w,C))return ba(n,o,p,0),ft===null&&Ma(),!1}catch{}finally{}if(r=Cc(n,o,p,c),r!==null)return Cn(r,n,c),Hp(r,o,c),!0}return!1}function sf(n,o,r,c){if(c={lane:2,revertLane:Of(),action:c,hasEagerState:!1,eagerState:null,next:null},Ya(n)){if(o)throw Error(s(479))}else o=Cc(n,r,c,2),o!==null&&Cn(o,n,2)}function Ya(n){var o=n.alternate;return n===De||o!==null&&o===De}function Bp(n,o){ir=Ha=!0;var r=n.pending;r===null?o.next=o:(o.next=r.next,r.next=o),n.pending=o}function Hp(n,o,r){if((r&4194048)!==0){var c=o.lanes;c&=n.pendingLanes,r|=c,o.lanes=r,pt(n,r)}}var Ja={readContext:Jt,use:qa,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},Gp={readContext:Jt,use:qa,useCallback:function(n,o){return ln().memoizedState=[n,o===void 0?null:o],n},useContext:Jt,useEffect:Ap,useImperativeHandle:function(n,o,r){r=r!=null?r.concat([n]):null,$a(4194308,4,Mp.bind(null,o,n),r)},useLayoutEffect:function(n,o){return $a(4194308,4,n,o)},useInsertionEffect:function(n,o){$a(4,2,n,o)},useMemo:function(n,o){var r=ln();o=o===void 0?null:o;var c=n();if(ys){Yt(!0);try{n()}finally{Yt(!1)}}return r.memoizedState=[c,o],c},useReducer:function(n,o,r){var c=ln();if(r!==void 0){var p=r(o);if(ys){Yt(!0);try{r(o)}finally{Yt(!1)}}}else p=o;return c.memoizedState=c.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},c.queue=n,n=n.dispatch=y_.bind(null,De,n),[c.memoizedState,n]},useRef:function(n){var o=ln();return n={current:n},o.memoizedState=n},useState:function(n){n=Wc(n);var o=n.queue,r=Vp.bind(null,De,o);return o.dispatch=r,[n.memoizedState,r]},useDebugValue:ef,useDeferredValue:function(n,o){var r=ln();return tf(r,n,o)},useTransition:function(){var n=Wc(!1);return n=Dp.bind(null,De,n.queue,!0,!1),ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,r){var c=De,p=ln();if($e){if(r===void 0)throw Error(s(407));r=r()}else{if(r=o(),ft===null)throw Error(s(349));(qe&124)!==0||ap(c,o,r)}p.memoizedState=r;var v={value:r,getSnapshot:o};return p.queue=v,Ap(cp.bind(null,c,v,n),[n]),c.flags|=2048,sr(9,Fa(),up.bind(null,c,v,r,o),null),r},useId:function(){var n=ln(),o=ft.identifierPrefix;if($e){var r=Ui,c=Di;r=(c&~(1<<32-Dt(c)-1)).toString(32)+r,o=""+o+"R"+r,r=Ga++,0<r&&(o+="H"+r.toString(32)),o+=""}else r=f_++,o=""+o+"r"+r.toString(32)+"";return n.memoizedState=o},useHostTransitionStatus:of,useFormState:Tp,useActionState:Tp,useOptimistic:function(n){var o=ln();o.memoizedState=o.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=r,o=sf.bind(null,De,!0,r),r.dispatch=o,[n,o]},useMemoCache:Xc,useCacheRefresh:function(){return ln().memoizedState=g_.bind(null,De)}},qp={readContext:Jt,use:qa,useCallback:Ip,useContext:Jt,useEffect:wp,useImperativeHandle:bp,useInsertionEffect:xp,useLayoutEffect:Rp,useMemo:Np,useReducer:za,useRef:Cp,useState:function(){return za(Oi)},useDebugValue:ef,useDeferredValue:function(n,o){var r=bt();return kp(r,st.memoizedState,n,o)},useTransition:function(){var n=za(Oi)[0],o=bt().memoizedState;return[typeof n=="boolean"?n:hl(n),o]},useSyncExternalStore:lp,useId:Pp,useHostTransitionStatus:of,useFormState:_p,useActionState:_p,useOptimistic:function(n,o){var r=bt();return hp(r,st,n,o)},useMemoCache:Xc,useCacheRefresh:Op},v_={readContext:Jt,use:qa,useCallback:Ip,useContext:Jt,useEffect:wp,useImperativeHandle:bp,useInsertionEffect:xp,useLayoutEffect:Rp,useMemo:Np,useReducer:Zc,useRef:Cp,useState:function(){return Zc(Oi)},useDebugValue:ef,useDeferredValue:function(n,o){var r=bt();return st===null?tf(r,n,o):kp(r,st.memoizedState,n,o)},useTransition:function(){var n=Zc(Oi)[0],o=bt().memoizedState;return[typeof n=="boolean"?n:hl(n),o]},useSyncExternalStore:lp,useId:Pp,useHostTransitionStatus:of,useFormState:Ep,useActionState:Ep,useOptimistic:function(n,o){var r=bt();return st!==null?hp(r,st,n,o):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:Xc,useCacheRefresh:Op},rr=null,gl=0;function Ka(n){var o=gl;return gl+=1,rr===null&&(rr=[]),jh(rr,n,o)}function yl(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function Xa(n,o){throw o.$$typeof===E?Error(s(525)):(n=Object.prototype.toString.call(o),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function zp(n){var o=n._init;return o(n._payload)}function Fp(n){function o(H,V){if(n){var q=H.deletions;q===null?(H.deletions=[V],H.flags|=16):q.push(V)}}function r(H,V){if(!n)return null;for(;V!==null;)o(H,V),V=V.sibling;return null}function c(H){for(var V=new Map;H!==null;)H.key!==null?V.set(H.key,H):V.set(H.index,H),H=H.sibling;return V}function p(H,V){return H=ki(H,V),H.index=0,H.sibling=null,H}function v(H,V,q){return H.index=q,n?(q=H.alternate,q!==null?(q=q.index,q<V?(H.flags|=67108866,V):q):(H.flags|=67108866,V)):(H.flags|=1048576,V)}function C(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function w(H,V,q,j){return V===null||V.tag!==6?(V=wc(q,H.mode,j),V.return=H,V):(V=p(V,q),V.return=H,V)}function D(H,V,q,j){var pe=q.type;return pe===L?Z(H,V,q.props.children,j,q.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===b&&zp(pe)===V.type)?(V=p(V,q.props),yl(V,q),V.return=H,V):(V=Na(q.type,q.key,q.props,null,H.mode,j),yl(V,q),V.return=H,V)}function z(H,V,q,j){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=xc(q,H.mode,j),V.return=H,V):(V=p(V,q.children||[]),V.return=H,V)}function Z(H,V,q,j,pe){return V===null||V.tag!==7?(V=us(q,H.mode,j,pe),V.return=H,V):(V=p(V,q),V.return=H,V)}function ee(H,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=wc(""+V,H.mode,q),V.return=H,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case A:return q=Na(V.type,V.key,V.props,null,H.mode,q),yl(q,V),q.return=H,q;case I:return V=xc(V,H.mode,q),V.return=H,V;case b:var j=V._init;return V=j(V._payload),ee(H,V,q)}if(Be(V)||B(V))return V=us(V,H.mode,q,null),V.return=H,V;if(typeof V.then=="function")return ee(H,Ka(V),q);if(V.$$typeof===ie)return ee(H,La(H,V),q);Xa(H,V)}return null}function $(H,V,q,j){var pe=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pe!==null?null:w(H,V,""+q,j);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===pe?D(H,V,q,j):null;case I:return q.key===pe?z(H,V,q,j):null;case b:return pe=q._init,q=pe(q._payload),$(H,V,q,j)}if(Be(q)||B(q))return pe!==null?null:Z(H,V,q,j,null);if(typeof q.then=="function")return $(H,V,Ka(q),j);if(q.$$typeof===ie)return $(H,V,La(H,q),j);Xa(H,q)}return null}function Y(H,V,q,j,pe){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return H=H.get(q)||null,w(V,H,""+j,pe);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case A:return H=H.get(j.key===null?q:j.key)||null,D(V,H,j,pe);case I:return H=H.get(j.key===null?q:j.key)||null,z(V,H,j,pe);case b:var Pe=j._init;return j=Pe(j._payload),Y(H,V,q,j,pe)}if(Be(j)||B(j))return H=H.get(q)||null,Z(V,H,j,pe,null);if(typeof j.then=="function")return Y(H,V,q,Ka(j),pe);if(j.$$typeof===ie)return Y(H,V,q,La(V,j),pe);Xa(V,j)}return null}function Ae(H,V,q,j){for(var pe=null,Pe=null,ve=V,Ee=V=0,Bt=null;ve!==null&&Ee<q.length;Ee++){ve.index>Ee?(Bt=ve,ve=null):Bt=ve.sibling;var Fe=$(H,ve,q[Ee],j);if(Fe===null){ve===null&&(ve=Bt);break}n&&ve&&Fe.alternate===null&&o(H,ve),V=v(Fe,V,Ee),Pe===null?pe=Fe:Pe.sibling=Fe,Pe=Fe,ve=Bt}if(Ee===q.length)return r(H,ve),$e&&fs(H,Ee),pe;if(ve===null){for(;Ee<q.length;Ee++)ve=ee(H,q[Ee],j),ve!==null&&(V=v(ve,V,Ee),Pe===null?pe=ve:Pe.sibling=ve,Pe=ve);return $e&&fs(H,Ee),pe}for(ve=c(ve);Ee<q.length;Ee++)Bt=Y(ve,H,Ee,q[Ee],j),Bt!==null&&(n&&Bt.alternate!==null&&ve.delete(Bt.key===null?Ee:Bt.key),V=v(Bt,V,Ee),Pe===null?pe=Bt:Pe.sibling=Bt,Pe=Bt);return n&&ve.forEach(function(Io){return o(H,Io)}),$e&&fs(H,Ee),pe}function Se(H,V,q,j){if(q==null)throw Error(s(151));for(var pe=null,Pe=null,ve=V,Ee=V=0,Bt=null,Fe=q.next();ve!==null&&!Fe.done;Ee++,Fe=q.next()){ve.index>Ee?(Bt=ve,ve=null):Bt=ve.sibling;var Io=$(H,ve,Fe.value,j);if(Io===null){ve===null&&(ve=Bt);break}n&&ve&&Io.alternate===null&&o(H,ve),V=v(Io,V,Ee),Pe===null?pe=Io:Pe.sibling=Io,Pe=Io,ve=Bt}if(Fe.done)return r(H,ve),$e&&fs(H,Ee),pe;if(ve===null){for(;!Fe.done;Ee++,Fe=q.next())Fe=ee(H,Fe.value,j),Fe!==null&&(V=v(Fe,V,Ee),Pe===null?pe=Fe:Pe.sibling=Fe,Pe=Fe);return $e&&fs(H,Ee),pe}for(ve=c(ve);!Fe.done;Ee++,Fe=q.next())Fe=Y(ve,H,Ee,Fe.value,j),Fe!==null&&(n&&Fe.alternate!==null&&ve.delete(Fe.key===null?Ee:Fe.key),V=v(Fe,V,Ee),Pe===null?pe=Fe:Pe.sibling=Fe,Pe=Fe);return n&&ve.forEach(function(TS){return o(H,TS)}),$e&&fs(H,Ee),pe}function lt(H,V,q,j){if(typeof q=="object"&&q!==null&&q.type===L&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:e:{for(var pe=q.key;V!==null;){if(V.key===pe){if(pe=q.type,pe===L){if(V.tag===7){r(H,V.sibling),j=p(V,q.props.children),j.return=H,H=j;break e}}else if(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===b&&zp(pe)===V.type){r(H,V.sibling),j=p(V,q.props),yl(j,q),j.return=H,H=j;break e}r(H,V);break}else o(H,V);V=V.sibling}q.type===L?(j=us(q.props.children,H.mode,j,q.key),j.return=H,H=j):(j=Na(q.type,q.key,q.props,null,H.mode,j),yl(j,q),j.return=H,H=j)}return C(H);case I:e:{for(pe=q.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){r(H,V.sibling),j=p(V,q.children||[]),j.return=H,H=j;break e}else{r(H,V);break}else o(H,V);V=V.sibling}j=xc(q,H.mode,j),j.return=H,H=j}return C(H);case b:return pe=q._init,q=pe(q._payload),lt(H,V,q,j)}if(Be(q))return Ae(H,V,q,j);if(B(q)){if(pe=B(q),typeof pe!="function")throw Error(s(150));return q=pe.call(q),Se(H,V,q,j)}if(typeof q.then=="function")return lt(H,V,Ka(q),j);if(q.$$typeof===ie)return lt(H,V,La(H,q),j);Xa(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(r(H,V.sibling),j=p(V,q),j.return=H,H=j):(r(H,V),j=wc(q,H.mode,j),j.return=H,H=j),C(H)):r(H,V)}return function(H,V,q,j){try{gl=0;var pe=lt(H,V,q,j);return rr=null,pe}catch(ve){if(ve===ll||ve===Oa)throw ve;var Pe=vn(29,ve,null,H.mode);return Pe.lanes=j,Pe.return=H,Pe}finally{}}}var lr=Fp(!0),$p=Fp(!1),Pn=W(null),ci=null;function mo(n){var o=n.alternate;re(kt,kt.current&1),re(Pn,n),ci===null&&(o===null||nr.current!==null||o.memoizedState!==null)&&(ci=n)}function Yp(n){if(n.tag===22){if(re(kt,kt.current),re(Pn,n),ci===null){var o=n.alternate;o!==null&&o.memoizedState!==null&&(ci=n)}}else go()}function go(){re(kt,kt.current),re(Pn,Pn.current)}function Vi(n){ue(Pn),ci===n&&(ci=null),ue(kt)}var kt=W(0);function Qa(n){for(var o=n;o!==null;){if(o.tag===13){var r=o.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Xf(r)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function rf(n,o,r,c){o=n.memoizedState,r=r(c,o),r=r==null?o:T({},o,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var lf={enqueueSetState:function(n,o,r){n=n._reactInternals;var c=En(),p=fo(c);p.payload=o,r!=null&&(p.callback=r),o=ho(n,p,c),o!==null&&(Cn(o,n,c),ul(o,n,c))},enqueueReplaceState:function(n,o,r){n=n._reactInternals;var c=En(),p=fo(c);p.tag=1,p.payload=o,r!=null&&(p.callback=r),o=ho(n,p,c),o!==null&&(Cn(o,n,c),ul(o,n,c))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var r=En(),c=fo(r);c.tag=2,o!=null&&(c.callback=o),o=ho(n,c,r),o!==null&&(Cn(o,n,r),ul(o,n,r))}};function Jp(n,o,r,c,p,v,C){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,v,C):o.prototype&&o.prototype.isPureReactComponent?!jr(r,c)||!jr(p,v):!0}function Kp(n,o,r,c){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(r,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(r,c),o.state!==n&&lf.enqueueReplaceState(o,o.state,null)}function vs(n,o){var r=o;if("ref"in o){r={};for(var c in o)c!=="ref"&&(r[c]=o[c])}if(n=n.defaultProps){r===o&&(r=T({},r));for(var p in n)r[p]===void 0&&(r[p]=n[p])}return r}var Za=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Xp(n){Za(n)}function Qp(n){console.error(n)}function Zp(n){Za(n)}function Wa(n,o){try{var r=n.onUncaughtError;r(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function Wp(n,o,r){try{var c=n.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function af(n,o,r){return r=fo(r),r.tag=3,r.payload={element:null},r.callback=function(){Wa(n,o)},r}function jp(n){return n=fo(n),n.tag=3,n}function em(n,o,r,c){var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var v=c.value;n.payload=function(){return p(v)},n.callback=function(){Wp(o,r,c)}}var C=r.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(n.callback=function(){Wp(o,r,c),typeof p!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function T_(n,o,r,c,p){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=r.alternate,o!==null&&ol(o,r,p,!0),r=Pn.current,r!==null){switch(r.tag){case 13:return ci===null?kf():r.alternate===null&&St===0&&(St=3),r.flags&=-257,r.flags|=65536,r.lanes=p,c===Pc?r.flags|=16384:(o=r.updateQueue,o===null?r.updateQueue=new Set([c]):o.add(c),Uf(n,c,p)),!1;case 22:return r.flags|=65536,c===Pc?r.flags|=16384:(o=r.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=o):(r=o.retryQueue,r===null?o.retryQueue=new Set([c]):r.add(c)),Uf(n,c,p)),!1}throw Error(s(435,r.tag))}return Uf(n,c,p),kf(),!1}if($e)return o=Pn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=p,c!==bc&&(n=Error(s(422),{cause:c}),il(kn(n,r)))):(c!==bc&&(o=Error(s(423),{cause:c}),il(kn(o,r))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,c=kn(c,r),p=af(n.stateNode,c,p),Bc(n,p),St!==4&&(St=2)),!1;var v=Error(s(520),{cause:c});if(v=kn(v,r),Al===null?Al=[v]:Al.push(v),St!==4&&(St=2),o===null)return!0;c=kn(c,r),r=o;do{switch(r.tag){case 3:return r.flags|=65536,n=p&-p,r.lanes|=n,n=af(r.stateNode,c,n),Bc(r,n),!1;case 1:if(o=r.type,v=r.stateNode,(r.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Eo===null||!Eo.has(v))))return r.flags|=65536,p&=-p,r.lanes|=p,p=jp(p),em(p,n,r,c),Bc(r,p),!1}r=r.return}while(r!==null);return!1}var tm=Error(s(461)),Ot=!1;function qt(n,o,r,c){o.child=n===null?$p(o,null,r,c):lr(o,n.child,r,c)}function nm(n,o,r,c,p){r=r.render;var v=o.ref;if("ref"in c){var C={};for(var w in c)w!=="ref"&&(C[w]=c[w])}else C=c;return ms(o),c=Fc(n,o,r,C,v,p),w=$c(),n!==null&&!Ot?(Yc(n,o,p),Bi(n,o,p)):($e&&w&&Rc(o),o.flags|=1,qt(n,o,c,p),o.child)}function im(n,o,r,c,p){if(n===null){var v=r.type;return typeof v=="function"&&!Ac(v)&&v.defaultProps===void 0&&r.compare===null?(o.tag=15,o.type=v,om(n,o,v,c,p)):(n=Na(r.type,null,c,o,o.mode,p),n.ref=o.ref,n.return=o,o.child=n)}if(v=n.child,!gf(n,p)){var C=v.memoizedProps;if(r=r.compare,r=r!==null?r:jr,r(C,c)&&n.ref===o.ref)return Bi(n,o,p)}return o.flags|=1,n=ki(v,c),n.ref=o.ref,n.return=o,o.child=n}function om(n,o,r,c,p){if(n!==null){var v=n.memoizedProps;if(jr(v,c)&&n.ref===o.ref)if(Ot=!1,o.pendingProps=c=v,gf(n,p))(n.flags&131072)!==0&&(Ot=!0);else return o.lanes=n.lanes,Bi(n,o,p)}return uf(n,o,r,c,p)}function sm(n,o,r){var c=o.pendingProps,p=c.children,v=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((o.flags&128)!==0){if(c=v!==null?v.baseLanes|r:r,n!==null){for(p=o.child=n.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;o.childLanes=v&~c}else o.childLanes=0,o.child=null;return rm(n,o,c,r)}if((r&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&Pa(o,v!==null?v.cachePool:null),v!==null?op(o,v):Gc(),Yp(o);else return o.lanes=o.childLanes=536870912,rm(n,o,v!==null?v.baseLanes|r:r,r)}else v!==null?(Pa(o,v.cachePool),op(o,v),go(),o.memoizedState=null):(n!==null&&Pa(o,null),Gc(),go());return qt(n,o,p,r),o.child}function rm(n,o,r,c){var p=Lc();return p=p===null?null:{parent:Nt._currentValue,pool:p},o.memoizedState={baseLanes:r,cachePool:p},n!==null&&Pa(o,null),Gc(),Yp(o),n!==null&&ol(n,o,c,!0),null}function ja(n,o){var r=o.ref;if(r===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(n===null||n.ref!==r)&&(o.flags|=4194816)}}function uf(n,o,r,c,p){return ms(o),r=Fc(n,o,r,c,void 0,p),c=$c(),n!==null&&!Ot?(Yc(n,o,p),Bi(n,o,p)):($e&&c&&Rc(o),o.flags|=1,qt(n,o,r,p),o.child)}function lm(n,o,r,c,p,v){return ms(o),o.updateQueue=null,r=rp(o,c,r,p),sp(n),c=$c(),n!==null&&!Ot?(Yc(n,o,v),Bi(n,o,v)):($e&&c&&Rc(o),o.flags|=1,qt(n,o,r,v),o.child)}function am(n,o,r,c,p){if(ms(o),o.stateNode===null){var v=Zs,C=r.contextType;typeof C=="object"&&C!==null&&(v=Jt(C)),v=new r(c,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=lf,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=c,v.state=o.memoizedState,v.refs={},Oc(o),C=r.contextType,v.context=typeof C=="object"&&C!==null?Jt(C):Zs,v.state=o.memoizedState,C=r.getDerivedStateFromProps,typeof C=="function"&&(rf(o,r,C,c),v.state=o.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&lf.enqueueReplaceState(v,v.state,null),fl(o,c,v,p),cl(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(n===null){v=o.stateNode;var w=o.memoizedProps,D=vs(r,w);v.props=D;var z=v.context,Z=r.contextType;C=Zs,typeof Z=="object"&&Z!==null&&(C=Jt(Z));var ee=r.getDerivedStateFromProps;Z=typeof ee=="function"||typeof v.getSnapshotBeforeUpdate=="function",w=o.pendingProps!==w,Z||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w||z!==C)&&Kp(o,v,c,C),co=!1;var $=o.memoizedState;v.state=$,fl(o,c,v,p),cl(),z=o.memoizedState,w||$!==z||co?(typeof ee=="function"&&(rf(o,r,ee,c),z=o.memoizedState),(D=co||Jp(o,r,D,c,$,z,C))?(Z||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=z),v.props=c,v.state=z,v.context=C,c=D):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{v=o.stateNode,Vc(n,o),C=o.memoizedProps,Z=vs(r,C),v.props=Z,ee=o.pendingProps,$=v.context,z=r.contextType,D=Zs,typeof z=="object"&&z!==null&&(D=Jt(z)),w=r.getDerivedStateFromProps,(z=typeof w=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==ee||$!==D)&&Kp(o,v,c,D),co=!1,$=o.memoizedState,v.state=$,fl(o,c,v,p),cl();var Y=o.memoizedState;C!==ee||$!==Y||co||n!==null&&n.dependencies!==null&&Ua(n.dependencies)?(typeof w=="function"&&(rf(o,r,w,c),Y=o.memoizedState),(Z=co||Jp(o,r,Z,c,$,Y,D)||n!==null&&n.dependencies!==null&&Ua(n.dependencies))?(z||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,Y,D),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,Y,D)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===n.memoizedProps&&$===n.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&$===n.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=Y),v.props=c,v.state=Y,v.context=D,c=Z):(typeof v.componentDidUpdate!="function"||C===n.memoizedProps&&$===n.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&$===n.memoizedState||(o.flags|=1024),c=!1)}return v=c,ja(n,o),c=(o.flags&128)!==0,v||c?(v=o.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,n!==null&&c?(o.child=lr(o,n.child,null,p),o.child=lr(o,null,r,p)):qt(n,o,r,p),o.memoizedState=v.state,n=o.child):n=Bi(n,o,p),n}function um(n,o,r,c){return nl(),o.flags|=256,qt(n,o,r,c),o.child}var cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ff(n){return{baseLanes:n,cachePool:Qh()}}function df(n,o,r){return n=n!==null?n.childLanes&~r:0,o&&(n|=On),n}function cm(n,o,r){var c=o.pendingProps,p=!1,v=(o.flags&128)!==0,C;if((C=v)||(C=n!==null&&n.memoizedState===null?!1:(kt.current&2)!==0),C&&(p=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,n===null){if($e){if(p?mo(o):go(),$e){var w=_t,D;if(D=w){e:{for(D=w,w=ui;D.nodeType!==8;){if(!w){w=null;break e}if(D=Xn(D.nextSibling),D===null){w=null;break e}}w=D}w!==null?(o.memoizedState={dehydrated:w,treeContext:cs!==null?{id:Di,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},D=vn(18,null,null,0),D.stateNode=w,D.return=o,o.child=D,en=o,_t=null,D=!0):D=!1}D||hs(o)}if(w=o.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Xf(w)?o.lanes=32:o.lanes=536870912,null;Vi(o)}return w=c.children,c=c.fallback,p?(go(),p=o.mode,w=eu({mode:"hidden",children:w},p),c=us(c,p,r,null),w.return=o,c.return=o,w.sibling=c,o.child=w,p=o.child,p.memoizedState=ff(r),p.childLanes=df(n,C,r),o.memoizedState=cf,c):(mo(o),hf(o,w))}if(D=n.memoizedState,D!==null&&(w=D.dehydrated,w!==null)){if(v)o.flags&256?(mo(o),o.flags&=-257,o=pf(n,o,r)):o.memoizedState!==null?(go(),o.child=n.child,o.flags|=128,o=null):(go(),p=c.fallback,w=o.mode,c=eu({mode:"visible",children:c.children},w),p=us(p,w,r,null),p.flags|=2,c.return=o,p.return=o,c.sibling=p,o.child=c,lr(o,n.child,null,r),c=o.child,c.memoizedState=ff(r),c.childLanes=df(n,C,r),o.memoizedState=cf,o=p);else if(mo(o),Xf(w)){if(C=w.nextSibling&&w.nextSibling.dataset,C)var z=C.dgst;C=z,c=Error(s(419)),c.stack="",c.digest=C,il({value:c,source:null,stack:null}),o=pf(n,o,r)}else if(Ot||ol(n,o,r,!1),C=(r&n.childLanes)!==0,Ot||C){if(C=ft,C!==null&&(c=r&-r,c=(c&42)!==0?1:vt(c),c=(c&(C.suspendedLanes|r))!==0?0:c,c!==0&&c!==D.retryLane))throw D.retryLane=c,Qs(n,c),Cn(C,n,c),tm;w.data==="$?"||kf(),o=pf(n,o,r)}else w.data==="$?"?(o.flags|=192,o.child=n.child,o=null):(n=D.treeContext,_t=Xn(w.nextSibling),en=o,$e=!0,ds=null,ui=!1,n!==null&&(Un[Ln++]=Di,Un[Ln++]=Ui,Un[Ln++]=cs,Di=n.id,Ui=n.overflow,cs=o),o=hf(o,c.children),o.flags|=4096);return o}return p?(go(),p=c.fallback,w=o.mode,D=n.child,z=D.sibling,c=ki(D,{mode:"hidden",children:c.children}),c.subtreeFlags=D.subtreeFlags&65011712,z!==null?p=ki(z,p):(p=us(p,w,r,null),p.flags|=2),p.return=o,c.return=o,c.sibling=p,o.child=c,c=p,p=o.child,w=n.child.memoizedState,w===null?w=ff(r):(D=w.cachePool,D!==null?(z=Nt._currentValue,D=D.parent!==z?{parent:z,pool:z}:D):D=Qh(),w={baseLanes:w.baseLanes|r,cachePool:D}),p.memoizedState=w,p.childLanes=df(n,C,r),o.memoizedState=cf,c):(mo(o),r=n.child,n=r.sibling,r=ki(r,{mode:"visible",children:c.children}),r.return=o,r.sibling=null,n!==null&&(C=o.deletions,C===null?(o.deletions=[n],o.flags|=16):C.push(n)),o.child=r,o.memoizedState=null,r)}function hf(n,o){return o=eu({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function eu(n,o){return n=vn(22,n,null,o),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function pf(n,o,r){return lr(o,n.child,null,r),n=hf(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function fm(n,o,r){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o),Nc(n.return,o,r)}function mf(n,o,r,c,p){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:p}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=r,v.tailMode=p)}function dm(n,o,r){var c=o.pendingProps,p=c.revealOrder,v=c.tail;if(qt(n,o,c.children,r),c=kt.current,(c&2)!==0)c=c&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&fm(n,r,o);else if(n.tag===19)fm(n,r,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(re(kt,c),p){case"forwards":for(r=o.child,p=null;r!==null;)n=r.alternate,n!==null&&Qa(n)===null&&(p=r),r=r.sibling;r=p,r===null?(p=o.child,o.child=null):(p=r.sibling,r.sibling=null),mf(o,!1,p,r,v);break;case"backwards":for(r=null,p=o.child,o.child=null;p!==null;){if(n=p.alternate,n!==null&&Qa(n)===null){o.child=p;break}n=p.sibling,p.sibling=r,r=p,p=n}mf(o,!0,r,null,v);break;case"together":mf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Bi(n,o,r){if(n!==null&&(o.dependencies=n.dependencies),So|=o.lanes,(r&o.childLanes)===0)if(n!==null){if(ol(n,o,r,!1),(r&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(s(153));if(o.child!==null){for(n=o.child,r=ki(n,n.pendingProps),o.child=r,r.return=o;n.sibling!==null;)n=n.sibling,r=r.sibling=ki(n,n.pendingProps),r.return=o;r.sibling=null}return o.child}function gf(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&Ua(n)))}function __(n,o,r){switch(o.tag){case 3:Ye(o,o.stateNode.containerInfo),uo(o,Nt,n.memoizedState.cache),nl();break;case 27:case 5:Gn(o);break;case 4:Ye(o,o.stateNode.containerInfo);break;case 10:uo(o,o.type,o.memoizedProps.value);break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(mo(o),o.flags|=128,null):(r&o.child.childLanes)!==0?cm(n,o,r):(mo(o),n=Bi(n,o,r),n!==null?n.sibling:null);mo(o);break;case 19:var p=(n.flags&128)!==0;if(c=(r&o.childLanes)!==0,c||(ol(n,o,r,!1),c=(r&o.childLanes)!==0),p){if(c)return dm(n,o,r);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),re(kt,kt.current),c)break;return null;case 22:case 23:return o.lanes=0,sm(n,o,r);case 24:uo(o,Nt,n.memoizedState.cache)}return Bi(n,o,r)}function hm(n,o,r){if(n!==null)if(n.memoizedProps!==o.pendingProps)Ot=!0;else{if(!gf(n,r)&&(o.flags&128)===0)return Ot=!1,__(n,o,r);Ot=(n.flags&131072)!==0}else Ot=!1,$e&&(o.flags&1048576)!==0&&zh(o,Da,o.index);switch(o.lanes=0,o.tag){case 16:e:{n=o.pendingProps;var c=o.elementType,p=c._init;if(c=p(c._payload),o.type=c,typeof c=="function")Ac(c)?(n=vs(c,n),o.tag=1,o=am(null,o,c,n,r)):(o.tag=0,o=uf(null,o,c,n,r));else{if(c!=null){if(p=c.$$typeof,p===fe){o.tag=11,o=nm(null,o,c,n,r);break e}else if(p===k){o.tag=14,o=im(null,o,c,n,r);break e}}throw o=at(c)||c,Error(s(306,o,""))}}return o;case 0:return uf(n,o,o.type,o.pendingProps,r);case 1:return c=o.type,p=vs(c,o.pendingProps),am(n,o,c,p,r);case 3:e:{if(Ye(o,o.stateNode.containerInfo),n===null)throw Error(s(387));c=o.pendingProps;var v=o.memoizedState;p=v.element,Vc(n,o),fl(o,c,null,r);var C=o.memoizedState;if(c=C.cache,uo(o,Nt,c),c!==v.cache&&kc(o,[Nt],r,!0),cl(),c=C.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=um(n,o,c,r);break e}else if(c!==p){p=kn(Error(s(424)),o),il(p),o=um(n,o,c,r);break e}else{switch(n=o.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(_t=Xn(n.firstChild),en=o,$e=!0,ds=null,ui=!0,r=$p(o,null,c,r),o.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(nl(),c===p){o=Bi(n,o,r);break e}qt(n,o,c,r)}o=o.child}return o;case 26:return ja(n,o),n===null?(r=yg(o.type,null,o.pendingProps,null))?o.memoizedState=r:$e||(r=o.type,n=o.pendingProps,c=pu(Ce.current).createElement(r),c[ke]=o,c[_e]=n,Ft(c,r,n),Ct(c),o.stateNode=c):o.memoizedState=yg(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return Gn(o),n===null&&$e&&(c=o.stateNode=pg(o.type,o.pendingProps,Ce.current),en=o,ui=!0,p=_t,wo(o.type)?(Qf=p,_t=Xn(c.firstChild)):_t=p),qt(n,o,o.pendingProps.children,r),ja(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&$e&&((p=c=_t)&&(c=K_(c,o.type,o.pendingProps,ui),c!==null?(o.stateNode=c,en=o,_t=Xn(c.firstChild),ui=!1,p=!0):p=!1),p||hs(o)),Gn(o),p=o.type,v=o.pendingProps,C=n!==null?n.memoizedProps:null,c=v.children,Yf(p,v)?c=null:C!==null&&Yf(p,C)&&(o.flags|=32),o.memoizedState!==null&&(p=Fc(n,o,d_,null,null,r),Dl._currentValue=p),ja(n,o),qt(n,o,c,r),o.child;case 6:return n===null&&$e&&((n=r=_t)&&(r=X_(r,o.pendingProps,ui),r!==null?(o.stateNode=r,en=o,_t=null,n=!0):n=!1),n||hs(o)),null;case 13:return cm(n,o,r);case 4:return Ye(o,o.stateNode.containerInfo),c=o.pendingProps,n===null?o.child=lr(o,null,c,r):qt(n,o,c,r),o.child;case 11:return nm(n,o,o.type,o.pendingProps,r);case 7:return qt(n,o,o.pendingProps,r),o.child;case 8:return qt(n,o,o.pendingProps.children,r),o.child;case 12:return qt(n,o,o.pendingProps.children,r),o.child;case 10:return c=o.pendingProps,uo(o,o.type,c.value),qt(n,o,c.children,r),o.child;case 9:return p=o.type._context,c=o.pendingProps.children,ms(o),p=Jt(p),c=c(p),o.flags|=1,qt(n,o,c,r),o.child;case 14:return im(n,o,o.type,o.pendingProps,r);case 15:return om(n,o,o.type,o.pendingProps,r);case 19:return dm(n,o,r);case 31:return c=o.pendingProps,r=o.mode,c={mode:c.mode,children:c.children},n===null?(r=eu(c,r),r.ref=o.ref,o.child=r,r.return=o,o=r):(r=ki(n.child,c),r.ref=o.ref,o.child=r,r.return=o,o=r),o;case 22:return sm(n,o,r);case 24:return ms(o),c=Jt(Nt),n===null?(p=Lc(),p===null&&(p=ft,v=Dc(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=r),p=v),o.memoizedState={parent:c,cache:p},Oc(o),uo(o,Nt,p)):((n.lanes&r)!==0&&(Vc(n,o),fl(o,null,null,r),cl()),p=n.memoizedState,v=o.memoizedState,p.parent!==c?(p={parent:c,cache:c},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),uo(o,Nt,c)):(c=v.cache,uo(o,Nt,c),c!==p.cache&&kc(o,[Nt],r,!0))),qt(n,o,o.pendingProps.children,r),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function Hi(n){n.flags|=4}function pm(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Eg(o)){if(o=Pn.current,o!==null&&((qe&4194048)===qe?ci!==null:(qe&62914560)!==qe&&(qe&536870912)===0||o!==ci))throw al=Pc,Zh;n.flags|=8192}}function tu(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?oe():536870912,n.lanes|=o,fr|=o)}function vl(n,o){if(!$e)switch(n.tailMode){case"hidden":o=n.tail;for(var r=null;o!==null;)o.alternate!==null&&(r=o),o=o.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Tt(n){var o=n.alternate!==null&&n.alternate.child===n.child,r=0,c=0;if(o)for(var p=n.child;p!==null;)r|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)r|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=c,n.childLanes=r,o}function S_(n,o,r){var c=o.pendingProps;switch(Mc(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(o),null;case 1:return Tt(o),null;case 3:return r=o.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Pi(Nt),Ht(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(tl(o)?Hi(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Yh())),Tt(o),null;case 26:return r=o.memoizedState,n===null?(Hi(o),r!==null?(Tt(o),pm(o,r)):(Tt(o),o.flags&=-16777217)):r?r!==n.memoizedState?(Hi(o),Tt(o),pm(o,r)):(Tt(o),o.flags&=-16777217):(n.memoizedProps!==c&&Hi(o),Tt(o),o.flags&=-16777217),null;case 27:wn(o),r=Ce.current;var p=o.type;if(n!==null&&o.stateNode!=null)n.memoizedProps!==c&&Hi(o);else{if(!c){if(o.stateNode===null)throw Error(s(166));return Tt(o),null}n=Te.current,tl(o)?Fh(o):(n=pg(p,c,r),o.stateNode=n,Hi(o))}return Tt(o),null;case 5:if(wn(o),r=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==c&&Hi(o);else{if(!c){if(o.stateNode===null)throw Error(s(166));return Tt(o),null}if(n=Te.current,tl(o))Fh(o);else{switch(p=pu(Ce.current),n){case 1:n=p.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:n=p.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":n=p.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":n=p.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":n=p.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?p.createElement(r,{is:c.is}):p.createElement(r)}}n[ke]=o,n[_e]=c;e:for(p=o.child;p!==null;){if(p.tag===5||p.tag===6)n.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===o)break e;for(;p.sibling===null;){if(p.return===null||p.return===o)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}o.stateNode=n;e:switch(Ft(n,r,c),r){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Hi(o)}}return Tt(o),o.flags&=-16777217,null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==c&&Hi(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(s(166));if(n=Ce.current,tl(o)){if(n=o.stateNode,r=o.memoizedProps,c=null,p=en,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}n[ke]=o,n=!!(n.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||lg(n.nodeValue,r)),n||hs(o)}else n=pu(n).createTextNode(c),n[ke]=o,o.stateNode=n}return Tt(o),null;case 13:if(c=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=tl(o),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(s(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[ke]=o}else nl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Tt(o),p=!1}else p=Yh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return o.flags&256?(Vi(o),o):(Vi(o),null)}if(Vi(o),(o.flags&128)!==0)return o.lanes=r,o;if(r=c!==null,n=n!==null&&n.memoizedState!==null,r){c=o.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var v=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048)}return r!==n&&r&&(o.child.flags|=8192),tu(o,o.updateQueue),Tt(o),null;case 4:return Ht(),n===null&&Gf(o.stateNode.containerInfo),Tt(o),null;case 10:return Pi(o.type),Tt(o),null;case 19:if(ue(kt),p=o.memoizedState,p===null)return Tt(o),null;if(c=(o.flags&128)!==0,v=p.rendering,v===null)if(c)vl(p,!1);else{if(St!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(v=Qa(n),v!==null){for(o.flags|=128,vl(p,!1),n=v.updateQueue,o.updateQueue=n,tu(o,n),o.subtreeFlags=0,n=r,r=o.child;r!==null;)qh(r,n),r=r.sibling;return re(kt,kt.current&1|2),o.child}n=n.sibling}p.tail!==null&&Qt()>ou&&(o.flags|=128,c=!0,vl(p,!1),o.lanes=4194304)}else{if(!c)if(n=Qa(v),n!==null){if(o.flags|=128,c=!0,n=n.updateQueue,o.updateQueue=n,tu(o,n),vl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!$e)return Tt(o),null}else 2*Qt()-p.renderingStartTime>ou&&r!==536870912&&(o.flags|=128,c=!0,vl(p,!1),o.lanes=4194304);p.isBackwards?(v.sibling=o.child,o.child=v):(n=p.last,n!==null?n.sibling=v:o.child=v,p.last=v)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=Qt(),o.sibling=null,n=kt.current,re(kt,c?n&1|2:n&1),o):(Tt(o),null);case 22:case 23:return Vi(o),qc(),c=o.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(r&536870912)!==0&&(o.flags&128)===0&&(Tt(o),o.subtreeFlags&6&&(o.flags|=8192)):Tt(o),r=o.updateQueue,r!==null&&tu(o,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==r&&(o.flags|=2048),n!==null&&ue(gs),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),o.memoizedState.cache!==r&&(o.flags|=2048),Pi(Nt),Tt(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function E_(n,o){switch(Mc(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Pi(Nt),Ht(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return wn(o),null;case 13:if(Vi(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(s(340));nl()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return ue(kt),null;case 4:return Ht(),null;case 10:return Pi(o.type),null;case 22:case 23:return Vi(o),qc(),n!==null&&ue(gs),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return Pi(Nt),null;case 25:return null;default:return null}}function mm(n,o){switch(Mc(o),o.tag){case 3:Pi(Nt),Ht();break;case 26:case 27:case 5:wn(o);break;case 4:Ht();break;case 13:Vi(o);break;case 19:ue(kt);break;case 10:Pi(o.type);break;case 22:case 23:Vi(o),qc(),n!==null&&ue(gs);break;case 24:Pi(Nt)}}function Tl(n,o){try{var r=o.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var p=c.next;r=p;do{if((r.tag&n)===n){c=void 0;var v=r.create,C=r.inst;c=v(),C.destroy=c}r=r.next}while(r!==p)}}catch(w){ut(o,o.return,w)}}function yo(n,o,r){try{var c=o.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var v=p.next;c=v;do{if((c.tag&n)===n){var C=c.inst,w=C.destroy;if(w!==void 0){C.destroy=void 0,p=o;var D=r,z=w;try{z()}catch(Z){ut(p,D,Z)}}}c=c.next}while(c!==v)}}catch(Z){ut(o,o.return,Z)}}function gm(n){var o=n.updateQueue;if(o!==null){var r=n.stateNode;try{ip(o,r)}catch(c){ut(n,n.return,c)}}}function ym(n,o,r){r.props=vs(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(c){ut(n,o,c)}}function _l(n,o){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof r=="function"?n.refCleanup=r(c):r.current=c}}catch(p){ut(n,o,p)}}function fi(n,o){var r=n.ref,c=n.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(p){ut(n,o,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(p){ut(n,o,p)}else r.current=null}function vm(n){var o=n.type,r=n.memoizedProps,c=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break e;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(p){ut(n,n.return,p)}}function yf(n,o,r){try{var c=n.stateNode;z_(c,n.type,r,o),c[_e]=o}catch(p){ut(n,n.return,p)}}function Tm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&wo(n.type)||n.tag===4}function vf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Tm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&wo(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Tf(n,o,r){var c=n.tag;if(c===5||c===6)n=n.stateNode,o?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,o):(o=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.appendChild(n),r=r._reactRootContainer,r!=null||o.onclick!==null||(o.onclick=hu));else if(c!==4&&(c===27&&wo(n.type)&&(r=n.stateNode,o=null),n=n.child,n!==null))for(Tf(n,o,r),n=n.sibling;n!==null;)Tf(n,o,r),n=n.sibling}function nu(n,o,r){var c=n.tag;if(c===5||c===6)n=n.stateNode,o?r.insertBefore(n,o):r.appendChild(n);else if(c!==4&&(c===27&&wo(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(nu(n,o,r),n=n.sibling;n!==null;)nu(n,o,r),n=n.sibling}function _m(n){var o=n.stateNode,r=n.memoizedProps;try{for(var c=n.type,p=o.attributes;p.length;)o.removeAttributeNode(p[0]);Ft(o,c,r),o[ke]=n,o[_e]=r}catch(v){ut(n,n.return,v)}}var Gi=!1,wt=!1,_f=!1,Sm=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function C_(n,o){if(n=n.containerInfo,Ff=_u,n=kh(n),yc(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var p=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{r.nodeType,v.nodeType}catch{r=null;break e}var C=0,w=-1,D=-1,z=0,Z=0,ee=n,$=null;t:for(;;){for(var Y;ee!==r||p!==0&&ee.nodeType!==3||(w=C+p),ee!==v||c!==0&&ee.nodeType!==3||(D=C+c),ee.nodeType===3&&(C+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)$=ee,ee=Y;for(;;){if(ee===n)break t;if($===r&&++z===p&&(w=C),$===v&&++Z===c&&(D=C),(Y=ee.nextSibling)!==null)break;ee=$,$=ee.parentNode}ee=Y}r=w===-1||D===-1?null:{start:w,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for($f={focusedElem:n,selectionRange:r},_u=!1,Vt=o;Vt!==null;)if(o=Vt,n=o.child,(o.subtreeFlags&1024)!==0&&n!==null)n.return=o,Vt=n;else for(;Vt!==null;){switch(o=Vt,v=o.alternate,n=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,r=o,p=v.memoizedProps,v=v.memoizedState,c=r.stateNode;try{var Ae=vs(r.type,p,r.elementType===r.type);n=c.getSnapshotBeforeUpdate(Ae,v),c.__reactInternalSnapshotBeforeUpdate=n}catch(Se){ut(r,r.return,Se)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,r=n.nodeType,r===9)Kf(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Kf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=o.sibling,n!==null){n.return=o.return,Vt=n;break}Vt=o.return}}function Em(n,o,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:vo(n,r),c&4&&Tl(5,r);break;case 1:if(vo(n,r),c&4)if(n=r.stateNode,o===null)try{n.componentDidMount()}catch(C){ut(r,r.return,C)}else{var p=vs(r.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(p,o,n.__reactInternalSnapshotBeforeUpdate)}catch(C){ut(r,r.return,C)}}c&64&&gm(r),c&512&&_l(r,r.return);break;case 3:if(vo(n,r),c&64&&(n=r.updateQueue,n!==null)){if(o=null,r.child!==null)switch(r.child.tag){case 27:case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}try{ip(n,o)}catch(C){ut(r,r.return,C)}}break;case 27:o===null&&c&4&&_m(r);case 26:case 5:vo(n,r),o===null&&c&4&&vm(r),c&512&&_l(r,r.return);break;case 12:vo(n,r);break;case 13:vo(n,r),c&4&&wm(n,r),c&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=k_.bind(null,r),Q_(n,r))));break;case 22:if(c=r.memoizedState!==null||Gi,!c){o=o!==null&&o.memoizedState!==null||wt,p=Gi;var v=wt;Gi=c,(wt=o)&&!v?To(n,r,(r.subtreeFlags&8772)!==0):vo(n,r),Gi=p,wt=v}break;case 30:break;default:vo(n,r)}}function Cm(n){var o=n.alternate;o!==null&&(n.alternate=null,Cm(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&Jo(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var gt=null,an=!1;function qi(n,o,r){for(r=r.child;r!==null;)Am(n,o,r),r=r.sibling}function Am(n,o,r){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(it,r)}catch{}switch(r.tag){case 26:wt||fi(r,o),qi(n,o,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:wt||fi(r,o);var c=gt,p=an;wo(r.type)&&(gt=r.stateNode,an=!1),qi(n,o,r),bl(r.stateNode),gt=c,an=p;break;case 5:wt||fi(r,o);case 6:if(c=gt,p=an,gt=null,qi(n,o,r),gt=c,an=p,gt!==null)if(an)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(r.stateNode)}catch(v){ut(r,o,v)}else try{gt.removeChild(r.stateNode)}catch(v){ut(r,o,v)}break;case 18:gt!==null&&(an?(n=gt,dg(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),Ol(n)):dg(gt,r.stateNode));break;case 4:c=gt,p=an,gt=r.stateNode.containerInfo,an=!0,qi(n,o,r),gt=c,an=p;break;case 0:case 11:case 14:case 15:wt||yo(2,r,o),wt||yo(4,r,o),qi(n,o,r);break;case 1:wt||(fi(r,o),c=r.stateNode,typeof c.componentWillUnmount=="function"&&ym(r,o,c)),qi(n,o,r);break;case 21:qi(n,o,r);break;case 22:wt=(c=wt)||r.memoizedState!==null,qi(n,o,r),wt=c;break;default:qi(n,o,r)}}function wm(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ol(n)}catch(r){ut(o,o.return,r)}}function A_(n){switch(n.tag){case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new Sm),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new Sm),o;default:throw Error(s(435,n.tag))}}function Sf(n,o){var r=A_(n);o.forEach(function(c){var p=D_.bind(null,n,c);r.has(c)||(r.add(c),c.then(p,p))})}function Tn(n,o){var r=o.deletions;if(r!==null)for(var c=0;c<r.length;c++){var p=r[c],v=n,C=o,w=C;e:for(;w!==null;){switch(w.tag){case 27:if(wo(w.type)){gt=w.stateNode,an=!1;break e}break;case 5:gt=w.stateNode,an=!1;break e;case 3:case 4:gt=w.stateNode.containerInfo,an=!0;break e}w=w.return}if(gt===null)throw Error(s(160));Am(v,C,p),gt=null,an=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)xm(o,n),o=o.sibling}var Kn=null;function xm(n,o){var r=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Tn(o,n),_n(n),c&4&&(yo(3,n,n.return),Tl(3,n),yo(5,n,n.return));break;case 1:Tn(o,n),_n(n),c&512&&(wt||r===null||fi(r,r.return)),c&64&&Gi&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var p=Kn;if(Tn(o,n),_n(n),c&512&&(wt||r===null||fi(r,r.return)),c&4){var v=r!==null?r.memoizedState:null;if(c=n.memoizedState,r===null)if(c===null)if(n.stateNode===null){e:{c=n.type,r=n.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":v=p.getElementsByTagName("title")[0],(!v||v[Yo]||v[ke]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(c),p.head.insertBefore(v,p.querySelector("head > title"))),Ft(v,c,r),v[ke]=n,Ct(v),c=v;break e;case"link":var C=_g("link","href",p).get(c+(r.href||""));if(C){for(var w=0;w<C.length;w++)if(v=C[w],v.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&v.getAttribute("rel")===(r.rel==null?null:r.rel)&&v.getAttribute("title")===(r.title==null?null:r.title)&&v.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){C.splice(w,1);break t}}v=p.createElement(c),Ft(v,c,r),p.head.appendChild(v);break;case"meta":if(C=_g("meta","content",p).get(c+(r.content||""))){for(w=0;w<C.length;w++)if(v=C[w],v.getAttribute("content")===(r.content==null?null:""+r.content)&&v.getAttribute("name")===(r.name==null?null:r.name)&&v.getAttribute("property")===(r.property==null?null:r.property)&&v.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&v.getAttribute("charset")===(r.charSet==null?null:r.charSet)){C.splice(w,1);break t}}v=p.createElement(c),Ft(v,c,r),p.head.appendChild(v);break;default:throw Error(s(468,c))}v[ke]=n,Ct(v),c=v}n.stateNode=c}else Sg(p,n.type,n.stateNode);else n.stateNode=Tg(p,c,n.memoizedProps);else v!==c?(v===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):v.count--,c===null?Sg(p,n.type,n.stateNode):Tg(p,c,n.memoizedProps)):c===null&&n.stateNode!==null&&yf(n,n.memoizedProps,r.memoizedProps)}break;case 27:Tn(o,n),_n(n),c&512&&(wt||r===null||fi(r,r.return)),r!==null&&c&4&&yf(n,n.memoizedProps,r.memoizedProps);break;case 5:if(Tn(o,n),_n(n),c&512&&(wt||r===null||fi(r,r.return)),n.flags&32){p=n.stateNode;try{Mn(p,"")}catch(Y){ut(n,n.return,Y)}}c&4&&n.stateNode!=null&&(p=n.memoizedProps,yf(n,p,r!==null?r.memoizedProps:p)),c&1024&&(_f=!0);break;case 6:if(Tn(o,n),_n(n),c&4){if(n.stateNode===null)throw Error(s(162));c=n.memoizedProps,r=n.stateNode;try{r.nodeValue=c}catch(Y){ut(n,n.return,Y)}}break;case 3:if(yu=null,p=Kn,Kn=mu(o.containerInfo),Tn(o,n),Kn=p,_n(n),c&4&&r!==null&&r.memoizedState.isDehydrated)try{Ol(o.containerInfo)}catch(Y){ut(n,n.return,Y)}_f&&(_f=!1,Rm(n));break;case 4:c=Kn,Kn=mu(n.stateNode.containerInfo),Tn(o,n),_n(n),Kn=c;break;case 12:Tn(o,n),_n(n);break;case 13:Tn(o,n),_n(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Rf=Qt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Sf(n,c)));break;case 22:p=n.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,z=Gi,Z=wt;if(Gi=z||p,wt=Z||D,Tn(o,n),wt=Z,Gi=z,_n(n),c&8192)e:for(o=n.stateNode,o._visibility=p?o._visibility&-2:o._visibility|1,p&&(r===null||D||Gi||wt||Ts(n)),r=null,o=n;;){if(o.tag===5||o.tag===26){if(r===null){D=r=o;try{if(v=D.stateNode,p)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{w=D.stateNode;var ee=D.memoizedProps.style,$=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Y){ut(D,D.return,Y)}}}else if(o.tag===6){if(r===null){D=o;try{D.stateNode.nodeValue=p?"":D.memoizedProps}catch(Y){ut(D,D.return,Y)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;r===o&&(r=null),o=o.return}r===o&&(r=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=n.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,Sf(n,r))));break;case 19:Tn(o,n),_n(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Sf(n,c)));break;case 30:break;case 21:break;default:Tn(o,n),_n(n)}}function _n(n){var o=n.flags;if(o&2){try{for(var r,c=n.return;c!==null;){if(Tm(c)){r=c;break}c=c.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var p=r.stateNode,v=vf(n);nu(n,v,p);break;case 5:var C=r.stateNode;r.flags&32&&(Mn(C,""),r.flags&=-33);var w=vf(n);nu(n,w,C);break;case 3:case 4:var D=r.stateNode.containerInfo,z=vf(n);Tf(n,z,D);break;default:throw Error(s(161))}}catch(Z){ut(n,n.return,Z)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function Rm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;Rm(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function vo(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Em(n,o.alternate,o),o=o.sibling}function Ts(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:yo(4,o,o.return),Ts(o);break;case 1:fi(o,o.return);var r=o.stateNode;typeof r.componentWillUnmount=="function"&&ym(o,o.return,r),Ts(o);break;case 27:bl(o.stateNode);case 26:case 5:fi(o,o.return),Ts(o);break;case 22:o.memoizedState===null&&Ts(o);break;case 30:Ts(o);break;default:Ts(o)}n=n.sibling}}function To(n,o,r){for(r=r&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,p=n,v=o,C=v.flags;switch(v.tag){case 0:case 11:case 15:To(p,v,r),Tl(4,v);break;case 1:if(To(p,v,r),c=v,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(z){ut(c,c.return,z)}if(c=v,p=c.updateQueue,p!==null){var w=c.stateNode;try{var D=p.shared.hiddenCallbacks;if(D!==null)for(p.shared.hiddenCallbacks=null,p=0;p<D.length;p++)np(D[p],w)}catch(z){ut(c,c.return,z)}}r&&C&64&&gm(v),_l(v,v.return);break;case 27:_m(v);case 26:case 5:To(p,v,r),r&&c===null&&C&4&&vm(v),_l(v,v.return);break;case 12:To(p,v,r);break;case 13:To(p,v,r),r&&C&4&&wm(p,v);break;case 22:v.memoizedState===null&&To(p,v,r),_l(v,v.return);break;case 30:break;default:To(p,v,r)}o=o.sibling}}function Ef(n,o){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&sl(r))}function Cf(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&sl(n))}function di(n,o,r,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Mm(n,o,r,c),o=o.sibling}function Mm(n,o,r,c){var p=o.flags;switch(o.tag){case 0:case 11:case 15:di(n,o,r,c),p&2048&&Tl(9,o);break;case 1:di(n,o,r,c);break;case 3:di(n,o,r,c),p&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&sl(n)));break;case 12:if(p&2048){di(n,o,r,c),n=o.stateNode;try{var v=o.memoizedProps,C=v.id,w=v.onPostCommit;typeof w=="function"&&w(C,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){ut(o,o.return,D)}}else di(n,o,r,c);break;case 13:di(n,o,r,c);break;case 23:break;case 22:v=o.stateNode,C=o.alternate,o.memoizedState!==null?v._visibility&2?di(n,o,r,c):Sl(n,o):v._visibility&2?di(n,o,r,c):(v._visibility|=2,ar(n,o,r,c,(o.subtreeFlags&10256)!==0)),p&2048&&Ef(C,o);break;case 24:di(n,o,r,c),p&2048&&Cf(o.alternate,o);break;default:di(n,o,r,c)}}function ar(n,o,r,c,p){for(p=p&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=n,C=o,w=r,D=c,z=C.flags;switch(C.tag){case 0:case 11:case 15:ar(v,C,w,D,p),Tl(8,C);break;case 23:break;case 22:var Z=C.stateNode;C.memoizedState!==null?Z._visibility&2?ar(v,C,w,D,p):Sl(v,C):(Z._visibility|=2,ar(v,C,w,D,p)),p&&z&2048&&Ef(C.alternate,C);break;case 24:ar(v,C,w,D,p),p&&z&2048&&Cf(C.alternate,C);break;default:ar(v,C,w,D,p)}o=o.sibling}}function Sl(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var r=n,c=o,p=c.flags;switch(c.tag){case 22:Sl(r,c),p&2048&&Ef(c.alternate,c);break;case 24:Sl(r,c),p&2048&&Cf(c.alternate,c);break;default:Sl(r,c)}o=o.sibling}}var El=8192;function ur(n){if(n.subtreeFlags&El)for(n=n.child;n!==null;)bm(n),n=n.sibling}function bm(n){switch(n.tag){case 26:ur(n),n.flags&El&&n.memoizedState!==null&&uS(Kn,n.memoizedState,n.memoizedProps);break;case 5:ur(n);break;case 3:case 4:var o=Kn;Kn=mu(n.stateNode.containerInfo),ur(n),Kn=o;break;case 22:n.memoizedState===null&&(o=n.alternate,o!==null&&o.memoizedState!==null?(o=El,El=16777216,ur(n),El=o):ur(n));break;default:ur(n)}}function Im(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function Cl(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var r=0;r<o.length;r++){var c=o[r];Vt=c,km(c,n)}Im(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Nm(n),n=n.sibling}function Nm(n){switch(n.tag){case 0:case 11:case 15:Cl(n),n.flags&2048&&yo(9,n,n.return);break;case 3:Cl(n);break;case 12:Cl(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,iu(n)):Cl(n);break;default:Cl(n)}}function iu(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var r=0;r<o.length;r++){var c=o[r];Vt=c,km(c,n)}Im(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:yo(8,o,o.return),iu(o);break;case 22:r=o.stateNode,r._visibility&2&&(r._visibility&=-3,iu(o));break;default:iu(o)}n=n.sibling}}function km(n,o){for(;Vt!==null;){var r=Vt;switch(r.tag){case 0:case 11:case 15:yo(8,r,o);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:sl(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,Vt=c;else e:for(r=n;Vt!==null;){c=Vt;var p=c.sibling,v=c.return;if(Cm(c),c===r){Vt=null;break e}if(p!==null){p.return=v,Vt=p;break e}Vt=v}}}var w_={getCacheForType:function(n){var o=Jt(Nt),r=o.data.get(n);return r===void 0&&(r=n(),o.data.set(n,r)),r}},x_=typeof WeakMap=="function"?WeakMap:Map,et=0,ft=null,Oe=null,qe=0,tt=0,Sn=null,_o=!1,cr=!1,Af=!1,zi=0,St=0,So=0,_s=0,wf=0,On=0,fr=0,Al=null,un=null,xf=!1,Rf=0,ou=1/0,su=null,Eo=null,zt=0,Co=null,dr=null,hr=0,Mf=0,bf=null,Dm=null,wl=0,If=null;function En(){if((et&2)!==0&&qe!==0)return qe&-qe;if(X.T!==null){var n=er;return n!==0?n:Of()}return dt()}function Um(){On===0&&(On=(qe&536870912)===0||$e?te():536870912);var n=Pn.current;return n!==null&&(n.flags|=32),On}function Cn(n,o,r){(n===ft&&(tt===2||tt===9)||n.cancelPendingCommit!==null)&&(pr(n,0),Ao(n,qe,On,!1)),we(n,r),((et&2)===0||n!==ft)&&(n===ft&&((et&2)===0&&(_s|=r),St===4&&Ao(n,qe,On,!1)),hi(n))}function Lm(n,o,r){if((et&6)!==0)throw Error(s(327));var c=!r&&(o&124)===0&&(o&n.expiredLanes)===0||xt(n,o),p=c?b_(n,o):Df(n,o,!0),v=c;do{if(p===0){cr&&!c&&Ao(n,o,0,!1);break}else{if(r=n.current.alternate,v&&!R_(r)){p=Df(n,o,!1),v=!1;continue}if(p===2){if(v=o,n.errorRecoveryDisabledLanes&v)var C=0;else C=n.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var w=n;p=Al;var D=w.current.memoizedState.isDehydrated;if(D&&(pr(w,C).flags|=256),C=Df(w,C,!1),C!==2){if(Af&&!D){w.errorRecoveryDisabledLanes|=v,_s|=v,p=4;break e}v=un,un=p,v!==null&&(un===null?un=v:un.push.apply(un,v))}p=C}if(v=!1,p!==2)continue}}if(p===1){pr(n,0),Ao(n,o,0,!0);break}e:{switch(c=n,v=p,v){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:Ao(c,o,On,!_o);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(p=Rf+300-Qt(),10<p)){if(Ao(c,o,On,!_o),Si(c,0,!0)!==0)break e;c.timeoutHandle=cg(Pm.bind(null,c,r,un,su,xf,o,On,_s,fr,_o,v,2,-0,0),p);break e}Pm(c,r,un,su,xf,o,On,_s,fr,_o,v,0,-0,0)}}break}while(!0);hi(n)}function Pm(n,o,r,c,p,v,C,w,D,z,Z,ee,$,Y){if(n.timeoutHandle=-1,ee=o.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(kl={stylesheets:null,count:0,unsuspend:aS},bm(o),ee=cS(),ee!==null)){n.cancelPendingCommit=ee(zm.bind(null,n,o,v,r,c,p,C,w,D,Z,1,$,Y)),Ao(n,v,C,!z);return}zm(n,o,v,r,c,p,C,w,D)}function R_(n){for(var o=n;;){var r=o.tag;if((r===0||r===11||r===15)&&o.flags&16384&&(r=o.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var p=r[c],v=p.getSnapshot;p=p.value;try{if(!yn(v(),p))return!1}catch{return!1}}if(r=o.child,o.subtreeFlags&16384&&r!==null)r.return=o,o=r;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ao(n,o,r,c){o&=~wf,o&=~_s,n.suspendedLanes|=o,n.pingedLanes&=~o,c&&(n.warmLanes|=o),c=n.expirationTimes;for(var p=o;0<p;){var v=31-Dt(p),C=1<<v;c[v]=-1,p&=~C}r!==0&&Le(n,r,o)}function ru(){return(et&6)===0?(xl(0),!1):!0}function Nf(){if(Oe!==null){if(tt===0)var n=Oe.return;else n=Oe,Li=ps=null,Jc(n),rr=null,gl=0,n=Oe;for(;n!==null;)mm(n.alternate,n),n=n.return;Oe=null}}function pr(n,o){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,$_(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),Nf(),ft=n,Oe=r=ki(n.current,null),qe=o,tt=0,Sn=null,_o=!1,cr=xt(n,o),Af=!1,fr=On=wf=_s=So=St=0,un=Al=null,xf=!1,(o&8)!==0&&(o|=o&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=o;0<c;){var p=31-Dt(c),v=1<<p;o|=n[p],c&=~v}return zi=o,Ma(),r}function Om(n,o){De=null,X.H=Ja,o===ll||o===Oa?(o=ep(),tt=3):o===Zh?(o=ep(),tt=4):tt=o===tm?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Sn=o,Oe===null&&(St=1,Wa(n,kn(o,n.current)))}function Vm(){var n=X.H;return X.H=Ja,n===null?Ja:n}function Bm(){var n=X.A;return X.A=w_,n}function kf(){St=4,_o||(qe&4194048)!==qe&&Pn.current!==null||(cr=!0),(So&134217727)===0&&(_s&134217727)===0||ft===null||Ao(ft,qe,On,!1)}function Df(n,o,r){var c=et;et|=2;var p=Vm(),v=Bm();(ft!==n||qe!==o)&&(su=null,pr(n,o)),o=!1;var C=St;e:do try{if(tt!==0&&Oe!==null){var w=Oe,D=Sn;switch(tt){case 8:Nf(),C=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(o=!0);var z=tt;if(tt=0,Sn=null,mr(n,w,D,z),r&&cr){C=0;break e}break;default:z=tt,tt=0,Sn=null,mr(n,w,D,z)}}M_(),C=St;break}catch(Z){Om(n,Z)}while(!0);return o&&n.shellSuspendCounter++,Li=ps=null,et=c,X.H=p,X.A=v,Oe===null&&(ft=null,qe=0,Ma()),C}function M_(){for(;Oe!==null;)Hm(Oe)}function b_(n,o){var r=et;et|=2;var c=Vm(),p=Bm();ft!==n||qe!==o?(su=null,ou=Qt()+500,pr(n,o)):cr=xt(n,o);e:do try{if(tt!==0&&Oe!==null){o=Oe;var v=Sn;t:switch(tt){case 1:tt=0,Sn=null,mr(n,o,v,1);break;case 2:case 9:if(Wh(v)){tt=0,Sn=null,Gm(o);break}o=function(){tt!==2&&tt!==9||ft!==n||(tt=7),hi(n)},v.then(o,o);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Wh(v)?(tt=0,Sn=null,Gm(o)):(tt=0,Sn=null,mr(n,o,v,7));break;case 5:var C=null;switch(Oe.tag){case 26:C=Oe.memoizedState;case 5:case 27:var w=Oe;if(!C||Eg(C)){tt=0,Sn=null;var D=w.sibling;if(D!==null)Oe=D;else{var z=w.return;z!==null?(Oe=z,lu(z)):Oe=null}break t}}tt=0,Sn=null,mr(n,o,v,5);break;case 6:tt=0,Sn=null,mr(n,o,v,6);break;case 8:Nf(),St=6;break e;default:throw Error(s(462))}}I_();break}catch(Z){Om(n,Z)}while(!0);return Li=ps=null,X.H=c,X.A=p,et=r,Oe!==null?0:(ft=null,qe=0,Ma(),St)}function I_(){for(;Oe!==null&&!Go();)Hm(Oe)}function Hm(n){var o=hm(n.alternate,n,zi);n.memoizedProps=n.pendingProps,o===null?lu(n):Oe=o}function Gm(n){var o=n,r=o.alternate;switch(o.tag){case 15:case 0:o=lm(r,o,o.pendingProps,o.type,void 0,qe);break;case 11:o=lm(r,o,o.pendingProps,o.type.render,o.ref,qe);break;case 5:Jc(o);default:mm(r,o),o=Oe=qh(o,zi),o=hm(r,o,zi)}n.memoizedProps=n.pendingProps,o===null?lu(n):Oe=o}function mr(n,o,r,c){Li=ps=null,Jc(o),rr=null,gl=0;var p=o.return;try{if(T_(n,p,o,r,qe)){St=1,Wa(n,kn(r,n.current)),Oe=null;return}}catch(v){if(p!==null)throw Oe=p,v;St=1,Wa(n,kn(r,n.current)),Oe=null;return}o.flags&32768?($e||c===1?n=!0:cr||(qe&536870912)!==0?n=!1:(_o=n=!0,(c===2||c===9||c===3||c===6)&&(c=Pn.current,c!==null&&c.tag===13&&(c.flags|=16384))),qm(o,n)):lu(o)}function lu(n){var o=n;do{if((o.flags&32768)!==0){qm(o,_o);return}n=o.return;var r=S_(o.alternate,o,zi);if(r!==null){Oe=r;return}if(o=o.sibling,o!==null){Oe=o;return}Oe=o=n}while(o!==null);St===0&&(St=5)}function qm(n,o){do{var r=E_(n.alternate,n);if(r!==null){r.flags&=32767,Oe=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!o&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=r}while(n!==null);St=6,Oe=null}function zm(n,o,r,c,p,v,C,w,D){n.cancelPendingCommit=null;do au();while(zt!==0);if((et&6)!==0)throw Error(s(327));if(o!==null){if(o===n.current)throw Error(s(177));if(v=o.lanes|o.childLanes,v|=Ec,Ne(n,r,v,C,w,D),n===ft&&(Oe=ft=null,qe=0),dr=o,Co=n,hr=r,Mf=v,bf=p,Dm=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,U_(Fn,function(){return Km(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,p=ce.p,ce.p=2,C=et,et|=4;try{C_(n,o,r)}finally{et=C,ce.p=p,X.T=c}}zt=1,Fm(),$m(),Ym()}}function Fm(){if(zt===1){zt=0;var n=Co,o=dr,r=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||r){r=X.T,X.T=null;var c=ce.p;ce.p=2;var p=et;et|=4;try{xm(o,n);var v=$f,C=kh(n.containerInfo),w=v.focusedElem,D=v.selectionRange;if(C!==w&&w&&w.ownerDocument&&Nh(w.ownerDocument.documentElement,w)){if(D!==null&&yc(w)){var z=D.start,Z=D.end;if(Z===void 0&&(Z=z),"selectionStart"in w)w.selectionStart=z,w.selectionEnd=Math.min(Z,w.value.length);else{var ee=w.ownerDocument||document,$=ee&&ee.defaultView||window;if($.getSelection){var Y=$.getSelection(),Ae=w.textContent.length,Se=Math.min(D.start,Ae),lt=D.end===void 0?Se:Math.min(D.end,Ae);!Y.extend&&Se>lt&&(C=lt,lt=Se,Se=C);var H=Ih(w,Se),V=Ih(w,lt);if(H&&V&&(Y.rangeCount!==1||Y.anchorNode!==H.node||Y.anchorOffset!==H.offset||Y.focusNode!==V.node||Y.focusOffset!==V.offset)){var q=ee.createRange();q.setStart(H.node,H.offset),Y.removeAllRanges(),Se>lt?(Y.addRange(q),Y.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),Y.addRange(q))}}}}for(ee=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var j=ee[w];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}_u=!!Ff,$f=Ff=null}finally{et=p,ce.p=c,X.T=r}}n.current=o,zt=2}}function $m(){if(zt===2){zt=0;var n=Co,o=dr,r=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||r){r=X.T,X.T=null;var c=ce.p;ce.p=2;var p=et;et|=4;try{Em(n,o.alternate,o)}finally{et=p,ce.p=c,X.T=r}}zt=3}}function Ym(){if(zt===4||zt===3){zt=0,qo();var n=Co,o=dr,r=hr,c=Dm;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?zt=5:(zt=0,dr=Co=null,Jm(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(Eo=null),It(r),o=o.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(it,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=X.T,p=ce.p,ce.p=2,X.T=null;try{for(var v=n.onRecoverableError,C=0;C<c.length;C++){var w=c[C];v(w.value,{componentStack:w.stack})}}finally{X.T=o,ce.p=p}}(hr&3)!==0&&au(),hi(n),p=n.pendingLanes,(r&4194090)!==0&&(p&42)!==0?n===If?wl++:(wl=0,If=n):wl=0,xl(0)}}function Jm(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,sl(o)))}function au(n){return Fm(),$m(),Ym(),Km()}function Km(){if(zt!==5)return!1;var n=Co,o=Mf;Mf=0;var r=It(hr),c=X.T,p=ce.p;try{ce.p=32>r?32:r,X.T=null,r=bf,bf=null;var v=Co,C=hr;if(zt=0,dr=Co=null,hr=0,(et&6)!==0)throw Error(s(331));var w=et;if(et|=4,Nm(v.current),Mm(v,v.current,C,r),et=w,xl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(it,v)}catch{}return!0}finally{ce.p=p,X.T=c,Jm(n,o)}}function Xm(n,o,r){o=kn(r,o),o=af(n.stateNode,o,2),n=ho(n,o,2),n!==null&&(we(n,2),hi(n))}function ut(n,o,r){if(n.tag===3)Xm(n,n,r);else for(;o!==null;){if(o.tag===3){Xm(o,n,r);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Eo===null||!Eo.has(c))){n=kn(r,n),r=jp(2),c=ho(o,r,2),c!==null&&(em(r,c,o,n),we(c,2),hi(c));break}}o=o.return}}function Uf(n,o,r){var c=n.pingCache;if(c===null){c=n.pingCache=new x_;var p=new Set;c.set(o,p)}else p=c.get(o),p===void 0&&(p=new Set,c.set(o,p));p.has(r)||(Af=!0,p.add(r),n=N_.bind(null,n,o,r),o.then(n,n))}function N_(n,o,r){var c=n.pingCache;c!==null&&c.delete(o),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,ft===n&&(qe&r)===r&&(St===4||St===3&&(qe&62914560)===qe&&300>Qt()-Rf?(et&2)===0&&pr(n,0):wf|=r,fr===qe&&(fr=0)),hi(n)}function Qm(n,o){o===0&&(o=oe()),n=Qs(n,o),n!==null&&(we(n,o),hi(n))}function k_(n){var o=n.memoizedState,r=0;o!==null&&(r=o.retryLane),Qm(n,r)}function D_(n,o){var r=0;switch(n.tag){case 13:var c=n.stateNode,p=n.memoizedState;p!==null&&(r=p.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(o),Qm(n,r)}function U_(n,o){return hn(n,o)}var uu=null,gr=null,Lf=!1,cu=!1,Pf=!1,Ss=0;function hi(n){n!==gr&&n.next===null&&(gr===null?uu=gr=n:gr=gr.next=n),cu=!0,Lf||(Lf=!0,P_())}function xl(n,o){if(!Pf&&cu){Pf=!0;do for(var r=!1,c=uu;c!==null;){if(n!==0){var p=c.pendingLanes;if(p===0)var v=0;else{var C=c.suspendedLanes,w=c.pingedLanes;v=(1<<31-Dt(42|n)+1)-1,v&=p&~(C&~w),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(r=!0,eg(c,v))}else v=qe,v=Si(c,c===ft?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||xt(c,v)||(r=!0,eg(c,v));c=c.next}while(r);Pf=!1}}function L_(){Zm()}function Zm(){cu=Lf=!1;var n=0;Ss!==0&&(F_()&&(n=Ss),Ss=0);for(var o=Qt(),r=null,c=uu;c!==null;){var p=c.next,v=Wm(c,o);v===0?(c.next=null,r===null?uu=p:r.next=p,p===null&&(gr=r)):(r=c,(n!==0||(v&3)!==0)&&(cu=!0)),c=p}xl(n)}function Wm(n,o){for(var r=n.suspendedLanes,c=n.pingedLanes,p=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var C=31-Dt(v),w=1<<C,D=p[C];D===-1?((w&r)===0||(w&c)!==0)&&(p[C]=J(w,o)):D<=o&&(n.expiredLanes|=w),v&=~w}if(o=ft,r=qe,r=Si(n,n===o?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,r===0||n===o&&(tt===2||tt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&zn(c),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||xt(n,r)){if(o=r&-r,o===n.callbackPriority)return o;switch(c!==null&&zn(c),It(r)){case 2:case 8:r=Wn;break;case 32:r=Fn;break;case 268435456:r=no;break;default:r=Fn}return c=jm.bind(null,n),r=hn(r,c),n.callbackPriority=o,n.callbackNode=r,o}return c!==null&&c!==null&&zn(c),n.callbackPriority=2,n.callbackNode=null,2}function jm(n,o){if(zt!==0&&zt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(au()&&n.callbackNode!==r)return null;var c=qe;return c=Si(n,n===ft?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Lm(n,c,o),Wm(n,Qt()),n.callbackNode!=null&&n.callbackNode===r?jm.bind(null,n):null)}function eg(n,o){if(au())return null;Lm(n,o,!0)}function P_(){Y_(function(){(et&6)!==0?hn(zo,L_):Zm()})}function Of(){return Ss===0&&(Ss=te()),Ss}function tg(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Bs(""+n)}function ng(n,o){var r=o.ownerDocument.createElement("input");return r.name=o.name,r.value=o.value,n.id&&r.setAttribute("form",n.id),o.parentNode.insertBefore(r,o),n=new FormData(n),r.parentNode.removeChild(r),n}function O_(n,o,r,c,p){if(o==="submit"&&r&&r.stateNode===p){var v=tg((p[_e]||null).action),C=c.submitter;C&&(o=(o=C[_e]||null)?tg(o.formAction):C.getAttribute("formAction"),o!==null&&(v=o,C=null));var w=new Hs("action","action",null,c,p);n.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ss!==0){var D=C?ng(p,C):new FormData(p);nf(r,{pending:!0,data:D,method:p.method,action:v},null,D)}}else typeof v=="function"&&(w.preventDefault(),D=C?ng(p,C):new FormData(p),nf(r,{pending:!0,data:D,method:p.method,action:v},v,D))},currentTarget:p}]})}}for(var Vf=0;Vf<Sc.length;Vf++){var Bf=Sc[Vf],V_=Bf.toLowerCase(),B_=Bf[0].toUpperCase()+Bf.slice(1);Jn(V_,"on"+B_)}Jn(Lh,"onAnimationEnd"),Jn(Ph,"onAnimationIteration"),Jn(Oh,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(n_,"onTransitionRun"),Jn(i_,"onTransitionStart"),Jn(o_,"onTransitionCancel"),Jn(Vh,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function ig(n,o){o=(o&4)!==0;for(var r=0;r<n.length;r++){var c=n[r],p=c.event;c=c.listeners;e:{var v=void 0;if(o)for(var C=c.length-1;0<=C;C--){var w=c[C],D=w.instance,z=w.currentTarget;if(w=w.listener,D!==v&&p.isPropagationStopped())break e;v=w,p.currentTarget=z;try{v(p)}catch(Z){Za(Z)}p.currentTarget=null,v=D}else for(C=0;C<c.length;C++){if(w=c[C],D=w.instance,z=w.currentTarget,w=w.listener,D!==v&&p.isPropagationStopped())break e;v=w,p.currentTarget=z;try{v(p)}catch(Z){Za(Z)}p.currentTarget=null,v=D}}}}function Ve(n,o){var r=o[We];r===void 0&&(r=o[We]=new Set);var c=n+"__bubble";r.has(c)||(og(o,n,2,!1),r.add(c))}function Hf(n,o,r){var c=0;o&&(c|=4),og(r,n,c,o)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Gf(n){if(!n[fu]){n[fu]=!0,Hr.forEach(function(r){r!=="selectionchange"&&(H_.has(r)||Hf(r,!1,n),Hf(r,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[fu]||(o[fu]=!0,Hf("selectionchange",!1,o))}}function og(n,o,r,c){switch(Mg(o)){case 2:var p=hS;break;case 8:p=pS;break;default:p=td}r=p.bind(null,o,r,n),p=void 0,!In||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),c?p!==void 0?n.addEventListener(o,r,{capture:!0,passive:p}):n.addEventListener(o,r,!0):p!==void 0?n.addEventListener(o,r,{passive:p}):n.addEventListener(o,r,!1)}function qf(n,o,r,c,p){var v=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var w=c.stateNode.containerInfo;if(w===p)break;if(C===4)for(C=c.return;C!==null;){var D=C.tag;if((D===3||D===4)&&C.stateNode.containerInfo===p)return;C=C.return}for(;w!==null;){if(C=oo(w),C===null)return;if(D=C.tag,D===5||D===6||D===26||D===27){c=v=C;continue e}w=w.parentNode}}c=c.return}ha(function(){var z=v,Z=bn(r),ee=[];e:{var $=Bh.get(n);if($!==void 0){var Y=Hs,Ae=n;switch(n){case"keypress":if(si(r)===0)break e;case"keydown":case"keyup":Y=Ys;break;case"focusin":Ae="focus",Y=zs;break;case"focusout":Ae="blur",Y=zs;break;case"beforeblur":case"afterblur":Y=zs;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Sa;break;case Lh:case Ph:case Oh:Y=Fs;break;case Vh:Y=Ca;break;case"scroll":case"scrollend":Y=pa;break;case"wheel":Y=sn;break;case"copy":case"cut":case"paste":Y=$s;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Wr;break;case"toggle":case"beforetoggle":Y=xa}var Se=(o&4)!==0,lt=!Se&&(n==="scroll"||n==="scrollend"),H=Se?$!==null?$+"Capture":null:$;Se=[];for(var V=z,q;V!==null;){var j=V;if(q=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||q===null||H===null||(j=es(V,H),j!=null&&Se.push(Ml(V,j,q))),lt)break;V=V.return}0<Se.length&&($=new Y($,Ae,null,r,Z),ee.push({event:$,listeners:Se}))}}if((o&7)===0){e:{if($=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",$&&r!==wi&&(Ae=r.relatedTarget||r.fromElement)&&(oo(Ae)||Ae[xe]))break e;if((Y||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(Ae=r.relatedTarget||r.toElement,Y=z,Ae=Ae?oo(Ae):null,Ae!==null&&(lt=f(Ae),Se=Ae.tag,Ae!==lt||Se!==5&&Se!==27&&Se!==6)&&(Ae=null)):(Y=null,Ae=z),Y!==Ae)){if(Se=Nn,j="onMouseLeave",H="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(Se=Wr,j="onPointerLeave",H="onPointerEnter",V="pointer"),lt=Y==null?$:ti(Y),q=Ae==null?$:ti(Ae),$=new Se(j,V+"leave",Y,r,Z),$.target=lt,$.relatedTarget=q,j=null,oo(Z)===z&&(Se=new Se(H,V+"enter",Ae,r,Z),Se.target=q,Se.relatedTarget=lt,j=Se),lt=j,Y&&Ae)t:{for(Se=Y,H=Ae,V=0,q=Se;q;q=yr(q))V++;for(q=0,j=H;j;j=yr(j))q++;for(;0<V-q;)Se=yr(Se),V--;for(;0<q-V;)H=yr(H),q--;for(;V--;){if(Se===H||H!==null&&Se===H.alternate)break t;Se=yr(Se),H=yr(H)}Se=null}else Se=null;Y!==null&&sg(ee,$,Y,Se,!1),Ae!==null&&lt!==null&&sg(ee,lt,Ae,Se,!0)}}e:{if($=z?ti(z):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var pe=Ah;else if(Ii($))if(wh)pe=jT;else{pe=ZT;var Pe=QT}else Y=$.nodeName,!Y||Y.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?z&&$r(z.elementType)&&(pe=Ah):pe=WT;if(pe&&(pe=pe(n,z))){rn(ee,pe,r,Z);break e}Pe&&Pe(n,$,z),n==="focusout"&&z&&$.type==="number"&&z.memoizedProps.value!=null&&ro($,"number",$.value)}switch(Pe=z?ti(z):window,n){case"focusin":(Ii(Pe)||Pe.contentEditable==="true")&&(Js=Pe,vc=z,el=null);break;case"focusout":el=vc=Js=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,Dh(ee,r,Z);break;case"selectionchange":if(t_)break;case"keydown":case"keyup":Dh(ee,r,Z)}var ve;if(d)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else mt?le(n,r)&&(Ee="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(Ee="onCompositionStart");Ee&&(x&&r.locale!=="ko"&&(mt||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&mt&&(ve=Jr()):(oi=Z,lo="value"in oi?oi.value:oi.textContent,mt=!0)),Pe=du(z,Ee),0<Pe.length&&(Ee=new Qr(Ee,n,null,r,Z),ee.push({event:Ee,listeners:Pe}),ve?Ee.data=ve:(ve=Je(r),ve!==null&&(Ee.data=ve)))),(ve=S?Ge(n,r):Lt(n,r))&&(Ee=du(z,"onBeforeInput"),0<Ee.length&&(Pe=new Qr("onBeforeInput","beforeinput",null,r,Z),ee.push({event:Pe,listeners:Ee}),Pe.data=ve)),O_(ee,n,z,r,Z)}ig(ee,o)})}function Ml(n,o,r){return{instance:n,listener:o,currentTarget:r}}function du(n,o){for(var r=o+"Capture",c=[];n!==null;){var p=n,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=es(n,r),p!=null&&c.unshift(Ml(n,p,v)),p=es(n,o),p!=null&&c.push(Ml(n,p,v))),n.tag===3)return c;n=n.return}return[]}function yr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function sg(n,o,r,c,p){for(var v=o._reactName,C=[];r!==null&&r!==c;){var w=r,D=w.alternate,z=w.stateNode;if(w=w.tag,D!==null&&D===c)break;w!==5&&w!==26&&w!==27||z===null||(D=z,p?(z=es(r,v),z!=null&&C.unshift(Ml(r,z,D))):p||(z=es(r,v),z!=null&&C.push(Ml(r,z,D)))),r=r.return}C.length!==0&&n.push({event:o,listeners:C})}var G_=/\r\n?/g,q_=/\u0000|\uFFFD/g;function rg(n){return(typeof n=="string"?n:""+n).replace(G_,`
`).replace(q_,"")}function lg(n,o){return o=rg(o),rg(n)===o}function hu(){}function rt(n,o,r,c,p,v){switch(r){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||Mn(n,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&Mn(n,""+c);break;case"className":ni(n,"class",c);break;case"tabIndex":ni(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(n,r,c);break;case"style":Fr(n,c,v);break;case"data":if(o!=="object"){ni(n,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||r!=="href")){n.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(r);break}c=Bs(""+c),n.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(r==="formAction"?(o!=="input"&&rt(n,o,"name",p.name,p,null),rt(n,o,"formEncType",p.formEncType,p,null),rt(n,o,"formMethod",p.formMethod,p,null),rt(n,o,"formTarget",p.formTarget,p,null)):(rt(n,o,"encType",p.encType,p,null),rt(n,o,"method",p.method,p,null),rt(n,o,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(r);break}c=Bs(""+c),n.setAttribute(r,c);break;case"onClick":c!=null&&(n.onclick=hu);break;case"onScroll":c!=null&&Ve("scroll",n);break;case"onScrollEnd":c!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(r=c.__html,r!=null){if(p.children!=null)throw Error(s(60));n.innerHTML=r}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}r=Bs(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(r,""+c):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":c===!0?n.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(r,c):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(r,c):n.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(r):n.setAttribute(r,c);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),so(n,"popover",c);break;case"xlinkActuate":Gt(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Gt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Gt(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Gt(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Gt(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Gt(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Gt(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":so(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fc.get(r)||r,so(n,r,c))}}function zf(n,o,r,c,p,v){switch(r){case"style":Fr(n,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(r=c.__html,r!=null){if(p.children!=null)throw Error(s(60));n.innerHTML=r}}break;case"children":typeof c=="string"?Mn(n,c):(typeof c=="number"||typeof c=="bigint")&&Mn(n,""+c);break;case"onScroll":c!=null&&Ve("scroll",n);break;case"onScrollEnd":c!=null&&Ve("scrollend",n);break;case"onClick":c!=null&&(n.onclick=hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Us.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(p=r.endsWith("Capture"),o=r.slice(2,p?r.length-7:void 0),v=n[_e]||null,v=v!=null?v[r]:null,typeof v=="function"&&n.removeEventListener(o,v,p),typeof c=="function")){typeof v!="function"&&v!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(o,c,p);break e}r in n?n[r]=c:c===!0?n.setAttribute(r,""):so(n,r,c)}}}function Ft(n,o,r){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var c=!1,p=!1,v;for(v in r)if(r.hasOwnProperty(v)){var C=r[v];if(C!=null)switch(v){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:rt(n,o,v,C,r,null)}}p&&rt(n,o,"srcSet",r.srcSet,r,null),c&&rt(n,o,"src",r.src,r,null);return;case"input":Ve("invalid",n);var w=v=C=p=null,D=null,z=null;for(c in r)if(r.hasOwnProperty(c)){var Z=r[c];if(Z!=null)switch(c){case"name":p=Z;break;case"type":C=Z;break;case"checked":D=Z;break;case"defaultChecked":z=Z;break;case"value":v=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,o));break;default:rt(n,o,c,Z,r,null)}}Zo(n,v,w,D,z,C,p,!1),Vs(n);return;case"select":Ve("invalid",n),c=C=v=null;for(p in r)if(r.hasOwnProperty(p)&&(w=r[p],w!=null))switch(p){case"value":v=w;break;case"defaultValue":C=w;break;case"multiple":c=w;default:rt(n,o,p,w,r,null)}o=v,r=C,n.multiple=!!c,o!=null?Ai(n,!!c,o,!1):r!=null&&Ai(n,!!c,r,!0);return;case"textarea":Ve("invalid",n),v=p=c=null;for(C in r)if(r.hasOwnProperty(C)&&(w=r[C],w!=null))switch(C){case"value":c=w;break;case"defaultValue":p=w;break;case"children":v=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:rt(n,o,C,w,r,null)}Wo(n,c,p,v),Vs(n);return;case"option":for(D in r)if(r.hasOwnProperty(D)&&(c=r[D],c!=null))switch(D){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:rt(n,o,D,c,r,null)}return;case"dialog":Ve("beforetoggle",n),Ve("toggle",n),Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(c=0;c<Rl.length;c++)Ve(Rl[c],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(c=r[z],c!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:rt(n,o,z,c,r,null)}return;default:if($r(o)){for(Z in r)r.hasOwnProperty(Z)&&(c=r[Z],c!==void 0&&zf(n,o,Z,c,r,void 0));return}}for(w in r)r.hasOwnProperty(w)&&(c=r[w],c!=null&&rt(n,o,w,c,r,null))}function z_(n,o,r,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,C=null,w=null,D=null,z=null,Z=null;for(Y in r){var ee=r[Y];if(r.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=ee;default:c.hasOwnProperty(Y)||rt(n,o,Y,null,c,ee)}}for(var $ in c){var Y=c[$];if(ee=r[$],c.hasOwnProperty($)&&(Y!=null||ee!=null))switch($){case"type":v=Y;break;case"name":p=Y;break;case"checked":z=Y;break;case"defaultChecked":Z=Y;break;case"value":C=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,o));break;default:Y!==ee&&rt(n,o,$,Y,c,ee)}}gn(n,C,w,D,z,Z,v,p);return;case"select":Y=C=w=$=null;for(v in r)if(D=r[v],r.hasOwnProperty(v)&&D!=null)switch(v){case"value":break;case"multiple":Y=D;default:c.hasOwnProperty(v)||rt(n,o,v,null,c,D)}for(p in c)if(v=c[p],D=r[p],c.hasOwnProperty(p)&&(v!=null||D!=null))switch(p){case"value":$=v;break;case"defaultValue":w=v;break;case"multiple":C=v;default:v!==D&&rt(n,o,p,v,c,D)}o=w,r=C,c=Y,$!=null?Ai(n,!!r,$,!1):!!c!=!!r&&(o!=null?Ai(n,!!r,o,!0):Ai(n,!!r,r?[]:"",!1));return;case"textarea":Y=$=null;for(w in r)if(p=r[w],r.hasOwnProperty(w)&&p!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:rt(n,o,w,null,c,p)}for(C in c)if(p=c[C],v=r[C],c.hasOwnProperty(C)&&(p!=null||v!=null))switch(C){case"value":$=p;break;case"defaultValue":Y=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==v&&rt(n,o,C,p,c,v)}ot(n,$,Y);return;case"option":for(var Ae in r)if($=r[Ae],r.hasOwnProperty(Ae)&&$!=null&&!c.hasOwnProperty(Ae))switch(Ae){case"selected":n.selected=!1;break;default:rt(n,o,Ae,null,c,$)}for(D in c)if($=c[D],Y=r[D],c.hasOwnProperty(D)&&$!==Y&&($!=null||Y!=null))switch(D){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:rt(n,o,D,$,c,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in r)$=r[Se],r.hasOwnProperty(Se)&&$!=null&&!c.hasOwnProperty(Se)&&rt(n,o,Se,null,c,$);for(z in c)if($=c[z],Y=r[z],c.hasOwnProperty(z)&&$!==Y&&($!=null||Y!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,o));break;default:rt(n,o,z,$,c,Y)}return;default:if($r(o)){for(var lt in r)$=r[lt],r.hasOwnProperty(lt)&&$!==void 0&&!c.hasOwnProperty(lt)&&zf(n,o,lt,void 0,c,$);for(Z in c)$=c[Z],Y=r[Z],!c.hasOwnProperty(Z)||$===Y||$===void 0&&Y===void 0||zf(n,o,Z,$,c,Y);return}}for(var H in r)$=r[H],r.hasOwnProperty(H)&&$!=null&&!c.hasOwnProperty(H)&&rt(n,o,H,null,c,$);for(ee in c)$=c[ee],Y=r[ee],!c.hasOwnProperty(ee)||$===Y||$==null&&Y==null||rt(n,o,ee,$,c,Y)}var Ff=null,$f=null;function pu(n){return n.nodeType===9?n:n.ownerDocument}function ag(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ug(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function Yf(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Jf=null;function F_(){var n=window.event;return n&&n.type==="popstate"?n===Jf?!1:(Jf=n,!0):(Jf=null,!1)}var cg=typeof setTimeout=="function"?setTimeout:void 0,$_=typeof clearTimeout=="function"?clearTimeout:void 0,fg=typeof Promise=="function"?Promise:void 0,Y_=typeof queueMicrotask=="function"?queueMicrotask:typeof fg<"u"?function(n){return fg.resolve(null).then(n).catch(J_)}:cg;function J_(n){setTimeout(function(){throw n})}function wo(n){return n==="head"}function dg(n,o){var r=o,c=0,p=0;do{var v=r.nextSibling;if(n.removeChild(r),v&&v.nodeType===8)if(r=v.data,r==="/$"){if(0<c&&8>c){r=c;var C=n.ownerDocument;if(r&1&&bl(C.documentElement),r&2&&bl(C.body),r&4)for(r=C.head,bl(r),C=r.firstChild;C;){var w=C.nextSibling,D=C.nodeName;C[Yo]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&C.rel.toLowerCase()==="stylesheet"||r.removeChild(C),C=w}}if(p===0){n.removeChild(v),Ol(o);return}p--}else r==="$"||r==="$?"||r==="$!"?p++:c=r.charCodeAt(0)-48;else c=0;r=v}while(r);Ol(o)}function Kf(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var r=o;switch(o=o.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Kf(r),Jo(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function K_(n,o,r,c){for(;n.nodeType===1;){var p=r;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Yo])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=Xn(n.nextSibling),n===null)break}return null}function X_(n,o,r){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Xn(n.nextSibling),n===null))return null;return n}function Xf(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Q_(n,o){var r=n.ownerDocument;if(n.data!=="$?"||r.readyState==="complete")o();else{var c=function(){o(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Xn(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return n}var Qf=null;function hg(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(o===0)return n;o--}else r==="/$"&&o++}n=n.previousSibling}return null}function pg(n,o,r){switch(o=pu(r),n){case"html":if(n=o.documentElement,!n)throw Error(s(452));return n;case"head":if(n=o.head,!n)throw Error(s(453));return n;case"body":if(n=o.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function bl(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);Jo(n)}var Vn=new Map,mg=new Set;function mu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Fi=ce.d;ce.d={f:Z_,r:W_,D:j_,C:eS,L:tS,m:nS,X:oS,S:iS,M:sS};function Z_(){var n=Fi.f(),o=ru();return n||o}function W_(n){var o=ei(n);o!==null&&o.tag===5&&o.type==="form"?Lp(o):Fi.r(n)}var vr=typeof document>"u"?null:document;function gg(n,o,r){var c=vr;if(c&&typeof o=="string"&&o){var p=Rt(o);p='link[rel="'+n+'"][href="'+p+'"]',typeof r=="string"&&(p+='[crossorigin="'+r+'"]'),mg.has(p)||(mg.add(p),n={rel:n,crossOrigin:r,href:o},c.querySelector(p)===null&&(o=c.createElement("link"),Ft(o,"link",n),Ct(o),c.head.appendChild(o)))}}function j_(n){Fi.D(n),gg("dns-prefetch",n,null)}function eS(n,o){Fi.C(n,o),gg("preconnect",n,o)}function tS(n,o,r){Fi.L(n,o,r);var c=vr;if(c&&n&&o){var p='link[rel="preload"][as="'+Rt(o)+'"]';o==="image"&&r&&r.imageSrcSet?(p+='[imagesrcset="'+Rt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(p+='[imagesizes="'+Rt(r.imageSizes)+'"]')):p+='[href="'+Rt(n)+'"]';var v=p;switch(o){case"style":v=Tr(n);break;case"script":v=_r(n)}Vn.has(v)||(n=T({rel:"preload",href:o==="image"&&r&&r.imageSrcSet?void 0:n,as:o},r),Vn.set(v,n),c.querySelector(p)!==null||o==="style"&&c.querySelector(Il(v))||o==="script"&&c.querySelector(Nl(v))||(o=c.createElement("link"),Ft(o,"link",n),Ct(o),c.head.appendChild(o)))}}function nS(n,o){Fi.m(n,o);var r=vr;if(r&&n){var c=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+Rt(c)+'"][href="'+Rt(n)+'"]',v=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=_r(n)}if(!Vn.has(v)&&(n=T({rel:"modulepreload",href:n},o),Vn.set(v,n),r.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Nl(v)))return}c=r.createElement("link"),Ft(c,"link",n),Ct(c),r.head.appendChild(c)}}}function iS(n,o,r){Fi.S(n,o,r);var c=vr;if(c&&n){var p=Wt(c).hoistableStyles,v=Tr(n);o=o||"default";var C=p.get(v);if(!C){var w={loading:0,preload:null};if(C=c.querySelector(Il(v)))w.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":o},r),(r=Vn.get(v))&&Zf(n,r);var D=C=c.createElement("link");Ct(D),Ft(D,"link",n),D._p=new Promise(function(z,Z){D.onload=z,D.onerror=Z}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,gu(C,o,c)}C={type:"stylesheet",instance:C,count:1,state:w},p.set(v,C)}}}function oS(n,o){Fi.X(n,o);var r=vr;if(r&&n){var c=Wt(r).hoistableScripts,p=_r(n),v=c.get(p);v||(v=r.querySelector(Nl(p)),v||(n=T({src:n,async:!0},o),(o=Vn.get(p))&&Wf(n,o),v=r.createElement("script"),Ct(v),Ft(v,"link",n),r.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(p,v))}}function sS(n,o){Fi.M(n,o);var r=vr;if(r&&n){var c=Wt(r).hoistableScripts,p=_r(n),v=c.get(p);v||(v=r.querySelector(Nl(p)),v||(n=T({src:n,async:!0,type:"module"},o),(o=Vn.get(p))&&Wf(n,o),v=r.createElement("script"),Ct(v),Ft(v,"link",n),r.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(p,v))}}function yg(n,o,r,c){var p=(p=Ce.current)?mu(p):null;if(!p)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(o=Tr(r.href),r=Wt(p).hoistableStyles,c=r.get(o),c||(c={type:"style",instance:null,count:0,state:null},r.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=Tr(r.href);var v=Wt(p).hoistableStyles,C=v.get(n);if(C||(p=p.ownerDocument||p,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,C),(v=p.querySelector(Il(n)))&&!v._p&&(C.instance=v,C.state.loading=5),Vn.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vn.set(n,r),v||rS(p,n,r,C.state))),o&&c===null)throw Error(s(528,""));return C}if(o&&c!==null)throw Error(s(529,""));return null;case"script":return o=r.async,r=r.src,typeof r=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=_r(r),r=Wt(p).hoistableScripts,c=r.get(o),c||(c={type:"script",instance:null,count:0,state:null},r.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Tr(n){return'href="'+Rt(n)+'"'}function Il(n){return'link[rel="stylesheet"]['+n+"]"}function vg(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function rS(n,o,r,c){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=n.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),Ft(o,"link",r),Ct(o),n.head.appendChild(o))}function _r(n){return'[src="'+Rt(n)+'"]'}function Nl(n){return"script[async]"+n}function Tg(n,o,r){if(o.count++,o.instance===null)switch(o.type){case"style":var c=n.querySelector('style[data-href~="'+Rt(r.href)+'"]');if(c)return o.instance=c,Ct(c),c;var p=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Ct(c),Ft(c,"style",p),gu(c,r.precedence,n),o.instance=c;case"stylesheet":p=Tr(r.href);var v=n.querySelector(Il(p));if(v)return o.state.loading|=4,o.instance=v,Ct(v),v;c=vg(r),(p=Vn.get(p))&&Zf(c,p),v=(n.ownerDocument||n).createElement("link"),Ct(v);var C=v;return C._p=new Promise(function(w,D){C.onload=w,C.onerror=D}),Ft(v,"link",c),o.state.loading|=4,gu(v,r.precedence,n),o.instance=v;case"script":return v=_r(r.src),(p=n.querySelector(Nl(v)))?(o.instance=p,Ct(p),p):(c=r,(p=Vn.get(v))&&(c=T({},r),Wf(c,p)),n=n.ownerDocument||n,p=n.createElement("script"),Ct(p),Ft(p,"link",c),n.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,gu(c,r.precedence,n));return o.instance}function gu(n,o,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,v=p,C=0;C<c.length;C++){var w=c[C];if(w.dataset.precedence===o)v=w;else if(v!==p)break}v?v.parentNode.insertBefore(n,v.nextSibling):(o=r.nodeType===9?r.head:r,o.insertBefore(n,o.firstChild))}function Zf(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function Wf(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var yu=null;function _g(n,o,r){if(yu===null){var c=new Map,p=yu=new Map;p.set(r,c)}else p=yu,c=p.get(r),c||(c=new Map,p.set(r,c));if(c.has(n))return c;for(c.set(n,null),r=r.getElementsByTagName(n),p=0;p<r.length;p++){var v=r[p];if(!(v[Yo]||v[ke]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(o)||"";C=n+C;var w=c.get(C);w?w.push(v):c.set(C,[v])}}return c}function Sg(n,o,r){n=n.ownerDocument||n,n.head.insertBefore(r,o==="title"?n.querySelector("head > title"):null)}function lS(n,o,r){if(r===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return n=o.disabled,typeof o.precedence=="string"&&n==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Eg(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var kl=null;function aS(){}function uS(n,o,r){if(kl===null)throw Error(s(475));var c=kl;if(o.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Tr(r.href),v=n.querySelector(Il(p));if(v){n=v._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=vu.bind(c),n.then(c,c)),o.state.loading|=4,o.instance=v,Ct(v);return}v=n.ownerDocument||n,r=vg(r),(p=Vn.get(p))&&Zf(r,p),v=v.createElement("link"),Ct(v);var C=v;C._p=new Promise(function(w,D){C.onload=w,C.onerror=D}),Ft(v,"link",r),o.instance=v}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(c.count++,o=vu.bind(c),n.addEventListener("load",o),n.addEventListener("error",o))}}function cS(){if(kl===null)throw Error(s(475));var n=kl;return n.stylesheets&&n.count===0&&jf(n,n.stylesheets),0<n.count?function(o){var r=setTimeout(function(){if(n.stylesheets&&jf(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(r)}}:null}function vu(){if(this.count--,this.count===0){if(this.stylesheets)jf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Tu=null;function jf(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Tu=new Map,o.forEach(fS,n),Tu=null,vu.call(n))}function fS(n,o){if(!(o.state.loading&4)){var r=Tu.get(n);if(r)var c=r.get(null);else{r=new Map,Tu.set(n,r);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var C=p[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(r.set(C.dataset.precedence,C),c=C)}c&&r.set(null,c)}p=o.instance,C=p.getAttribute("data-precedence"),v=r.get(C)||c,v===c&&r.set(null,p),r.set(C,p),this.count++,c=vu.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),v?v.parentNode.insertBefore(p,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),o.state.loading|=4}}var Dl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function dS(n,o,r,c,p,v,C,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=de(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=de(0),this.hiddenUpdates=de(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Cg(n,o,r,c,p,v,C,w,D,z,Z,ee){return n=new dS(n,o,r,C,w,D,z,ee),o=1,v===!0&&(o|=24),v=vn(3,null,null,o),n.current=v,v.stateNode=n,o=Dc(),o.refCount++,n.pooledCache=o,o.refCount++,v.memoizedState={element:c,isDehydrated:r,cache:o},Oc(v),n}function Ag(n){return n?(n=Zs,n):Zs}function wg(n,o,r,c,p,v){p=Ag(p),c.context===null?c.context=p:c.pendingContext=p,c=fo(o),c.payload={element:r},v=v===void 0?null:v,v!==null&&(c.callback=v),r=ho(n,c,o),r!==null&&(Cn(r,n,o),ul(r,n,o))}function xg(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<o?r:o}}function ed(n,o){xg(n,o),(n=n.alternate)&&xg(n,o)}function Rg(n){if(n.tag===13){var o=Qs(n,67108864);o!==null&&Cn(o,n,67108864),ed(n,67108864)}}var _u=!0;function hS(n,o,r,c){var p=X.T;X.T=null;var v=ce.p;try{ce.p=2,td(n,o,r,c)}finally{ce.p=v,X.T=p}}function pS(n,o,r,c){var p=X.T;X.T=null;var v=ce.p;try{ce.p=8,td(n,o,r,c)}finally{ce.p=v,X.T=p}}function td(n,o,r,c){if(_u){var p=nd(c);if(p===null)qf(n,o,c,Su,r),bg(n,c);else if(gS(p,n,o,r,c))c.stopPropagation();else if(bg(n,c),o&4&&-1<mS.indexOf(n)){for(;p!==null;){var v=ei(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=pn(v.pendingLanes);if(C!==0){var w=v;for(w.pendingLanes|=2,w.entangledLanes|=2;C;){var D=1<<31-Dt(C);w.entanglements[1]|=D,C&=~D}hi(v),(et&6)===0&&(ou=Qt()+500,xl(0))}}break;case 13:w=Qs(v,2),w!==null&&Cn(w,v,2),ru(),ed(v,2)}if(v=nd(c),v===null&&qf(n,o,c,Su,r),v===p)break;p=v}p!==null&&c.stopPropagation()}else qf(n,o,c,null,r)}}function nd(n){return n=bn(n),id(n)}var Su=null;function id(n){if(Su=null,n=oo(n),n!==null){var o=f(n);if(o===null)n=null;else{var r=o.tag;if(r===13){if(n=h(o),n!==null)return n;n=null}else if(r===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return Su=n,null}function Mg(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vr()){case zo:return 2;case Wn:return 8;case Fn:case Ds:return 32;case no:return 268435456;default:return 32}default:return 32}}var od=!1,xo=null,Ro=null,Mo=null,Ul=new Map,Ll=new Map,bo=[],mS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bg(n,o){switch(n){case"focusin":case"focusout":xo=null;break;case"dragenter":case"dragleave":Ro=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":Ul.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(o.pointerId)}}function Pl(n,o,r,c,p,v){return n===null||n.nativeEvent!==v?(n={blockedOn:o,domEventName:r,eventSystemFlags:c,nativeEvent:v,targetContainers:[p]},o!==null&&(o=ei(o),o!==null&&Rg(o)),n):(n.eventSystemFlags|=c,o=n.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),n)}function gS(n,o,r,c,p){switch(o){case"focusin":return xo=Pl(xo,n,o,r,c,p),!0;case"dragenter":return Ro=Pl(Ro,n,o,r,c,p),!0;case"mouseover":return Mo=Pl(Mo,n,o,r,c,p),!0;case"pointerover":var v=p.pointerId;return Ul.set(v,Pl(Ul.get(v)||null,n,o,r,c,p)),!0;case"gotpointercapture":return v=p.pointerId,Ll.set(v,Pl(Ll.get(v)||null,n,o,r,c,p)),!0}return!1}function Ig(n){var o=oo(n.target);if(o!==null){var r=f(o);if(r!==null){if(o=r.tag,o===13){if(o=h(r),o!==null){n.blockedOn=o,Et(n.priority,function(){if(r.tag===13){var c=En();c=vt(c);var p=Qs(r,c);p!==null&&Cn(p,r,c),ed(r,c)}});return}}else if(o===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Eu(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var r=nd(n.nativeEvent);if(r===null){r=n.nativeEvent;var c=new r.constructor(r.type,r);wi=c,r.target.dispatchEvent(c),wi=null}else return o=ei(r),o!==null&&Rg(o),n.blockedOn=r,!1;o.shift()}return!0}function Ng(n,o,r){Eu(n)&&r.delete(o)}function yS(){od=!1,xo!==null&&Eu(xo)&&(xo=null),Ro!==null&&Eu(Ro)&&(Ro=null),Mo!==null&&Eu(Mo)&&(Mo=null),Ul.forEach(Ng),Ll.forEach(Ng)}function Cu(n,o){n.blockedOn===o&&(n.blockedOn=null,od||(od=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yS)))}var Au=null;function kg(n){Au!==n&&(Au=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Au===n&&(Au=null);for(var o=0;o<n.length;o+=3){var r=n[o],c=n[o+1],p=n[o+2];if(typeof c!="function"){if(id(c||r)===null)continue;break}var v=ei(r);v!==null&&(n.splice(o,3),o-=3,nf(v,{pending:!0,data:p,method:r.method,action:c},c,p))}}))}function Ol(n){function o(D){return Cu(D,n)}xo!==null&&Cu(xo,n),Ro!==null&&Cu(Ro,n),Mo!==null&&Cu(Mo,n),Ul.forEach(o),Ll.forEach(o);for(var r=0;r<bo.length;r++){var c=bo[r];c.blockedOn===n&&(c.blockedOn=null)}for(;0<bo.length&&(r=bo[0],r.blockedOn===null);)Ig(r),r.blockedOn===null&&bo.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var p=r[c],v=r[c+1],C=p[_e]||null;if(typeof v=="function")C||kg(r);else if(C){var w=null;if(v&&v.hasAttribute("formAction")){if(p=v,C=v[_e]||null)w=C.formAction;else if(id(p)!==null)continue}else w=C.action;typeof w=="function"?r[c+1]=w:(r.splice(c,3),c-=3),kg(r)}}}function sd(n){this._internalRoot=n}wu.prototype.render=sd.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(s(409));var r=o.current,c=En();wg(r,c,n,o,null,null)},wu.prototype.unmount=sd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;wg(n.current,2,null,n,null,null),ru(),o[xe]=null}};function wu(n){this._internalRoot=n}wu.prototype.unstable_scheduleHydration=function(n){if(n){var o=dt();n={blockedOn:null,target:n,priority:o};for(var r=0;r<bo.length&&o!==0&&o<bo[r].priority;r++);bo.splice(r,0,n),r===0&&Ig(n)}};var Dg=e.version;if(Dg!=="19.1.1")throw Error(s(527,Dg,"19.1.1"));ce.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=y(o),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var vS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{it=xu.inject(vS),He=xu}catch{}}return Bl.createRoot=function(n,o){if(!l(n))throw Error(s(299));var r=!1,c="",p=Xp,v=Qp,C=Zp,w=null;return o!=null&&(o.unstable_strictMode===!0&&(r=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(w=o.unstable_transitionCallbacks)),o=Cg(n,1,!1,null,null,r,c,p,v,C,w,null),n[xe]=o.current,Gf(n),new sd(o)},Bl.hydrateRoot=function(n,o,r){if(!l(n))throw Error(s(299));var c=!1,p="",v=Xp,C=Qp,w=Zp,D=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onUncaughtError!==void 0&&(v=r.onUncaughtError),r.onCaughtError!==void 0&&(C=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(D=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),o=Cg(n,1,!0,o,r??null,c,p,v,C,w,D,z),o.context=Ag(null),r=o.current,c=En(),c=vt(c),p=fo(c),p.callback=null,ho(r,p,c),r=c,o.current.lanes=r,we(o,r),hi(o),n[xe]=o.current,Gf(n),new wu(o)},Bl.version="19.1.1",Bl}var zg;function IS(){if(zg)return ad.exports;zg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ad.exports=bS(),ad.exports}var NS=IS();const kS=jv(NS),An={openai:{name:"GPT-4o + DALL-E",icon:"",color:"text-emerald-400"},gemini:{name:"Gemini Flash",icon:"",color:"text-blue-400"},claude:{name:"Claude Sonnet",icon:"",color:"text-purple-400"},auto:{name:"Smart Auto",icon:"",color:"text-cyan-400"}},DS={photorealistic:" Ultra-realistic",artistic:" Artistic Nigerian",cyberpunk:" Cyber-Lagos",anime:" Anime style"},e0="gemini-2.5-flash",US="gpt-4o",LS="claude-3-sonnet-20240229",Fl="default",$t={default:{name:"Lagos Oracle (Default)",icon:"",description:"Your standard, knowledgeable Lagos Oracle.",systemPromptModifier:"",color:"text-yellow-400"},emeka:{name:"Emeka (Igbo Insight)",icon:"",description:"Wise, with a touch of Igbo flair and proverbs.",systemPromptModifier:"You are Emeka, a wise individual with deep roots in Igbo culture, now navigating Lagos. Your responses often carry a touch of Igbo flair, and you might naturally use common Igbo greetings (like 'Nno'), phrases, or proverbs if the context allows. You offer thoughtful and insightful perspectives on various matters.",color:"text-green-400"},femi:{name:"Femi (Yorb Poise)",icon:"",description:"Confident, sharp, Yorb man from Lagos.",systemPromptModifier:"You are Femi, a confident and articulate Yorb man, born and raised in the heart of Lagos. Your responses are sharp, informed, and carry the cadence of a true Lagosian with deep Yorb heritage. You may incorporate Yorb proverbs (we), sayings, or greetings (like ' n l o') when fitting, showcasing pride in your culture.",color:"text-blue-400"},anita:{name:"Anita (Shakara Queen)",icon:"",description:"Playful, sassy, full of Lagos street smarts and slang.",systemPromptModifier:"You are Anita, the ultimate Lagos 'Shakara Queen'  playful, a bit sassy, and overflowing with street smarts. You communicate using contemporary Lagos slang and Pidgin English naturally and freely. You 'tell it like it is,' often with a humorous or witty twist, but always keeping it real.",color:"text-pink-400"},muhammed:{name:"Muhammed (Northern Calm)",icon:"",description:"Calm, thoughtful, with a Northern Nigerian perspective.",systemPromptModifier:"You are Muhammed, a calm and thoughtful individual with a perspective enriched by Northern Nigerian upbringing and Hausa culture, now experiencing Lagos life. Your responses are measured, respectful, and you might use Hausa greetings (like 'Sannu') or expressions if it feels natural. You bring a sense of peace and consideration to your interactions.",color:"text-teal-400"}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let PS,OS;function VS(){return{geminiUrl:PS,vertexUrl:OS}}function BS(t,e,i,s){var l,f;if(!(t!=null&&t.baseUrl)){const h=VS();return e?(l=h.vertexUrl)!==null&&l!==void 0?l:i:(f=h.geminiUrl)!==null&&f!==void 0?f:s}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bs{}function ye(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(s,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const f=e[l];return f!=null?String(f):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function u(t,e,i){for(let f=0;f<e.length-1;f++){const h=e[f];if(h.endsWith("[]")){const m=h.slice(0,-2);if(!(m in t))if(Array.isArray(i))t[m]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(t[m])){const y=t[m];if(Array.isArray(i))for(let g=0;g<y.length;g++){const T=y[g];u(T,e.slice(f+1),i[g])}else for(const g of y)u(g,e.slice(f+1),i)}return}else if(h.endsWith("[0]")){const m=h.slice(0,-3);m in t||(t[m]=[{}]);const y=t[m];u(y[0],e.slice(f+1),i);return}(!t[h]||typeof t[h]!="object")&&(t[h]={}),t=t[h]}const s=e[e.length-1],l=t[s];if(l!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===l)return;if(typeof l=="object"&&typeof i=="object"&&l!==null&&i!==null)Object.assign(l,i);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else t[s]=i}function a(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return;const s=e[i];if(s.endsWith("[]")){const l=s.slice(0,-2);if(l in t){const f=t[l];return Array.isArray(f)?f.map(h=>a(h,e.slice(i+1))):void 0}else return}else t=t[s]}return t}catch(i){if(i instanceof TypeError)return;throw i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ed(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fg;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Fg||(Fg={}));var $g;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})($g||($g={}));var Lo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Lo||(Lo={}));var mi;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(mi||(mi={}));var Yg;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Yg||(Yg={}));var gi;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(gi||(gi={}));var Jg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Jg||(Jg={}));var Kg;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Kg||(Kg={}));var Xg;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Xg||(Xg={}));var Qg;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Qg||(Qg={}));var Zg;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Zg||(Zg={}));var Wg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Wg||(Wg={}));var jg;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(jg||(jg={}));var ey;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ey||(ey={}));var ty;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(ty||(ty={}));var ny;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ny||(ny={}));var Gu;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Gu||(Gu={}));var iy;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(iy||(iy={}));var Cd;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Cd||(Cd={}));var oy;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(oy||(oy={}));var sy;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(sy||(sy={}));var ry;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(ry||(ry={}));var ly;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ly||(ly={}));var ay;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(ay||(ay={}));var uy;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(uy||(uy={}));var cy;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(cy||(cy={}));var fy;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(fy||(fy={}));var dy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(dy||(dy={}));var hy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(hy||(hy={}));var py;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(py||(py={}));var my;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(my||(my={}));var gy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(gy||(gy={}));var yy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(yy||(yy={}));var vy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(vy||(vy={}));var Ty;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Ty||(Ty={}));var _y;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(_y||(_y={}));var Sy;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Sy||(Sy={}));var Ey;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Ey||(Ey={}));var Cy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Cy||(Cy={}));var Ay;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Ay||(Ay={}));var wy;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(wy||(wy={}));var xy;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(xy||(xy={}));var Er;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Er||(Er={}));class Ad{constructor(e){const i={};for(const s of e.headers.entries())i[s[0]]=s[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Hl{get text(){var e,i,s,l,f,h,m,y;if(((l=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",T=!1;const E=[];for(const A of(y=(m=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[I,L]of Object.entries(A))I!=="text"&&I!=="thought"&&(L!==null||L!==void 0)&&E.push(I);if(typeof A.text=="string"){if(typeof A.thought=="boolean"&&A.thought)continue;T=!0,g+=A.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),T?g:void 0}get data(){var e,i,s,l,f,h,m,y;if(((l=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const T=[];for(const E of(y=(m=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[A,I]of Object.entries(E))A!=="inlineData"&&(I!==null||I!==void 0)&&T.push(A);E.inlineData&&typeof E.inlineData.data=="string"&&(g+=atob(E.inlineData.data))}return T.length>0&&console.warn(`there are non-data parts ${T} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,i,s,l,f,h,m,y;if(((l=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(m=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(T=>T.functionCall).map(T=>T.functionCall).filter(T=>T!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,i,s,l,f,h,m,y,g;if(((l=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const T=(y=(m=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((T==null?void 0:T.length)!==0)return(g=T==null?void 0:T[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,i,s,l,f,h,m,y,g;if(((l=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const T=(y=(m=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((T==null?void 0:T.length)!==0)return(g=T==null?void 0:T[0])===null||g===void 0?void 0:g.output}}class Ry{}class My{}class HS{}class GS{}class qS{}class by{}class Iy{}class Ny{}class zS{}class ky{}class Dy{}class Uy{}class Ly{}class FS{}class $S{}class YS{}class Py{}class JS{get text(){var e,i,s;let l="",f=!1;const h=[];for(const m of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[y,g]of Object.entries(m))y!=="text"&&y!=="thought"&&g!==null&&h.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,l+=m.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?l:void 0}get data(){var e,i,s;let l="";const f=[];for(const h of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[m,y]of Object.entries(h))m!=="inlineData"&&y!==null&&f.push(m);h.inlineData&&typeof h.inlineData.data=="string"&&(l+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class qu{_fromAPIResponse({apiResponse:e,isVertexAI:i}){const s=new qu;if(s.name=e.name,s.metadata=e.metadata,s.done=e.done,s.error=e.error,i){const l=e.response;if(l){const f=new ky,h=l.videos;f.generatedVideos=h==null?void 0:h.map(m=>({video:{uri:m.gcsUri,videoBytes:m.bytesBase64Encoded?Ed(m.bytesBase64Encoded):void 0,mimeType:m.mimeType}})),f.raiMediaFilteredCount=l.raiMediaFilteredCount,f.raiMediaFilteredReasons=l.raiMediaFilteredReasons,s.response=f}}else{const l=e.response;if(l){const f=new ky,h=l.generateVideoResponse,m=h==null?void 0:h.generatedSamples;f.generatedVideos=m==null?void 0:m.map(y=>{const g=y.video;return{video:{uri:g==null?void 0:g.uri,videoBytes:g!=null&&g.encodedVideo?Ed(g==null?void 0:g.encodedVideo):void 0,mimeType:y.encoding}}}),f.raiMediaFilteredCount=h==null?void 0:h.raiMediaFilteredCount,f.raiMediaFilteredReasons=h==null?void 0:h.raiMediaFilteredReasons,s.response=f}}return s}}class KS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function t0(t,e){const i=Qe(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function n0(t){return Array.isArray(t)?t.map(e=>zu(e)):[zu(t)]}function zu(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function i0(t){const e=zu(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function o0(t){const e=zu(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Oy(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function s0(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Oy(e)):[Oy(t)]}function wd(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Vy(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function By(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Xt(t){if(t==null)throw new Error("ContentUnion is required");return wd(t)?t:{role:"user",parts:s0(t)}}function r0(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const s=Xt(i);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const i=Xt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Xt(i)):[Xt(e)]}function Hn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Vy(t)||By(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Xt(t)]}const e=[],i=[],s=wd(t[0]);for(const l of t){const f=wd(l);if(f!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)e.push(l);else{if(Vy(l)||By(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(l)}}return s||e.push({role:"user",parts:s0(i)}),e}function XS(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(s=>s!=="null");if(i.length===1)e.type=Object.values(Lo).includes(i[0].toUpperCase())?i[0].toUpperCase():Lo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of i)e.anyOf.push({type:Object.values(Lo).includes(s.toUpperCase())?s.toUpperCase():Lo.TYPE_UNSPECIFIED})}}function Cr(t){const e={},i=["items"],s=["anyOf"],l=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=t.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,t=f[1]):f[1].type==="null"&&(e.nullable=!0,t=f[0])),t.type instanceof Array&&XS(t.type,e);for(const[h,m]of Object.entries(t))if(m!=null)if(h=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;e.type=Object.values(Lo).includes(m.toUpperCase())?m.toUpperCase():Lo.TYPE_UNSPECIFIED}else if(i.includes(h))e[h]=Cr(m);else if(s.includes(h)){const y=[];for(const g of m){if(g.type=="null"){e.nullable=!0;continue}y.push(Cr(g))}e[h]=y}else if(l.includes(h)){const y={};for(const[g,T]of Object.entries(m))y[g]=Cr(T);e[h]=y}else{if(h==="additionalProperties")continue;e[h]=m}return e}function Jd(t){return Cr(t)}function Kd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Xd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Nr(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Cr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Cr(e.response));return t}function kr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function QS(t,e,i,s=1){const l=!e.startsWith(`${i}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:l?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:l?`${i}/${e}`:e}function eo(t,e){if(typeof e!="string")throw new Error("name must be a string");return QS(t,e,"cachedContents")}function l0(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Is(t){return Ed(t)}function ZS(t){return t!=null&&typeof t=="object"&&"name"in t}function WS(t){return t!=null&&typeof t=="object"&&"video"in t}function jS(t){return t!=null&&typeof t=="object"&&"uri"in t}function a0(t){var e;let i;if(ZS(t)&&(i=t.name),!(jS(t)&&(i=t.uri,i===void 0))&&!(WS(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const l=i.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${i}`);i=l[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function u0(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function c0(t){for(const e of["models","tunedModels","publisherModels"])if(eE(t,e))return t[e];return[]}function eE(t,e){return t!==null&&typeof t=="object"&&e in t}function tE(t,e={}){const i=t,s={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function nE(t,e={}){const i=[],s=new Set;for(const l of t){const f=l.name;if(s.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);s.add(f);const h=tE(l,e);h.functionDeclarations&&i.push(...h.functionDeclarations)}return{functionDeclarations:i}}function f0(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function iE(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Dr(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function d0(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oE(t){const e={},i=a(t,["fps"]);i!=null&&u(e,["fps"],i);const s=a(t,["endOffset"]);s!=null&&u(e,["endOffset"],s);const l=a(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function sE(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["data"]);i!=null&&u(e,["data"],i);const s=a(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function rE(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["fileUri"]);i!=null&&u(e,["fileUri"],i);const s=a(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function lE(t){const e={},i=a(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],oE(i));const s=a(t,["thought"]);s!=null&&u(e,["thought"],s);const l=a(t,["inlineData"]);l!=null&&u(e,["inlineData"],sE(l));const f=a(t,["fileData"]);f!=null&&u(e,["fileData"],rE(f));const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=a(t,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=a(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=a(t,["functionCall"]);g!=null&&u(e,["functionCall"],g);const T=a(t,["functionResponse"]);T!=null&&u(e,["functionResponse"],T);const E=a(t,["text"]);return E!=null&&u(e,["text"],E),e}function h0(t){const e={},i=a(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>lE(f))),u(e,["parts"],l)}const s=a(t,["role"]);return s!=null&&u(e,["role"],s),e}function aE(t){const e={},i=a(t,["anyOf"]);i!=null&&u(e,["anyOf"],i);const s=a(t,["default"]);s!=null&&u(e,["default"],s);const l=a(t,["description"]);l!=null&&u(e,["description"],l);const f=a(t,["enum"]);f!=null&&u(e,["enum"],f);const h=a(t,["example"]);h!=null&&u(e,["example"],h);const m=a(t,["format"]);m!=null&&u(e,["format"],m);const y=a(t,["items"]);y!=null&&u(e,["items"],y);const g=a(t,["maxItems"]);g!=null&&u(e,["maxItems"],g);const T=a(t,["maxLength"]);T!=null&&u(e,["maxLength"],T);const E=a(t,["maxProperties"]);E!=null&&u(e,["maxProperties"],E);const A=a(t,["maximum"]);A!=null&&u(e,["maximum"],A);const I=a(t,["minItems"]);I!=null&&u(e,["minItems"],I);const L=a(t,["minLength"]);L!=null&&u(e,["minLength"],L);const F=a(t,["minProperties"]);F!=null&&u(e,["minProperties"],F);const Q=a(t,["minimum"]);Q!=null&&u(e,["minimum"],Q);const ae=a(t,["nullable"]);ae!=null&&u(e,["nullable"],ae);const se=a(t,["pattern"]);se!=null&&u(e,["pattern"],se);const ie=a(t,["properties"]);ie!=null&&u(e,["properties"],ie);const fe=a(t,["propertyOrdering"]);fe!=null&&u(e,["propertyOrdering"],fe);const ne=a(t,["required"]);ne!=null&&u(e,["required"],ne);const he=a(t,["title"]);he!=null&&u(e,["title"],he);const k=a(t,["type"]);return k!=null&&u(e,["type"],k),e}function uE(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(t,["category"]);i!=null&&u(e,["category"],i);const s=a(t,["threshold"]);return s!=null&&u(e,["threshold"],s),e}function cE(t){const e={},i=a(t,["behavior"]);i!=null&&u(e,["behavior"],i);const s=a(t,["description"]);s!=null&&u(e,["description"],s);const l=a(t,["name"]);l!=null&&u(e,["name"],l);const f=a(t,["parameters"]);f!=null&&u(e,["parameters"],f);const h=a(t,["parametersJsonSchema"]);h!=null&&u(e,["parametersJsonSchema"],h);const m=a(t,["response"]);m!=null&&u(e,["response"],m);const y=a(t,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function fE(t){const e={},i=a(t,["startTime"]);i!=null&&u(e,["startTime"],i);const s=a(t,["endTime"]);return s!=null&&u(e,["endTime"],s),e}function dE(t){const e={},i=a(t,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],fE(i)),e}function hE(t){const e={},i=a(t,["mode"]);i!=null&&u(e,["mode"],i);const s=a(t,["dynamicThreshold"]);return s!=null&&u(e,["dynamicThreshold"],s),e}function pE(t){const e={},i=a(t,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],hE(i)),e}function mE(){return{}}function gE(t){const e={},i=a(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(g=>cE(g))),u(e,["functionDeclarations"],y)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=a(t,["googleSearch"]);s!=null&&u(e,["googleSearch"],dE(s));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&u(e,["googleSearchRetrieval"],pE(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&u(e,["urlContext"],mE());const h=a(t,["codeExecution"]);h!=null&&u(e,["codeExecution"],h);const m=a(t,["computerUse"]);return m!=null&&u(e,["computerUse"],m),e}function yE(t){const e={},i=a(t,["mode"]);i!=null&&u(e,["mode"],i);const s=a(t,["allowedFunctionNames"]);return s!=null&&u(e,["allowedFunctionNames"],s),e}function vE(t){const e={},i=a(t,["latitude"]);i!=null&&u(e,["latitude"],i);const s=a(t,["longitude"]);return s!=null&&u(e,["longitude"],s),e}function TE(t){const e={},i=a(t,["latLng"]);i!=null&&u(e,["latLng"],vE(i));const s=a(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function _E(t){const e={},i=a(t,["functionCallingConfig"]);i!=null&&u(e,["functionCallingConfig"],yE(i));const s=a(t,["retrievalConfig"]);return s!=null&&u(e,["retrievalConfig"],TE(s)),e}function SE(t){const e={},i=a(t,["voiceName"]);return i!=null&&u(e,["voiceName"],i),e}function p0(t){const e={},i=a(t,["prebuiltVoiceConfig"]);return i!=null&&u(e,["prebuiltVoiceConfig"],SE(i)),e}function EE(t){const e={},i=a(t,["speaker"]);i!=null&&u(e,["speaker"],i);const s=a(t,["voiceConfig"]);return s!=null&&u(e,["voiceConfig"],p0(s)),e}function CE(t){const e={},i=a(t,["speakerVoiceConfigs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>EE(l))),u(e,["speakerVoiceConfigs"],s)}return e}function AE(t){const e={},i=a(t,["voiceConfig"]);i!=null&&u(e,["voiceConfig"],p0(i));const s=a(t,["multiSpeakerVoiceConfig"]);s!=null&&u(e,["multiSpeakerVoiceConfig"],CE(s));const l=a(t,["languageCode"]);return l!=null&&u(e,["languageCode"],l),e}function wE(t){const e={},i=a(t,["includeThoughts"]);i!=null&&u(e,["includeThoughts"],i);const s=a(t,["thinkingBudget"]);return s!=null&&u(e,["thinkingBudget"],s),e}function xE(t,e,i){const s={},l=a(e,["systemInstruction"]);i!==void 0&&l!=null&&u(i,["systemInstruction"],h0(Xt(l)));const f=a(e,["temperature"]);f!=null&&u(s,["temperature"],f);const h=a(e,["topP"]);h!=null&&u(s,["topP"],h);const m=a(e,["topK"]);m!=null&&u(s,["topK"],m);const y=a(e,["candidateCount"]);y!=null&&u(s,["candidateCount"],y);const g=a(e,["maxOutputTokens"]);g!=null&&u(s,["maxOutputTokens"],g);const T=a(e,["stopSequences"]);T!=null&&u(s,["stopSequences"],T);const E=a(e,["responseLogprobs"]);E!=null&&u(s,["responseLogprobs"],E);const A=a(e,["logprobs"]);A!=null&&u(s,["logprobs"],A);const I=a(e,["presencePenalty"]);I!=null&&u(s,["presencePenalty"],I);const L=a(e,["frequencyPenalty"]);L!=null&&u(s,["frequencyPenalty"],L);const F=a(e,["seed"]);F!=null&&u(s,["seed"],F);const Q=a(e,["responseMimeType"]);Q!=null&&u(s,["responseMimeType"],Q);const ae=a(e,["responseSchema"]);ae!=null&&u(s,["responseSchema"],aE(Jd(ae)));const se=a(e,["responseJsonSchema"]);if(se!=null&&u(s,["responseJsonSchema"],se),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const ie=a(e,["safetySettings"]);if(i!==void 0&&ie!=null){let N=ie;Array.isArray(N)&&(N=N.map(B=>uE(B))),u(i,["safetySettings"],N)}const fe=a(e,["tools"]);if(i!==void 0&&fe!=null){let N=kr(fe);Array.isArray(N)&&(N=N.map(B=>gE(Nr(B)))),u(i,["tools"],N)}const ne=a(e,["toolConfig"]);if(i!==void 0&&ne!=null&&u(i,["toolConfig"],_E(ne)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const he=a(e,["cachedContent"]);i!==void 0&&he!=null&&u(i,["cachedContent"],eo(t,he));const k=a(e,["responseModalities"]);k!=null&&u(s,["responseModalities"],k);const b=a(e,["mediaResolution"]);b!=null&&u(s,["mediaResolution"],b);const R=a(e,["speechConfig"]);if(R!=null&&u(s,["speechConfig"],AE(Kd(R))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=a(e,["thinkingConfig"]);return P!=null&&u(s,["thinkingConfig"],wE(P)),s}function RE(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["request","model"],Qe(t,s));const l=a(e,["contents"]);if(l!=null){let h=Hn(l);Array.isArray(h)&&(h=h.map(m=>h0(m))),u(i,["request","contents"],h)}const f=a(e,["config"]);return f!=null&&u(i,["request","generationConfig"],xE(t,f,i)),i}function ME(t,e){const i={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=a(e,["fileName"]);s!=null&&u(i,["fileName"],s);const l=a(e,["inlinedRequests"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>RE(t,h))),u(i,["requests","requests"],f)}return i}function bE(t,e){const i={},s=a(t,["displayName"]);if(e!==void 0&&s!=null&&u(e,["batch","displayName"],s),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function IE(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","model"],Qe(t,s));const l=a(e,["src"]);l!=null&&u(i,["batch","inputConfig"],ME(t,f0(t,l)));const f=a(e,["config"]);return f!=null&&u(i,["config"],bE(f,i)),i}function NE(t,e){const i={},s=a(e,["name"]);s!=null&&u(i,["_url","name"],Dr(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],l),i}function kE(t,e){const i={},s=a(e,["name"]);s!=null&&u(i,["_url","name"],Dr(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],l),i}function DE(t,e){const i={},s=a(t,["pageSize"]);e!==void 0&&s!=null&&u(e,["_query","pageSize"],s);const l=a(t,["pageToken"]);if(e!==void 0&&l!=null&&u(e,["_query","pageToken"],l),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function UE(t){const e={},i=a(t,["config"]);return i!=null&&u(e,["config"],DE(i,e)),e}function LE(t,e){const i={},s=a(e,["name"]);s!=null&&u(i,["_url","name"],Dr(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],l),i}function PE(t){const e={},i=a(t,["format"]);i!=null&&u(e,["instancesFormat"],i);const s=a(t,["gcsUri"]);s!=null&&u(e,["gcsSource","uris"],s);const l=a(t,["bigqueryUri"]);if(l!=null&&u(e,["bigquerySource","inputUri"],l),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function OE(t){const e={},i=a(t,["format"]);i!=null&&u(e,["predictionsFormat"],i);const s=a(t,["gcsUri"]);s!=null&&u(e,["gcsDestination","outputUriPrefix"],s);const l=a(t,["bigqueryUri"]);if(l!=null&&u(e,["bigqueryDestination","outputUri"],l),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function VE(t,e){const i={},s=a(t,["displayName"]);e!==void 0&&s!=null&&u(e,["displayName"],s);const l=a(t,["dest"]);return e!==void 0&&l!=null&&u(e,["outputConfig"],OE(iE(l))),i}function BE(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["model"],Qe(t,s));const l=a(e,["src"]);l!=null&&u(i,["inputConfig"],PE(f0(t,l)));const f=a(e,["config"]);return f!=null&&u(i,["config"],VE(f,i)),i}function HE(t,e){const i={},s=a(e,["name"]);s!=null&&u(i,["_url","name"],Dr(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],l),i}function GE(t,e){const i={},s=a(e,["name"]);s!=null&&u(i,["_url","name"],Dr(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],l),i}function qE(t,e){const i={},s=a(t,["pageSize"]);e!==void 0&&s!=null&&u(e,["_query","pageSize"],s);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&u(e,["_query","pageToken"],l);const f=a(t,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),i}function zE(t){const e={},i=a(t,["config"]);return i!=null&&u(e,["config"],qE(i,e)),e}function FE(t,e){const i={},s=a(e,["name"]);s!=null&&u(i,["_url","name"],Dr(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],l),i}function $E(t){const e={},i=a(t,["fps"]);i!=null&&u(e,["fps"],i);const s=a(t,["endOffset"]);s!=null&&u(e,["endOffset"],s);const l=a(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function YE(t){const e={},i=a(t,["data"]);i!=null&&u(e,["data"],i);const s=a(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function JE(t){const e={},i=a(t,["fileUri"]);i!=null&&u(e,["fileUri"],i);const s=a(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function KE(t){const e={},i=a(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],$E(i));const s=a(t,["thought"]);s!=null&&u(e,["thought"],s);const l=a(t,["inlineData"]);l!=null&&u(e,["inlineData"],YE(l));const f=a(t,["fileData"]);f!=null&&u(e,["fileData"],JE(f));const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=a(t,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=a(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=a(t,["functionCall"]);g!=null&&u(e,["functionCall"],g);const T=a(t,["functionResponse"]);T!=null&&u(e,["functionResponse"],T);const E=a(t,["text"]);return E!=null&&u(e,["text"],E),e}function XE(t){const e={},i=a(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>KE(f))),u(e,["parts"],l)}const s=a(t,["role"]);return s!=null&&u(e,["role"],s),e}function QE(t){const e={},i=a(t,["citationSources"]);return i!=null&&u(e,["citations"],i),e}function ZE(t){const e={},i=a(t,["retrievedUrl"]);i!=null&&u(e,["retrievedUrl"],i);const s=a(t,["urlRetrievalStatus"]);return s!=null&&u(e,["urlRetrievalStatus"],s),e}function WE(t){const e={},i=a(t,["urlMetadata"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>ZE(l))),u(e,["urlMetadata"],s)}return e}function jE(t){const e={},i=a(t,["content"]);i!=null&&u(e,["content"],XE(i));const s=a(t,["citationMetadata"]);s!=null&&u(e,["citationMetadata"],QE(s));const l=a(t,["tokenCount"]);l!=null&&u(e,["tokenCount"],l);const f=a(t,["finishReason"]);f!=null&&u(e,["finishReason"],f);const h=a(t,["urlContextMetadata"]);h!=null&&u(e,["urlContextMetadata"],WE(h));const m=a(t,["avgLogprobs"]);m!=null&&u(e,["avgLogprobs"],m);const y=a(t,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const g=a(t,["index"]);g!=null&&u(e,["index"],g);const T=a(t,["logprobsResult"]);T!=null&&u(e,["logprobsResult"],T);const E=a(t,["safetyRatings"]);return E!=null&&u(e,["safetyRatings"],E),e}function eC(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>jE(g))),u(e,["candidates"],y)}const l=a(t,["modelVersion"]);l!=null&&u(e,["modelVersion"],l);const f=a(t,["promptFeedback"]);f!=null&&u(e,["promptFeedback"],f);const h=a(t,["responseId"]);h!=null&&u(e,["responseId"],h);const m=a(t,["usageMetadata"]);return m!=null&&u(e,["usageMetadata"],m),e}function m0(t){const e={},i=a(t,["details"]);i!=null&&u(e,["details"],i);const s=a(t,["code"]);s!=null&&u(e,["code"],s);const l=a(t,["message"]);return l!=null&&u(e,["message"],l),e}function tC(t){const e={},i=a(t,["response"]);i!=null&&u(e,["response"],eC(i));const s=a(t,["error"]);return s!=null&&u(e,["error"],m0(s)),e}function nC(t){const e={},i=a(t,["responsesFile"]);i!=null&&u(e,["fileName"],i);const s=a(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(f=>tC(f))),u(e,["inlinedResponses"],l)}return e}function xd(t){const e={},i=a(t,["name"]);i!=null&&u(e,["name"],i);const s=a(t,["metadata","displayName"]);s!=null&&u(e,["displayName"],s);const l=a(t,["metadata","state"]);l!=null&&u(e,["state"],d0(l));const f=a(t,["metadata","createTime"]);f!=null&&u(e,["createTime"],f);const h=a(t,["metadata","endTime"]);h!=null&&u(e,["endTime"],h);const m=a(t,["metadata","updateTime"]);m!=null&&u(e,["updateTime"],m);const y=a(t,["metadata","model"]);y!=null&&u(e,["model"],y);const g=a(t,["metadata","output"]);return g!=null&&u(e,["dest"],nC(g)),e}function iC(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["nextPageToken"]);s!=null&&u(e,["nextPageToken"],s);const l=a(t,["operations"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>xd(h))),u(e,["batchJobs"],f)}return e}function oC(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["name"]);s!=null&&u(e,["name"],s);const l=a(t,["done"]);l!=null&&u(e,["done"],l);const f=a(t,["error"]);return f!=null&&u(e,["error"],m0(f)),e}function g0(t){const e={},i=a(t,["details"]);i!=null&&u(e,["details"],i);const s=a(t,["code"]);s!=null&&u(e,["code"],s);const l=a(t,["message"]);return l!=null&&u(e,["message"],l),e}function sC(t){const e={},i=a(t,["instancesFormat"]);i!=null&&u(e,["format"],i);const s=a(t,["gcsSource","uris"]);s!=null&&u(e,["gcsUri"],s);const l=a(t,["bigquerySource","inputUri"]);return l!=null&&u(e,["bigqueryUri"],l),e}function rC(t){const e={},i=a(t,["predictionsFormat"]);i!=null&&u(e,["format"],i);const s=a(t,["gcsDestination","outputUriPrefix"]);s!=null&&u(e,["gcsUri"],s);const l=a(t,["bigqueryDestination","outputUri"]);return l!=null&&u(e,["bigqueryUri"],l),e}function Rd(t){const e={},i=a(t,["name"]);i!=null&&u(e,["name"],i);const s=a(t,["displayName"]);s!=null&&u(e,["displayName"],s);const l=a(t,["state"]);l!=null&&u(e,["state"],d0(l));const f=a(t,["error"]);f!=null&&u(e,["error"],g0(f));const h=a(t,["createTime"]);h!=null&&u(e,["createTime"],h);const m=a(t,["startTime"]);m!=null&&u(e,["startTime"],m);const y=a(t,["endTime"]);y!=null&&u(e,["endTime"],y);const g=a(t,["updateTime"]);g!=null&&u(e,["updateTime"],g);const T=a(t,["model"]);T!=null&&u(e,["model"],T);const E=a(t,["inputConfig"]);E!=null&&u(e,["src"],sC(E));const A=a(t,["outputConfig"]);return A!=null&&u(e,["dest"],rC(A)),e}function lC(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["nextPageToken"]);s!=null&&u(e,["nextPageToken"],s);const l=a(t,["batchPredictionJobs"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Rd(h))),u(e,["batchJobs"],f)}return e}function aC(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["name"]);s!=null&&u(e,["name"],s);const l=a(t,["done"]);l!=null&&u(e,["done"],l);const f=a(t,["error"]);return f!=null&&u(e,["error"],g0(f)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ws;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ws||(ws={}));class jl{constructor(e,i,s,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,s,l)}init(e,i,s){var l,f;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let h={config:{}};!s||Object.keys(s).length===0?h={config:{}}:typeof s=="object"?h=Object.assign({},s):h=s,h.config&&(h.config.pageToken=i.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(f=(l=h.config)===null||l===void 0?void 0:l.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uC extends bs{constructor(e){super(),this.apiClient=e,this.create=async i=>{if(this.apiClient.isVertexAI()){const l=Date.now().toString();if(Array.isArray(i.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(i.config=i.config||{},i.config.displayName===void 0&&(i.config.displayName="genaiBatchJob_${timestampStr}"),i.config.dest===void 0&&typeof i.src=="string")if(i.src.startsWith("gs://")&&i.src.endsWith(".jsonl"))i.config.dest=`${i.src.slice(0,-6)}/dest`;else if(i.src.startsWith("bq://"))i.config.dest=`${i.src}_dest_${l}`;else throw new Error("Unsupported source:"+i.src)}return await this.createInternal(i)},this.list=async(i={})=>new jl(ws.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(i),i)}async createInternal(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=BE(this.apiClient,e);return m=ye("batchPredictionJobs",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),h.then(T=>Rd(T))}else{const g=IE(this.apiClient,e);return m=ye("{model}:batchGenerateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h.then(T=>xd(T))}}async get(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=HE(this.apiClient,e);return m=ye("batchPredictionJobs/{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),h.then(T=>Rd(T))}else{const g=NE(this.apiClient,e);return m=ye("batches/{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h.then(T=>xd(T))}}async cancel(e){var i,s,l,f;let h="",m={};if(this.apiClient.isVertexAI()){const y=GE(this.apiClient,e);h=ye("batchPredictionJobs/{name}:cancel",y._url),m=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=kE(this.apiClient,e);h=ye("batches/{name}:cancel",y._url),m=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=zE(e);return m=ye("batchPredictionJobs",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>{const E=lC(T),A=new Py;return Object.assign(A,E),A})}else{const g=UE(e);return m=ye("batches",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>{const E=iC(T),A=new Py;return Object.assign(A,E),A})}}async delete(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=FE(this.apiClient,e);return m=ye("batchPredictionJobs/{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>aC(T))}else{const g=LE(this.apiClient,e);return m=ye("batches/{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>oC(T))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cC(t){const e={},i=a(t,["fps"]);i!=null&&u(e,["fps"],i);const s=a(t,["endOffset"]);s!=null&&u(e,["endOffset"],s);const l=a(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function fC(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["data"]);i!=null&&u(e,["data"],i);const s=a(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function dC(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["fileUri"]);i!=null&&u(e,["fileUri"],i);const s=a(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function hC(t){const e={},i=a(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],cC(i));const s=a(t,["thought"]);s!=null&&u(e,["thought"],s);const l=a(t,["inlineData"]);l!=null&&u(e,["inlineData"],fC(l));const f=a(t,["fileData"]);f!=null&&u(e,["fileData"],dC(f));const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=a(t,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=a(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=a(t,["functionCall"]);g!=null&&u(e,["functionCall"],g);const T=a(t,["functionResponse"]);T!=null&&u(e,["functionResponse"],T);const E=a(t,["text"]);return E!=null&&u(e,["text"],E),e}function Hy(t){const e={},i=a(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>hC(f))),u(e,["parts"],l)}const s=a(t,["role"]);return s!=null&&u(e,["role"],s),e}function pC(t){const e={},i=a(t,["behavior"]);i!=null&&u(e,["behavior"],i);const s=a(t,["description"]);s!=null&&u(e,["description"],s);const l=a(t,["name"]);l!=null&&u(e,["name"],l);const f=a(t,["parameters"]);f!=null&&u(e,["parameters"],f);const h=a(t,["parametersJsonSchema"]);h!=null&&u(e,["parametersJsonSchema"],h);const m=a(t,["response"]);m!=null&&u(e,["response"],m);const y=a(t,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function mC(t){const e={},i=a(t,["startTime"]);i!=null&&u(e,["startTime"],i);const s=a(t,["endTime"]);return s!=null&&u(e,["endTime"],s),e}function gC(t){const e={},i=a(t,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],mC(i)),e}function yC(t){const e={},i=a(t,["mode"]);i!=null&&u(e,["mode"],i);const s=a(t,["dynamicThreshold"]);return s!=null&&u(e,["dynamicThreshold"],s),e}function vC(t){const e={},i=a(t,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],yC(i)),e}function TC(){return{}}function _C(t){const e={},i=a(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(g=>pC(g))),u(e,["functionDeclarations"],y)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=a(t,["googleSearch"]);s!=null&&u(e,["googleSearch"],gC(s));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&u(e,["googleSearchRetrieval"],vC(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&u(e,["urlContext"],TC());const h=a(t,["codeExecution"]);h!=null&&u(e,["codeExecution"],h);const m=a(t,["computerUse"]);return m!=null&&u(e,["computerUse"],m),e}function SC(t){const e={},i=a(t,["mode"]);i!=null&&u(e,["mode"],i);const s=a(t,["allowedFunctionNames"]);return s!=null&&u(e,["allowedFunctionNames"],s),e}function EC(t){const e={},i=a(t,["latitude"]);i!=null&&u(e,["latitude"],i);const s=a(t,["longitude"]);return s!=null&&u(e,["longitude"],s),e}function CC(t){const e={},i=a(t,["latLng"]);i!=null&&u(e,["latLng"],EC(i));const s=a(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function AC(t){const e={},i=a(t,["functionCallingConfig"]);i!=null&&u(e,["functionCallingConfig"],SC(i));const s=a(t,["retrievalConfig"]);return s!=null&&u(e,["retrievalConfig"],CC(s)),e}function wC(t,e){const i={},s=a(t,["ttl"]);e!==void 0&&s!=null&&u(e,["ttl"],s);const l=a(t,["expireTime"]);e!==void 0&&l!=null&&u(e,["expireTime"],l);const f=a(t,["displayName"]);e!==void 0&&f!=null&&u(e,["displayName"],f);const h=a(t,["contents"]);if(e!==void 0&&h!=null){let T=Hn(h);Array.isArray(T)&&(T=T.map(E=>Hy(E))),u(e,["contents"],T)}const m=a(t,["systemInstruction"]);e!==void 0&&m!=null&&u(e,["systemInstruction"],Hy(Xt(m)));const y=a(t,["tools"]);if(e!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>_C(E))),u(e,["tools"],T)}const g=a(t,["toolConfig"]);if(e!==void 0&&g!=null&&u(e,["toolConfig"],AC(g)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function xC(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["model"],t0(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],wC(l,i)),i}function RC(t,e){const i={},s=a(e,["name"]);s!=null&&u(i,["_url","name"],eo(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],l),i}function MC(t,e){const i={},s=a(e,["name"]);s!=null&&u(i,["_url","name"],eo(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],l),i}function bC(t,e){const i={},s=a(t,["ttl"]);e!==void 0&&s!=null&&u(e,["ttl"],s);const l=a(t,["expireTime"]);return e!==void 0&&l!=null&&u(e,["expireTime"],l),i}function IC(t,e){const i={},s=a(e,["name"]);s!=null&&u(i,["_url","name"],eo(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],bC(l,i)),i}function NC(t,e){const i={},s=a(t,["pageSize"]);e!==void 0&&s!=null&&u(e,["_query","pageSize"],s);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&u(e,["_query","pageToken"],l),i}function kC(t){const e={},i=a(t,["config"]);return i!=null&&u(e,["config"],NC(i,e)),e}function DC(t){const e={},i=a(t,["fps"]);i!=null&&u(e,["fps"],i);const s=a(t,["endOffset"]);s!=null&&u(e,["endOffset"],s);const l=a(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function UC(t){const e={},i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const s=a(t,["data"]);s!=null&&u(e,["data"],s);const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function LC(t){const e={},i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const s=a(t,["fileUri"]);s!=null&&u(e,["fileUri"],s);const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function PC(t){const e={},i=a(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],DC(i));const s=a(t,["thought"]);s!=null&&u(e,["thought"],s);const l=a(t,["inlineData"]);l!=null&&u(e,["inlineData"],UC(l));const f=a(t,["fileData"]);f!=null&&u(e,["fileData"],LC(f));const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=a(t,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=a(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=a(t,["functionCall"]);g!=null&&u(e,["functionCall"],g);const T=a(t,["functionResponse"]);T!=null&&u(e,["functionResponse"],T);const E=a(t,["text"]);return E!=null&&u(e,["text"],E),e}function Gy(t){const e={},i=a(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>PC(f))),u(e,["parts"],l)}const s=a(t,["role"]);return s!=null&&u(e,["role"],s),e}function OC(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(t,["description"]);i!=null&&u(e,["description"],i);const s=a(t,["name"]);s!=null&&u(e,["name"],s);const l=a(t,["parameters"]);l!=null&&u(e,["parameters"],l);const f=a(t,["parametersJsonSchema"]);f!=null&&u(e,["parametersJsonSchema"],f);const h=a(t,["response"]);h!=null&&u(e,["response"],h);const m=a(t,["responseJsonSchema"]);return m!=null&&u(e,["responseJsonSchema"],m),e}function VC(t){const e={},i=a(t,["startTime"]);i!=null&&u(e,["startTime"],i);const s=a(t,["endTime"]);return s!=null&&u(e,["endTime"],s),e}function BC(t){const e={},i=a(t,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],VC(i)),e}function HC(t){const e={},i=a(t,["mode"]);i!=null&&u(e,["mode"],i);const s=a(t,["dynamicThreshold"]);return s!=null&&u(e,["dynamicThreshold"],s),e}function GC(t){const e={},i=a(t,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],HC(i)),e}function qC(){return{}}function zC(t){const e={},i=a(t,["apiKeyString"]);return i!=null&&u(e,["apiKeyString"],i),e}function FC(t){const e={},i=a(t,["apiKeyConfig"]);i!=null&&u(e,["apiKeyConfig"],zC(i));const s=a(t,["authType"]);s!=null&&u(e,["authType"],s);const l=a(t,["googleServiceAccountConfig"]);l!=null&&u(e,["googleServiceAccountConfig"],l);const f=a(t,["httpBasicAuthConfig"]);f!=null&&u(e,["httpBasicAuthConfig"],f);const h=a(t,["oauthConfig"]);h!=null&&u(e,["oauthConfig"],h);const m=a(t,["oidcConfig"]);return m!=null&&u(e,["oidcConfig"],m),e}function $C(t){const e={},i=a(t,["authConfig"]);return i!=null&&u(e,["authConfig"],FC(i)),e}function YC(){return{}}function JC(t){const e={},i=a(t,["functionDeclarations"]);if(i!=null){let E=i;Array.isArray(E)&&(E=E.map(A=>OC(A))),u(e,["functionDeclarations"],E)}const s=a(t,["retrieval"]);s!=null&&u(e,["retrieval"],s);const l=a(t,["googleSearch"]);l!=null&&u(e,["googleSearch"],BC(l));const f=a(t,["googleSearchRetrieval"]);f!=null&&u(e,["googleSearchRetrieval"],GC(f)),a(t,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],qC());const m=a(t,["googleMaps"]);m!=null&&u(e,["googleMaps"],$C(m)),a(t,["urlContext"])!=null&&u(e,["urlContext"],YC());const g=a(t,["codeExecution"]);g!=null&&u(e,["codeExecution"],g);const T=a(t,["computerUse"]);return T!=null&&u(e,["computerUse"],T),e}function KC(t){const e={},i=a(t,["mode"]);i!=null&&u(e,["mode"],i);const s=a(t,["allowedFunctionNames"]);return s!=null&&u(e,["allowedFunctionNames"],s),e}function XC(t){const e={},i=a(t,["latitude"]);i!=null&&u(e,["latitude"],i);const s=a(t,["longitude"]);return s!=null&&u(e,["longitude"],s),e}function QC(t){const e={},i=a(t,["latLng"]);i!=null&&u(e,["latLng"],XC(i));const s=a(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function ZC(t){const e={},i=a(t,["functionCallingConfig"]);i!=null&&u(e,["functionCallingConfig"],KC(i));const s=a(t,["retrievalConfig"]);return s!=null&&u(e,["retrievalConfig"],QC(s)),e}function WC(t,e){const i={},s=a(t,["ttl"]);e!==void 0&&s!=null&&u(e,["ttl"],s);const l=a(t,["expireTime"]);e!==void 0&&l!=null&&u(e,["expireTime"],l);const f=a(t,["displayName"]);e!==void 0&&f!=null&&u(e,["displayName"],f);const h=a(t,["contents"]);if(e!==void 0&&h!=null){let E=Hn(h);Array.isArray(E)&&(E=E.map(A=>Gy(A))),u(e,["contents"],E)}const m=a(t,["systemInstruction"]);e!==void 0&&m!=null&&u(e,["systemInstruction"],Gy(Xt(m)));const y=a(t,["tools"]);if(e!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(A=>JC(A))),u(e,["tools"],E)}const g=a(t,["toolConfig"]);e!==void 0&&g!=null&&u(e,["toolConfig"],ZC(g));const T=a(t,["kmsKeyName"]);return e!==void 0&&T!=null&&u(e,["encryption_spec","kmsKeyName"],T),i}function jC(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["model"],t0(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],WC(l,i)),i}function eA(t,e){const i={},s=a(e,["name"]);s!=null&&u(i,["_url","name"],eo(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],l),i}function tA(t,e){const i={},s=a(e,["name"]);s!=null&&u(i,["_url","name"],eo(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],l),i}function nA(t,e){const i={},s=a(t,["ttl"]);e!==void 0&&s!=null&&u(e,["ttl"],s);const l=a(t,["expireTime"]);return e!==void 0&&l!=null&&u(e,["expireTime"],l),i}function iA(t,e){const i={},s=a(e,["name"]);s!=null&&u(i,["_url","name"],eo(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],nA(l,i)),i}function oA(t,e){const i={},s=a(t,["pageSize"]);e!==void 0&&s!=null&&u(e,["_query","pageSize"],s);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&u(e,["_query","pageToken"],l),i}function sA(t){const e={},i=a(t,["config"]);return i!=null&&u(e,["config"],oA(i,e)),e}function Uu(t){const e={},i=a(t,["name"]);i!=null&&u(e,["name"],i);const s=a(t,["displayName"]);s!=null&&u(e,["displayName"],s);const l=a(t,["model"]);l!=null&&u(e,["model"],l);const f=a(t,["createTime"]);f!=null&&u(e,["createTime"],f);const h=a(t,["updateTime"]);h!=null&&u(e,["updateTime"],h);const m=a(t,["expireTime"]);m!=null&&u(e,["expireTime"],m);const y=a(t,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function rA(){return{}}function lA(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["nextPageToken"]);s!=null&&u(e,["nextPageToken"],s);const l=a(t,["cachedContents"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Uu(h))),u(e,["cachedContents"],f)}return e}function Lu(t){const e={},i=a(t,["name"]);i!=null&&u(e,["name"],i);const s=a(t,["displayName"]);s!=null&&u(e,["displayName"],s);const l=a(t,["model"]);l!=null&&u(e,["model"],l);const f=a(t,["createTime"]);f!=null&&u(e,["createTime"],f);const h=a(t,["updateTime"]);h!=null&&u(e,["updateTime"],h);const m=a(t,["expireTime"]);m!=null&&u(e,["expireTime"],m);const y=a(t,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function aA(){return{}}function uA(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["nextPageToken"]);s!=null&&u(e,["nextPageToken"],s);const l=a(t,["cachedContents"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Lu(h))),u(e,["cachedContents"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cA extends bs{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new jl(ws.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(i),i)}async create(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=jC(this.apiClient,e);return m=ye("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),h.then(T=>Lu(T))}else{const g=xC(this.apiClient,e);return m=ye("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h.then(T=>Uu(T))}}async get(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=eA(this.apiClient,e);return m=ye("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),h.then(T=>Lu(T))}else{const g=RC(this.apiClient,e);return m=ye("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h.then(T=>Uu(T))}}async delete(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=tA(this.apiClient,e);return m=ye("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),h.then(()=>{const T=aA(),E=new Uy;return Object.assign(E,T),E})}else{const g=MC(this.apiClient,e);return m=ye("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h.then(()=>{const T=rA(),E=new Uy;return Object.assign(E,T),E})}}async update(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=iA(this.apiClient,e);return m=ye("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),h.then(T=>Lu(T))}else{const g=IC(this.apiClient,e);return m=ye("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h.then(T=>Uu(T))}}async listInternal(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=sA(e);return m=ye("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>{const E=uA(T),A=new Ly;return Object.assign(A,E),A})}else{const g=kC(e);return m=ye("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>{const E=lA(T),A=new Ly;return Object.assign(A,E),A})}}}function qy(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],s=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ht(t){return this instanceof ht?(this.v=t,this):new ht(t)}function Ar(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(t,e||[]),l,f=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(I){return function(L){return Promise.resolve(L).then(I,E)}}function m(I,L){s[I]&&(l[I]=function(F){return new Promise(function(Q,ae){f.push([I,F,Q,ae])>1||y(I,F)})},L&&(l[I]=L(l[I])))}function y(I,L){try{g(s[I](L))}catch(F){A(f[0][3],F)}}function g(I){I.value instanceof ht?Promise.resolve(I.value.v).then(T,E):A(f[0][2],I)}function T(I){y("next",I)}function E(I){y("throw",I)}function A(I,L){I(L),f.shift(),f.length&&y(f[0][0],f[0][1])}}function $l(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof qy=="function"?qy(t):t[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(f){i[f]=t[f]&&function(h){return new Promise(function(m,y){h=t[f](h),l(m,y,h.done,h.value)})}}function l(f,h,m,y){Promise.resolve(y).then(function(g){f({value:g,done:m})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fA(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:y0(i)}function y0(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function dA(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function zy(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let s=0;for(;s<i;)if(t[s].role==="user")e.push(t[s]),s++;else{const l=[];let f=!0;for(;s<i&&t[s].role==="model";)l.push(t[s]),f&&!y0(t[s])&&(f=!1),s++;f?e.push(...l):e.pop()}return e}class hA{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new pA(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class pA{constructor(e,i,s,l={},f=[]){this.apiClient=e,this.modelsModule=i,this.model=s,this.config=l,this.history=f,this.sendPromise=Promise.resolve(),dA(f)}async sendMessage(e){var i;await this.sendPromise;const s=Xt(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var f,h,m;const y=await l,g=(h=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content,T=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let A=[];T!=null&&(A=(m=T.slice(E))!==null&&m!==void 0?m:[]);const I=g?[g]:[];this.recordHistory(s,I,A)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var i;await this.sendPromise;const s=Xt(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const f=await l;return this.processStreamResponse(f,s)}getHistory(e=!1){const i=e?zy(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var s,l;return Ar(this,arguments,function*(){var h,m,y,g;const T=[];try{for(var E=!0,A=$l(e),I;I=yield ht(A.next()),h=I.done,!h;E=!0){g=I.value,E=!1;const L=g;if(fA(L)){const F=(l=(s=L.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content;F!==void 0&&T.push(F)}yield yield ht(L)}}catch(L){m={error:L}}finally{try{!E&&!h&&(y=A.return)&&(yield ht(y.call(A)))}finally{if(m)throw m.error}}this.recordHistory(i,T)})}recordHistory(e,i,s){let l=[];i.length>0&&i.every(f=>f.role!==void 0)?l=i:l.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...zy(s)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tc extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,tc.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mA(t,e){const i={},s=a(t,["pageSize"]);e!==void 0&&s!=null&&u(e,["_query","pageSize"],s);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&u(e,["_query","pageToken"],l),i}function gA(t){const e={},i=a(t,["config"]);return i!=null&&u(e,["config"],mA(i,e)),e}function yA(t){const e={},i=a(t,["details"]);i!=null&&u(e,["details"],i);const s=a(t,["message"]);s!=null&&u(e,["message"],s);const l=a(t,["code"]);return l!=null&&u(e,["code"],l),e}function vA(t){const e={},i=a(t,["name"]);i!=null&&u(e,["name"],i);const s=a(t,["displayName"]);s!=null&&u(e,["displayName"],s);const l=a(t,["mimeType"]);l!=null&&u(e,["mimeType"],l);const f=a(t,["sizeBytes"]);f!=null&&u(e,["sizeBytes"],f);const h=a(t,["createTime"]);h!=null&&u(e,["createTime"],h);const m=a(t,["expirationTime"]);m!=null&&u(e,["expirationTime"],m);const y=a(t,["updateTime"]);y!=null&&u(e,["updateTime"],y);const g=a(t,["sha256Hash"]);g!=null&&u(e,["sha256Hash"],g);const T=a(t,["uri"]);T!=null&&u(e,["uri"],T);const E=a(t,["downloadUri"]);E!=null&&u(e,["downloadUri"],E);const A=a(t,["state"]);A!=null&&u(e,["state"],A);const I=a(t,["source"]);I!=null&&u(e,["source"],I);const L=a(t,["videoMetadata"]);L!=null&&u(e,["videoMetadata"],L);const F=a(t,["error"]);return F!=null&&u(e,["error"],yA(F)),e}function TA(t){const e={},i=a(t,["file"]);i!=null&&u(e,["file"],vA(i));const s=a(t,["config"]);return s!=null&&u(e,["config"],s),e}function _A(t){const e={},i=a(t,["name"]);i!=null&&u(e,["_url","file"],a0(i));const s=a(t,["config"]);return s!=null&&u(e,["config"],s),e}function SA(t){const e={},i=a(t,["name"]);i!=null&&u(e,["_url","file"],a0(i));const s=a(t,["config"]);return s!=null&&u(e,["config"],s),e}function EA(t){const e={},i=a(t,["details"]);i!=null&&u(e,["details"],i);const s=a(t,["message"]);s!=null&&u(e,["message"],s);const l=a(t,["code"]);return l!=null&&u(e,["code"],l),e}function Md(t){const e={},i=a(t,["name"]);i!=null&&u(e,["name"],i);const s=a(t,["displayName"]);s!=null&&u(e,["displayName"],s);const l=a(t,["mimeType"]);l!=null&&u(e,["mimeType"],l);const f=a(t,["sizeBytes"]);f!=null&&u(e,["sizeBytes"],f);const h=a(t,["createTime"]);h!=null&&u(e,["createTime"],h);const m=a(t,["expirationTime"]);m!=null&&u(e,["expirationTime"],m);const y=a(t,["updateTime"]);y!=null&&u(e,["updateTime"],y);const g=a(t,["sha256Hash"]);g!=null&&u(e,["sha256Hash"],g);const T=a(t,["uri"]);T!=null&&u(e,["uri"],T);const E=a(t,["downloadUri"]);E!=null&&u(e,["downloadUri"],E);const A=a(t,["state"]);A!=null&&u(e,["state"],A);const I=a(t,["source"]);I!=null&&u(e,["source"],I);const L=a(t,["videoMetadata"]);L!=null&&u(e,["videoMetadata"],L);const F=a(t,["error"]);return F!=null&&u(e,["error"],EA(F)),e}function CA(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["nextPageToken"]);s!=null&&u(e,["nextPageToken"],s);const l=a(t,["files"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Md(h))),u(e,["files"],f)}return e}function AA(t){const e={},i=a(t,["sdkHttpResponse"]);return i!=null&&u(e,["sdkHttpResponse"],i),e}function wA(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xA extends bs{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new jl(ws.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>Md(i))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,s;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=gA(e);return f=ye("files",m._url),h=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:y.headers},T})),l.then(y=>{const g=CA(y),T=new FS;return Object.assign(T,g),T})}}async createInternal(e){var i,s;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=TA(e);return f=ye("upload/v1beta/files",m._url),h=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const g=AA(y),T=new $S;return Object.assign(T,g),T})}}async get(e){var i,s;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=_A(e);return f=ye("files/{file}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Md(y))}}async delete(e){var i,s;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=SA(e);return f=ye("files/{file}",m._url),h=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(()=>{const y=wA(),g=new YS;return Object.assign(g,y),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RA(t){const e={},i=a(t,["voiceName"]);return i!=null&&u(e,["voiceName"],i),e}function v0(t){const e={},i=a(t,["prebuiltVoiceConfig"]);return i!=null&&u(e,["prebuiltVoiceConfig"],RA(i)),e}function MA(t){const e={},i=a(t,["speaker"]);i!=null&&u(e,["speaker"],i);const s=a(t,["voiceConfig"]);return s!=null&&u(e,["voiceConfig"],v0(s)),e}function bA(t){const e={},i=a(t,["speakerVoiceConfigs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>MA(l))),u(e,["speakerVoiceConfigs"],s)}return e}function IA(t){const e={},i=a(t,["voiceConfig"]);i!=null&&u(e,["voiceConfig"],v0(i));const s=a(t,["multiSpeakerVoiceConfig"]);s!=null&&u(e,["multiSpeakerVoiceConfig"],bA(s));const l=a(t,["languageCode"]);return l!=null&&u(e,["languageCode"],l),e}function NA(t){const e={},i=a(t,["fps"]);i!=null&&u(e,["fps"],i);const s=a(t,["endOffset"]);s!=null&&u(e,["endOffset"],s);const l=a(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function kA(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["data"]);i!=null&&u(e,["data"],i);const s=a(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function DA(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["fileUri"]);i!=null&&u(e,["fileUri"],i);const s=a(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function UA(t){const e={},i=a(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],NA(i));const s=a(t,["thought"]);s!=null&&u(e,["thought"],s);const l=a(t,["inlineData"]);l!=null&&u(e,["inlineData"],kA(l));const f=a(t,["fileData"]);f!=null&&u(e,["fileData"],DA(f));const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=a(t,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=a(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=a(t,["functionCall"]);g!=null&&u(e,["functionCall"],g);const T=a(t,["functionResponse"]);T!=null&&u(e,["functionResponse"],T);const E=a(t,["text"]);return E!=null&&u(e,["text"],E),e}function LA(t){const e={},i=a(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>UA(f))),u(e,["parts"],l)}const s=a(t,["role"]);return s!=null&&u(e,["role"],s),e}function PA(t){const e={},i=a(t,["behavior"]);i!=null&&u(e,["behavior"],i);const s=a(t,["description"]);s!=null&&u(e,["description"],s);const l=a(t,["name"]);l!=null&&u(e,["name"],l);const f=a(t,["parameters"]);f!=null&&u(e,["parameters"],f);const h=a(t,["parametersJsonSchema"]);h!=null&&u(e,["parametersJsonSchema"],h);const m=a(t,["response"]);m!=null&&u(e,["response"],m);const y=a(t,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function OA(t){const e={},i=a(t,["startTime"]);i!=null&&u(e,["startTime"],i);const s=a(t,["endTime"]);return s!=null&&u(e,["endTime"],s),e}function VA(t){const e={},i=a(t,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],OA(i)),e}function BA(t){const e={},i=a(t,["mode"]);i!=null&&u(e,["mode"],i);const s=a(t,["dynamicThreshold"]);return s!=null&&u(e,["dynamicThreshold"],s),e}function HA(t){const e={},i=a(t,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],BA(i)),e}function GA(){return{}}function qA(t){const e={},i=a(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(g=>PA(g))),u(e,["functionDeclarations"],y)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=a(t,["googleSearch"]);s!=null&&u(e,["googleSearch"],VA(s));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&u(e,["googleSearchRetrieval"],HA(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&u(e,["urlContext"],GA());const h=a(t,["codeExecution"]);h!=null&&u(e,["codeExecution"],h);const m=a(t,["computerUse"]);return m!=null&&u(e,["computerUse"],m),e}function zA(t){const e={},i=a(t,["handle"]);if(i!=null&&u(e,["handle"],i),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Fy(){return{}}function FA(t){const e={},i=a(t,["disabled"]);i!=null&&u(e,["disabled"],i);const s=a(t,["startOfSpeechSensitivity"]);s!=null&&u(e,["startOfSpeechSensitivity"],s);const l=a(t,["endOfSpeechSensitivity"]);l!=null&&u(e,["endOfSpeechSensitivity"],l);const f=a(t,["prefixPaddingMs"]);f!=null&&u(e,["prefixPaddingMs"],f);const h=a(t,["silenceDurationMs"]);return h!=null&&u(e,["silenceDurationMs"],h),e}function $A(t){const e={},i=a(t,["automaticActivityDetection"]);i!=null&&u(e,["automaticActivityDetection"],FA(i));const s=a(t,["activityHandling"]);s!=null&&u(e,["activityHandling"],s);const l=a(t,["turnCoverage"]);return l!=null&&u(e,["turnCoverage"],l),e}function YA(t){const e={},i=a(t,["targetTokens"]);return i!=null&&u(e,["targetTokens"],i),e}function JA(t){const e={},i=a(t,["triggerTokens"]);i!=null&&u(e,["triggerTokens"],i);const s=a(t,["slidingWindow"]);return s!=null&&u(e,["slidingWindow"],YA(s)),e}function KA(t){const e={},i=a(t,["proactiveAudio"]);return i!=null&&u(e,["proactiveAudio"],i),e}function XA(t,e){const i={},s=a(t,["generationConfig"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig"],s);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","responseModalities"],l);const f=a(t,["temperature"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","temperature"],f);const h=a(t,["topP"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topP"],h);const m=a(t,["topK"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topK"],m);const y=a(t,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const g=a(t,["mediaResolution"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","mediaResolution"],g);const T=a(t,["seed"]);e!==void 0&&T!=null&&u(e,["setup","generationConfig","seed"],T);const E=a(t,["speechConfig"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","speechConfig"],IA(Xd(E)));const A=a(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],A);const I=a(t,["systemInstruction"]);e!==void 0&&I!=null&&u(e,["setup","systemInstruction"],LA(Xt(I)));const L=a(t,["tools"]);if(e!==void 0&&L!=null){let ne=kr(L);Array.isArray(ne)&&(ne=ne.map(he=>qA(Nr(he)))),u(e,["setup","tools"],ne)}const F=a(t,["sessionResumption"]);e!==void 0&&F!=null&&u(e,["setup","sessionResumption"],zA(F));const Q=a(t,["inputAudioTranscription"]);e!==void 0&&Q!=null&&u(e,["setup","inputAudioTranscription"],Fy());const ae=a(t,["outputAudioTranscription"]);e!==void 0&&ae!=null&&u(e,["setup","outputAudioTranscription"],Fy());const se=a(t,["realtimeInputConfig"]);e!==void 0&&se!=null&&u(e,["setup","realtimeInputConfig"],$A(se));const ie=a(t,["contextWindowCompression"]);e!==void 0&&ie!=null&&u(e,["setup","contextWindowCompression"],JA(ie));const fe=a(t,["proactivity"]);return e!==void 0&&fe!=null&&u(e,["setup","proactivity"],KA(fe)),i}function QA(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["setup","model"],Qe(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],XA(l,i)),i}function ZA(){return{}}function WA(){return{}}function jA(t){const e={},i=a(t,["media"]);i!=null&&u(e,["mediaChunks"],n0(i));const s=a(t,["audio"]);s!=null&&u(e,["audio"],o0(s));const l=a(t,["audioStreamEnd"]);l!=null&&u(e,["audioStreamEnd"],l);const f=a(t,["video"]);f!=null&&u(e,["video"],i0(f));const h=a(t,["text"]);return h!=null&&u(e,["text"],h),a(t,["activityStart"])!=null&&u(e,["activityStart"],ZA()),a(t,["activityEnd"])!=null&&u(e,["activityEnd"],WA()),e}function T0(t){const e={},i=a(t,["text"]);i!=null&&u(e,["text"],i);const s=a(t,["weight"]);return s!=null&&u(e,["weight"],s),e}function ew(t){const e={},i=a(t,["weightedPrompts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>T0(l))),u(e,["weightedPrompts"],s)}return e}function _0(t){const e={},i=a(t,["temperature"]);i!=null&&u(e,["temperature"],i);const s=a(t,["topK"]);s!=null&&u(e,["topK"],s);const l=a(t,["seed"]);l!=null&&u(e,["seed"],l);const f=a(t,["guidance"]);f!=null&&u(e,["guidance"],f);const h=a(t,["bpm"]);h!=null&&u(e,["bpm"],h);const m=a(t,["density"]);m!=null&&u(e,["density"],m);const y=a(t,["brightness"]);y!=null&&u(e,["brightness"],y);const g=a(t,["scale"]);g!=null&&u(e,["scale"],g);const T=a(t,["muteBass"]);T!=null&&u(e,["muteBass"],T);const E=a(t,["muteDrums"]);E!=null&&u(e,["muteDrums"],E);const A=a(t,["onlyBassAndDrums"]);A!=null&&u(e,["onlyBassAndDrums"],A);const I=a(t,["musicGenerationMode"]);return I!=null&&u(e,["musicGenerationMode"],I),e}function tw(t){const e={},i=a(t,["musicGenerationConfig"]);return i!=null&&u(e,["musicGenerationConfig"],_0(i)),e}function S0(t){const e={},i=a(t,["model"]);return i!=null&&u(e,["model"],i),e}function E0(t){const e={},i=a(t,["weightedPrompts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>T0(l))),u(e,["weightedPrompts"],s)}return e}function bd(t){const e={},i=a(t,["setup"]);i!=null&&u(e,["setup"],S0(i));const s=a(t,["clientContent"]);s!=null&&u(e,["clientContent"],E0(s));const l=a(t,["musicGenerationConfig"]);l!=null&&u(e,["musicGenerationConfig"],_0(l));const f=a(t,["playbackControl"]);return f!=null&&u(e,["playbackControl"],f),e}function nw(t){const e={},i=a(t,["voiceName"]);return i!=null&&u(e,["voiceName"],i),e}function iw(t){const e={},i=a(t,["prebuiltVoiceConfig"]);return i!=null&&u(e,["prebuiltVoiceConfig"],nw(i)),e}function ow(t){const e={},i=a(t,["voiceConfig"]);if(i!=null&&u(e,["voiceConfig"],iw(i)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=a(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function sw(t){const e={},i=a(t,["fps"]);i!=null&&u(e,["fps"],i);const s=a(t,["endOffset"]);s!=null&&u(e,["endOffset"],s);const l=a(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function rw(t){const e={},i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const s=a(t,["data"]);s!=null&&u(e,["data"],s);const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function lw(t){const e={},i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const s=a(t,["fileUri"]);s!=null&&u(e,["fileUri"],s);const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function aw(t){const e={},i=a(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],sw(i));const s=a(t,["thought"]);s!=null&&u(e,["thought"],s);const l=a(t,["inlineData"]);l!=null&&u(e,["inlineData"],rw(l));const f=a(t,["fileData"]);f!=null&&u(e,["fileData"],lw(f));const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=a(t,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=a(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=a(t,["functionCall"]);g!=null&&u(e,["functionCall"],g);const T=a(t,["functionResponse"]);T!=null&&u(e,["functionResponse"],T);const E=a(t,["text"]);return E!=null&&u(e,["text"],E),e}function uw(t){const e={},i=a(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>aw(f))),u(e,["parts"],l)}const s=a(t,["role"]);return s!=null&&u(e,["role"],s),e}function cw(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(t,["description"]);i!=null&&u(e,["description"],i);const s=a(t,["name"]);s!=null&&u(e,["name"],s);const l=a(t,["parameters"]);l!=null&&u(e,["parameters"],l);const f=a(t,["parametersJsonSchema"]);f!=null&&u(e,["parametersJsonSchema"],f);const h=a(t,["response"]);h!=null&&u(e,["response"],h);const m=a(t,["responseJsonSchema"]);return m!=null&&u(e,["responseJsonSchema"],m),e}function fw(t){const e={},i=a(t,["startTime"]);i!=null&&u(e,["startTime"],i);const s=a(t,["endTime"]);return s!=null&&u(e,["endTime"],s),e}function dw(t){const e={},i=a(t,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],fw(i)),e}function hw(t){const e={},i=a(t,["mode"]);i!=null&&u(e,["mode"],i);const s=a(t,["dynamicThreshold"]);return s!=null&&u(e,["dynamicThreshold"],s),e}function pw(t){const e={},i=a(t,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],hw(i)),e}function mw(){return{}}function gw(t){const e={},i=a(t,["apiKeyString"]);return i!=null&&u(e,["apiKeyString"],i),e}function yw(t){const e={},i=a(t,["apiKeyConfig"]);i!=null&&u(e,["apiKeyConfig"],gw(i));const s=a(t,["authType"]);s!=null&&u(e,["authType"],s);const l=a(t,["googleServiceAccountConfig"]);l!=null&&u(e,["googleServiceAccountConfig"],l);const f=a(t,["httpBasicAuthConfig"]);f!=null&&u(e,["httpBasicAuthConfig"],f);const h=a(t,["oauthConfig"]);h!=null&&u(e,["oauthConfig"],h);const m=a(t,["oidcConfig"]);return m!=null&&u(e,["oidcConfig"],m),e}function vw(t){const e={},i=a(t,["authConfig"]);return i!=null&&u(e,["authConfig"],yw(i)),e}function Tw(){return{}}function _w(t){const e={},i=a(t,["functionDeclarations"]);if(i!=null){let E=i;Array.isArray(E)&&(E=E.map(A=>cw(A))),u(e,["functionDeclarations"],E)}const s=a(t,["retrieval"]);s!=null&&u(e,["retrieval"],s);const l=a(t,["googleSearch"]);l!=null&&u(e,["googleSearch"],dw(l));const f=a(t,["googleSearchRetrieval"]);f!=null&&u(e,["googleSearchRetrieval"],pw(f)),a(t,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],mw());const m=a(t,["googleMaps"]);m!=null&&u(e,["googleMaps"],vw(m)),a(t,["urlContext"])!=null&&u(e,["urlContext"],Tw());const g=a(t,["codeExecution"]);g!=null&&u(e,["codeExecution"],g);const T=a(t,["computerUse"]);return T!=null&&u(e,["computerUse"],T),e}function Sw(t){const e={},i=a(t,["handle"]);i!=null&&u(e,["handle"],i);const s=a(t,["transparent"]);return s!=null&&u(e,["transparent"],s),e}function $y(){return{}}function Ew(t){const e={},i=a(t,["disabled"]);i!=null&&u(e,["disabled"],i);const s=a(t,["startOfSpeechSensitivity"]);s!=null&&u(e,["startOfSpeechSensitivity"],s);const l=a(t,["endOfSpeechSensitivity"]);l!=null&&u(e,["endOfSpeechSensitivity"],l);const f=a(t,["prefixPaddingMs"]);f!=null&&u(e,["prefixPaddingMs"],f);const h=a(t,["silenceDurationMs"]);return h!=null&&u(e,["silenceDurationMs"],h),e}function Cw(t){const e={},i=a(t,["automaticActivityDetection"]);i!=null&&u(e,["automaticActivityDetection"],Ew(i));const s=a(t,["activityHandling"]);s!=null&&u(e,["activityHandling"],s);const l=a(t,["turnCoverage"]);return l!=null&&u(e,["turnCoverage"],l),e}function Aw(t){const e={},i=a(t,["targetTokens"]);return i!=null&&u(e,["targetTokens"],i),e}function ww(t){const e={},i=a(t,["triggerTokens"]);i!=null&&u(e,["triggerTokens"],i);const s=a(t,["slidingWindow"]);return s!=null&&u(e,["slidingWindow"],Aw(s)),e}function xw(t){const e={},i=a(t,["proactiveAudio"]);return i!=null&&u(e,["proactiveAudio"],i),e}function Rw(t,e){const i={},s=a(t,["generationConfig"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig"],s);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","responseModalities"],l);const f=a(t,["temperature"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","temperature"],f);const h=a(t,["topP"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topP"],h);const m=a(t,["topK"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topK"],m);const y=a(t,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const g=a(t,["mediaResolution"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","mediaResolution"],g);const T=a(t,["seed"]);e!==void 0&&T!=null&&u(e,["setup","generationConfig","seed"],T);const E=a(t,["speechConfig"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","speechConfig"],ow(Xd(E)));const A=a(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],A);const I=a(t,["systemInstruction"]);e!==void 0&&I!=null&&u(e,["setup","systemInstruction"],uw(Xt(I)));const L=a(t,["tools"]);if(e!==void 0&&L!=null){let ne=kr(L);Array.isArray(ne)&&(ne=ne.map(he=>_w(Nr(he)))),u(e,["setup","tools"],ne)}const F=a(t,["sessionResumption"]);e!==void 0&&F!=null&&u(e,["setup","sessionResumption"],Sw(F));const Q=a(t,["inputAudioTranscription"]);e!==void 0&&Q!=null&&u(e,["setup","inputAudioTranscription"],$y());const ae=a(t,["outputAudioTranscription"]);e!==void 0&&ae!=null&&u(e,["setup","outputAudioTranscription"],$y());const se=a(t,["realtimeInputConfig"]);e!==void 0&&se!=null&&u(e,["setup","realtimeInputConfig"],Cw(se));const ie=a(t,["contextWindowCompression"]);e!==void 0&&ie!=null&&u(e,["setup","contextWindowCompression"],ww(ie));const fe=a(t,["proactivity"]);return e!==void 0&&fe!=null&&u(e,["setup","proactivity"],xw(fe)),i}function Mw(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["setup","model"],Qe(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],Rw(l,i)),i}function bw(){return{}}function Iw(){return{}}function Nw(t){const e={},i=a(t,["media"]);i!=null&&u(e,["mediaChunks"],n0(i));const s=a(t,["audio"]);s!=null&&u(e,["audio"],o0(s));const l=a(t,["audioStreamEnd"]);l!=null&&u(e,["audioStreamEnd"],l);const f=a(t,["video"]);f!=null&&u(e,["video"],i0(f));const h=a(t,["text"]);return h!=null&&u(e,["text"],h),a(t,["activityStart"])!=null&&u(e,["activityStart"],bw()),a(t,["activityEnd"])!=null&&u(e,["activityEnd"],Iw()),e}function kw(){return{}}function Dw(t){const e={},i=a(t,["fps"]);i!=null&&u(e,["fps"],i);const s=a(t,["endOffset"]);s!=null&&u(e,["endOffset"],s);const l=a(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function Uw(t){const e={},i=a(t,["data"]);i!=null&&u(e,["data"],i);const s=a(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function Lw(t){const e={},i=a(t,["fileUri"]);i!=null&&u(e,["fileUri"],i);const s=a(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function Pw(t){const e={},i=a(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],Dw(i));const s=a(t,["thought"]);s!=null&&u(e,["thought"],s);const l=a(t,["inlineData"]);l!=null&&u(e,["inlineData"],Uw(l));const f=a(t,["fileData"]);f!=null&&u(e,["fileData"],Lw(f));const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=a(t,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=a(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=a(t,["functionCall"]);g!=null&&u(e,["functionCall"],g);const T=a(t,["functionResponse"]);T!=null&&u(e,["functionResponse"],T);const E=a(t,["text"]);return E!=null&&u(e,["text"],E),e}function Ow(t){const e={},i=a(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>Pw(f))),u(e,["parts"],l)}const s=a(t,["role"]);return s!=null&&u(e,["role"],s),e}function Yy(t){const e={},i=a(t,["text"]);i!=null&&u(e,["text"],i);const s=a(t,["finished"]);return s!=null&&u(e,["finished"],s),e}function Vw(t){const e={},i=a(t,["retrievedUrl"]);i!=null&&u(e,["retrievedUrl"],i);const s=a(t,["urlRetrievalStatus"]);return s!=null&&u(e,["urlRetrievalStatus"],s),e}function Bw(t){const e={},i=a(t,["urlMetadata"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Vw(l))),u(e,["urlMetadata"],s)}return e}function Hw(t){const e={},i=a(t,["modelTurn"]);i!=null&&u(e,["modelTurn"],Ow(i));const s=a(t,["turnComplete"]);s!=null&&u(e,["turnComplete"],s);const l=a(t,["interrupted"]);l!=null&&u(e,["interrupted"],l);const f=a(t,["groundingMetadata"]);f!=null&&u(e,["groundingMetadata"],f);const h=a(t,["generationComplete"]);h!=null&&u(e,["generationComplete"],h);const m=a(t,["inputTranscription"]);m!=null&&u(e,["inputTranscription"],Yy(m));const y=a(t,["outputTranscription"]);y!=null&&u(e,["outputTranscription"],Yy(y));const g=a(t,["urlContextMetadata"]);return g!=null&&u(e,["urlContextMetadata"],Bw(g)),e}function Gw(t){const e={},i=a(t,["id"]);i!=null&&u(e,["id"],i);const s=a(t,["args"]);s!=null&&u(e,["args"],s);const l=a(t,["name"]);return l!=null&&u(e,["name"],l),e}function qw(t){const e={},i=a(t,["functionCalls"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Gw(l))),u(e,["functionCalls"],s)}return e}function zw(t){const e={},i=a(t,["ids"]);return i!=null&&u(e,["ids"],i),e}function Ru(t){const e={},i=a(t,["modality"]);i!=null&&u(e,["modality"],i);const s=a(t,["tokenCount"]);return s!=null&&u(e,["tokenCount"],s),e}function Fw(t){const e={},i=a(t,["promptTokenCount"]);i!=null&&u(e,["promptTokenCount"],i);const s=a(t,["cachedContentTokenCount"]);s!=null&&u(e,["cachedContentTokenCount"],s);const l=a(t,["responseTokenCount"]);l!=null&&u(e,["responseTokenCount"],l);const f=a(t,["toolUsePromptTokenCount"]);f!=null&&u(e,["toolUsePromptTokenCount"],f);const h=a(t,["thoughtsTokenCount"]);h!=null&&u(e,["thoughtsTokenCount"],h);const m=a(t,["totalTokenCount"]);m!=null&&u(e,["totalTokenCount"],m);const y=a(t,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(I=>Ru(I))),u(e,["promptTokensDetails"],A)}const g=a(t,["cacheTokensDetails"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(I=>Ru(I))),u(e,["cacheTokensDetails"],A)}const T=a(t,["responseTokensDetails"]);if(T!=null){let A=T;Array.isArray(A)&&(A=A.map(I=>Ru(I))),u(e,["responseTokensDetails"],A)}const E=a(t,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(I=>Ru(I))),u(e,["toolUsePromptTokensDetails"],A)}return e}function $w(t){const e={},i=a(t,["timeLeft"]);return i!=null&&u(e,["timeLeft"],i),e}function Yw(t){const e={},i=a(t,["newHandle"]);i!=null&&u(e,["newHandle"],i);const s=a(t,["resumable"]);s!=null&&u(e,["resumable"],s);const l=a(t,["lastConsumedClientMessageIndex"]);return l!=null&&u(e,["lastConsumedClientMessageIndex"],l),e}function Jw(t){const e={};a(t,["setupComplete"])!=null&&u(e,["setupComplete"],kw());const s=a(t,["serverContent"]);s!=null&&u(e,["serverContent"],Hw(s));const l=a(t,["toolCall"]);l!=null&&u(e,["toolCall"],qw(l));const f=a(t,["toolCallCancellation"]);f!=null&&u(e,["toolCallCancellation"],zw(f));const h=a(t,["usageMetadata"]);h!=null&&u(e,["usageMetadata"],Fw(h));const m=a(t,["goAway"]);m!=null&&u(e,["goAway"],$w(m));const y=a(t,["sessionResumptionUpdate"]);return y!=null&&u(e,["sessionResumptionUpdate"],Yw(y)),e}function Kw(){return{}}function Xw(t){const e={},i=a(t,["text"]);i!=null&&u(e,["text"],i);const s=a(t,["weight"]);return s!=null&&u(e,["weight"],s),e}function Qw(t){const e={},i=a(t,["weightedPrompts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Xw(l))),u(e,["weightedPrompts"],s)}return e}function Zw(t){const e={},i=a(t,["temperature"]);i!=null&&u(e,["temperature"],i);const s=a(t,["topK"]);s!=null&&u(e,["topK"],s);const l=a(t,["seed"]);l!=null&&u(e,["seed"],l);const f=a(t,["guidance"]);f!=null&&u(e,["guidance"],f);const h=a(t,["bpm"]);h!=null&&u(e,["bpm"],h);const m=a(t,["density"]);m!=null&&u(e,["density"],m);const y=a(t,["brightness"]);y!=null&&u(e,["brightness"],y);const g=a(t,["scale"]);g!=null&&u(e,["scale"],g);const T=a(t,["muteBass"]);T!=null&&u(e,["muteBass"],T);const E=a(t,["muteDrums"]);E!=null&&u(e,["muteDrums"],E);const A=a(t,["onlyBassAndDrums"]);A!=null&&u(e,["onlyBassAndDrums"],A);const I=a(t,["musicGenerationMode"]);return I!=null&&u(e,["musicGenerationMode"],I),e}function Ww(t){const e={},i=a(t,["clientContent"]);i!=null&&u(e,["clientContent"],Qw(i));const s=a(t,["musicGenerationConfig"]);return s!=null&&u(e,["musicGenerationConfig"],Zw(s)),e}function jw(t){const e={},i=a(t,["data"]);i!=null&&u(e,["data"],i);const s=a(t,["mimeType"]);s!=null&&u(e,["mimeType"],s);const l=a(t,["sourceMetadata"]);return l!=null&&u(e,["sourceMetadata"],Ww(l)),e}function ex(t){const e={},i=a(t,["audioChunks"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>jw(l))),u(e,["audioChunks"],s)}return e}function tx(t){const e={},i=a(t,["text"]);i!=null&&u(e,["text"],i);const s=a(t,["filteredReason"]);return s!=null&&u(e,["filteredReason"],s),e}function nx(t){const e={};a(t,["setupComplete"])!=null&&u(e,["setupComplete"],Kw());const s=a(t,["serverContent"]);s!=null&&u(e,["serverContent"],ex(s));const l=a(t,["filteredPrompt"]);return l!=null&&u(e,["filteredPrompt"],tx(l)),e}function ix(t){const e={},i=a(t,["sessionId"]);return i!=null&&u(e,["sessionId"],i),e}function ox(t){const e={},i=a(t,["fps"]);i!=null&&u(e,["fps"],i);const s=a(t,["endOffset"]);s!=null&&u(e,["endOffset"],s);const l=a(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function sx(t){const e={},i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const s=a(t,["data"]);s!=null&&u(e,["data"],s);const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function rx(t){const e={},i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const s=a(t,["fileUri"]);s!=null&&u(e,["fileUri"],s);const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function lx(t){const e={},i=a(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],ox(i));const s=a(t,["thought"]);s!=null&&u(e,["thought"],s);const l=a(t,["inlineData"]);l!=null&&u(e,["inlineData"],sx(l));const f=a(t,["fileData"]);f!=null&&u(e,["fileData"],rx(f));const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=a(t,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=a(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=a(t,["functionCall"]);g!=null&&u(e,["functionCall"],g);const T=a(t,["functionResponse"]);T!=null&&u(e,["functionResponse"],T);const E=a(t,["text"]);return E!=null&&u(e,["text"],E),e}function ax(t){const e={},i=a(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>lx(f))),u(e,["parts"],l)}const s=a(t,["role"]);return s!=null&&u(e,["role"],s),e}function Jy(t){const e={},i=a(t,["text"]);i!=null&&u(e,["text"],i);const s=a(t,["finished"]);return s!=null&&u(e,["finished"],s),e}function ux(t){const e={},i=a(t,["modelTurn"]);i!=null&&u(e,["modelTurn"],ax(i));const s=a(t,["turnComplete"]);s!=null&&u(e,["turnComplete"],s);const l=a(t,["interrupted"]);l!=null&&u(e,["interrupted"],l);const f=a(t,["groundingMetadata"]);f!=null&&u(e,["groundingMetadata"],f);const h=a(t,["generationComplete"]);h!=null&&u(e,["generationComplete"],h);const m=a(t,["inputTranscription"]);m!=null&&u(e,["inputTranscription"],Jy(m));const y=a(t,["outputTranscription"]);return y!=null&&u(e,["outputTranscription"],Jy(y)),e}function cx(t){const e={},i=a(t,["args"]);i!=null&&u(e,["args"],i);const s=a(t,["name"]);return s!=null&&u(e,["name"],s),e}function fx(t){const e={},i=a(t,["functionCalls"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>cx(l))),u(e,["functionCalls"],s)}return e}function dx(t){const e={},i=a(t,["ids"]);return i!=null&&u(e,["ids"],i),e}function Mu(t){const e={},i=a(t,["modality"]);i!=null&&u(e,["modality"],i);const s=a(t,["tokenCount"]);return s!=null&&u(e,["tokenCount"],s),e}function hx(t){const e={},i=a(t,["promptTokenCount"]);i!=null&&u(e,["promptTokenCount"],i);const s=a(t,["cachedContentTokenCount"]);s!=null&&u(e,["cachedContentTokenCount"],s);const l=a(t,["candidatesTokenCount"]);l!=null&&u(e,["responseTokenCount"],l);const f=a(t,["toolUsePromptTokenCount"]);f!=null&&u(e,["toolUsePromptTokenCount"],f);const h=a(t,["thoughtsTokenCount"]);h!=null&&u(e,["thoughtsTokenCount"],h);const m=a(t,["totalTokenCount"]);m!=null&&u(e,["totalTokenCount"],m);const y=a(t,["promptTokensDetails"]);if(y!=null){let I=y;Array.isArray(I)&&(I=I.map(L=>Mu(L))),u(e,["promptTokensDetails"],I)}const g=a(t,["cacheTokensDetails"]);if(g!=null){let I=g;Array.isArray(I)&&(I=I.map(L=>Mu(L))),u(e,["cacheTokensDetails"],I)}const T=a(t,["candidatesTokensDetails"]);if(T!=null){let I=T;Array.isArray(I)&&(I=I.map(L=>Mu(L))),u(e,["responseTokensDetails"],I)}const E=a(t,["toolUsePromptTokensDetails"]);if(E!=null){let I=E;Array.isArray(I)&&(I=I.map(L=>Mu(L))),u(e,["toolUsePromptTokensDetails"],I)}const A=a(t,["trafficType"]);return A!=null&&u(e,["trafficType"],A),e}function px(t){const e={},i=a(t,["timeLeft"]);return i!=null&&u(e,["timeLeft"],i),e}function mx(t){const e={},i=a(t,["newHandle"]);i!=null&&u(e,["newHandle"],i);const s=a(t,["resumable"]);s!=null&&u(e,["resumable"],s);const l=a(t,["lastConsumedClientMessageIndex"]);return l!=null&&u(e,["lastConsumedClientMessageIndex"],l),e}function gx(t){const e={},i=a(t,["setupComplete"]);i!=null&&u(e,["setupComplete"],ix(i));const s=a(t,["serverContent"]);s!=null&&u(e,["serverContent"],ux(s));const l=a(t,["toolCall"]);l!=null&&u(e,["toolCall"],fx(l));const f=a(t,["toolCallCancellation"]);f!=null&&u(e,["toolCallCancellation"],dx(f));const h=a(t,["usageMetadata"]);h!=null&&u(e,["usageMetadata"],hx(h));const m=a(t,["goAway"]);m!=null&&u(e,["goAway"],px(m));const y=a(t,["sessionResumptionUpdate"]);return y!=null&&u(e,["sessionResumptionUpdate"],mx(y)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yx(t){const e={},i=a(t,["fps"]);i!=null&&u(e,["fps"],i);const s=a(t,["endOffset"]);s!=null&&u(e,["endOffset"],s);const l=a(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function vx(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["data"]);i!=null&&u(e,["data"],i);const s=a(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function Tx(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["fileUri"]);i!=null&&u(e,["fileUri"],i);const s=a(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function _x(t){const e={},i=a(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],yx(i));const s=a(t,["thought"]);s!=null&&u(e,["thought"],s);const l=a(t,["inlineData"]);l!=null&&u(e,["inlineData"],vx(l));const f=a(t,["fileData"]);f!=null&&u(e,["fileData"],Tx(f));const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=a(t,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=a(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=a(t,["functionCall"]);g!=null&&u(e,["functionCall"],g);const T=a(t,["functionResponse"]);T!=null&&u(e,["functionResponse"],T);const E=a(t,["text"]);return E!=null&&u(e,["text"],E),e}function nc(t){const e={},i=a(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>_x(f))),u(e,["parts"],l)}const s=a(t,["role"]);return s!=null&&u(e,["role"],s),e}function Sx(t){const e={},i=a(t,["anyOf"]);i!=null&&u(e,["anyOf"],i);const s=a(t,["default"]);s!=null&&u(e,["default"],s);const l=a(t,["description"]);l!=null&&u(e,["description"],l);const f=a(t,["enum"]);f!=null&&u(e,["enum"],f);const h=a(t,["example"]);h!=null&&u(e,["example"],h);const m=a(t,["format"]);m!=null&&u(e,["format"],m);const y=a(t,["items"]);y!=null&&u(e,["items"],y);const g=a(t,["maxItems"]);g!=null&&u(e,["maxItems"],g);const T=a(t,["maxLength"]);T!=null&&u(e,["maxLength"],T);const E=a(t,["maxProperties"]);E!=null&&u(e,["maxProperties"],E);const A=a(t,["maximum"]);A!=null&&u(e,["maximum"],A);const I=a(t,["minItems"]);I!=null&&u(e,["minItems"],I);const L=a(t,["minLength"]);L!=null&&u(e,["minLength"],L);const F=a(t,["minProperties"]);F!=null&&u(e,["minProperties"],F);const Q=a(t,["minimum"]);Q!=null&&u(e,["minimum"],Q);const ae=a(t,["nullable"]);ae!=null&&u(e,["nullable"],ae);const se=a(t,["pattern"]);se!=null&&u(e,["pattern"],se);const ie=a(t,["properties"]);ie!=null&&u(e,["properties"],ie);const fe=a(t,["propertyOrdering"]);fe!=null&&u(e,["propertyOrdering"],fe);const ne=a(t,["required"]);ne!=null&&u(e,["required"],ne);const he=a(t,["title"]);he!=null&&u(e,["title"],he);const k=a(t,["type"]);return k!=null&&u(e,["type"],k),e}function Ex(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(t,["category"]);i!=null&&u(e,["category"],i);const s=a(t,["threshold"]);return s!=null&&u(e,["threshold"],s),e}function Cx(t){const e={},i=a(t,["behavior"]);i!=null&&u(e,["behavior"],i);const s=a(t,["description"]);s!=null&&u(e,["description"],s);const l=a(t,["name"]);l!=null&&u(e,["name"],l);const f=a(t,["parameters"]);f!=null&&u(e,["parameters"],f);const h=a(t,["parametersJsonSchema"]);h!=null&&u(e,["parametersJsonSchema"],h);const m=a(t,["response"]);m!=null&&u(e,["response"],m);const y=a(t,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function Ax(t){const e={},i=a(t,["startTime"]);i!=null&&u(e,["startTime"],i);const s=a(t,["endTime"]);return s!=null&&u(e,["endTime"],s),e}function wx(t){const e={},i=a(t,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],Ax(i)),e}function xx(t){const e={},i=a(t,["mode"]);i!=null&&u(e,["mode"],i);const s=a(t,["dynamicThreshold"]);return s!=null&&u(e,["dynamicThreshold"],s),e}function Rx(t){const e={},i=a(t,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],xx(i)),e}function Mx(){return{}}function bx(t){const e={},i=a(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(g=>Cx(g))),u(e,["functionDeclarations"],y)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=a(t,["googleSearch"]);s!=null&&u(e,["googleSearch"],wx(s));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&u(e,["googleSearchRetrieval"],Rx(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&u(e,["urlContext"],Mx());const h=a(t,["codeExecution"]);h!=null&&u(e,["codeExecution"],h);const m=a(t,["computerUse"]);return m!=null&&u(e,["computerUse"],m),e}function Ix(t){const e={},i=a(t,["mode"]);i!=null&&u(e,["mode"],i);const s=a(t,["allowedFunctionNames"]);return s!=null&&u(e,["allowedFunctionNames"],s),e}function Nx(t){const e={},i=a(t,["latitude"]);i!=null&&u(e,["latitude"],i);const s=a(t,["longitude"]);return s!=null&&u(e,["longitude"],s),e}function kx(t){const e={},i=a(t,["latLng"]);i!=null&&u(e,["latLng"],Nx(i));const s=a(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function Dx(t){const e={},i=a(t,["functionCallingConfig"]);i!=null&&u(e,["functionCallingConfig"],Ix(i));const s=a(t,["retrievalConfig"]);return s!=null&&u(e,["retrievalConfig"],kx(s)),e}function Ux(t){const e={},i=a(t,["voiceName"]);return i!=null&&u(e,["voiceName"],i),e}function C0(t){const e={},i=a(t,["prebuiltVoiceConfig"]);return i!=null&&u(e,["prebuiltVoiceConfig"],Ux(i)),e}function Lx(t){const e={},i=a(t,["speaker"]);i!=null&&u(e,["speaker"],i);const s=a(t,["voiceConfig"]);return s!=null&&u(e,["voiceConfig"],C0(s)),e}function Px(t){const e={},i=a(t,["speakerVoiceConfigs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Lx(l))),u(e,["speakerVoiceConfigs"],s)}return e}function Ox(t){const e={},i=a(t,["voiceConfig"]);i!=null&&u(e,["voiceConfig"],C0(i));const s=a(t,["multiSpeakerVoiceConfig"]);s!=null&&u(e,["multiSpeakerVoiceConfig"],Px(s));const l=a(t,["languageCode"]);return l!=null&&u(e,["languageCode"],l),e}function Vx(t){const e={},i=a(t,["includeThoughts"]);i!=null&&u(e,["includeThoughts"],i);const s=a(t,["thinkingBudget"]);return s!=null&&u(e,["thinkingBudget"],s),e}function Bx(t,e,i){const s={},l=a(e,["systemInstruction"]);i!==void 0&&l!=null&&u(i,["systemInstruction"],nc(Xt(l)));const f=a(e,["temperature"]);f!=null&&u(s,["temperature"],f);const h=a(e,["topP"]);h!=null&&u(s,["topP"],h);const m=a(e,["topK"]);m!=null&&u(s,["topK"],m);const y=a(e,["candidateCount"]);y!=null&&u(s,["candidateCount"],y);const g=a(e,["maxOutputTokens"]);g!=null&&u(s,["maxOutputTokens"],g);const T=a(e,["stopSequences"]);T!=null&&u(s,["stopSequences"],T);const E=a(e,["responseLogprobs"]);E!=null&&u(s,["responseLogprobs"],E);const A=a(e,["logprobs"]);A!=null&&u(s,["logprobs"],A);const I=a(e,["presencePenalty"]);I!=null&&u(s,["presencePenalty"],I);const L=a(e,["frequencyPenalty"]);L!=null&&u(s,["frequencyPenalty"],L);const F=a(e,["seed"]);F!=null&&u(s,["seed"],F);const Q=a(e,["responseMimeType"]);Q!=null&&u(s,["responseMimeType"],Q);const ae=a(e,["responseSchema"]);ae!=null&&u(s,["responseSchema"],Sx(Jd(ae)));const se=a(e,["responseJsonSchema"]);if(se!=null&&u(s,["responseJsonSchema"],se),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const ie=a(e,["safetySettings"]);if(i!==void 0&&ie!=null){let N=ie;Array.isArray(N)&&(N=N.map(B=>Ex(B))),u(i,["safetySettings"],N)}const fe=a(e,["tools"]);if(i!==void 0&&fe!=null){let N=kr(fe);Array.isArray(N)&&(N=N.map(B=>bx(Nr(B)))),u(i,["tools"],N)}const ne=a(e,["toolConfig"]);if(i!==void 0&&ne!=null&&u(i,["toolConfig"],Dx(ne)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const he=a(e,["cachedContent"]);i!==void 0&&he!=null&&u(i,["cachedContent"],eo(t,he));const k=a(e,["responseModalities"]);k!=null&&u(s,["responseModalities"],k);const b=a(e,["mediaResolution"]);b!=null&&u(s,["mediaResolution"],b);const R=a(e,["speechConfig"]);if(R!=null&&u(s,["speechConfig"],Ox(Kd(R))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=a(e,["thinkingConfig"]);return P!=null&&u(s,["thinkingConfig"],Vx(P)),s}function Ky(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","model"],Qe(t,s));const l=a(e,["contents"]);if(l!=null){let h=Hn(l);Array.isArray(h)&&(h=h.map(m=>nc(m))),u(i,["contents"],h)}const f=a(e,["config"]);return f!=null&&u(i,["generationConfig"],Bx(t,f,i)),i}function Hx(t,e){const i={},s=a(t,["taskType"]);e!==void 0&&s!=null&&u(e,["requests[]","taskType"],s);const l=a(t,["title"]);e!==void 0&&l!=null&&u(e,["requests[]","title"],l);const f=a(t,["outputDimensionality"]);if(e!==void 0&&f!=null&&u(e,["requests[]","outputDimensionality"],f),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Gx(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","model"],Qe(t,s));const l=a(e,["contents"]);l!=null&&u(i,["requests[]","content"],r0(t,l));const f=a(e,["config"]);f!=null&&u(i,["config"],Hx(f,i));const h=a(e,["model"]);return h!==void 0&&u(i,["requests[]","model"],Qe(t,h)),i}function qx(t,e){const i={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=a(t,["numberOfImages"]);e!==void 0&&s!=null&&u(e,["parameters","sampleCount"],s);const l=a(t,["aspectRatio"]);e!==void 0&&l!=null&&u(e,["parameters","aspectRatio"],l);const f=a(t,["guidanceScale"]);if(e!==void 0&&f!=null&&u(e,["parameters","guidanceScale"],f),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=a(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const m=a(t,["personGeneration"]);e!==void 0&&m!=null&&u(e,["parameters","personGeneration"],m);const y=a(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&u(e,["parameters","includeSafetyAttributes"],y);const g=a(t,["includeRaiReason"]);e!==void 0&&g!=null&&u(e,["parameters","includeRaiReason"],g);const T=a(t,["language"]);e!==void 0&&T!=null&&u(e,["parameters","language"],T);const E=a(t,["outputMimeType"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","mimeType"],E);const A=a(t,["outputCompressionQuality"]);if(e!==void 0&&A!=null&&u(e,["parameters","outputOptions","compressionQuality"],A),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const I=a(t,["imageSize"]);if(e!==void 0&&I!=null&&u(e,["parameters","sampleImageSize"],I),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function zx(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","model"],Qe(t,s));const l=a(e,["prompt"]);l!=null&&u(i,["instances[0]","prompt"],l);const f=a(e,["config"]);return f!=null&&u(i,["config"],qx(f,i)),i}function Fx(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","name"],Qe(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],l),i}function $x(t,e,i){const s={},l=a(e,["pageSize"]);i!==void 0&&l!=null&&u(i,["_query","pageSize"],l);const f=a(e,["pageToken"]);i!==void 0&&f!=null&&u(i,["_query","pageToken"],f);const h=a(e,["filter"]);i!==void 0&&h!=null&&u(i,["_query","filter"],h);const m=a(e,["queryBase"]);return i!==void 0&&m!=null&&u(i,["_url","models_url"],u0(t,m)),s}function Yx(t,e){const i={},s=a(e,["config"]);return s!=null&&u(i,["config"],$x(t,s,i)),i}function Jx(t,e){const i={},s=a(t,["displayName"]);e!==void 0&&s!=null&&u(e,["displayName"],s);const l=a(t,["description"]);e!==void 0&&l!=null&&u(e,["description"],l);const f=a(t,["defaultCheckpointId"]);return e!==void 0&&f!=null&&u(e,["defaultCheckpointId"],f),i}function Kx(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","name"],Qe(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],Jx(l,i)),i}function Xx(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","name"],Qe(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],l),i}function Qx(t){const e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Zx(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","model"],Qe(t,s));const l=a(e,["contents"]);if(l!=null){let h=Hn(l);Array.isArray(h)&&(h=h.map(m=>nc(m))),u(i,["contents"],h)}const f=a(e,["config"]);return f!=null&&u(i,["config"],Qx(f)),i}function Wx(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=a(t,["imageBytes"]);i!=null&&u(e,["bytesBase64Encoded"],Is(i));const s=a(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function jx(t,e){const i={},s=a(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&u(e,["parameters","sampleCount"],s),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=a(t,["durationSeconds"]);if(e!==void 0&&l!=null&&u(e,["parameters","durationSeconds"],l),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=a(t,["aspectRatio"]);if(e!==void 0&&f!=null&&u(e,["parameters","aspectRatio"],f),a(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const h=a(t,["personGeneration"]);if(e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=a(t,["negativePrompt"]);e!==void 0&&m!=null&&u(e,["parameters","negativePrompt"],m);const y=a(t,["enhancePrompt"]);if(e!==void 0&&y!=null&&u(e,["parameters","enhancePrompt"],y),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function e1(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","model"],Qe(t,s));const l=a(e,["prompt"]);l!=null&&u(i,["instances[0]","prompt"],l);const f=a(e,["image"]);if(f!=null&&u(i,["instances[0]","image"],Wx(f)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const h=a(e,["config"]);return h!=null&&u(i,["config"],jx(h,i)),i}function t1(t){const e={},i=a(t,["fps"]);i!=null&&u(e,["fps"],i);const s=a(t,["endOffset"]);s!=null&&u(e,["endOffset"],s);const l=a(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function n1(t){const e={},i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const s=a(t,["data"]);s!=null&&u(e,["data"],s);const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function i1(t){const e={},i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const s=a(t,["fileUri"]);s!=null&&u(e,["fileUri"],s);const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function o1(t){const e={},i=a(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],t1(i));const s=a(t,["thought"]);s!=null&&u(e,["thought"],s);const l=a(t,["inlineData"]);l!=null&&u(e,["inlineData"],n1(l));const f=a(t,["fileData"]);f!=null&&u(e,["fileData"],i1(f));const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=a(t,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=a(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=a(t,["functionCall"]);g!=null&&u(e,["functionCall"],g);const T=a(t,["functionResponse"]);T!=null&&u(e,["functionResponse"],T);const E=a(t,["text"]);return E!=null&&u(e,["text"],E),e}function Ur(t){const e={},i=a(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>o1(f))),u(e,["parts"],l)}const s=a(t,["role"]);return s!=null&&u(e,["role"],s),e}function s1(t){const e={},i=a(t,["anyOf"]);i!=null&&u(e,["anyOf"],i);const s=a(t,["default"]);s!=null&&u(e,["default"],s);const l=a(t,["description"]);l!=null&&u(e,["description"],l);const f=a(t,["enum"]);f!=null&&u(e,["enum"],f);const h=a(t,["example"]);h!=null&&u(e,["example"],h);const m=a(t,["format"]);m!=null&&u(e,["format"],m);const y=a(t,["items"]);y!=null&&u(e,["items"],y);const g=a(t,["maxItems"]);g!=null&&u(e,["maxItems"],g);const T=a(t,["maxLength"]);T!=null&&u(e,["maxLength"],T);const E=a(t,["maxProperties"]);E!=null&&u(e,["maxProperties"],E);const A=a(t,["maximum"]);A!=null&&u(e,["maximum"],A);const I=a(t,["minItems"]);I!=null&&u(e,["minItems"],I);const L=a(t,["minLength"]);L!=null&&u(e,["minLength"],L);const F=a(t,["minProperties"]);F!=null&&u(e,["minProperties"],F);const Q=a(t,["minimum"]);Q!=null&&u(e,["minimum"],Q);const ae=a(t,["nullable"]);ae!=null&&u(e,["nullable"],ae);const se=a(t,["pattern"]);se!=null&&u(e,["pattern"],se);const ie=a(t,["properties"]);ie!=null&&u(e,["properties"],ie);const fe=a(t,["propertyOrdering"]);fe!=null&&u(e,["propertyOrdering"],fe);const ne=a(t,["required"]);ne!=null&&u(e,["required"],ne);const he=a(t,["title"]);he!=null&&u(e,["title"],he);const k=a(t,["type"]);return k!=null&&u(e,["type"],k),e}function r1(t){const e={},i=a(t,["featureSelectionPreference"]);return i!=null&&u(e,["featureSelectionPreference"],i),e}function l1(t){const e={},i=a(t,["method"]);i!=null&&u(e,["method"],i);const s=a(t,["category"]);s!=null&&u(e,["category"],s);const l=a(t,["threshold"]);return l!=null&&u(e,["threshold"],l),e}function a1(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(t,["description"]);i!=null&&u(e,["description"],i);const s=a(t,["name"]);s!=null&&u(e,["name"],s);const l=a(t,["parameters"]);l!=null&&u(e,["parameters"],l);const f=a(t,["parametersJsonSchema"]);f!=null&&u(e,["parametersJsonSchema"],f);const h=a(t,["response"]);h!=null&&u(e,["response"],h);const m=a(t,["responseJsonSchema"]);return m!=null&&u(e,["responseJsonSchema"],m),e}function u1(t){const e={},i=a(t,["startTime"]);i!=null&&u(e,["startTime"],i);const s=a(t,["endTime"]);return s!=null&&u(e,["endTime"],s),e}function c1(t){const e={},i=a(t,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],u1(i)),e}function f1(t){const e={},i=a(t,["mode"]);i!=null&&u(e,["mode"],i);const s=a(t,["dynamicThreshold"]);return s!=null&&u(e,["dynamicThreshold"],s),e}function d1(t){const e={},i=a(t,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],f1(i)),e}function h1(){return{}}function p1(t){const e={},i=a(t,["apiKeyString"]);return i!=null&&u(e,["apiKeyString"],i),e}function m1(t){const e={},i=a(t,["apiKeyConfig"]);i!=null&&u(e,["apiKeyConfig"],p1(i));const s=a(t,["authType"]);s!=null&&u(e,["authType"],s);const l=a(t,["googleServiceAccountConfig"]);l!=null&&u(e,["googleServiceAccountConfig"],l);const f=a(t,["httpBasicAuthConfig"]);f!=null&&u(e,["httpBasicAuthConfig"],f);const h=a(t,["oauthConfig"]);h!=null&&u(e,["oauthConfig"],h);const m=a(t,["oidcConfig"]);return m!=null&&u(e,["oidcConfig"],m),e}function g1(t){const e={},i=a(t,["authConfig"]);return i!=null&&u(e,["authConfig"],m1(i)),e}function y1(){return{}}function A0(t){const e={},i=a(t,["functionDeclarations"]);if(i!=null){let E=i;Array.isArray(E)&&(E=E.map(A=>a1(A))),u(e,["functionDeclarations"],E)}const s=a(t,["retrieval"]);s!=null&&u(e,["retrieval"],s);const l=a(t,["googleSearch"]);l!=null&&u(e,["googleSearch"],c1(l));const f=a(t,["googleSearchRetrieval"]);f!=null&&u(e,["googleSearchRetrieval"],d1(f)),a(t,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],h1());const m=a(t,["googleMaps"]);m!=null&&u(e,["googleMaps"],g1(m)),a(t,["urlContext"])!=null&&u(e,["urlContext"],y1());const g=a(t,["codeExecution"]);g!=null&&u(e,["codeExecution"],g);const T=a(t,["computerUse"]);return T!=null&&u(e,["computerUse"],T),e}function v1(t){const e={},i=a(t,["mode"]);i!=null&&u(e,["mode"],i);const s=a(t,["allowedFunctionNames"]);return s!=null&&u(e,["allowedFunctionNames"],s),e}function T1(t){const e={},i=a(t,["latitude"]);i!=null&&u(e,["latitude"],i);const s=a(t,["longitude"]);return s!=null&&u(e,["longitude"],s),e}function _1(t){const e={},i=a(t,["latLng"]);i!=null&&u(e,["latLng"],T1(i));const s=a(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function S1(t){const e={},i=a(t,["functionCallingConfig"]);i!=null&&u(e,["functionCallingConfig"],v1(i));const s=a(t,["retrievalConfig"]);return s!=null&&u(e,["retrievalConfig"],_1(s)),e}function E1(t){const e={},i=a(t,["voiceName"]);return i!=null&&u(e,["voiceName"],i),e}function C1(t){const e={},i=a(t,["prebuiltVoiceConfig"]);return i!=null&&u(e,["prebuiltVoiceConfig"],E1(i)),e}function A1(t){const e={},i=a(t,["voiceConfig"]);if(i!=null&&u(e,["voiceConfig"],C1(i)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=a(t,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function w1(t){const e={},i=a(t,["includeThoughts"]);i!=null&&u(e,["includeThoughts"],i);const s=a(t,["thinkingBudget"]);return s!=null&&u(e,["thinkingBudget"],s),e}function x1(t,e,i){const s={},l=a(e,["systemInstruction"]);i!==void 0&&l!=null&&u(i,["systemInstruction"],Ur(Xt(l)));const f=a(e,["temperature"]);f!=null&&u(s,["temperature"],f);const h=a(e,["topP"]);h!=null&&u(s,["topP"],h);const m=a(e,["topK"]);m!=null&&u(s,["topK"],m);const y=a(e,["candidateCount"]);y!=null&&u(s,["candidateCount"],y);const g=a(e,["maxOutputTokens"]);g!=null&&u(s,["maxOutputTokens"],g);const T=a(e,["stopSequences"]);T!=null&&u(s,["stopSequences"],T);const E=a(e,["responseLogprobs"]);E!=null&&u(s,["responseLogprobs"],E);const A=a(e,["logprobs"]);A!=null&&u(s,["logprobs"],A);const I=a(e,["presencePenalty"]);I!=null&&u(s,["presencePenalty"],I);const L=a(e,["frequencyPenalty"]);L!=null&&u(s,["frequencyPenalty"],L);const F=a(e,["seed"]);F!=null&&u(s,["seed"],F);const Q=a(e,["responseMimeType"]);Q!=null&&u(s,["responseMimeType"],Q);const ae=a(e,["responseSchema"]);ae!=null&&u(s,["responseSchema"],s1(Jd(ae)));const se=a(e,["responseJsonSchema"]);se!=null&&u(s,["responseJsonSchema"],se);const ie=a(e,["routingConfig"]);ie!=null&&u(s,["routingConfig"],ie);const fe=a(e,["modelSelectionConfig"]);fe!=null&&u(s,["modelConfig"],r1(fe));const ne=a(e,["safetySettings"]);if(i!==void 0&&ne!=null){let Be=ne;Array.isArray(Be)&&(Be=Be.map(X=>l1(X))),u(i,["safetySettings"],Be)}const he=a(e,["tools"]);if(i!==void 0&&he!=null){let Be=kr(he);Array.isArray(Be)&&(Be=Be.map(X=>A0(Nr(X)))),u(i,["tools"],Be)}const k=a(e,["toolConfig"]);i!==void 0&&k!=null&&u(i,["toolConfig"],S1(k));const b=a(e,["labels"]);i!==void 0&&b!=null&&u(i,["labels"],b);const R=a(e,["cachedContent"]);i!==void 0&&R!=null&&u(i,["cachedContent"],eo(t,R));const P=a(e,["responseModalities"]);P!=null&&u(s,["responseModalities"],P);const N=a(e,["mediaResolution"]);N!=null&&u(s,["mediaResolution"],N);const B=a(e,["speechConfig"]);B!=null&&u(s,["speechConfig"],A1(Kd(B)));const U=a(e,["audioTimestamp"]);U!=null&&u(s,["audioTimestamp"],U);const at=a(e,["thinkingConfig"]);return at!=null&&u(s,["thinkingConfig"],w1(at)),s}function Xy(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","model"],Qe(t,s));const l=a(e,["contents"]);if(l!=null){let h=Hn(l);Array.isArray(h)&&(h=h.map(m=>Ur(m))),u(i,["contents"],h)}const f=a(e,["config"]);return f!=null&&u(i,["generationConfig"],x1(t,f,i)),i}function R1(t,e){const i={},s=a(t,["taskType"]);e!==void 0&&s!=null&&u(e,["instances[]","task_type"],s);const l=a(t,["title"]);e!==void 0&&l!=null&&u(e,["instances[]","title"],l);const f=a(t,["outputDimensionality"]);e!==void 0&&f!=null&&u(e,["parameters","outputDimensionality"],f);const h=a(t,["mimeType"]);e!==void 0&&h!=null&&u(e,["instances[]","mimeType"],h);const m=a(t,["autoTruncate"]);return e!==void 0&&m!=null&&u(e,["parameters","autoTruncate"],m),i}function M1(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","model"],Qe(t,s));const l=a(e,["contents"]);l!=null&&u(i,["instances[]","content"],r0(t,l));const f=a(e,["config"]);return f!=null&&u(i,["config"],R1(f,i)),i}function b1(t,e){const i={},s=a(t,["outputGcsUri"]);e!==void 0&&s!=null&&u(e,["parameters","storageUri"],s);const l=a(t,["negativePrompt"]);e!==void 0&&l!=null&&u(e,["parameters","negativePrompt"],l);const f=a(t,["numberOfImages"]);e!==void 0&&f!=null&&u(e,["parameters","sampleCount"],f);const h=a(t,["aspectRatio"]);e!==void 0&&h!=null&&u(e,["parameters","aspectRatio"],h);const m=a(t,["guidanceScale"]);e!==void 0&&m!=null&&u(e,["parameters","guidanceScale"],m);const y=a(t,["seed"]);e!==void 0&&y!=null&&u(e,["parameters","seed"],y);const g=a(t,["safetyFilterLevel"]);e!==void 0&&g!=null&&u(e,["parameters","safetySetting"],g);const T=a(t,["personGeneration"]);e!==void 0&&T!=null&&u(e,["parameters","personGeneration"],T);const E=a(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&u(e,["parameters","includeSafetyAttributes"],E);const A=a(t,["includeRaiReason"]);e!==void 0&&A!=null&&u(e,["parameters","includeRaiReason"],A);const I=a(t,["language"]);e!==void 0&&I!=null&&u(e,["parameters","language"],I);const L=a(t,["outputMimeType"]);e!==void 0&&L!=null&&u(e,["parameters","outputOptions","mimeType"],L);const F=a(t,["outputCompressionQuality"]);e!==void 0&&F!=null&&u(e,["parameters","outputOptions","compressionQuality"],F);const Q=a(t,["addWatermark"]);e!==void 0&&Q!=null&&u(e,["parameters","addWatermark"],Q);const ae=a(t,["imageSize"]);e!==void 0&&ae!=null&&u(e,["parameters","sampleImageSize"],ae);const se=a(t,["enhancePrompt"]);return e!==void 0&&se!=null&&u(e,["parameters","enhancePrompt"],se),i}function I1(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","model"],Qe(t,s));const l=a(e,["prompt"]);l!=null&&u(i,["instances[0]","prompt"],l);const f=a(e,["config"]);return f!=null&&u(i,["config"],b1(f,i)),i}function Lr(t){const e={},i=a(t,["gcsUri"]);i!=null&&u(e,["gcsUri"],i);const s=a(t,["imageBytes"]);s!=null&&u(e,["bytesBase64Encoded"],Is(s));const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function N1(t){const e={},i=a(t,["maskMode"]);i!=null&&u(e,["maskMode"],i);const s=a(t,["segmentationClasses"]);s!=null&&u(e,["maskClasses"],s);const l=a(t,["maskDilation"]);return l!=null&&u(e,["dilation"],l),e}function k1(t){const e={},i=a(t,["controlType"]);i!=null&&u(e,["controlType"],i);const s=a(t,["enableControlImageComputation"]);return s!=null&&u(e,["computeControl"],s),e}function D1(t){const e={},i=a(t,["styleDescription"]);return i!=null&&u(e,["styleDescription"],i),e}function U1(t){const e={},i=a(t,["subjectType"]);i!=null&&u(e,["subjectType"],i);const s=a(t,["subjectDescription"]);return s!=null&&u(e,["subjectDescription"],s),e}function L1(t){const e={},i=a(t,["referenceImage"]);i!=null&&u(e,["referenceImage"],Lr(i));const s=a(t,["referenceId"]);s!=null&&u(e,["referenceId"],s);const l=a(t,["referenceType"]);l!=null&&u(e,["referenceType"],l);const f=a(t,["maskImageConfig"]);f!=null&&u(e,["maskImageConfig"],N1(f));const h=a(t,["controlImageConfig"]);h!=null&&u(e,["controlImageConfig"],k1(h));const m=a(t,["styleImageConfig"]);m!=null&&u(e,["styleImageConfig"],D1(m));const y=a(t,["subjectImageConfig"]);return y!=null&&u(e,["subjectImageConfig"],U1(y)),e}function P1(t,e){const i={},s=a(t,["outputGcsUri"]);e!==void 0&&s!=null&&u(e,["parameters","storageUri"],s);const l=a(t,["negativePrompt"]);e!==void 0&&l!=null&&u(e,["parameters","negativePrompt"],l);const f=a(t,["numberOfImages"]);e!==void 0&&f!=null&&u(e,["parameters","sampleCount"],f);const h=a(t,["aspectRatio"]);e!==void 0&&h!=null&&u(e,["parameters","aspectRatio"],h);const m=a(t,["guidanceScale"]);e!==void 0&&m!=null&&u(e,["parameters","guidanceScale"],m);const y=a(t,["seed"]);e!==void 0&&y!=null&&u(e,["parameters","seed"],y);const g=a(t,["safetyFilterLevel"]);e!==void 0&&g!=null&&u(e,["parameters","safetySetting"],g);const T=a(t,["personGeneration"]);e!==void 0&&T!=null&&u(e,["parameters","personGeneration"],T);const E=a(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&u(e,["parameters","includeSafetyAttributes"],E);const A=a(t,["includeRaiReason"]);e!==void 0&&A!=null&&u(e,["parameters","includeRaiReason"],A);const I=a(t,["language"]);e!==void 0&&I!=null&&u(e,["parameters","language"],I);const L=a(t,["outputMimeType"]);e!==void 0&&L!=null&&u(e,["parameters","outputOptions","mimeType"],L);const F=a(t,["outputCompressionQuality"]);e!==void 0&&F!=null&&u(e,["parameters","outputOptions","compressionQuality"],F);const Q=a(t,["addWatermark"]);e!==void 0&&Q!=null&&u(e,["parameters","addWatermark"],Q);const ae=a(t,["editMode"]);e!==void 0&&ae!=null&&u(e,["parameters","editMode"],ae);const se=a(t,["baseSteps"]);return e!==void 0&&se!=null&&u(e,["parameters","editConfig","baseSteps"],se),i}function O1(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","model"],Qe(t,s));const l=a(e,["prompt"]);l!=null&&u(i,["instances[0]","prompt"],l);const f=a(e,["referenceImages"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>L1(y))),u(i,["instances[0]","referenceImages"],m)}const h=a(e,["config"]);return h!=null&&u(i,["config"],P1(h,i)),i}function V1(t,e){const i={},s=a(t,["includeRaiReason"]);e!==void 0&&s!=null&&u(e,["parameters","includeRaiReason"],s);const l=a(t,["outputMimeType"]);e!==void 0&&l!=null&&u(e,["parameters","outputOptions","mimeType"],l);const f=a(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&u(e,["parameters","outputOptions","compressionQuality"],f);const h=a(t,["enhanceInputImage"]);e!==void 0&&h!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],h);const m=a(t,["imagePreservationFactor"]);e!==void 0&&m!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const y=a(t,["numberOfImages"]);e!==void 0&&y!=null&&u(e,["parameters","sampleCount"],y);const g=a(t,["mode"]);return e!==void 0&&g!=null&&u(e,["parameters","mode"],g),i}function B1(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","model"],Qe(t,s));const l=a(e,["image"]);l!=null&&u(i,["instances[0]","image"],Lr(l));const f=a(e,["upscaleFactor"]);f!=null&&u(i,["parameters","upscaleConfig","upscaleFactor"],f);const h=a(e,["config"]);return h!=null&&u(i,["config"],V1(h,i)),i}function H1(t){const e={},i=a(t,["productImage"]);return i!=null&&u(e,["image"],Lr(i)),e}function G1(t,e){const i={},s=a(t,["prompt"]);e!==void 0&&s!=null&&u(e,["instances[0]","prompt"],s);const l=a(t,["personImage"]);e!==void 0&&l!=null&&u(e,["instances[0]","personImage","image"],Lr(l));const f=a(t,["productImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>H1(m))),u(e,["instances[0]","productImages"],h)}return i}function q1(t,e){const i={},s=a(t,["numberOfImages"]);e!==void 0&&s!=null&&u(e,["parameters","sampleCount"],s);const l=a(t,["baseSteps"]);e!==void 0&&l!=null&&u(e,["parameters","editConfig","baseSteps"],l);const f=a(t,["outputGcsUri"]);e!==void 0&&f!=null&&u(e,["parameters","storageUri"],f);const h=a(t,["seed"]);e!==void 0&&h!=null&&u(e,["parameters","seed"],h);const m=a(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const y=a(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const g=a(t,["outputMimeType"]);e!==void 0&&g!=null&&u(e,["parameters","outputOptions","mimeType"],g);const T=a(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&u(e,["parameters","outputOptions","compressionQuality"],T);const E=a(t,["enhancePrompt"]);return e!==void 0&&E!=null&&u(e,["parameters","enhancePrompt"],E),i}function z1(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","model"],Qe(t,s));const l=a(e,["source"]);l!=null&&u(i,["config"],G1(l,i));const f=a(e,["config"]);return f!=null&&u(i,["config"],q1(f,i)),i}function F1(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","name"],Qe(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],l),i}function $1(t,e,i){const s={},l=a(e,["pageSize"]);i!==void 0&&l!=null&&u(i,["_query","pageSize"],l);const f=a(e,["pageToken"]);i!==void 0&&f!=null&&u(i,["_query","pageToken"],f);const h=a(e,["filter"]);i!==void 0&&h!=null&&u(i,["_query","filter"],h);const m=a(e,["queryBase"]);return i!==void 0&&m!=null&&u(i,["_url","models_url"],u0(t,m)),s}function Y1(t,e){const i={},s=a(e,["config"]);return s!=null&&u(i,["config"],$1(t,s,i)),i}function J1(t,e){const i={},s=a(t,["displayName"]);e!==void 0&&s!=null&&u(e,["displayName"],s);const l=a(t,["description"]);e!==void 0&&l!=null&&u(e,["description"],l);const f=a(t,["defaultCheckpointId"]);return e!==void 0&&f!=null&&u(e,["defaultCheckpointId"],f),i}function K1(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","model"],Qe(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],J1(l,i)),i}function X1(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","name"],Qe(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],l),i}function Q1(t,e){const i={},s=a(t,["systemInstruction"]);e!==void 0&&s!=null&&u(e,["systemInstruction"],Ur(Xt(s)));const l=a(t,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(m=>A0(m))),u(e,["tools"],h)}const f=a(t,["generationConfig"]);return e!==void 0&&f!=null&&u(e,["generationConfig"],f),i}function Z1(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","model"],Qe(t,s));const l=a(e,["contents"]);if(l!=null){let h=Hn(l);Array.isArray(h)&&(h=h.map(m=>Ur(m))),u(i,["contents"],h)}const f=a(e,["config"]);return f!=null&&u(i,["config"],Q1(f,i)),i}function W1(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","model"],Qe(t,s));const l=a(e,["contents"]);if(l!=null){let h=Hn(l);Array.isArray(h)&&(h=h.map(m=>Ur(m))),u(i,["contents"],h)}const f=a(e,["config"]);return f!=null&&u(i,["config"],f),i}function j1(t){const e={},i=a(t,["uri"]);i!=null&&u(e,["gcsUri"],i);const s=a(t,["videoBytes"]);s!=null&&u(e,["bytesBase64Encoded"],Is(s));const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function eR(t,e){const i={},s=a(t,["numberOfVideos"]);e!==void 0&&s!=null&&u(e,["parameters","sampleCount"],s);const l=a(t,["outputGcsUri"]);e!==void 0&&l!=null&&u(e,["parameters","storageUri"],l);const f=a(t,["fps"]);e!==void 0&&f!=null&&u(e,["parameters","fps"],f);const h=a(t,["durationSeconds"]);e!==void 0&&h!=null&&u(e,["parameters","durationSeconds"],h);const m=a(t,["seed"]);e!==void 0&&m!=null&&u(e,["parameters","seed"],m);const y=a(t,["aspectRatio"]);e!==void 0&&y!=null&&u(e,["parameters","aspectRatio"],y);const g=a(t,["resolution"]);e!==void 0&&g!=null&&u(e,["parameters","resolution"],g);const T=a(t,["personGeneration"]);e!==void 0&&T!=null&&u(e,["parameters","personGeneration"],T);const E=a(t,["pubsubTopic"]);e!==void 0&&E!=null&&u(e,["parameters","pubsubTopic"],E);const A=a(t,["negativePrompt"]);e!==void 0&&A!=null&&u(e,["parameters","negativePrompt"],A);const I=a(t,["enhancePrompt"]);e!==void 0&&I!=null&&u(e,["parameters","enhancePrompt"],I);const L=a(t,["generateAudio"]);e!==void 0&&L!=null&&u(e,["parameters","generateAudio"],L);const F=a(t,["lastFrame"]);e!==void 0&&F!=null&&u(e,["instances[0]","lastFrame"],Lr(F));const Q=a(t,["compressionQuality"]);return e!==void 0&&Q!=null&&u(e,["parameters","compressionQuality"],Q),i}function tR(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["_url","model"],Qe(t,s));const l=a(e,["prompt"]);l!=null&&u(i,["instances[0]","prompt"],l);const f=a(e,["image"]);f!=null&&u(i,["instances[0]","image"],Lr(f));const h=a(e,["video"]);h!=null&&u(i,["instances[0]","video"],j1(h));const m=a(e,["config"]);return m!=null&&u(i,["config"],eR(m,i)),i}function nR(t){const e={},i=a(t,["fps"]);i!=null&&u(e,["fps"],i);const s=a(t,["endOffset"]);s!=null&&u(e,["endOffset"],s);const l=a(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function iR(t){const e={},i=a(t,["data"]);i!=null&&u(e,["data"],i);const s=a(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function oR(t){const e={},i=a(t,["fileUri"]);i!=null&&u(e,["fileUri"],i);const s=a(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function sR(t){const e={},i=a(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],nR(i));const s=a(t,["thought"]);s!=null&&u(e,["thought"],s);const l=a(t,["inlineData"]);l!=null&&u(e,["inlineData"],iR(l));const f=a(t,["fileData"]);f!=null&&u(e,["fileData"],oR(f));const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=a(t,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=a(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=a(t,["functionCall"]);g!=null&&u(e,["functionCall"],g);const T=a(t,["functionResponse"]);T!=null&&u(e,["functionResponse"],T);const E=a(t,["text"]);return E!=null&&u(e,["text"],E),e}function rR(t){const e={},i=a(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>sR(f))),u(e,["parts"],l)}const s=a(t,["role"]);return s!=null&&u(e,["role"],s),e}function lR(t){const e={},i=a(t,["citationSources"]);return i!=null&&u(e,["citations"],i),e}function aR(t){const e={},i=a(t,["retrievedUrl"]);i!=null&&u(e,["retrievedUrl"],i);const s=a(t,["urlRetrievalStatus"]);return s!=null&&u(e,["urlRetrievalStatus"],s),e}function uR(t){const e={},i=a(t,["urlMetadata"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>aR(l))),u(e,["urlMetadata"],s)}return e}function cR(t){const e={},i=a(t,["content"]);i!=null&&u(e,["content"],rR(i));const s=a(t,["citationMetadata"]);s!=null&&u(e,["citationMetadata"],lR(s));const l=a(t,["tokenCount"]);l!=null&&u(e,["tokenCount"],l);const f=a(t,["finishReason"]);f!=null&&u(e,["finishReason"],f);const h=a(t,["urlContextMetadata"]);h!=null&&u(e,["urlContextMetadata"],uR(h));const m=a(t,["avgLogprobs"]);m!=null&&u(e,["avgLogprobs"],m);const y=a(t,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const g=a(t,["index"]);g!=null&&u(e,["index"],g);const T=a(t,["logprobsResult"]);T!=null&&u(e,["logprobsResult"],T);const E=a(t,["safetyRatings"]);return E!=null&&u(e,["safetyRatings"],E),e}function Qy(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>cR(g))),u(e,["candidates"],y)}const l=a(t,["modelVersion"]);l!=null&&u(e,["modelVersion"],l);const f=a(t,["promptFeedback"]);f!=null&&u(e,["promptFeedback"],f);const h=a(t,["responseId"]);h!=null&&u(e,["responseId"],h);const m=a(t,["usageMetadata"]);return m!=null&&u(e,["usageMetadata"],m),e}function fR(t){const e={},i=a(t,["values"]);return i!=null&&u(e,["values"],i),e}function dR(){return{}}function hR(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["embeddings"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>fR(h))),u(e,["embeddings"],f)}return a(t,["metadata"])!=null&&u(e,["metadata"],dR()),e}function pR(t){const e={},i=a(t,["bytesBase64Encoded"]);i!=null&&u(e,["imageBytes"],Is(i));const s=a(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function w0(t){const e={},i=a(t,["safetyAttributes","categories"]);i!=null&&u(e,["categories"],i);const s=a(t,["safetyAttributes","scores"]);s!=null&&u(e,["scores"],s);const l=a(t,["contentType"]);return l!=null&&u(e,["contentType"],l),e}function mR(t){const e={},i=a(t,["_self"]);i!=null&&u(e,["image"],pR(i));const s=a(t,["raiFilteredReason"]);s!=null&&u(e,["raiFilteredReason"],s);const l=a(t,["_self"]);return l!=null&&u(e,["safetyAttributes"],w0(l)),e}function gR(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["predictions"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>mR(h))),u(e,["generatedImages"],f)}const l=a(t,["positivePromptSafetyAttributes"]);return l!=null&&u(e,["positivePromptSafetyAttributes"],w0(l)),e}function yR(t){const e={},i=a(t,["baseModel"]);i!=null&&u(e,["baseModel"],i);const s=a(t,["createTime"]);s!=null&&u(e,["createTime"],s);const l=a(t,["updateTime"]);return l!=null&&u(e,["updateTime"],l),e}function Id(t){const e={},i=a(t,["name"]);i!=null&&u(e,["name"],i);const s=a(t,["displayName"]);s!=null&&u(e,["displayName"],s);const l=a(t,["description"]);l!=null&&u(e,["description"],l);const f=a(t,["version"]);f!=null&&u(e,["version"],f);const h=a(t,["_self"]);h!=null&&u(e,["tunedModelInfo"],yR(h));const m=a(t,["inputTokenLimit"]);m!=null&&u(e,["inputTokenLimit"],m);const y=a(t,["outputTokenLimit"]);y!=null&&u(e,["outputTokenLimit"],y);const g=a(t,["supportedGenerationMethods"]);return g!=null&&u(e,["supportedActions"],g),e}function vR(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["nextPageToken"]);s!=null&&u(e,["nextPageToken"],s);const l=a(t,["_self"]);if(l!=null){let f=c0(l);Array.isArray(f)&&(f=f.map(h=>Id(h))),u(e,["models"],f)}return e}function TR(){return{}}function _R(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["totalTokens"]);s!=null&&u(e,["totalTokens"],s);const l=a(t,["cachedContentTokenCount"]);return l!=null&&u(e,["cachedContentTokenCount"],l),e}function SR(t){const e={},i=a(t,["video","uri"]);i!=null&&u(e,["uri"],i);const s=a(t,["video","encodedVideo"]);s!=null&&u(e,["videoBytes"],Is(s));const l=a(t,["encoding"]);return l!=null&&u(e,["mimeType"],l),e}function ER(t){const e={},i=a(t,["_self"]);return i!=null&&u(e,["video"],SR(i)),e}function CR(t){const e={},i=a(t,["generatedSamples"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>ER(h))),u(e,["generatedVideos"],f)}const s=a(t,["raiMediaFilteredCount"]);s!=null&&u(e,["raiMediaFilteredCount"],s);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&u(e,["raiMediaFilteredReasons"],l),e}function AR(t){const e={},i=a(t,["name"]);i!=null&&u(e,["name"],i);const s=a(t,["metadata"]);s!=null&&u(e,["metadata"],s);const l=a(t,["done"]);l!=null&&u(e,["done"],l);const f=a(t,["error"]);f!=null&&u(e,["error"],f);const h=a(t,["response","generateVideoResponse"]);return h!=null&&u(e,["response"],CR(h)),e}function wR(t){const e={},i=a(t,["fps"]);i!=null&&u(e,["fps"],i);const s=a(t,["endOffset"]);s!=null&&u(e,["endOffset"],s);const l=a(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function xR(t){const e={},i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const s=a(t,["data"]);s!=null&&u(e,["data"],s);const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function RR(t){const e={},i=a(t,["displayName"]);i!=null&&u(e,["displayName"],i);const s=a(t,["fileUri"]);s!=null&&u(e,["fileUri"],s);const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function MR(t){const e={},i=a(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],wR(i));const s=a(t,["thought"]);s!=null&&u(e,["thought"],s);const l=a(t,["inlineData"]);l!=null&&u(e,["inlineData"],xR(l));const f=a(t,["fileData"]);f!=null&&u(e,["fileData"],RR(f));const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=a(t,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=a(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=a(t,["functionCall"]);g!=null&&u(e,["functionCall"],g);const T=a(t,["functionResponse"]);T!=null&&u(e,["functionResponse"],T);const E=a(t,["text"]);return E!=null&&u(e,["text"],E),e}function bR(t){const e={},i=a(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>MR(f))),u(e,["parts"],l)}const s=a(t,["role"]);return s!=null&&u(e,["role"],s),e}function IR(t){const e={},i=a(t,["citations"]);return i!=null&&u(e,["citations"],i),e}function NR(t){const e={},i=a(t,["retrievedUrl"]);i!=null&&u(e,["retrievedUrl"],i);const s=a(t,["urlRetrievalStatus"]);return s!=null&&u(e,["urlRetrievalStatus"],s),e}function kR(t){const e={},i=a(t,["urlMetadata"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>NR(l))),u(e,["urlMetadata"],s)}return e}function DR(t){const e={},i=a(t,["content"]);i!=null&&u(e,["content"],bR(i));const s=a(t,["citationMetadata"]);s!=null&&u(e,["citationMetadata"],IR(s));const l=a(t,["finishMessage"]);l!=null&&u(e,["finishMessage"],l);const f=a(t,["finishReason"]);f!=null&&u(e,["finishReason"],f);const h=a(t,["urlContextMetadata"]);h!=null&&u(e,["urlContextMetadata"],kR(h));const m=a(t,["avgLogprobs"]);m!=null&&u(e,["avgLogprobs"],m);const y=a(t,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const g=a(t,["index"]);g!=null&&u(e,["index"],g);const T=a(t,["logprobsResult"]);T!=null&&u(e,["logprobsResult"],T);const E=a(t,["safetyRatings"]);return E!=null&&u(e,["safetyRatings"],E),e}function Zy(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(T=>DR(T))),u(e,["candidates"],g)}const l=a(t,["createTime"]);l!=null&&u(e,["createTime"],l);const f=a(t,["modelVersion"]);f!=null&&u(e,["modelVersion"],f);const h=a(t,["promptFeedback"]);h!=null&&u(e,["promptFeedback"],h);const m=a(t,["responseId"]);m!=null&&u(e,["responseId"],m);const y=a(t,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function UR(t){const e={},i=a(t,["truncated"]);i!=null&&u(e,["truncated"],i);const s=a(t,["token_count"]);return s!=null&&u(e,["tokenCount"],s),e}function LR(t){const e={},i=a(t,["values"]);i!=null&&u(e,["values"],i);const s=a(t,["statistics"]);return s!=null&&u(e,["statistics"],UR(s)),e}function PR(t){const e={},i=a(t,["billableCharacterCount"]);return i!=null&&u(e,["billableCharacterCount"],i),e}function OR(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["predictions[]","embeddings"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>LR(h))),u(e,["embeddings"],f)}const l=a(t,["metadata"]);return l!=null&&u(e,["metadata"],PR(l)),e}function VR(t){const e={},i=a(t,["gcsUri"]);i!=null&&u(e,["gcsUri"],i);const s=a(t,["bytesBase64Encoded"]);s!=null&&u(e,["imageBytes"],Is(s));const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function x0(t){const e={},i=a(t,["safetyAttributes","categories"]);i!=null&&u(e,["categories"],i);const s=a(t,["safetyAttributes","scores"]);s!=null&&u(e,["scores"],s);const l=a(t,["contentType"]);return l!=null&&u(e,["contentType"],l),e}function ic(t){const e={},i=a(t,["_self"]);i!=null&&u(e,["image"],VR(i));const s=a(t,["raiFilteredReason"]);s!=null&&u(e,["raiFilteredReason"],s);const l=a(t,["_self"]);l!=null&&u(e,["safetyAttributes"],x0(l));const f=a(t,["prompt"]);return f!=null&&u(e,["enhancedPrompt"],f),e}function BR(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["predictions"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>ic(h))),u(e,["generatedImages"],f)}const l=a(t,["positivePromptSafetyAttributes"]);return l!=null&&u(e,["positivePromptSafetyAttributes"],x0(l)),e}function HR(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(f=>ic(f))),u(e,["generatedImages"],l)}return e}function GR(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(f=>ic(f))),u(e,["generatedImages"],l)}return e}function qR(t){const e={},i=a(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>ic(l))),u(e,["generatedImages"],s)}return e}function zR(t){const e={},i=a(t,["endpoint"]);i!=null&&u(e,["name"],i);const s=a(t,["deployedModelId"]);return s!=null&&u(e,["deployedModelId"],s),e}function FR(t){const e={},i=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&u(e,["baseModel"],i);const s=a(t,["createTime"]);s!=null&&u(e,["createTime"],s);const l=a(t,["updateTime"]);return l!=null&&u(e,["updateTime"],l),e}function $R(t){const e={},i=a(t,["checkpointId"]);i!=null&&u(e,["checkpointId"],i);const s=a(t,["epoch"]);s!=null&&u(e,["epoch"],s);const l=a(t,["step"]);return l!=null&&u(e,["step"],l),e}function Nd(t){const e={},i=a(t,["name"]);i!=null&&u(e,["name"],i);const s=a(t,["displayName"]);s!=null&&u(e,["displayName"],s);const l=a(t,["description"]);l!=null&&u(e,["description"],l);const f=a(t,["versionId"]);f!=null&&u(e,["version"],f);const h=a(t,["deployedModels"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(A=>zR(A))),u(e,["endpoints"],E)}const m=a(t,["labels"]);m!=null&&u(e,["labels"],m);const y=a(t,["_self"]);y!=null&&u(e,["tunedModelInfo"],FR(y));const g=a(t,["defaultCheckpointId"]);g!=null&&u(e,["defaultCheckpointId"],g);const T=a(t,["checkpoints"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(A=>$R(A))),u(e,["checkpoints"],E)}return e}function YR(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["nextPageToken"]);s!=null&&u(e,["nextPageToken"],s);const l=a(t,["_self"]);if(l!=null){let f=c0(l);Array.isArray(f)&&(f=f.map(h=>Nd(h))),u(e,["models"],f)}return e}function JR(){return{}}function KR(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["totalTokens"]);return s!=null&&u(e,["totalTokens"],s),e}function XR(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["tokensInfo"]);return s!=null&&u(e,["tokensInfo"],s),e}function QR(t){const e={},i=a(t,["gcsUri"]);i!=null&&u(e,["uri"],i);const s=a(t,["bytesBase64Encoded"]);s!=null&&u(e,["videoBytes"],Is(s));const l=a(t,["mimeType"]);return l!=null&&u(e,["mimeType"],l),e}function ZR(t){const e={},i=a(t,["_self"]);return i!=null&&u(e,["video"],QR(i)),e}function WR(t){const e={},i=a(t,["videos"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>ZR(h))),u(e,["generatedVideos"],f)}const s=a(t,["raiMediaFilteredCount"]);s!=null&&u(e,["raiMediaFilteredCount"],s);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&u(e,["raiMediaFilteredReasons"],l),e}function jR(t){const e={},i=a(t,["name"]);i!=null&&u(e,["name"],i);const s=a(t,["metadata"]);s!=null&&u(e,["metadata"],s);const l=a(t,["done"]);l!=null&&u(e,["done"],l);const f=a(t,["error"]);f!=null&&u(e,["error"],f);const h=a(t,["response"]);return h!=null&&u(e,["response"],WR(h)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eM="Content-Type",tM="X-Server-Timeout",nM="User-Agent",kd="x-goog-api-client",iM="1.13.0",oM=`google-genai-sdk/${iM}`,sM="v1beta1",rM="v1beta",Wy=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class lM{constructor(e){var i,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:sM,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:rM,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,s){const l=[this.getRequestUrlInternal(i)];return s&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,i,s);if(e.queryParams)for(const[h,m]of Object.entries(e.queryParams))l.searchParams.append(h,String(m));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,i,e.abortSignal),this.unaryApiCall(l,f,e.httpMethod)}patchHttpOptions(e,i){const s=JSON.parse(JSON.stringify(e));for(const[l,f]of Object.entries(i))typeof f=="object"?s[l]=Object.assign(Object.assign({},s[l]),f):f!==void 0&&(s[l]=f);return s}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,i,s);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,i,e.abortSignal),this.streamApiCall(l,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,s){if(i&&i.timeout||s){const l=new AbortController,f=l.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const h=setTimeout(()=>l.abort(),i.timeout);h&&typeof h.unref=="function"&&h.unref()}s&&s.addEventListener("abort",()=>{l.abort()}),e.signal=f}return i&&i.extraBody!==null&&aM(e,i.extraBody),e.headers=await this.getHeadersInternal(i),e}async unaryApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async l=>(await jy(l),new Ad(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async l=>(await jy(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var i;return Ar(this,arguments,function*(){const l=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),f=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let h="";for(;;){const{done:m,value:y}=yield ht(l.read());if(m){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=f.decode(y,{stream:!0});try{const E=JSON.parse(g);if("error"in E){const A=JSON.parse(JSON.stringify(E.error)),I=A.status,L=A.code,F=`got status: ${I}. ${JSON.stringify(E)}`;if(L>=400&&L<600)throw new tc({message:F,status:L})}}catch(E){if(E.name==="ApiError")throw E}h+=g;let T=h.match(Wy);for(;T;){const E=T[1];try{const A=new Response(E,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ht(new Ad(A)),h=h.slice(T[0].length),T=h.match(Wy)}catch(A){throw new Error(`exception parsing stream chunk ${E}. ${A}`)}}}}finally{l.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},i=oM+" "+this.clientOptions.userAgentExtra;return e[nM]=i,e[kd]=i,e[eM]="application/json",e}async getHeadersInternal(e){const i=new Headers;if(e&&e.headers){for(const[s,l]of Object.entries(e.headers))i.append(s,l);e.timeout&&e.timeout>0&&i.append(tM,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i),i}async uploadFile(e,i){var s;const l={};i!=null&&(l.mimeType=i.mimeType,l.name=i.name,l.displayName=i.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const f=this.clientOptions.uploader,h=await f.stat(e);l.sizeBytes=String(h.size);const m=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:h.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=m;const y=await this.fetchUploadUrl(l,i);return f.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i){var s;let l={};i!=null&&i.httpOptions?l=i.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const f={file:e},h=await this.request({path:ye("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:l});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(s=h==null?void 0:h.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function jy(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=JSON.stringify(s);throw i>=400&&i<600?new tc({message:l,status:i}):new Error(l)}}function aM(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const f=JSON.parse(t.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))i=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(f,h){const m=Object.assign({},f);for(const y in h)if(Object.prototype.hasOwnProperty.call(h,y)){const g=h[y],T=m[y];g&&typeof g=="object"&&!Array.isArray(g)&&T&&typeof T=="object"&&!Array.isArray(T)?m[y]=s(T,g):(T&&g&&typeof T!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof T}, New type: ${typeof g}. Overwriting.`),m[y]=g)}return m}const l=s(i,e);t.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uM="mcp_used/unknown";let cM=!1;function R0(t){for(const e of t)if(fM(e)||typeof e=="object"&&"inputSchema"in e)return!0;return cM}function M0(t){var e;const i=(e=t[kd])!==null&&e!==void 0?e:"";t[kd]=(i+` ${uM}`).trimStart()}function fM(t){return t!==null&&typeof t=="object"&&t instanceof Qd}function dM(t,e=100){return Ar(this,arguments,function*(){let s,l=0;for(;l<e;){const f=yield ht(t.listTools({cursor:s}));for(const h of f.tools)yield yield ht(h),l++;if(!f.nextCursor)break;s=f.nextCursor}})}class Qd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Qd(e,i)}async initialize(){var e,i,s,l;if(this.mcpTools.length>0)return;const f={},h=[];for(const T of this.mcpClients)try{for(var m=!0,y=(i=void 0,$l(dM(T))),g;g=await y.next(),e=g.done,!e;m=!0){l=g.value,m=!1;const E=l;h.push(E);const A=E.name;if(f[A])throw new Error(`Duplicate function name ${A} found in MCP tools. Please ensure function names are unique.`);f[A]=T}}catch(E){i={error:E}}finally{try{!m&&!e&&(s=y.return)&&await s.call(y)}finally{if(i)throw i.error}}this.mcpTools=h,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),nE(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[s.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const h=await l.callTool({name:s.name,arguments:s.args},void 0,f);i.push({functionResponse:{name:s.name,response:h.isError?{error:h}:h}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function hM(t,e,i){const s=new KS;let l;i.data instanceof Blob?l=JSON.parse(await i.data.text()):l=JSON.parse(i.data);const f=nx(l);Object.assign(s,f),e(s)}class pM{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s}async connect(e){var i,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),h=yM(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),y=`${l}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${m}`;let g=()=>{};const T=new Promise(ie=>{g=ie}),E=e.callbacks,A=function(){g({})},I=this.apiClient,L={onopen:A,onmessage:ie=>{hM(I,E.onmessage,ie)},onerror:(i=E==null?void 0:E.onerror)!==null&&i!==void 0?i:function(ie){},onclose:(s=E==null?void 0:E.onclose)!==null&&s!==void 0?s:function(ie){}},F=this.webSocketFactory.create(y,gM(h),L);F.connect(),await T;const Q=Qe(this.apiClient,e.model),ae=S0({model:Q}),se=bd({setup:ae});return F.send(JSON.stringify(se)),new mM(F,this.apiClient)}}class mM{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=ew(e),s=E0(i);this.conn.send(JSON.stringify({clientContent:s}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=tw(e),s=bd(i);this.conn.send(JSON.stringify(s))}sendPlaybackControl(e){const i=bd({playbackControl:e});this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Er.PLAY)}pause(){this.sendPlaybackControl(Er.PAUSE)}stop(){this.sendPlaybackControl(Er.STOP)}resetContext(){this.sendPlaybackControl(Er.RESET_CONTEXT)}close(){this.conn.close()}}function gM(t){const e={};return t.forEach((i,s)=>{e[s]=i}),e}function yM(t){const e=new Headers;for(const[i,s]of Object.entries(t))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function TM(t,e,i){const s=new JS;let l;i.data instanceof Blob?l=await i.data.text():i.data instanceof ArrayBuffer?l=new TextDecoder().decode(i.data):l=i.data;const f=JSON.parse(l);if(t.isVertexAI()){const h=gx(f);Object.assign(s,h)}else{const h=Jw(f);Object.assign(s,h)}e(s)}class _M{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s,this.music=new pM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,s,l,f,h,m;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let T;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&R0(e.config.tools)&&M0(E);const A=AM(E);if(this.apiClient.isVertexAI())T=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(A);else{const R=this.apiClient.getApiKey();let P="BidiGenerateContent",N="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),P="BidiGenerateContentConstrained",N="access_token"),T=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${P}?${N}=${R}`}let I=()=>{};const L=new Promise(R=>{I=R}),F=e.callbacks,Q=function(){var R;(R=F==null?void 0:F.onopen)===null||R===void 0||R.call(F),I({})},ae=this.apiClient,se={onopen:Q,onmessage:R=>{TM(ae,F.onmessage,R)},onerror:(i=F==null?void 0:F.onerror)!==null&&i!==void 0?i:function(R){},onclose:(s=F==null?void 0:F.onclose)!==null&&s!==void 0?s:function(R){}},ie=this.webSocketFactory.create(T,CM(A),se);ie.connect(),await L;let fe=Qe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&fe.startsWith("publishers/")){const R=this.apiClient.getProject(),P=this.apiClient.getLocation();fe=`projects/${R}/locations/${P}/`+fe}let ne={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Gu.AUDIO]}:e.config.responseModalities=[Gu.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const he=(m=(h=e.config)===null||h===void 0?void 0:h.tools)!==null&&m!==void 0?m:[],k=[];for(const R of he)if(this.isCallableTool(R)){const P=R;k.push(await P.tool())}else k.push(R);k.length>0&&(e.config.tools=k);const b={model:fe,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ne=Mw(this.apiClient,b):ne=QA(this.apiClient,b),delete ne.config,ie.send(JSON.stringify(ne)),new EM(ie,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const SM={turnComplete:!0};class EM{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let s=[];try{s=Hn(i.turns),e.isVertexAI()?s=s.map(l=>Ur(l)):s=s.map(l=>nc(l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:s,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let s=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?s=i.functionResponses:s=[i.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const f of s){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(vM)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},SM),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:Nw(e)}:i={realtimeInput:jA(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function CM(t){const e={};return t.forEach((i,s)=>{e[s]=i}),e}function AM(t){const e=new Headers;for(const[i,s]of Object.entries(t))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ev=10;function tv(t){var e,i,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const h of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(wr(h)){l=!0;break}if(!l)return!0;const f=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function wr(t){return"callTool"in t&&typeof t.callTool=="function"}function wM(t){var e,i,s;return(s=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(l=>wr(l)))!==null&&s!==void 0?s:!1}function xM(t){var e,i,s;return(s=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(l=>!wr(l)))!==null&&s!==void 0?s:!1}function nv(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RM extends bs{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var s,l,f,h,m;const y=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!wM(i)||tv(i.config))return await this.generateContentInternal(y);if(xM(i))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let g,T;const E=Hn(y.contents),A=(f=(l=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&f!==void 0?f:ev;let I=0;for(;I<A&&(g=await this.generateContentInternal(y),!(!g.functionCalls||g.functionCalls.length===0));){const L=g.candidates[0].content,F=[];for(const Q of(m=(h=i.config)===null||h===void 0?void 0:h.tools)!==null&&m!==void 0?m:[])if(wr(Q)){const se=await Q.callTool(g.functionCalls);F.push(...se)}I++,T={role:"user",parts:F},y.contents=Hn(y.contents),y.contents.push(L),y.contents.push(T),nv(y.config)&&(E.push(L),E.push(T))}return nv(y.config)&&(g.automaticFunctionCallingHistory=E),g},this.generateContentStream=async i=>{if(this.maybeMoveToResponseJsonSchem(i),tv(i.config)){const s=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(s)}else return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(s=>{var l;let f;const h=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:h.push(y);let m;return f?m={generatedImages:h,positivePromptSafetyAttributes:f,sdkHttpResponse:s.sdkHttpResponse}:m={generatedImages:h,sdkHttpResponse:s.sdkHttpResponse},m}),this.list=async i=>{var s;const h={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((s=h.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new jl(ws.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(h),h)},this.editImage=async i=>{const s={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(s.referenceImages=i.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async i=>{let s={numberOfImages:1,mode:"upscale"};i.config&&(s=Object.assign(Object.assign({},s),i.config));const l={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:s};return await this.upscaleImageInternal(l)},this.generateVideos=async i=>await this.generateVideosInternal(i)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,s,l;const f=(i=e.config)===null||i===void 0?void 0:i.tools;if(!f)return e;const h=await Promise.all(f.map(async y=>wr(y)?await y.tool():y)),m={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:h})};if(m.config.tools=h,e.config&&e.config.tools&&R0(e.config.tools)){const y=(l=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&l!==void 0?l:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),M0(g),m.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return m}async initAfcToolsMap(e){var i,s,l;const f=new Map;for(const h of(s=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&s!==void 0?s:[])if(wr(h)){const m=h,y=await m.tool();for(const g of(l=y.functionDeclarations)!==null&&l!==void 0?l:[]){if(!g.name)throw new Error("Function declaration name is required.");if(f.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);f.set(g.name,m)}}return f}async processAfcStream(e){var i,s,l;const f=(l=(s=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&l!==void 0?l:ev;let h=!1,m=0;const y=await this.initAfcToolsMap(e);return function(g,T,E){var A,I;return Ar(this,arguments,function*(){for(var L,F,Q,ae;m<f;){h&&(m++,h=!1);const ne=yield ht(g.processParamsMaybeAddMcpUsage(E)),he=yield ht(g.generateContentStreamInternal(ne)),k=[],b=[];try{for(var se=!0,ie=(F=void 0,$l(he)),fe;fe=yield ht(ie.next()),L=fe.done,!L;se=!0){ae=fe.value,se=!1;const R=ae;if(yield yield ht(R),R.candidates&&(!((A=R.candidates[0])===null||A===void 0)&&A.content)){b.push(R.candidates[0].content);for(const P of(I=R.candidates[0].content.parts)!==null&&I!==void 0?I:[])if(m<f&&P.functionCall){if(!P.functionCall.name)throw new Error("Function call name was not returned by the model.");if(T.has(P.functionCall.name)){const N=yield ht(T.get(P.functionCall.name).callTool([P.functionCall]));k.push(...N)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${T.keys()}, mising tool: ${P.functionCall.name}`)}}}}catch(R){F={error:R}}finally{try{!se&&!L&&(Q=ie.return)&&(yield ht(Q.call(ie)))}finally{if(F)throw F.error}}if(k.length>0){h=!0;const R=new Hl;R.candidates=[{content:{role:"user",parts:k}}],yield yield ht(R);const P=[];P.push(...b),P.push({role:"user",parts:k});const N=Hn(E.contents).concat(P);E.contents=N}else break}})}(this,y,e)}async generateContentInternal(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=Xy(this.apiClient,e);return m=ye("{model}:generateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>{const E=Zy(T),A=new Hl;return Object.assign(A,E),A})}else{const g=Ky(this.apiClient,e);return m=ye("{model}:generateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>{const E=Qy(T),A=new Hl;return Object.assign(A,E),A})}}async generateContentStreamInternal(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=Xy(this.apiClient,e);return m=ye("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),h.then(function(E){return Ar(this,arguments,function*(){var A,I,L,F;try{for(var Q=!0,ae=$l(E),se;se=yield ht(ae.next()),A=se.done,!A;Q=!0){F=se.value,Q=!1;const ie=F,fe=Zy(yield ht(ie.json()));fe.sdkHttpResponse={headers:ie.headers};const ne=new Hl;Object.assign(ne,fe),yield yield ht(ne)}}catch(ie){I={error:ie}}finally{try{!Q&&!A&&(L=ae.return)&&(yield ht(L.call(ae)))}finally{if(I)throw I.error}}})})}else{const g=Ky(this.apiClient,e);return m=ye("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),h.then(function(E){return Ar(this,arguments,function*(){var A,I,L,F;try{for(var Q=!0,ae=$l(E),se;se=yield ht(ae.next()),A=se.done,!A;Q=!0){F=se.value,Q=!1;const ie=F,fe=Qy(yield ht(ie.json()));fe.sdkHttpResponse={headers:ie.headers};const ne=new Hl;Object.assign(ne,fe),yield yield ht(ne)}}catch(ie){I={error:ie}}finally{try{!Q&&!A&&(L=ae.return)&&(yield ht(L.call(ae)))}finally{if(I)throw I.error}}})})}}async embedContent(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=M1(this.apiClient,e);return m=ye("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>{const E=OR(T),A=new Ry;return Object.assign(A,E),A})}else{const g=Gx(this.apiClient,e);return m=ye("{model}:batchEmbedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>{const E=hR(T),A=new Ry;return Object.assign(A,E),A})}}async generateImagesInternal(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=I1(this.apiClient,e);return m=ye("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>{const E=BR(T),A=new My;return Object.assign(A,E),A})}else{const g=zx(this.apiClient,e);return m=ye("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>{const E=gR(T),A=new My;return Object.assign(A,E),A})}}async editImageInternal(e){var i,s;let l,f="",h={};if(this.apiClient.isVertexAI()){const m=O1(this.apiClient,e);return f=ye("{model}:predict",m._url),h=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:y.headers},T})),l.then(y=>{const g=HR(y),T=new HS;return Object.assign(T,g),T})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,s;let l,f="",h={};if(this.apiClient.isVertexAI()){const m=B1(this.apiClient,e);return f=ye("{model}:predict",m._url),h=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:y.headers},T})),l.then(y=>{const g=GR(y),T=new GS;return Object.assign(T,g),T})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,s;let l,f="",h={};if(this.apiClient.isVertexAI()){const m=z1(this.apiClient,e);return f=ye("{model}:predict",m._url),h=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const g=qR(y),T=new qS;return Object.assign(T,g),T})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=F1(this.apiClient,e);return m=ye("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),h.then(T=>Nd(T))}else{const g=Fx(this.apiClient,e);return m=ye("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h.then(T=>Id(T))}}async listInternal(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=Y1(this.apiClient,e);return m=ye("{models_url}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>{const E=YR(T),A=new by;return Object.assign(A,E),A})}else{const g=Yx(this.apiClient,e);return m=ye("{models_url}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>{const E=vR(T),A=new by;return Object.assign(A,E),A})}}async update(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=K1(this.apiClient,e);return m=ye("{model}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),h.then(T=>Nd(T))}else{const g=Kx(this.apiClient,e);return m=ye("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h.then(T=>Id(T))}}async delete(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=X1(this.apiClient,e);return m=ye("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),h.then(()=>{const T=JR(),E=new Iy;return Object.assign(E,T),E})}else{const g=Xx(this.apiClient,e);return m=ye("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h.then(()=>{const T=TR(),E=new Iy;return Object.assign(E,T),E})}}async countTokens(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=Z1(this.apiClient,e);return m=ye("{model}:countTokens",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>{const E=KR(T),A=new Ny;return Object.assign(A,E),A})}else{const g=Zx(this.apiClient,e);return m=ye("{model}:countTokens",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>{const E=_R(T),A=new Ny;return Object.assign(A,E),A})}}async computeTokens(e){var i,s;let l,f="",h={};if(this.apiClient.isVertexAI()){const m=W1(this.apiClient,e);return f=ye("{model}:computeTokens",m._url),h=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:y.headers},T})),l.then(y=>{const g=XR(y),T=new zS;return Object.assign(T,g),T})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=tR(this.apiClient,e);return m=ye("{model}:predictLongRunning",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),h.then(T=>{const E=jR(T),A=new qu;return Object.assign(A,E),A})}else{const g=e1(this.apiClient,e);return m=ye("{model}:predictLongRunning",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h.then(T=>{const E=AR(T),A=new qu;return Object.assign(A,E),A})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MM(t){const e={},i=a(t,["operationName"]);i!=null&&u(e,["_url","operationName"],i);const s=a(t,["config"]);return s!=null&&u(e,["config"],s),e}function bM(t){const e={},i=a(t,["operationName"]);i!=null&&u(e,["_url","operationName"],i);const s=a(t,["config"]);return s!=null&&u(e,["config"],s),e}function IM(t){const e={},i=a(t,["operationName"]);i!=null&&u(e,["operationName"],i);const s=a(t,["resourceName"]);s!=null&&u(e,["_url","resourceName"],s);const l=a(t,["config"]);return l!=null&&u(e,["config"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NM extends bs{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=i.name.split("/operations/")[0];let f;s&&"httpOptions"in s&&(f=s.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:l,config:{httpOptions:f}});return i._fromAPIResponse({apiResponse:h,isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:l,isVertexAI:!1})}}async get(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=i.name.split("/operations/")[0];let f;s&&"httpOptions"in s&&(f=s.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:l,config:{httpOptions:f}});return i._fromAPIResponse({apiResponse:h,isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:l,isVertexAI:!1})}}async getVideosOperationInternal(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=bM(e);return m=ye("{operationName}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),h}else{const g=MM(e);return m=ye("{operationName}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h}}async fetchPredictVideosOperationInternal(e){var i,s;let l,f="",h={};if(this.apiClient.isVertexAI()){const m=IM(e);return f=ye("{resourceName}:fetchPredictOperation",m._url),h=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kM(t){const e={},i=a(t,["voiceName"]);return i!=null&&u(e,["voiceName"],i),e}function b0(t){const e={},i=a(t,["prebuiltVoiceConfig"]);return i!=null&&u(e,["prebuiltVoiceConfig"],kM(i)),e}function DM(t){const e={},i=a(t,["speaker"]);i!=null&&u(e,["speaker"],i);const s=a(t,["voiceConfig"]);return s!=null&&u(e,["voiceConfig"],b0(s)),e}function UM(t){const e={},i=a(t,["speakerVoiceConfigs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>DM(l))),u(e,["speakerVoiceConfigs"],s)}return e}function LM(t){const e={},i=a(t,["voiceConfig"]);i!=null&&u(e,["voiceConfig"],b0(i));const s=a(t,["multiSpeakerVoiceConfig"]);s!=null&&u(e,["multiSpeakerVoiceConfig"],UM(s));const l=a(t,["languageCode"]);return l!=null&&u(e,["languageCode"],l),e}function PM(t){const e={},i=a(t,["fps"]);i!=null&&u(e,["fps"],i);const s=a(t,["endOffset"]);s!=null&&u(e,["endOffset"],s);const l=a(t,["startOffset"]);return l!=null&&u(e,["startOffset"],l),e}function OM(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["data"]);i!=null&&u(e,["data"],i);const s=a(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function VM(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["fileUri"]);i!=null&&u(e,["fileUri"],i);const s=a(t,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function BM(t){const e={},i=a(t,["videoMetadata"]);i!=null&&u(e,["videoMetadata"],PM(i));const s=a(t,["thought"]);s!=null&&u(e,["thought"],s);const l=a(t,["inlineData"]);l!=null&&u(e,["inlineData"],OM(l));const f=a(t,["fileData"]);f!=null&&u(e,["fileData"],VM(f));const h=a(t,["thoughtSignature"]);h!=null&&u(e,["thoughtSignature"],h);const m=a(t,["codeExecutionResult"]);m!=null&&u(e,["codeExecutionResult"],m);const y=a(t,["executableCode"]);y!=null&&u(e,["executableCode"],y);const g=a(t,["functionCall"]);g!=null&&u(e,["functionCall"],g);const T=a(t,["functionResponse"]);T!=null&&u(e,["functionResponse"],T);const E=a(t,["text"]);return E!=null&&u(e,["text"],E),e}function HM(t){const e={},i=a(t,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>BM(f))),u(e,["parts"],l)}const s=a(t,["role"]);return s!=null&&u(e,["role"],s),e}function GM(t){const e={},i=a(t,["behavior"]);i!=null&&u(e,["behavior"],i);const s=a(t,["description"]);s!=null&&u(e,["description"],s);const l=a(t,["name"]);l!=null&&u(e,["name"],l);const f=a(t,["parameters"]);f!=null&&u(e,["parameters"],f);const h=a(t,["parametersJsonSchema"]);h!=null&&u(e,["parametersJsonSchema"],h);const m=a(t,["response"]);m!=null&&u(e,["response"],m);const y=a(t,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function qM(t){const e={},i=a(t,["startTime"]);i!=null&&u(e,["startTime"],i);const s=a(t,["endTime"]);return s!=null&&u(e,["endTime"],s),e}function zM(t){const e={},i=a(t,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],qM(i)),e}function FM(t){const e={},i=a(t,["mode"]);i!=null&&u(e,["mode"],i);const s=a(t,["dynamicThreshold"]);return s!=null&&u(e,["dynamicThreshold"],s),e}function $M(t){const e={},i=a(t,["dynamicRetrievalConfig"]);return i!=null&&u(e,["dynamicRetrievalConfig"],FM(i)),e}function YM(){return{}}function JM(t){const e={},i=a(t,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(g=>GM(g))),u(e,["functionDeclarations"],y)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=a(t,["googleSearch"]);s!=null&&u(e,["googleSearch"],zM(s));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&u(e,["googleSearchRetrieval"],$M(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&u(e,["urlContext"],YM());const h=a(t,["codeExecution"]);h!=null&&u(e,["codeExecution"],h);const m=a(t,["computerUse"]);return m!=null&&u(e,["computerUse"],m),e}function KM(t){const e={},i=a(t,["handle"]);if(i!=null&&u(e,["handle"],i),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function iv(){return{}}function XM(t){const e={},i=a(t,["disabled"]);i!=null&&u(e,["disabled"],i);const s=a(t,["startOfSpeechSensitivity"]);s!=null&&u(e,["startOfSpeechSensitivity"],s);const l=a(t,["endOfSpeechSensitivity"]);l!=null&&u(e,["endOfSpeechSensitivity"],l);const f=a(t,["prefixPaddingMs"]);f!=null&&u(e,["prefixPaddingMs"],f);const h=a(t,["silenceDurationMs"]);return h!=null&&u(e,["silenceDurationMs"],h),e}function QM(t){const e={},i=a(t,["automaticActivityDetection"]);i!=null&&u(e,["automaticActivityDetection"],XM(i));const s=a(t,["activityHandling"]);s!=null&&u(e,["activityHandling"],s);const l=a(t,["turnCoverage"]);return l!=null&&u(e,["turnCoverage"],l),e}function ZM(t){const e={},i=a(t,["targetTokens"]);return i!=null&&u(e,["targetTokens"],i),e}function WM(t){const e={},i=a(t,["triggerTokens"]);i!=null&&u(e,["triggerTokens"],i);const s=a(t,["slidingWindow"]);return s!=null&&u(e,["slidingWindow"],ZM(s)),e}function jM(t){const e={},i=a(t,["proactiveAudio"]);return i!=null&&u(e,["proactiveAudio"],i),e}function eb(t,e){const i={},s=a(t,["generationConfig"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig"],s);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","responseModalities"],l);const f=a(t,["temperature"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","temperature"],f);const h=a(t,["topP"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topP"],h);const m=a(t,["topK"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topK"],m);const y=a(t,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const g=a(t,["mediaResolution"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","mediaResolution"],g);const T=a(t,["seed"]);e!==void 0&&T!=null&&u(e,["setup","generationConfig","seed"],T);const E=a(t,["speechConfig"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","speechConfig"],LM(Xd(E)));const A=a(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],A);const I=a(t,["systemInstruction"]);e!==void 0&&I!=null&&u(e,["setup","systemInstruction"],HM(Xt(I)));const L=a(t,["tools"]);if(e!==void 0&&L!=null){let ne=kr(L);Array.isArray(ne)&&(ne=ne.map(he=>JM(Nr(he)))),u(e,["setup","tools"],ne)}const F=a(t,["sessionResumption"]);e!==void 0&&F!=null&&u(e,["setup","sessionResumption"],KM(F));const Q=a(t,["inputAudioTranscription"]);e!==void 0&&Q!=null&&u(e,["setup","inputAudioTranscription"],iv());const ae=a(t,["outputAudioTranscription"]);e!==void 0&&ae!=null&&u(e,["setup","outputAudioTranscription"],iv());const se=a(t,["realtimeInputConfig"]);e!==void 0&&se!=null&&u(e,["setup","realtimeInputConfig"],QM(se));const ie=a(t,["contextWindowCompression"]);e!==void 0&&ie!=null&&u(e,["setup","contextWindowCompression"],WM(ie));const fe=a(t,["proactivity"]);return e!==void 0&&fe!=null&&u(e,["setup","proactivity"],jM(fe)),i}function tb(t,e){const i={},s=a(e,["model"]);s!=null&&u(i,["setup","model"],Qe(t,s));const l=a(e,["config"]);return l!=null&&u(i,["config"],eb(l,i)),i}function nb(t,e,i){const s={},l=a(e,["expireTime"]);i!==void 0&&l!=null&&u(i,["expireTime"],l);const f=a(e,["newSessionExpireTime"]);i!==void 0&&f!=null&&u(i,["newSessionExpireTime"],f);const h=a(e,["uses"]);i!==void 0&&h!=null&&u(i,["uses"],h);const m=a(e,["liveConnectConstraints"]);i!==void 0&&m!=null&&u(i,["bidiGenerateContentSetup"],tb(t,m));const y=a(e,["lockAdditionalFields"]);return i!==void 0&&y!=null&&u(i,["fieldMask"],y),s}function ib(t,e){const i={},s=a(e,["config"]);return s!=null&&u(i,["config"],nb(t,s,i)),i}function ob(t){const e={},i=a(t,["name"]);return i!=null&&u(e,["name"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sb(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const s=t[i];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const l=Object.keys(s).map(f=>`${i}.${f}`);e.push(...l)}else e.push(i)}return e.join(",")}function rb(t,e){let i=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const f=s.setup;typeof f=="object"&&f!==null?(t.bidiGenerateContentSetup=f,i=f):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const l=t.fieldMask;if(i){const f=sb(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)f?t.fieldMask=f:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let m=[];l.length>0&&(m=l.map(g=>h.includes(g)?`generationConfig.${g}`:g));const y=[];f&&y.push(f),m.length>0&&y.push(...m),y.length>0?t.fieldMask=y.join(","):delete t.fieldMask}else delete t.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?t.fieldMask=l.join(","):delete t.fieldMask;return t}class lb extends bs{constructor(e){super(),this.apiClient=e}async create(e){var i,s;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const m=ib(this.apiClient,e);f=ye("auth_tokens",m._url),h=m._query,delete m.config,delete m._url,delete m._query;const y=rb(m,e.config);return l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>ob(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ab(t){const e={},i=a(t,["name"]);i!=null&&u(e,["_url","name"],i);const s=a(t,["config"]);return s!=null&&u(e,["config"],s),e}function ub(t,e){const i={},s=a(t,["pageSize"]);e!==void 0&&s!=null&&u(e,["_query","pageSize"],s);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&u(e,["_query","pageToken"],l);const f=a(t,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),i}function cb(t){const e={},i=a(t,["config"]);return i!=null&&u(e,["config"],ub(i,e)),e}function fb(t){const e={},i=a(t,["textInput"]);i!=null&&u(e,["textInput"],i);const s=a(t,["output"]);return s!=null&&u(e,["output"],s),e}function db(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=a(t,["examples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>fb(l))),u(e,["examples","examples"],s)}return e}function hb(t,e){const i={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=a(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&u(e,["displayName"],s),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=a(t,["epochCount"]);e!==void 0&&l!=null&&u(e,["tuningTask","hyperparameters","epochCount"],l);const f=a(t,["learningRateMultiplier"]);if(f!=null&&u(i,["tuningTask","hyperparameters","learningRateMultiplier"],f),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=a(t,["batchSize"]);e!==void 0&&h!=null&&u(e,["tuningTask","hyperparameters","batchSize"],h);const m=a(t,["learningRate"]);return e!==void 0&&m!=null&&u(e,["tuningTask","hyperparameters","learningRate"],m),i}function pb(t){const e={},i=a(t,["baseModel"]);i!=null&&u(e,["baseModel"],i);const s=a(t,["trainingDataset"]);s!=null&&u(e,["tuningTask","trainingData"],db(s));const l=a(t,["config"]);return l!=null&&u(e,["config"],hb(l,e)),e}function mb(t){const e={},i=a(t,["name"]);i!=null&&u(e,["_url","name"],i);const s=a(t,["config"]);return s!=null&&u(e,["config"],s),e}function gb(t,e){const i={},s=a(t,["pageSize"]);e!==void 0&&s!=null&&u(e,["_query","pageSize"],s);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&u(e,["_query","pageToken"],l);const f=a(t,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),i}function yb(t){const e={},i=a(t,["config"]);return i!=null&&u(e,["config"],gb(i,e)),e}function vb(t,e){const i={},s=a(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s);const l=a(t,["vertexDatasetResource"]);if(e!==void 0&&l!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],l),a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Tb(t,e){const i={},s=a(t,["gcsUri"]);s!=null&&u(i,["validationDatasetUri"],s);const l=a(t,["vertexDatasetResource"]);return e!==void 0&&l!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],l),i}function _b(t,e){const i={},s=a(t,["validationDataset"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec"],Tb(s,i));const l=a(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&u(e,["tunedModelDisplayName"],l);const f=a(t,["description"]);e!==void 0&&f!=null&&u(e,["description"],f);const h=a(t,["epochCount"]);e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],h);const m=a(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m);const y=a(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const g=a(t,["adapterSize"]);if(e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g),a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function Sb(t){const e={},i=a(t,["baseModel"]);i!=null&&u(e,["baseModel"],i);const s=a(t,["trainingDataset"]);s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],vb(s,e));const l=a(t,["config"]);return l!=null&&u(e,["config"],_b(l,e)),e}function Eb(t){const e={},i=a(t,["name"]);i!=null&&u(e,["model"],i);const s=a(t,["name"]);return s!=null&&u(e,["endpoint"],s),e}function I0(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["name"]);s!=null&&u(e,["name"],s);const l=a(t,["state"]);l!=null&&u(e,["state"],l0(l));const f=a(t,["createTime"]);f!=null&&u(e,["createTime"],f);const h=a(t,["tuningTask","startTime"]);h!=null&&u(e,["startTime"],h);const m=a(t,["tuningTask","completeTime"]);m!=null&&u(e,["endTime"],m);const y=a(t,["updateTime"]);y!=null&&u(e,["updateTime"],y);const g=a(t,["description"]);g!=null&&u(e,["description"],g);const T=a(t,["baseModel"]);T!=null&&u(e,["baseModel"],T);const E=a(t,["_self"]);E!=null&&u(e,["tunedModel"],Eb(E));const A=a(t,["distillationSpec"]);A!=null&&u(e,["distillationSpec"],A);const I=a(t,["experiment"]);I!=null&&u(e,["experiment"],I);const L=a(t,["labels"]);L!=null&&u(e,["labels"],L);const F=a(t,["pipelineJob"]);F!=null&&u(e,["pipelineJob"],F);const Q=a(t,["satisfiesPzi"]);Q!=null&&u(e,["satisfiesPzi"],Q);const ae=a(t,["satisfiesPzs"]);ae!=null&&u(e,["satisfiesPzs"],ae);const se=a(t,["serviceAccount"]);se!=null&&u(e,["serviceAccount"],se);const ie=a(t,["tunedModelDisplayName"]);return ie!=null&&u(e,["tunedModelDisplayName"],ie),e}function Cb(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["nextPageToken"]);s!=null&&u(e,["nextPageToken"],s);const l=a(t,["tunedModels"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>I0(h))),u(e,["tuningJobs"],f)}return e}function Ab(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["name"]);s!=null&&u(e,["name"],s);const l=a(t,["metadata"]);l!=null&&u(e,["metadata"],l);const f=a(t,["done"]);f!=null&&u(e,["done"],f);const h=a(t,["error"]);return h!=null&&u(e,["error"],h),e}function wb(t){const e={},i=a(t,["checkpointId"]);i!=null&&u(e,["checkpointId"],i);const s=a(t,["epoch"]);s!=null&&u(e,["epoch"],s);const l=a(t,["step"]);l!=null&&u(e,["step"],l);const f=a(t,["endpoint"]);return f!=null&&u(e,["endpoint"],f),e}function xb(t){const e={},i=a(t,["model"]);i!=null&&u(e,["model"],i);const s=a(t,["endpoint"]);s!=null&&u(e,["endpoint"],s);const l=a(t,["checkpoints"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>wb(h))),u(e,["checkpoints"],f)}return e}function Dd(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["name"]);s!=null&&u(e,["name"],s);const l=a(t,["state"]);l!=null&&u(e,["state"],l0(l));const f=a(t,["createTime"]);f!=null&&u(e,["createTime"],f);const h=a(t,["startTime"]);h!=null&&u(e,["startTime"],h);const m=a(t,["endTime"]);m!=null&&u(e,["endTime"],m);const y=a(t,["updateTime"]);y!=null&&u(e,["updateTime"],y);const g=a(t,["error"]);g!=null&&u(e,["error"],g);const T=a(t,["description"]);T!=null&&u(e,["description"],T);const E=a(t,["baseModel"]);E!=null&&u(e,["baseModel"],E);const A=a(t,["tunedModel"]);A!=null&&u(e,["tunedModel"],xb(A));const I=a(t,["supervisedTuningSpec"]);I!=null&&u(e,["supervisedTuningSpec"],I);const L=a(t,["tuningDataStats"]);L!=null&&u(e,["tuningDataStats"],L);const F=a(t,["encryptionSpec"]);F!=null&&u(e,["encryptionSpec"],F);const Q=a(t,["partnerModelTuningSpec"]);Q!=null&&u(e,["partnerModelTuningSpec"],Q);const ae=a(t,["distillationSpec"]);ae!=null&&u(e,["distillationSpec"],ae);const se=a(t,["experiment"]);se!=null&&u(e,["experiment"],se);const ie=a(t,["labels"]);ie!=null&&u(e,["labels"],ie);const fe=a(t,["pipelineJob"]);fe!=null&&u(e,["pipelineJob"],fe);const ne=a(t,["satisfiesPzi"]);ne!=null&&u(e,["satisfiesPzi"],ne);const he=a(t,["satisfiesPzs"]);he!=null&&u(e,["satisfiesPzs"],he);const k=a(t,["serviceAccount"]);k!=null&&u(e,["serviceAccount"],k);const b=a(t,["tunedModelDisplayName"]);return b!=null&&u(e,["tunedModelDisplayName"],b),e}function Rb(t){const e={},i=a(t,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const s=a(t,["nextPageToken"]);s!=null&&u(e,["nextPageToken"],s);const l=a(t,["tuningJobs"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Dd(h))),u(e,["tuningJobs"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mb extends bs{constructor(e){super(),this.apiClient=e,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new jl(ws.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.tune=async i=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(i);{const s=await this.tuneMldevInternal(i);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:Cd.JOB_STATE_QUEUED}}}}async getInternal(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=mb(e);return m=ye("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>Dd(T))}else{const g=ab(e);return m=ye("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>I0(T))}}async listInternal(e){var i,s,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const g=yb(e);return m=ye("tuningJobs",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>{const E=Rb(T),A=new Dy;return Object.assign(A,E),A})}else{const g=cb(e);return m=ye("tunedModels",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:T.headers},A})),h.then(T=>{const E=Cb(T),A=new Dy;return Object.assign(A,E),A})}}async tuneInternal(e){var i,s;let l,f="",h={};if(this.apiClient.isVertexAI()){const m=Sb(e);return f=ye("tuningJobs",m._url),h=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:y.headers},T})),l.then(y=>Dd(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,s;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=pb(e);return f=ye("tunedModels",m._url),h=m._query,delete m.config,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:y.headers},T})),l.then(y=>Ab(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bb{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Ib=1024*1024*8,Nb=3,kb=1e3,Db=2,dd="x-goog-upload-status";async function Ub(t,e,i){var s,l,f;let h=0,m=0,y=new Ad(new Response),g="upload";for(h=t.size;m<h;){const E=Math.min(Ib,h-m),A=t.slice(m,m+E);m+E>=h&&(g+=", finalize");let I=0,L=kb;for(;I<Nb&&(y=await i.request({path:"",body:A,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(m),"Content-Length":String(E)}}}),!(!((s=y==null?void 0:y.headers)===null||s===void 0)&&s[dd]));)I++,await Pb(L),L=L*Db;if(m+=E,((l=y==null?void 0:y.headers)===null||l===void 0?void 0:l[dd])!=="active")break;if(h<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const T=await(y==null?void 0:y.json());if(((f=y==null?void 0:y.headers)===null||f===void 0?void 0:f[dd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return T.file}async function Lb(t){return{size:t.size,type:t.type}}function Pb(t){return new Promise(e=>setTimeout(e,t))}class Ob{async upload(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ub(e,i,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Lb(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vb{create(e,i,s){return new Bb(e,i,s)}}class Bb{constructor(e,i,s){this.url=e,this.headers=i,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ov="x-goog-api-key";class Hb{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(ov)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ov,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gb="gl-node/";class qb{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const s=BS(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion;const l=new Hb(this.apiKey);this.apiClient=new lM({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Gb+"web",uploader:new Ob,downloader:new bb}),this.models=new RM(this.apiClient),this.live=new _M(this.apiClient,l,new Vb),this.batches=new uC(this.apiClient),this.chats=new hA(this.models,this.apiClient),this.caches=new cA(this.apiClient),this.files=new xA(this.apiClient),this.operations=new NM(this.apiClient),this.authTokens=new lb(this.apiClient),this.tunings=new Mb(this.apiClient)}}let dn=null;const zb=t=>{if(!t||!t.startsWith("AIza"))return dn&&(dn=null),!1;try{return dn=new qb({apiKey:t}),!0}catch(e){return console.error("Failed to initialize GoogleGenAI with provided key:",e),dn=null,!1}},bu=()=>!!dn,Fb=async(t,e)=>{var i,s;if(!dn)throw new Error("Gemini AI SDK not initialized or API key is invalid. Please configure it in settings.");try{const l=await dn.models.generateContent({model:e0,contents:[{role:"user",parts:[{text:t}]}],config:{systemInstruction:{role:"system",parts:[{text:e}]},temperature:.8,maxOutputTokens:2048,safetySettings:[{category:mi.HARM_CATEGORY_HARASSMENT,threshold:gi.BLOCK_MEDIUM_AND_ABOVE},{category:mi.HARM_CATEGORY_HATE_SPEECH,threshold:gi.BLOCK_MEDIUM_AND_ABOVE},{category:mi.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:gi.BLOCK_MEDIUM_AND_ABOVE},{category:mi.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:gi.BLOCK_MEDIUM_AND_ABOVE}]}}),f=l.text;if(typeof f=="string")return f;{if(console.error("Gemini API response.text was not a string. Full response:",JSON.stringify(l,null,2)),(i=l==null?void 0:l.promptFeedback)!=null&&i.blockReason)throw new Error(`Prompt was blocked. Reason: ${l.promptFeedback.blockReason}${l.promptFeedback.blockReasonMessage?" - "+l.promptFeedback.blockReasonMessage:""}`);const h=(s=l==null?void 0:l.candidates)==null?void 0:s[0];if((h==null?void 0:h.finishReason)==="SAFETY"){const m=h.safetyRatings;let y=m==null?void 0:m.filter(g=>g.probability!=="NEGLIGIBLE"&&g.probability!=="LOW").map(g=>g.category.replace("HARM_CATEGORY_","")).join(", ");throw new Error(`Response blocked by safety filters. Categories: ${y||"Content policy"}.`)}throw(h==null?void 0:h.finishReason)==="OTHER"||(h==null?void 0:h.finishReason)==="RECITATION"||!h?new Error(`Gemini API returned an empty or malformed response. Reason: ${(h==null?void 0:h.finishReason)||"Unknown/No Candidate"}.`):new Error("Gemini API returned an invalid or unexpected text response structure.")}}catch(l){console.error("Error calling Gemini API (non-streaming):",l);const f=l instanceof Error?l.message:String(l);throw f.includes("API key not valid")||f.includes("API_KEY_INVALID")||f.includes("permission_denied")?new Error("The provided Gemini API key is invalid or lacks permissions. Please check it in settings."):l}};async function*sv(t,e,i){var l,f;if(!dn)throw new Error("Gemini AI SDK not initialized. Please configure it in settings.");const s=[];i&&i.length>0&&s.push(...i),s.push({text:t});try{const h=await dn.models.generateContentStream({model:e0,contents:[{role:"user",parts:s}],config:{systemInstruction:{role:"system",parts:[{text:e}]},temperature:.8,maxOutputTokens:2048,safetySettings:[{category:mi.HARM_CATEGORY_HARASSMENT,threshold:gi.BLOCK_MEDIUM_AND_ABOVE},{category:mi.HARM_CATEGORY_HATE_SPEECH,threshold:gi.BLOCK_MEDIUM_AND_ABOVE},{category:mi.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:gi.BLOCK_MEDIUM_AND_ABOVE},{category:mi.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:gi.BLOCK_MEDIUM_AND_ABOVE}]}});for await(const m of h){if((l=m==null?void 0:m.promptFeedback)!=null&&l.blockReason)throw new Error(`Stream blocked by Gemini. Reason: ${m.promptFeedback.blockReason}${m.promptFeedback.blockReasonMessage?" - "+m.promptFeedback.blockReasonMessage:""}.`);const y=(f=m==null?void 0:m.candidates)==null?void 0:f[0];if((y==null?void 0:y.finishReason)==="SAFETY"){const g=y.safetyRatings;let T=g==null?void 0:g.filter(E=>E.probability!=="NEGLIGIBLE"&&E.probability!=="LOW").map(E=>E.category.replace("HARM_CATEGORY_","")).join(", ");throw new Error(`Stream ended by Gemini's safety filters. Categories: ${T||"Content policy"}.`)}if(!m.text&&((y==null?void 0:y.finishReason)==="OTHER"||(y==null?void 0:y.finishReason)==="RECITATION"))throw new Error(`Gemini stream ended unexpectedly or provided empty content. Reason: ${y==null?void 0:y.finishReason}.`);yield m}}catch(h){console.error("Error during Gemini API stream:",h);const m=h instanceof Error?h.message:String(h);throw m.includes("API key not valid")||m.includes("API_KEY_INVALID")||m.includes("permission_denied")?new Error("The provided Gemini API key is invalid or lacks permissions. Please check it in settings."):new Error(`Gemini API streaming error: ${m}`)}}const $b=async t=>{if(!dn)throw new Error("Gemini AI SDK not initialized.");try{return await dn.models.generateImages({model:"imagen-3.0-generate-002",prompt:t})}catch(e){throw console.error("Error calling Imagen API:",e),e}},Yb=async(t,e)=>{if(!dn)throw new Error("Gemini AI SDK not initialized.");try{let i=await dn.models.generateVideos({model:"veo-3.0-generate-preview",prompt:t,image:e});for(;!i.done;)await new Promise(s=>setTimeout(s,1e4)),i=await dn.operations.get(i);return i.response.generatedVideos[0]}catch(i){throw console.error("Error calling Veo API:",i),i}};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kb=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),rv=t=>{const e=Kb(t);return e.charAt(0).toUpperCase()+e.slice(1)},N0=(...t)=>t.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),Xb=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=ge.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:f,iconNode:h,...m},y)=>ge.createElement("svg",{ref:y,...Qb,width:e,height:e,stroke:t,strokeWidth:s?Number(i)*24/Number(e):i,className:N0("lucide",l),...!f&&!Xb(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,T])=>ge.createElement(g,T)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(t,e)=>{const i=ge.forwardRef(({className:s,...l},f)=>ge.createElement(Zb,{ref:f,iconNode:e,className:N0(`lucide-${Jb(rv(t))}`,`lucide-${t}`,s),...l}));return i.displayName=rv(t),i};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],k0=nt("bot",Wb);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],D0=nt("camera",jb);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],tI=nt("check",eI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],iI=nt("chevron-up",nI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],sI=nt("circle-x",oI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],lI=nt("copy",rI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],uI=nt("download",aI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"M10 11h.01",key:"d2at3l"}],["path",{d:"M14 6h.01",key:"k028ub"}],["path",{d:"M18 6h.01",key:"1v4wsw"}],["path",{d:"M6.5 13.1h.01",key:"1748ia"}],["path",{d:"M22 5c0 9-4 12-6 12s-6-3-6-12c0-2 2-3 6-3s6 1 6 3",key:"172yzv"}],["path",{d:"M17.4 9.9c-.8.8-2 .8-2.8 0",key:"1obv0w"}],["path",{d:"M10.1 7.1C9 7.2 7.7 7.7 6 8.6c-3.5 2-4.7 3.9-3.7 5.6 4.5 7.8 9.5 8.4 11.2 7.4.9-.5 1.9-2.1 1.9-4.7",key:"rqjl8i"}],["path",{d:"M9.1 16.5c.3-1.1 1.4-1.7 2.4-1.4",key:"1mr6wy"}]],U0=nt("drama",cI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dI=nt("eye",fI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],pI=nt("folder-open",hI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],gI=nt("image-off",mI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],vI=nt("library",yI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_I=nt("loader-circle",TI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],L0=nt("moon",SI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],CI=nt("pencil",EI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wI=nt("plus",AI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],RI=nt("scan-line",xI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],bI=nt("search",MI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],NI=nt("send-horizontal",II);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],P0=nt("settings",kI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],UI=nt("share-2",DI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],O0=nt("sparkles",LI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],V0=nt("sun",PI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],B0=nt("trash-2",OI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],BI=nt("triangle-alert",VI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],GI=nt("user",HI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],zI=nt("video",qI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],H0=nt("volume-2",FI);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],G0=nt("volume-x",$I),YI=({theme:t,selectedAI:e,imageStyle:i,apiKeys:s,apiStatus:l,darkMode:f,soundEnabled:h,setSelectedAI:m,setImageStyle:y,updateApiKey:g,toggleDarkMode:T,toggleSound:E,onClose:A})=>M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",onClick:A,children:M.jsxs("div",{className:`${t.card} rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col`,onClick:I=>I.stopPropagation(),children:[M.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[M.jsx("h2",{className:"text-xl font-bold",children:"Settings"}),M.jsx("button",{onClick:A,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:""})]}),M.jsxs("div",{className:"overflow-y-auto p-6 space-y-6",children:[M.jsxs("section",{children:[M.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Appearance"}),M.jsxs("div",{className:"space-y-3",children:[M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsx("label",{htmlFor:"darkModeToggle",className:"font-medium",children:"Dark Mode"}),M.jsx("button",{onClick:T,id:"darkModeToggle",className:`p-2 rounded-full ${t.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:f?M.jsx(V0,{size:20}):M.jsx(L0,{size:20})})]}),M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsx("label",{htmlFor:"soundToggle",className:"font-medium",children:"Sound Enabled"}),M.jsx("button",{onClick:E,id:"soundToggle",className:`p-2 rounded-full ${t.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:h?M.jsx(H0,{size:20}):M.jsx(G0,{size:20})})]})]})]}),M.jsxs("section",{children:[M.jsx("h3",{className:"text-lg font-semibold mb-3",children:"AI Model"}),M.jsx("div",{role:"group",className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(An).map(([I,L])=>M.jsxs("button",{onClick:()=>m(I),className:`p-3 rounded-lg border text-sm transition-all duration-200 ${e===I?`${L.color} border-current bg-current/10 font-semibold`:`${t.muted} border-gray-300 dark:border-gray-600 hover:border-current hover:bg-gray-500/10`}`,children:[L.icon," ",L.name]},I))})]}),M.jsxs("section",{children:[M.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Image Style (DALL-E)"}),M.jsx("div",{role:"group",className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(DS).map(([I,L])=>M.jsx("button",{onClick:()=>y(I),className:`p-3 rounded-lg border text-sm transition-all duration-200 ${i===I?"text-pink-400 border-pink-400 bg-pink-400/10 font-semibold":`${t.muted} border-gray-300 dark:border-gray-600 hover:border-current hover:text-pink-400 hover:border-pink-400/50 hover:bg-pink-400/10`}`,children:L},I))})]}),M.jsxs("section",{children:[M.jsx("h3",{className:"text-lg font-semibold mb-3",children:"API Keys"}),M.jsxs("div",{className:"space-y-3",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium mb-1",children:"OpenAI API Key"}),M.jsx("input",{type:"password",placeholder:"sk-...",value:s.openai,onChange:I=>g("openai",I.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${t.input} border-gray-300 dark:border-gray-600`})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gemini API Key"}),M.jsx("input",{type:"password",placeholder:"AIza...",value:s.gemini,onChange:I=>g("gemini",I.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${t.input} border-gray-300 dark:border-gray-600`})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium mb-1",children:"Claude API Key"}),M.jsx("input",{type:"password",placeholder:"sk-ant-...",value:s.claude,onChange:I=>g("claude",I.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${t.input} border-gray-300 dark:border-gray-600`})]})]}),M.jsx("p",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:"Your API keys are saved automatically to your browser's local storage. They are never sent to our servers."})]})]})]})});function Zd(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Ns=Zd();function q0(t){Ns=t}var Yl={exec:()=>null};function Ze(t,e=""){let i=typeof t=="string"?t:t.source;const s={replace:(l,f)=>{let h=typeof f=="string"?f:f.source;return h=h.replace(nn.caret,"$1"),i=i.replace(l,h),s},getRegex:()=>new RegExp(i,e)};return s}var nn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},JI=/^(?:[ \t]*(?:\n|$))+/,KI=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,XI=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ea=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,QI=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Wd=/(?:[*+-]|\d{1,9}[.)])/,z0=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,F0=Ze(z0).replace(/bull/g,Wd).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),ZI=Ze(z0).replace(/bull/g,Wd).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),jd=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,WI=/^[^\n]+/,eh=/(?!\s*\])(?:\\.|[^\[\]\\])+/,jI=Ze(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",eh).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),e2=Ze(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Wd).getRegex(),oc="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",th=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,t2=Ze("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",th).replace("tag",oc).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),$0=Ze(jd).replace("hr",ea).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oc).getRegex(),n2=Ze(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",$0).getRegex(),nh={blockquote:n2,code:KI,def:jI,fences:XI,heading:QI,hr:ea,html:t2,lheading:F0,list:e2,newline:JI,paragraph:$0,table:Yl,text:WI},lv=Ze("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ea).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oc).getRegex(),i2={...nh,lheading:ZI,table:lv,paragraph:Ze(jd).replace("hr",ea).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",lv).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oc).getRegex()},o2={...nh,html:Ze(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",th).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Yl,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ze(jd).replace("hr",ea).replace("heading",` *#{1,6} *[^
]`).replace("lheading",F0).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},s2=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,r2=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Y0=/^( {2,}|\\)\n(?!\s*$)/,l2=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,sc=/[\p{P}\p{S}]/u,ih=/[\s\p{P}\p{S}]/u,J0=/[^\s\p{P}\p{S}]/u,a2=Ze(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,ih).getRegex(),K0=/(?!~)[\p{P}\p{S}]/u,u2=/(?!~)[\s\p{P}\p{S}]/u,c2=/(?:[^\s\p{P}\p{S}]|~)/u,f2=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,X0=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,d2=Ze(X0,"u").replace(/punct/g,sc).getRegex(),h2=Ze(X0,"u").replace(/punct/g,K0).getRegex(),Q0="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",p2=Ze(Q0,"gu").replace(/notPunctSpace/g,J0).replace(/punctSpace/g,ih).replace(/punct/g,sc).getRegex(),m2=Ze(Q0,"gu").replace(/notPunctSpace/g,c2).replace(/punctSpace/g,u2).replace(/punct/g,K0).getRegex(),g2=Ze("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,J0).replace(/punctSpace/g,ih).replace(/punct/g,sc).getRegex(),y2=Ze(/\\(punct)/,"gu").replace(/punct/g,sc).getRegex(),v2=Ze(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),T2=Ze(th).replace("(?:-->|$)","-->").getRegex(),_2=Ze("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",T2).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Fu=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,S2=Ze(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Fu).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Z0=Ze(/^!?\[(label)\]\[(ref)\]/).replace("label",Fu).replace("ref",eh).getRegex(),W0=Ze(/^!?\[(ref)\](?:\[\])?/).replace("ref",eh).getRegex(),E2=Ze("reflink|nolink(?!\\()","g").replace("reflink",Z0).replace("nolink",W0).getRegex(),oh={_backpedal:Yl,anyPunctuation:y2,autolink:v2,blockSkip:f2,br:Y0,code:r2,del:Yl,emStrongLDelim:d2,emStrongRDelimAst:p2,emStrongRDelimUnd:g2,escape:s2,link:S2,nolink:W0,punctuation:a2,reflink:Z0,reflinkSearch:E2,tag:_2,text:l2,url:Yl},C2={...oh,link:Ze(/^!?\[(label)\]\((.*?)\)/).replace("label",Fu).getRegex(),reflink:Ze(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Fu).getRegex()},Ud={...oh,emStrongRDelimAst:m2,emStrongLDelim:h2,url:Ze(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},A2={...Ud,br:Ze(Y0).replace("{2,}","*").getRegex(),text:Ze(Ud.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Iu={normal:nh,gfm:i2,pedantic:o2},Gl={normal:oh,gfm:Ud,breaks:A2,pedantic:C2},w2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},av=t=>w2[t];function pi(t,e){if(e){if(nn.escapeTest.test(t))return t.replace(nn.escapeReplace,av)}else if(nn.escapeTestNoEncode.test(t))return t.replace(nn.escapeReplaceNoEncode,av);return t}function uv(t){try{t=encodeURI(t).replace(nn.percentDecode,"%")}catch{return null}return t}function cv(t,e){var f;const i=t.replace(nn.findPipe,(h,m,y)=>{let g=!1,T=m;for(;--T>=0&&y[T]==="\\";)g=!g;return g?"|":" |"}),s=i.split(nn.splitPipe);let l=0;if(s[0].trim()||s.shift(),s.length>0&&!((f=s.at(-1))!=null&&f.trim())&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;l<s.length;l++)s[l]=s[l].trim().replace(nn.slashPipe,"|");return s}function ql(t,e,i){const s=t.length;if(s===0)return"";let l=0;for(;l<s&&t.charAt(s-l-1)===e;)l++;return t.slice(0,s-l)}function x2(t,e){if(t.indexOf(e[1])===-1)return-1;let i=0;for(let s=0;s<t.length;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])i++;else if(t[s]===e[1]&&(i--,i<0))return s;return i>0?-2:-1}function fv(t,e,i,s,l){const f=e.href,h=e.title||null,m=t[1].replace(l.other.outputLinkReplace,"$1");s.state.inLink=!0;const y={type:t[0].charAt(0)==="!"?"image":"link",raw:i,href:f,title:h,text:m,tokens:s.inlineTokens(m)};return s.state.inLink=!1,y}function R2(t,e,i){const s=t.match(i.other.indentCodeCompensation);if(s===null)return e;const l=s[1];return e.split(`
`).map(f=>{const h=f.match(i.other.beginningSpace);if(h===null)return f;const[m]=h;return m.length>=l.length?f.slice(l.length):f}).join(`
`)}var $u=class{constructor(t){ct(this,"options");ct(this,"rules");ct(this,"lexer");this.options=t||Ns}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const i=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?i:ql(i,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const i=e[0],s=R2(i,e[3]||"",this.rules);return{type:"code",raw:i,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:s}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let i=e[2].trim();if(this.rules.other.endingHash.test(i)){const s=ql(i,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(i=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:ql(e[0],`
`)}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let i=ql(e[0],`
`).split(`
`),s="",l="";const f=[];for(;i.length>0;){let h=!1;const m=[];let y;for(y=0;y<i.length;y++)if(this.rules.other.blockquoteStart.test(i[y]))m.push(i[y]),h=!0;else if(!h)m.push(i[y]);else break;i=i.slice(y);const g=m.join(`
`),T=g.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${g}`:g,l=l?`${l}
${T}`:T;const E=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(T,f,!0),this.lexer.state.top=E,i.length===0)break;const A=f.at(-1);if((A==null?void 0:A.type)==="code")break;if((A==null?void 0:A.type)==="blockquote"){const I=A,L=I.raw+`
`+i.join(`
`),F=this.blockquote(L);f[f.length-1]=F,s=s.substring(0,s.length-I.raw.length)+F.raw,l=l.substring(0,l.length-I.text.length)+F.text;break}else if((A==null?void 0:A.type)==="list"){const I=A,L=I.raw+`
`+i.join(`
`),F=this.list(L);f[f.length-1]=F,s=s.substring(0,s.length-A.raw.length)+F.raw,l=l.substring(0,l.length-I.raw.length)+F.raw,i=L.substring(f.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:f,text:l}}}list(t){let e=this.rules.block.list.exec(t);if(e){let i=e[1].trim();const s=i.length>1,l={type:"list",raw:"",ordered:s,start:s?+i.slice(0,-1):"",loose:!1,items:[]};i=s?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=s?i:"[*+-]");const f=this.rules.other.listItemRegex(i);let h=!1;for(;t;){let y=!1,g="",T="";if(!(e=f.exec(t))||this.rules.block.hr.test(t))break;g=e[0],t=t.substring(g.length);let E=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,ae=>" ".repeat(3*ae.length)),A=t.split(`
`,1)[0],I=!E.trim(),L=0;if(this.options.pedantic?(L=2,T=E.trimStart()):I?L=e[1].length+1:(L=e[2].search(this.rules.other.nonSpaceChar),L=L>4?1:L,T=E.slice(L),L+=e[1].length),I&&this.rules.other.blankLine.test(A)&&(g+=A+`
`,t=t.substring(A.length+1),y=!0),!y){const ae=this.rules.other.nextBulletRegex(L),se=this.rules.other.hrRegex(L),ie=this.rules.other.fencesBeginRegex(L),fe=this.rules.other.headingBeginRegex(L),ne=this.rules.other.htmlBeginRegex(L);for(;t;){const he=t.split(`
`,1)[0];let k;if(A=he,this.options.pedantic?(A=A.replace(this.rules.other.listReplaceNesting,"  "),k=A):k=A.replace(this.rules.other.tabCharGlobal,"    "),ie.test(A)||fe.test(A)||ne.test(A)||ae.test(A)||se.test(A))break;if(k.search(this.rules.other.nonSpaceChar)>=L||!A.trim())T+=`
`+k.slice(L);else{if(I||E.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||ie.test(E)||fe.test(E)||se.test(E))break;T+=`
`+A}!I&&!A.trim()&&(I=!0),g+=he+`
`,t=t.substring(he.length+1),E=k.slice(L)}}l.loose||(h?l.loose=!0:this.rules.other.doubleBlankLine.test(g)&&(h=!0));let F=null,Q;this.options.gfm&&(F=this.rules.other.listIsTask.exec(T),F&&(Q=F[0]!=="[ ] ",T=T.replace(this.rules.other.listReplaceTask,""))),l.items.push({type:"list_item",raw:g,task:!!F,checked:Q,loose:!1,text:T,tokens:[]}),l.raw+=g}const m=l.items.at(-1);if(m)m.raw=m.raw.trimEnd(),m.text=m.text.trimEnd();else return;l.raw=l.raw.trimEnd();for(let y=0;y<l.items.length;y++)if(this.lexer.state.top=!1,l.items[y].tokens=this.lexer.blockTokens(l.items[y].text,[]),!l.loose){const g=l.items[y].tokens.filter(E=>E.type==="space"),T=g.length>0&&g.some(E=>this.rules.other.anyLine.test(E.raw));l.loose=T}if(l.loose)for(let y=0;y<l.items.length;y++)l.items[y].loose=!0;return l}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const i=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",l=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:i,raw:e[0],href:s,title:l}}}table(t){var h;const e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const i=cv(e[1]),s=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),l=(h=e[3])!=null&&h.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],f={type:"table",raw:e[0],header:[],align:[],rows:[]};if(i.length===s.length){for(const m of s)this.rules.other.tableAlignRight.test(m)?f.align.push("right"):this.rules.other.tableAlignCenter.test(m)?f.align.push("center"):this.rules.other.tableAlignLeft.test(m)?f.align.push("left"):f.align.push(null);for(let m=0;m<i.length;m++)f.header.push({text:i[m],tokens:this.lexer.inline(i[m]),header:!0,align:f.align[m]});for(const m of l)f.rows.push(cv(m,f.header.length).map((y,g)=>({text:y,tokens:this.lexer.inline(y),header:!1,align:f.align[g]})));return f}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const i=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:i,tokens:this.lexer.inline(i)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const i=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(i)){if(!this.rules.other.endAngleBracket.test(i))return;const f=ql(i.slice(0,-1),"\\");if((i.length-f.length)%2===0)return}else{const f=x2(e[2],"()");if(f===-2)return;if(f>-1){const m=(e[0].indexOf("!")===0?5:4)+e[1].length+f;e[2]=e[2].substring(0,f),e[0]=e[0].substring(0,m).trim(),e[3]=""}}let s=e[2],l="";if(this.options.pedantic){const f=this.rules.other.pedanticHrefTitle.exec(s);f&&(s=f[1],l=f[3])}else l=e[3]?e[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(i)?s=s.slice(1):s=s.slice(1,-1)),fv(e,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:l&&l.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){const s=(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," "),l=e[s.toLowerCase()];if(!l){const f=i[0].charAt(0);return{type:"text",raw:f,text:f}}return fv(i,l,i[0],this.lexer,this.rules)}}emStrong(t,e,i=""){let s=this.rules.inline.emStrongLDelim.exec(t);if(!s||s[3]&&i.match(this.rules.other.unicodeAlphaNumeric))return;if(!(s[1]||s[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const f=[...s[0]].length-1;let h,m,y=f,g=0;const T=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(T.lastIndex=0,e=e.slice(-1*t.length+f);(s=T.exec(e))!=null;){if(h=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!h)continue;if(m=[...h].length,s[3]||s[4]){y+=m;continue}else if((s[5]||s[6])&&f%3&&!((f+m)%3)){g+=m;continue}if(y-=m,y>0)continue;m=Math.min(m,m+y+g);const E=[...s[0]][0].length,A=t.slice(0,f+s.index+E+m);if(Math.min(f,m)%2){const L=A.slice(1,-1);return{type:"em",raw:A,text:L,tokens:this.lexer.inlineTokens(L)}}const I=A.slice(2,-2);return{type:"strong",raw:A,text:I,tokens:this.lexer.inlineTokens(I)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let i=e[2].replace(this.rules.other.newLineCharGlobal," ");const s=this.rules.other.nonSpaceChar.test(i),l=this.rules.other.startingSpaceChar.test(i)&&this.rules.other.endingSpaceChar.test(i);return s&&l&&(i=i.substring(1,i.length-1)),{type:"codespan",raw:e[0],text:i}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let i,s;return e[2]==="@"?(i=e[1],s="mailto:"+i):(i=e[1],s=i),{type:"link",raw:e[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(t){var i;let e;if(e=this.rules.inline.url.exec(t)){let s,l;if(e[2]==="@")s=e[0],l="mailto:"+s;else{let f;do f=e[0],e[0]=((i=this.rules.inline._backpedal.exec(e[0]))==null?void 0:i[0])??"";while(f!==e[0]);s=e[0],e[1]==="www."?l="http://"+e[0]:l=e[0]}return{type:"link",raw:e[0],text:s,href:l,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const i=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:i}}}},Ji=class Ld{constructor(e){ct(this,"tokens");ct(this,"options");ct(this,"state");ct(this,"tokenizer");ct(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ns,this.options.tokenizer=this.options.tokenizer||new $u,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const i={other:nn,block:Iu.normal,inline:Gl.normal};this.options.pedantic?(i.block=Iu.pedantic,i.inline=Gl.pedantic):this.options.gfm&&(i.block=Iu.gfm,this.options.breaks?i.inline=Gl.breaks:i.inline=Gl.gfm),this.tokenizer.rules=i}static get rules(){return{block:Iu,inline:Gl}}static lex(e,i){return new Ld(i).lex(e)}static lexInline(e,i){return new Ld(i).inlineTokens(e)}lex(e){e=e.replace(nn.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let i=0;i<this.inlineQueue.length;i++){const s=this.inlineQueue[i];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,i=[],s=!1){var l,f,h;for(this.options.pedantic&&(e=e.replace(nn.tabCharGlobal,"    ").replace(nn.spaceLine,""));e;){let m;if((f=(l=this.options.extensions)==null?void 0:l.block)!=null&&f.some(g=>(m=g.call({lexer:this},e,i))?(e=e.substring(m.raw.length),i.push(m),!0):!1))continue;if(m=this.tokenizer.space(e)){e=e.substring(m.raw.length);const g=i.at(-1);m.raw.length===1&&g!==void 0?g.raw+=`
`:i.push(m);continue}if(m=this.tokenizer.code(e)){e=e.substring(m.raw.length);const g=i.at(-1);(g==null?void 0:g.type)==="paragraph"||(g==null?void 0:g.type)==="text"?(g.raw+=`
`+m.raw,g.text+=`
`+m.text,this.inlineQueue.at(-1).src=g.text):i.push(m);continue}if(m=this.tokenizer.fences(e)){e=e.substring(m.raw.length),i.push(m);continue}if(m=this.tokenizer.heading(e)){e=e.substring(m.raw.length),i.push(m);continue}if(m=this.tokenizer.hr(e)){e=e.substring(m.raw.length),i.push(m);continue}if(m=this.tokenizer.blockquote(e)){e=e.substring(m.raw.length),i.push(m);continue}if(m=this.tokenizer.list(e)){e=e.substring(m.raw.length),i.push(m);continue}if(m=this.tokenizer.html(e)){e=e.substring(m.raw.length),i.push(m);continue}if(m=this.tokenizer.def(e)){e=e.substring(m.raw.length);const g=i.at(-1);(g==null?void 0:g.type)==="paragraph"||(g==null?void 0:g.type)==="text"?(g.raw+=`
`+m.raw,g.text+=`
`+m.raw,this.inlineQueue.at(-1).src=g.text):this.tokens.links[m.tag]||(this.tokens.links[m.tag]={href:m.href,title:m.title});continue}if(m=this.tokenizer.table(e)){e=e.substring(m.raw.length),i.push(m);continue}if(m=this.tokenizer.lheading(e)){e=e.substring(m.raw.length),i.push(m);continue}let y=e;if((h=this.options.extensions)!=null&&h.startBlock){let g=1/0;const T=e.slice(1);let E;this.options.extensions.startBlock.forEach(A=>{E=A.call({lexer:this},T),typeof E=="number"&&E>=0&&(g=Math.min(g,E))}),g<1/0&&g>=0&&(y=e.substring(0,g+1))}if(this.state.top&&(m=this.tokenizer.paragraph(y))){const g=i.at(-1);s&&(g==null?void 0:g.type)==="paragraph"?(g.raw+=`
`+m.raw,g.text+=`
`+m.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=g.text):i.push(m),s=y.length!==e.length,e=e.substring(m.raw.length);continue}if(m=this.tokenizer.text(e)){e=e.substring(m.raw.length);const g=i.at(-1);(g==null?void 0:g.type)==="text"?(g.raw+=`
`+m.raw,g.text+=`
`+m.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=g.text):i.push(m);continue}if(e){const g="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(g);break}else throw new Error(g)}}return this.state.top=!0,i}inline(e,i=[]){return this.inlineQueue.push({src:e,tokens:i}),i}inlineTokens(e,i=[]){var m,y,g;let s=e,l=null;if(this.tokens.links){const T=Object.keys(this.tokens.links);if(T.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)T.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,l.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(l=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let f=!1,h="";for(;e;){f||(h=""),f=!1;let T;if((y=(m=this.options.extensions)==null?void 0:m.inline)!=null&&y.some(A=>(T=A.call({lexer:this},e,i))?(e=e.substring(T.raw.length),i.push(T),!0):!1))continue;if(T=this.tokenizer.escape(e)){e=e.substring(T.raw.length),i.push(T);continue}if(T=this.tokenizer.tag(e)){e=e.substring(T.raw.length),i.push(T);continue}if(T=this.tokenizer.link(e)){e=e.substring(T.raw.length),i.push(T);continue}if(T=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(T.raw.length);const A=i.at(-1);T.type==="text"&&(A==null?void 0:A.type)==="text"?(A.raw+=T.raw,A.text+=T.text):i.push(T);continue}if(T=this.tokenizer.emStrong(e,s,h)){e=e.substring(T.raw.length),i.push(T);continue}if(T=this.tokenizer.codespan(e)){e=e.substring(T.raw.length),i.push(T);continue}if(T=this.tokenizer.br(e)){e=e.substring(T.raw.length),i.push(T);continue}if(T=this.tokenizer.del(e)){e=e.substring(T.raw.length),i.push(T);continue}if(T=this.tokenizer.autolink(e)){e=e.substring(T.raw.length),i.push(T);continue}if(!this.state.inLink&&(T=this.tokenizer.url(e))){e=e.substring(T.raw.length),i.push(T);continue}let E=e;if((g=this.options.extensions)!=null&&g.startInline){let A=1/0;const I=e.slice(1);let L;this.options.extensions.startInline.forEach(F=>{L=F.call({lexer:this},I),typeof L=="number"&&L>=0&&(A=Math.min(A,L))}),A<1/0&&A>=0&&(E=e.substring(0,A+1))}if(T=this.tokenizer.inlineText(E)){e=e.substring(T.raw.length),T.raw.slice(-1)!=="_"&&(h=T.raw.slice(-1)),f=!0;const A=i.at(-1);(A==null?void 0:A.type)==="text"?(A.raw+=T.raw,A.text+=T.text):i.push(T);continue}if(e){const A="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(A);break}else throw new Error(A)}}return i}},Yu=class{constructor(t){ct(this,"options");ct(this,"parser");this.options=t||Ns}space(t){return""}code({text:t,lang:e,escaped:i}){var f;const s=(f=(e||"").match(nn.notSpaceStart))==null?void 0:f[0],l=t.replace(nn.endingNewline,"")+`
`;return s?'<pre><code class="language-'+pi(s)+'">'+(i?l:pi(l,!0))+`</code></pre>
`:"<pre><code>"+(i?l:pi(l,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){const e=t.ordered,i=t.start;let s="";for(let h=0;h<t.items.length;h++){const m=t.items[h];s+=this.listitem(m)}const l=e?"ol":"ul",f=e&&i!==1?' start="'+i+'"':"";return"<"+l+f+`>
`+s+"</"+l+`>
`}listitem(t){var i;let e="";if(t.task){const s=this.checkbox({checked:!!t.checked});t.loose?((i=t.tokens[0])==null?void 0:i.type)==="paragraph"?(t.tokens[0].text=s+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=s+" "+pi(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:s+" ",text:s+" ",escaped:!0}):e+=s+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",i="";for(let l=0;l<t.header.length;l++)i+=this.tablecell(t.header[l]);e+=this.tablerow({text:i});let s="";for(let l=0;l<t.rows.length;l++){const f=t.rows[l];i="";for(let h=0;h<f.length;h++)i+=this.tablecell(f[h]);s+=this.tablerow({text:i})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+s+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const e=this.parser.parseInline(t.tokens),i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+e+`</${i}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${pi(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:i}){const s=this.parser.parseInline(i),l=uv(t);if(l===null)return s;t=l;let f='<a href="'+t+'"';return e&&(f+=' title="'+pi(e)+'"'),f+=">"+s+"</a>",f}image({href:t,title:e,text:i,tokens:s}){s&&(i=this.parser.parseInline(s,this.parser.textRenderer));const l=uv(t);if(l===null)return pi(i);t=l;let f=`<img src="${t}" alt="${i}"`;return e&&(f+=` title="${pi(e)}"`),f+=">",f}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:pi(t.text)}},sh=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Ki=class Pd{constructor(e){ct(this,"options");ct(this,"renderer");ct(this,"textRenderer");this.options=e||Ns,this.options.renderer=this.options.renderer||new Yu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new sh}static parse(e,i){return new Pd(i).parse(e)}static parseInline(e,i){return new Pd(i).parseInline(e)}parse(e,i=!0){var l,f;let s="";for(let h=0;h<e.length;h++){const m=e[h];if((f=(l=this.options.extensions)==null?void 0:l.renderers)!=null&&f[m.type]){const g=m,T=this.options.extensions.renderers[g.type].call({parser:this},g);if(T!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(g.type)){s+=T||"";continue}}const y=m;switch(y.type){case"space":{s+=this.renderer.space(y);continue}case"hr":{s+=this.renderer.hr(y);continue}case"heading":{s+=this.renderer.heading(y);continue}case"code":{s+=this.renderer.code(y);continue}case"table":{s+=this.renderer.table(y);continue}case"blockquote":{s+=this.renderer.blockquote(y);continue}case"list":{s+=this.renderer.list(y);continue}case"html":{s+=this.renderer.html(y);continue}case"paragraph":{s+=this.renderer.paragraph(y);continue}case"text":{let g=y,T=this.renderer.text(g);for(;h+1<e.length&&e[h+1].type==="text";)g=e[++h],T+=`
`+this.renderer.text(g);i?s+=this.renderer.paragraph({type:"paragraph",raw:T,text:T,tokens:[{type:"text",raw:T,text:T,escaped:!0}]}):s+=T;continue}default:{const g='Token with "'+y.type+'" type was not found.';if(this.options.silent)return console.error(g),"";throw new Error(g)}}}return s}parseInline(e,i=this.renderer){var l,f;let s="";for(let h=0;h<e.length;h++){const m=e[h];if((f=(l=this.options.extensions)==null?void 0:l.renderers)!=null&&f[m.type]){const g=this.options.extensions.renderers[m.type].call({parser:this},m);if(g!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(m.type)){s+=g||"";continue}}const y=m;switch(y.type){case"escape":{s+=i.text(y);break}case"html":{s+=i.html(y);break}case"link":{s+=i.link(y);break}case"image":{s+=i.image(y);break}case"strong":{s+=i.strong(y);break}case"em":{s+=i.em(y);break}case"codespan":{s+=i.codespan(y);break}case"br":{s+=i.br(y);break}case"del":{s+=i.del(y);break}case"text":{s+=i.text(y);break}default:{const g='Token with "'+y.type+'" type was not found.';if(this.options.silent)return console.error(g),"";throw new Error(g)}}}return s}},Sd,Pu=(Sd=class{constructor(t){ct(this,"options");ct(this,"block");this.options=t||Ns}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Ji.lex:Ji.lexInline}provideParser(){return this.block?Ki.parse:Ki.parseInline}},ct(Sd,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Sd),M2=class{constructor(...t){ct(this,"defaults",Zd());ct(this,"options",this.setOptions);ct(this,"parse",this.parseMarkdown(!0));ct(this,"parseInline",this.parseMarkdown(!1));ct(this,"Parser",Ki);ct(this,"Renderer",Yu);ct(this,"TextRenderer",sh);ct(this,"Lexer",Ji);ct(this,"Tokenizer",$u);ct(this,"Hooks",Pu);this.use(...t)}walkTokens(t,e){var s,l;let i=[];for(const f of t)switch(i=i.concat(e.call(this,f)),f.type){case"table":{const h=f;for(const m of h.header)i=i.concat(this.walkTokens(m.tokens,e));for(const m of h.rows)for(const y of m)i=i.concat(this.walkTokens(y.tokens,e));break}case"list":{const h=f;i=i.concat(this.walkTokens(h.items,e));break}default:{const h=f;(l=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&l[h.type]?this.defaults.extensions.childTokens[h.type].forEach(m=>{const y=h[m].flat(1/0);i=i.concat(this.walkTokens(y,e))}):h.tokens&&(i=i.concat(this.walkTokens(h.tokens,e)))}}return i}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(i=>{const s={...i};if(s.async=this.defaults.async||s.async||!1,i.extensions&&(i.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if("renderer"in l){const f=e.renderers[l.name];f?e.renderers[l.name]=function(...h){let m=l.renderer.apply(this,h);return m===!1&&(m=f.apply(this,h)),m}:e.renderers[l.name]=l.renderer}if("tokenizer"in l){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const f=e[l.level];f?f.unshift(l.tokenizer):e[l.level]=[l.tokenizer],l.start&&(l.level==="block"?e.startBlock?e.startBlock.push(l.start):e.startBlock=[l.start]:l.level==="inline"&&(e.startInline?e.startInline.push(l.start):e.startInline=[l.start]))}"childTokens"in l&&l.childTokens&&(e.childTokens[l.name]=l.childTokens)}),s.extensions=e),i.renderer){const l=this.defaults.renderer||new Yu(this.defaults);for(const f in i.renderer){if(!(f in l))throw new Error(`renderer '${f}' does not exist`);if(["options","parser"].includes(f))continue;const h=f,m=i.renderer[h],y=l[h];l[h]=(...g)=>{let T=m.apply(l,g);return T===!1&&(T=y.apply(l,g)),T||""}}s.renderer=l}if(i.tokenizer){const l=this.defaults.tokenizer||new $u(this.defaults);for(const f in i.tokenizer){if(!(f in l))throw new Error(`tokenizer '${f}' does not exist`);if(["options","rules","lexer"].includes(f))continue;const h=f,m=i.tokenizer[h],y=l[h];l[h]=(...g)=>{let T=m.apply(l,g);return T===!1&&(T=y.apply(l,g)),T}}s.tokenizer=l}if(i.hooks){const l=this.defaults.hooks||new Pu;for(const f in i.hooks){if(!(f in l))throw new Error(`hook '${f}' does not exist`);if(["options","block"].includes(f))continue;const h=f,m=i.hooks[h],y=l[h];Pu.passThroughHooks.has(f)?l[h]=g=>{if(this.defaults.async)return Promise.resolve(m.call(l,g)).then(E=>y.call(l,E));const T=m.call(l,g);return y.call(l,T)}:l[h]=(...g)=>{let T=m.apply(l,g);return T===!1&&(T=y.apply(l,g)),T}}s.hooks=l}if(i.walkTokens){const l=this.defaults.walkTokens,f=i.walkTokens;s.walkTokens=function(h){let m=[];return m.push(f.call(this,h)),l&&(m=m.concat(l.call(this,h))),m}}this.defaults={...this.defaults,...s}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Ji.lex(t,e??this.defaults)}parser(t,e){return Ki.parse(t,e??this.defaults)}parseMarkdown(t){return(i,s)=>{const l={...s},f={...this.defaults,...l},h=this.onError(!!f.silent,!!f.async);if(this.defaults.async===!0&&l.async===!1)return h(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof i>"u"||i===null)return h(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return h(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));f.hooks&&(f.hooks.options=f,f.hooks.block=t);const m=f.hooks?f.hooks.provideLexer():t?Ji.lex:Ji.lexInline,y=f.hooks?f.hooks.provideParser():t?Ki.parse:Ki.parseInline;if(f.async)return Promise.resolve(f.hooks?f.hooks.preprocess(i):i).then(g=>m(g,f)).then(g=>f.hooks?f.hooks.processAllTokens(g):g).then(g=>f.walkTokens?Promise.all(this.walkTokens(g,f.walkTokens)).then(()=>g):g).then(g=>y(g,f)).then(g=>f.hooks?f.hooks.postprocess(g):g).catch(h);try{f.hooks&&(i=f.hooks.preprocess(i));let g=m(i,f);f.hooks&&(g=f.hooks.processAllTokens(g)),f.walkTokens&&this.walkTokens(g,f.walkTokens);let T=y(g,f);return f.hooks&&(T=f.hooks.postprocess(T)),T}catch(g){return h(g)}}}onError(t,e){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const s="<p>An error occurred:</p><pre>"+pi(i.message+"",!0)+"</pre>";return e?Promise.resolve(s):s}if(e)return Promise.reject(i);throw i}}},xs=new M2;function Xe(t,e){return xs.parse(t,e)}Xe.options=Xe.setOptions=function(t){return xs.setOptions(t),Xe.defaults=xs.defaults,q0(Xe.defaults),Xe};Xe.getDefaults=Zd;Xe.defaults=Ns;Xe.use=function(...t){return xs.use(...t),Xe.defaults=xs.defaults,q0(Xe.defaults),Xe};Xe.walkTokens=function(t,e){return xs.walkTokens(t,e)};Xe.parseInline=xs.parseInline;Xe.Parser=Ki;Xe.parser=Ki.parse;Xe.Renderer=Yu;Xe.TextRenderer=sh;Xe.Lexer=Ji;Xe.lexer=Ji.lex;Xe.Tokenizer=$u;Xe.Hooks=Pu;Xe.parse=Xe;Xe.options;Xe.setOptions;Xe.use;Xe.walkTokens;Xe.parseInline;Ki.parse;Ji.lex;const b2=({theme:t,onPromptClick:e})=>{const i=["What's the best place to get suya in Lekki?","Paint a picture of a futuristic Lagos with flying danfo buses.","Tell me a story about the Eyo festival, but in the style of a wise Igbo elder.","Plan a 3-day tourist itinerary for someone visiting Lagos for the first time."];return M.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[M.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-cyan-500 to-purple-500 rounded-full flex items-center justify-center shadow-lg mb-4",children:M.jsx(O0,{className:"w-10 h-10 text-white"})}),M.jsx("h1",{className:`text-3xl font-bold ${t.text} mb-2`,children:"Lagos Oracle"}),M.jsx("p",{className:`${t.muted} mb-8`,children:"Your AI companion for all things Lagos and beyond."}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-w-2xl w-full",children:i.map((s,l)=>M.jsxs("button",{onClick:()=>e(s),className:`p-4 rounded-lg text-left transition-all duration-200
                        ${t.card} border dark:border-gray-700 hover:bg-gray-200 dark:hover:bg-gray-700/50
                        flex items-start space-x-3`,children:[M.jsx(k0,{className:`w-5 h-5 mt-1 ${t.secondaryAccent} shrink-0`}),M.jsx("span",{className:`text-sm ${t.text}`,children:s})]},l))})]})};Xe.setOptions({breaks:!0,gfm:!0});const Od=({persona:t,isUser:e,isError:i})=>{var f;const s="w-8 h-8 rounded-full flex items-center justify-center shrink-0 text-white";if(e)return M.jsx("div",{className:`${s} bg-blue-500`,children:M.jsx(GI,{className:"w-5 h-5"})});if(i)return M.jsx("div",{className:`${s} bg-red-500`,children:M.jsx(BI,{className:"w-5 h-5"})});if((f=t==null?void 0:t.icon)!=null&&f.startsWith("http"))return M.jsx("img",{src:t.icon,alt:t.name,className:"w-8 h-8 rounded-full object-cover"});const l=t!=null&&t.color?t.color.replace("text-","bg-").replace("-400","-500"):"bg-indigo-500";return M.jsx("div",{className:`${s} ${l}`,children:t!=null&&t.icon&&!t.icon.startsWith("http")?M.jsx("span",{className:"text-xl",children:t.icon}):M.jsx(k0,{className:"w-5 h-5"})})},I2=({message:t,theme:e,personas:i})=>{const[s,l]=ge.useState(!1),f=Xe.parse(typeof t.content=="string"?t.content:"*Error: Invalid message content*"),h=()=>{typeof t.content=="string"&&navigator.clipboard.writeText(t.content).then(()=>{l(!0),setTimeout(()=>l(!1),2e3)}).catch(E=>console.error("Failed to copy text: ",E))},m=t.mood==="error",y=t.personaKey?i[t.personaKey]:void 0,g="group flex items-start gap-3 my-4 relative",T="relative rounded-xl px-4 py-3 shadow-md max-w-2xl";return t.type==="user"?M.jsxs("div",{className:`${g} justify-end`,children:[M.jsx("div",{className:`${T} bg-blue-600 text-white`,children:M.jsx("div",{className:"prose prose-sm max-w-none prose-invert prose-p:my-1",dangerouslySetInnerHTML:{__html:f}})}),M.jsx(Od,{isUser:!0})]}):M.jsxs("div",{className:g,children:[M.jsx(Od,{persona:y,isError:m}),M.jsxs("div",{className:"flex flex-col",children:[M.jsxs("div",{className:`${T} ${m?"bg-red-100 dark:bg-red-900/40":e.card}`,children:[t.model&&M.jsx("div",{className:`text-xs mb-1.5 font-semibold ${m?"text-red-600 dark:text-red-300":e.muted}`,children:t.model}),M.jsx("div",{className:`prose prose-sm max-w-none ${e.text}`,dangerouslySetInnerHTML:{__html:f}}),t.media&&M.jsxs("div",{className:"mt-3",children:[t.media.imageUrl&&M.jsx("img",{src:t.media.imageUrl,alt:"Generated by AI",className:"rounded-lg max-w-xs md:max-w-sm h-auto shadow-lg border dark:border-gray-600"}),t.media.videoUrl&&M.jsx("video",{src:t.media.videoUrl,controls:!0,className:"rounded-lg max-w-xs md:max-w-sm h-auto shadow-lg border dark:border-gray-600"}),!t.media.success&&M.jsxs("div",{className:"p-3 rounded-lg border-2 border-dashed border-gray-300 bg-gray-100/50 text-gray-500 dark:border-gray-600 dark:bg-gray-700/30 dark:text-gray-400 flex flex-col items-center justify-center max-w-xs md:max-w-sm",children:[t.media.videoUrl?M.jsx(zI,{className:"w-10 h-10 mb-2 opacity-70"}):M.jsx(gI,{className:"w-10 h-10 mb-2 opacity-70"}),M.jsx("p",{className:"text-sm font-semibold",children:"Media Generation Failed"}),M.jsx("p",{className:"text-xs text-center",children:t.media.model||"Could not generate media."})]})]})]}),M.jsxs("div",{className:"flex items-center justify-start mt-1.5 space-x-3",children:[M.jsx("span",{className:`text-xs ${e.muted}`,children:t.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),typeof t.content=="string"&&t.content.trim()!==""&&M.jsx("button",{onClick:h,title:s?"Copied!":"Copy message",className:"p-1 rounded-full transition-all duration-200 text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-700 opacity-0 group-hover:opacity-100",children:s?M.jsx(tI,{className:"w-3.5 h-3.5"}):M.jsx(lI,{className:"w-3.5 h-3.5"})})]})]})]})},N2=({messages:t,isTyping:e,theme:i,personas:s,onPromptClick:l})=>{const f=ge.useRef(null);return ge.useEffect(()=>{var h;(h=f.current)==null||h.scrollIntoView({behavior:"smooth"})},[t,e]),M.jsx("div",{className:"flex-1 overflow-y-auto",children:M.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[t.length===0&&!e?M.jsx(b2,{theme:i,onPromptClick:l}):t.map(h=>M.jsx(I2,{message:h,theme:i,personas:s},h.id)),e&&M.jsxs("div",{className:"flex items-start gap-3 my-4",children:[M.jsx(Od,{persona:{name:"Oracle",icon:"",description:"",systemPromptModifier:"",color:"bg-indigo-500"}}),M.jsx("div",{className:`rounded-xl px-4 py-3 shadow-md ${i.card}`,children:M.jsxs("div",{className:"flex items-center space-x-1",children:[M.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse",style:{animationDelay:"0s"}}),M.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),M.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})})]}),M.jsx("div",{ref:f})]})})},k2=({theme:t,selectedAI:e,onSelectAI:i,onClose:s})=>M.jsx("div",{className:"absolute bottom-full mb-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border dark:border-gray-700",children:M.jsxs("div",{className:"p-2",children:[M.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 px-2 mb-1",children:"Choose a model"}),Object.entries(An).map(([l,f])=>M.jsxs("button",{onClick:()=>{i(l),s()},className:`w-full flex items-center gap-2 p-2 rounded-md text-sm text-left
                        ${e===l?`font-semibold ${f.color}`:`${t.text} hover:bg-gray-100 dark:hover:bg-gray-700`}`,children:[M.jsx("span",{className:"text-lg",children:f.icon}),M.jsx("span",{children:f.name})]},l))]})}),D2=({input:t,isTyping:e,isListening:i,recognitionAvailable:s,theme:l,selectedAI:f,setInput:h,handleSend:m,startListening:y,setSelectedAI:g})=>{const T=ge.useRef(null),[E,A]=ge.useState(!1);ge.useEffect(()=>{T.current&&(T.current.style.height="auto",T.current.style.height=`${T.current.scrollHeight}px`)},[t]);const I=()=>{t.trim()&&!e&&m()},L=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),I())};return M.jsx("div",{className:"bg-transparent px-4 pb-4 sticky bottom-0",children:M.jsx("div",{className:"max-w-3xl mx-auto",children:M.jsxs("div",{className:"relative",children:[E&&M.jsx(k2,{theme:l,selectedAI:f,onSelectAI:g,onClose:()=>A(!1)}),M.jsxs("div",{className:`relative flex items-center ${l.card} border dark:border-gray-600 rounded-2xl shadow-lg`,children:[M.jsxs("button",{onClick:()=>A(F=>!F),className:"p-3 rounded-full transition-all duration-200 flex items-center gap-1 hover:bg-gray-200 dark:hover:bg-gray-700",children:[M.jsx("span",{className:"text-lg",children:An[f].icon}),M.jsx(iI,{size:16,className:`transition-transform duration-200 ${E?"rotate-0":"rotate-180"}`})]}),M.jsx("textarea",{ref:T,value:t,onChange:F=>h(F.target.value),onKeyDown:L,placeholder:`Ask ${An[f].name}...`,className:`w-full max-h-48 bg-transparent p-3 resize-none border-none focus:ring-0 ${l.text} placeholder-gray-500 dark:placeholder-gray-400`,rows:1,disabled:e}),M.jsx("button",{onClick:I,disabled:!t.trim()||e,title:"Send Message",className:`p-3 mr-2 rounded-full transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed
                         text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-500`,children:M.jsx(NI,{className:"w-5 h-5"})})]})]})})})},U2=({theme:t,selectedPersonaKey:e,onSelectPersona:i,onClose:s})=>{const[l,f]=Cs.useState(""),[h,m]=Cs.useState(""),[y,g]=Cs.useState("text-yellow-400"),T=()=>{const I=`custom:${l.trim().toLowerCase().replace(/\s+/g,"-")}`,L={name:l||"Custom",icon:h||"",description:"Custom persona",systemPromptModifier:"",color:y};try{const F=localStorage.getItem("lagosOracleCustomPersonas_v1"),Q=F?JSON.parse(F):{};Q[I]=L,localStorage.setItem("lagosOracleCustomPersonas_v1",JSON.stringify(Q))}catch{}i(I),s()},E=Cs.useMemo(()=>{try{const I=localStorage.getItem("lagosOracleCustomPersonas_v1"),L=I?JSON.parse(I):{};return{...$t,...L}}catch{return $t}},[]),A=I=>{i(I),s()};return M.jsxs("div",{className:`${t.card} border-b p-4 shadow-md`,children:[M.jsx("div",{className:"max-w-6xl mx-auto space-y-3",children:M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("h3",{className:`text-lg font-semibold ${t.primaryAccent}`,children:" Choose Your Oracle's Persona"}),M.jsx("button",{onClick:s,className:`${t.muted} hover:text-red-500 text-sm p-1 rounded-md`,title:"Close Persona Selector","aria-label":"Close Persona Selector",children:" Close"})]})}),M.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:Object.entries(E).map(([I,L])=>{const F=I,Q=e===F;return M.jsxs("button",{onClick:()=>A(F),className:`p-3 rounded-lg border text-left transition-all duration-200 flex flex-col items-start h-full
                  ${Q?`${L.color||t.primaryAccent} border-current bg-current/10 font-semibold shadow-lg ring-2 ring-current`:`${t.text} ${t.card.replace("bg-","hover:bg-opacity-80 hover:border-")} border-gray-500/30 hover:shadow-md hover:border-current ${(L.color||t.primaryAccent).replace("text-","hover:border-")}`}
                `,"aria-pressed":Q,title:L.description,children:[M.jsxs("div",{className:"flex items-center mb-1",children:[M.jsx("span",{className:"text-2xl mr-2",children:L.icon}),M.jsx("span",{className:`font-semibold ${Q?L.color||t.primaryAccent:t.text}`,children:L.name})]}),M.jsx("p",{className:`text-xs ${Q?L.color||t.primaryAccent:t.muted} opacity-90`,children:L.description})]},F)})}),M.jsxs("div",{className:"mt-4 p-3 rounded-lg border dark:border-gray-700",children:[M.jsx("h4",{className:"font-semibold mb-2",children:"Create Custom Persona"}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[M.jsx("input",{value:l,onChange:I=>f(I.target.value),placeholder:"Name",className:`px-3 py-2 rounded-lg border text-sm ${t.input} border-gray-300 dark:border-gray-600`}),M.jsx("input",{value:h,onChange:I=>m(I.target.value),placeholder:"Avatar (emoji or image URL)",className:`px-3 py-2 rounded-lg border text-sm ${t.input} border-gray-300 dark:border-gray-600`}),M.jsxs("select",{value:y,onChange:I=>g(I.target.value),className:`px-3 py-2 rounded-lg border text-sm ${t.input} border-gray-300 dark:border-gray-600`,children:[M.jsx("option",{value:"text-yellow-400",children:"Yellow"}),M.jsx("option",{value:"text-blue-400",children:"Blue"}),M.jsx("option",{value:"text-green-400",children:"Green"}),M.jsx("option",{value:"text-pink-400",children:"Pink"}),M.jsx("option",{value:"text-purple-400",children:"Purple"}),M.jsx("option",{value:"text-teal-400",children:"Teal"})]})]}),M.jsx("button",{onClick:T,disabled:!l.trim(),className:"mt-3 px-3 py-2 rounded-md bg-cyan-600 text-white disabled:bg-gray-500",children:"Save & Use"})]}),M.jsx("p",{className:`text-xs ${t.muted} mt-2 text-center`,children:"Selecting a persona changes the Oracle's style and language. Voice accents depend on browser capabilities."})]})},L2=({videoElementRef:t,onScanSurroundings:e,onStopVisionGuide:i,isAnalyzingFrame:s,theme:l})=>M.jsxs("div",{className:`fixed inset-0 z-40 flex flex-col items-center justify-center p-4 ${l.bg} bg-opacity-95 backdrop-blur-sm`,children:[M.jsxs("div",{className:`relative w-full max-w-2xl ${l.card} p-4 sm:p-6 rounded-xl shadow-2xl border`,children:[M.jsxs("h3",{className:`text-xl font-semibold mb-4 text-center ${l.primaryAccent}`,children:[M.jsx(D0,{className:"inline-block mr-2 w-6 h-6"})," Vision Guide Active"]}),M.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden mb-4 border border-gray-600/50 shadow-inner",children:M.jsx("video",{ref:t,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover","aria-label":"Live camera feed for Vision Guide"})}),s?M.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 py-4",children:[M.jsx(_I,{className:`w-12 h-12 ${l.secondaryAccent} animate-spin`}),M.jsx("p",{className:`text-lg ${l.text}`,children:"Analyzing your surroundings..."}),M.jsx("p",{className:`text-sm ${l.muted}`,children:"Please wait a moment."})]}):M.jsxs("button",{onClick:e,disabled:s,className:`w-full flex items-center justify-center px-6 py-3 rounded-lg text-lg font-semibold
                        transition-all duration-200 ease-in-out
                        ${l.text} bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600
                        focus:outline-none focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-700
                        disabled:opacity-60 disabled:cursor-not-allowed`,"aria-label":"Scan current surroundings",children:[M.jsx(RI,{className:"mr-3 w-6 h-6"}),"Scan Surroundings"]}),M.jsx("button",{onClick:i,className:`absolute top-3 right-3 p-2 rounded-full
                      ${l.muted} hover:bg-red-500/20 hover:text-red-500 transition-colors`,"aria-label":"Stop Vision Guide and close camera view",children:M.jsx(sI,{className:"w-6 h-6"})})]}),M.jsx("p",{className:`mt-4 text-xs ${l.muted} text-center max-w-md`,children:"This Vision Guide provides AI-generated descriptions. Use with caution and awareness. It is not a substitute for traditional mobility aids."})]}),P2=({theme:t,showSettings:e,showPersonaSelector:i,toggleSettings:s,togglePersonaSelector:l,onNewChat:f,showSearch:h,showLibrary:m,toggleSearch:y,toggleLibrary:g,onExportLibrary:T,onImportLibrary:E})=>{const A=Cs.useRef(null);return M.jsxs("div",{className:`h-screen w-64 ${t.card} border-r dark:border-gray-700 flex flex-col p-2`,children:[M.jsxs("div",{className:"flex-1 space-y-2",children:[M.jsxs("button",{onClick:f,className:"w-full flex items-center gap-2 p-2 rounded-md text-sm font-medium bg-cyan-600 text-white hover:bg-cyan-700",children:[M.jsx(wI,{size:18}),"New Chat"]}),M.jsxs("div",{className:"pt-4 space-y-1",children:[M.jsxs("button",{onClick:y,className:`w-full flex items-center gap-2 p-2 rounded-md text-sm ${h?`bg-cyan-500/20 ${t.primaryAccent}`:t.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:[M.jsx(bI,{size:18}),"Search"]}),M.jsxs("button",{onClick:g,className:`w-full flex items-center gap-2 p-2 rounded-md text-sm ${m?`bg-cyan-500/20 ${t.primaryAccent}`:t.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:[M.jsx(vI,{size:18}),"Library"]}),M.jsxs("button",{onClick:l,className:`w-full flex items-center gap-2 p-2 rounded-md text-sm ${i?`bg-cyan-500/20 ${t.primaryAccent}`:t.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:[M.jsx(U0,{size:18}),"Personas"]})]})]}),M.jsxs("div",{className:"mt-auto space-y-2",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("button",{onClick:T,className:`flex-1 p-2 rounded-md text-sm ${t.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:"Export"}),M.jsx("button",{onClick:()=>{var I;return(I=A.current)==null?void 0:I.click()},className:`flex-1 p-2 rounded-md text-sm ${t.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:"Import"}),M.jsx("input",{ref:A,type:"file",accept:"application/json",className:"hidden",onChange:I=>I.target.files&&E&&E(I.target.files[0])})]}),M.jsxs("button",{onClick:s,className:`w-full flex items-center gap-2 p-2 rounded-md text-sm ${e?`bg-cyan-500/20 ${t.primaryAccent}`:t.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:[M.jsx(P0,{size:18}),"Settings"]})]})]})},O2=({theme:t,conversations:e,onLoad:i,onDelete:s,onClose:l,onRename:f})=>M.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:l,children:M.jsxs("div",{className:`${t.card} rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col`,onClick:h=>h.stopPropagation(),children:[M.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[M.jsx("h2",{className:"text-xl font-bold",children:"Library"}),M.jsx("button",{onClick:l,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:""})]}),M.jsx("div",{className:"overflow-y-auto p-4 space-y-3",children:e.length===0?M.jsx("p",{className:t.muted,children:"No saved conversations yet."}):e.map(h=>{var y,g;const m=h.messages.find(T=>T.media&&(T.media.imageUrl||T.media.videoUrl));return M.jsxs("div",{className:`group flex items-center justify-between p-3 rounded-lg border dark:border-gray-700 ${t.card}`,children:[M.jsxs("div",{className:"flex items-center gap-3",children:[(y=m==null?void 0:m.media)!=null&&y.imageUrl?M.jsx("img",{src:m.media.imageUrl,alt:"Thumb",className:"w-12 h-12 rounded object-cover"}):(g=m==null?void 0:m.media)!=null&&g.videoUrl?M.jsx("div",{className:"w-12 h-12 rounded bg-gray-300 dark:bg-gray-700 flex items-center justify-center text-xs",children:"Video"}):M.jsx("div",{className:"w-12 h-12 rounded bg-gray-200 dark:bg-gray-700"}),M.jsxs("div",{children:[M.jsx("div",{className:"font-semibold",children:h.title||"Untitled conversation"}),M.jsxs("div",{className:`text-xs ${t.muted}`,children:[new Date(h.timestamp).toLocaleString(),"  ",h.messages.length," messages"]})]})]}),M.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[M.jsx("button",{onClick:()=>f&&f(h.id),className:"px-2 py-1 rounded-md text-sm hover:bg-gray-200 dark:hover:bg-gray-700",children:"Rename"}),M.jsxs("button",{onClick:()=>i(h),className:"px-2 py-1 rounded-md text-sm bg-cyan-600 text-white hover:bg-cyan-700 flex items-center gap-1",children:[M.jsx(pI,{size:14})," Open"]}),M.jsxs("button",{onClick:()=>s(h.id),className:"px-2 py-1 rounded-md text-sm text-red-500 hover:bg-red-500/10 flex items-center gap-1",children:[M.jsx(B0,{size:14})," Delete"]})]})]},h.id)})})]})}),dv=(t,e)=>{const i=t.toLowerCase().indexOf(e.toLowerCase());return i===-1?t:t.slice(0,i)+"[["+t.slice(i,i+e.length)+"]]"+t.slice(i+e.length)},V2=({theme:t,conversations:e,currentMessages:i,onOpenConversation:s,onClose:l})=>{const[f,h]=ge.useState(""),m=ge.useMemo(()=>{if(!f.trim())return[];const y=i.filter(T=>typeof T.content=="string"&&T.content.toLowerCase().includes(f.toLowerCase())).slice(0,20).map(T=>({where:"Current chat",title:new Date(T.timestamp).toLocaleString(),snippet:dv(T.content.slice(0,140),f)})),g=e.flatMap(T=>T.messages.filter(E=>typeof E.content=="string"&&E.content.toLowerCase().includes(f.toLowerCase())).slice(0,3).map(E=>({where:"Library",title:T.title||new Date(T.timestamp).toLocaleString(),snippet:dv(E.content.slice(0,140),f),conv:T}))).slice(0,50);return[...y,...g]},[f,i,e]);return M.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:l,children:M.jsxs("div",{className:`${t.card} rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col`,onClick:y=>y.stopPropagation(),children:[M.jsxs("div",{className:"flex items-center gap-2 p-4 border-b dark:border-gray-700",children:[M.jsx("input",{value:f,onChange:y=>h(y.target.value),placeholder:"Search current chat and library...",className:`w-full px-3 py-2 rounded-lg border text-sm ${t.input} border-gray-300 dark:border-gray-600`}),M.jsx("button",{onClick:l,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:""})]}),M.jsx("div",{className:"overflow-y-auto p-4 space-y-2",children:m.length===0?M.jsx("p",{className:t.muted,children:"Type to search..."}):m.map((y,g)=>M.jsxs("div",{className:"p-3 rounded-lg border dark:border-gray-700",children:[M.jsx("div",{className:"text-xs text-gray-500",children:y.where}),M.jsx("div",{className:"font-medium",children:y.title}),M.jsx("div",{className:`${t.muted} text-sm whitespace-pre-wrap`,children:y.snippet.replaceAll("[[","**").replaceAll("]]","**")}),y.conv&&M.jsx("button",{onClick:()=>s(y.conv),className:"mt-2 text-sm px-2 py-1 rounded-md bg-cyan-600 text-white hover:bg-cyan-700",children:"Open conversation"})]},g))})]})})},B2=({theme:t,soundEnabled:e,darkMode:i,showSettings:s,selectedAI:l,selectedPersonaKey:f,showPersonaSelector:h,visionGuideActive:m,toggleSound:y,toggleDarkMode:g,exportConversation:T,toggleSettings:E,togglePersonaSelector:A,toggleVisionGuideMode:I,onRenameConversation:L,onDeleteConversation:F})=>{var se,ie;const Q=An[l]||An.auto,ae=$t[f]||$t[Fl];return M.jsx("div",{className:`${t.card} border-b p-3 md:p-4 sticky top-0 z-50 shadow-sm`,children:M.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[M.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[M.jsxs("div",{className:"relative",children:[M.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-cyan-400 to-purple-400 rounded-full flex items-center justify-center shadow-md",children:M.jsx(O0,{className:"w-5 h-5 text-white"})}),M.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full animate-pulse border-2 border-slate-900 dark:border-white"})]}),M.jsxs("div",{className:"group",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("h1",{className:"text-lg md:text-xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent",children:"Lagos Oracle Ultra"}),M.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-1",children:[M.jsx("button",{onClick:L,className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700",title:"Rename current chat",children:M.jsx(CI,{className:"w-4 h-4"})}),M.jsx("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href).catch(()=>{})},className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700",title:"Copy share link",children:M.jsx(UI,{className:"w-4 h-4"})}),M.jsx("button",{onClick:F,className:"p-1 rounded hover:bg-red-500/10 text-red-500",title:"Delete current chat",children:M.jsx(B0,{className:"w-4 h-4"})})]})]}),M.jsxs("div",{className:"flex items-center space-x-1.5 text-xs",children:[M.jsx(D0,{className:"w-3 h-3 text-pink-400"}),M.jsxs("span",{className:`${Q.color} font-medium`,children:[Q.icon," ",Q.name]}),M.jsx("span",{className:"text-gray-400",children:"|"}),M.jsxs("span",{className:`${ae.color||t.text} font-medium flex items-center`,children:[ae.icon,M.jsx("span",{className:"ml-1 hidden sm:inline",children:ae.name.split("(")[0].trim()})]})]})]})]}),M.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2",children:[M.jsx("button",{onClick:I,title:m?"Stop Vision Guide":"Activate Vision Guide",className:`p-2 rounded-lg transition-colors duration-200 ${m?`${t.primaryAccent} ${t.primaryAccent.replace("text-","bg-")}/10`:`${t.muted} hover:text-green-500 hover:bg-green-500/10`}`,"aria-pressed":m,children:M.jsx(dI,{className:"w-4 h-4 md:w-5 md:h-5"})}),M.jsxs("button",{onClick:A,title:"Select Persona",className:`p-2 rounded-lg transition-colors duration-200 ${h?`${((se=$t[f])==null?void 0:se.color)||t.primaryAccent} ${(((ie=$t[f])==null?void 0:ie.color)||t.primaryAccent).replace("text-","bg-")}/10`:`${t.muted} hover:text-yellow-500 hover:bg-yellow-500/10`}`,children:[M.jsx(U0,{className:"w-4 h-4 md:w-5 md:h-5"})," "]}),M.jsx("button",{onClick:y,title:e?"Mute":"Unmute",className:`p-2 rounded-lg transition-colors duration-200 ${e?"text-green-400 hover:bg-green-400/10":`${t.muted} hover:text-gray-500 hover:bg-gray-500/10`}`,children:e?M.jsx(H0,{className:"w-4 h-4 md:w-5 md:h-5"}):M.jsx(G0,{className:"w-4 h-4 md:w-5 md:h-5"})}),M.jsx("button",{onClick:g,title:i?"Light Mode":"Dark Mode",className:`p-2 rounded-lg ${t.muted} hover:text-yellow-400 dark:hover:text-yellow-300 hover:bg-yellow-400/10 transition-colors duration-200`,children:i?M.jsx(V0,{className:"w-4 h-4 md:w-5 md:h-5"}):M.jsx(L0,{className:"w-4 h-4 md:w-5 md:h-5"})}),M.jsx("button",{onClick:T,title:"Export Conversation",className:`p-2 rounded-lg ${t.muted} hover:text-blue-400 hover:bg-blue-400/10 transition-colors duration-200`,children:M.jsx(uI,{className:"w-4 h-4 md:w-5 md:h-5"})}),M.jsx("button",{onClick:E,title:"Settings",className:`p-2 rounded-lg transition-colors duration-200 ${s?"text-cyan-400 bg-cyan-400/10":`${t.muted} hover:text-cyan-400 hover:bg-cyan-400/10`}`,children:M.jsx(P0,{className:"w-4 h-4 md:w-5 md:h-5"})})]})]})})};var hv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=function(t){const e=[];let i=0;for(let s=0;s<t.length;s++){let l=t.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(t.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},H2=function(t){const e=[];let i=0,s=0;for(;i<t.length;){const l=t[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const f=t[i++];e[s++]=String.fromCharCode((l&31)<<6|f&63)}else if(l>239&&l<365){const f=t[i++],h=t[i++],m=t[i++],y=((l&7)<<18|(f&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const f=t[i++],h=t[i++];e[s++]=String.fromCharCode((l&15)<<12|(f&63)<<6|h&63)}}return e.join("")},eT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<t.length;l+=3){const f=t[l],h=l+1<t.length,m=h?t[l+1]:0,y=l+2<t.length,g=y?t[l+2]:0,T=f>>2,E=(f&3)<<4|m>>4;let A=(m&15)<<2|g>>6,I=g&63;y||(I=64,h||(A=64)),s.push(i[T],i[E],i[A],i[I])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(j0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):H2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<t.length;){const f=i[t.charAt(l++)],m=l<t.length?i[t.charAt(l)]:0;++l;const g=l<t.length?i[t.charAt(l)]:64;++l;const E=l<t.length?i[t.charAt(l)]:64;if(++l,f==null||m==null||g==null||E==null)throw new G2;const A=f<<2|m>>4;if(s.push(A),g!==64){const I=m<<4&240|g>>2;if(s.push(I),E!==64){const L=g<<6&192|E;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q2=function(t){const e=j0(t);return eT.encodeByteArray(e,!0)},Ju=function(t){return q2(t).replace(/\./g,"")},tT=function(t){try{return eT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=()=>z2().__FIREBASE_DEFAULTS__,$2=()=>{if(typeof process>"u"||typeof hv>"u")return;const t=hv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Y2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tT(t[1]);return e&&JSON.parse(e)},rh=()=>{try{return F2()||$2()||Y2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nT=t=>{var e,i;return(i=(e=rh())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[t]},J2=t=>{const e=nT(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},iT=()=>{var t;return(t=rh())===null||t===void 0?void 0:t.config},oT=t=>{var e;return(e=rh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=t.iat||0,f=t.sub||t.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ju(JSON.stringify(i)),Ju(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function Z2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function W2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function j2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eN(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tN(){try{return typeof indexedDB=="object"}catch{return!1}}function nN(){return new Promise((t,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),t(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var f;e(((f=l.error)===null||f===void 0?void 0:f.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="FirebaseError";class to extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=iN,Object.setPrototypeOf(this,to.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ta.prototype.create)}}class ta{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,f=this.errors[e],h=f?oN(f,s):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new to(l,m,s)}}function oN(t,e){return t.replace(sN,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const sN=/\{\$([^}]+)}/g;function rN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ku(t,e){if(t===e)return!0;const i=Object.keys(t),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const f=t[l],h=e[l];if(pv(f)&&pv(h)){if(!Ku(f,h))return!1}else if(f!==h)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function pv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t){const e=[];for(const[i,s]of Object.entries(t))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function lN(t,e){const i=new aN(t,e);return i.subscribe.bind(i)}class aN{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");uN(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=hd),l.error===void 0&&(l.error=hd),l.complete===void 0&&(l.complete=hd);const f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),f}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uN(t,e){if(typeof t!="object"||t===null)return!1;for(const i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}function hd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(t){return t&&t._delegate?t._delegate:t}class Rs{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new K2;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(f){if(l)return null;throw f}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dN(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:l});s.resolve(f)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);s===m&&h.resolve(l)}return l}onInit(e,i){var s;const l=this.normalizeInstanceIdentifier(i),f=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;f.add(e),this.onInitCallbacks.set(l,f);const h=this.instances.get(l);return h&&e(h,l),()=>{f.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:fN(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fN(t){return t===Es?void 0:t}function dN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new cN(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const pN={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},mN=Ke.INFO,gN={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},yN=(t,e,...i)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),l=gN[e];if(l)console[l](`[${s}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lh{constructor(e){this.name=e,this._logLevel=mN,this._logHandler=yN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const vN=(t,e)=>e.some(i=>t instanceof i);let mv,gv;function TN(){return mv||(mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _N(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sT=new WeakMap,Vd=new WeakMap,rT=new WeakMap,pd=new WeakMap,ah=new WeakMap;function SN(t){const e=new Promise((i,s)=>{const l=()=>{t.removeEventListener("success",f),t.removeEventListener("error",h)},f=()=>{i(Po(t.result)),l()},h=()=>{s(t.error),l()};t.addEventListener("success",f),t.addEventListener("error",h)});return e.then(i=>{i instanceof IDBCursor&&sT.set(i,t)}).catch(()=>{}),ah.set(e,t),e}function EN(t){if(Vd.has(t))return;const e=new Promise((i,s)=>{const l=()=>{t.removeEventListener("complete",f),t.removeEventListener("error",h),t.removeEventListener("abort",h)},f=()=>{i(),l()},h=()=>{s(t.error||new DOMException("AbortError","AbortError")),l()};t.addEventListener("complete",f),t.addEventListener("error",h),t.addEventListener("abort",h)});Vd.set(t,e)}let Bd={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return Vd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rT.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Po(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CN(t){Bd=t(Bd)}function AN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=t.call(md(this),e,...i);return rT.set(s,e.sort?e.sort():[e]),Po(s)}:_N().includes(t)?function(...e){return t.apply(md(this),e),Po(sT.get(this))}:function(...e){return Po(t.apply(md(this),e))}}function wN(t){return typeof t=="function"?AN(t):(t instanceof IDBTransaction&&EN(t),vN(t,TN())?new Proxy(t,Bd):t)}function Po(t){if(t instanceof IDBRequest)return SN(t);if(pd.has(t))return pd.get(t);const e=wN(t);return e!==t&&(pd.set(t,e),ah.set(e,t)),e}const md=t=>ah.get(t);function xN(t,e,{blocked:i,upgrade:s,blocking:l,terminated:f}={}){const h=indexedDB.open(t,e),m=Po(h);return s&&h.addEventListener("upgradeneeded",y=>{s(Po(h.result),y.oldVersion,y.newVersion,Po(h.transaction),y)}),i&&h.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),m.then(y=>{f&&y.addEventListener("close",()=>f()),l&&y.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const RN=["get","getKey","getAll","getAllKeys","count"],MN=["put","add","delete","clear"],gd=new Map;function yv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gd.get(e))return gd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=MN.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||RN.includes(i)))return;const f=async function(h,...m){const y=this.transaction(h,l?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),l&&y.done]))[0]};return gd.set(e,f),f}CN(t=>({...t,get:(e,i,s)=>yv(e,i)||t.get(e,i,s),has:(e,i)=>!!yv(e,i)||t.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(IN(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function IN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hd="@firebase/app",vv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new lh("@firebase/app"),NN="@firebase/app-compat",kN="@firebase/analytics-compat",DN="@firebase/analytics",UN="@firebase/app-check-compat",LN="@firebase/app-check",PN="@firebase/auth",ON="@firebase/auth-compat",VN="@firebase/database",BN="@firebase/data-connect",HN="@firebase/database-compat",GN="@firebase/functions",qN="@firebase/functions-compat",zN="@firebase/installations",FN="@firebase/installations-compat",$N="@firebase/messaging",YN="@firebase/messaging-compat",JN="@firebase/performance",KN="@firebase/performance-compat",XN="@firebase/remote-config",QN="@firebase/remote-config-compat",ZN="@firebase/storage",WN="@firebase/storage-compat",jN="@firebase/firestore",ek="@firebase/vertexai-preview",tk="@firebase/firestore-compat",nk="firebase",ik="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="[DEFAULT]",ok={[Hd]:"fire-core",[NN]:"fire-core-compat",[DN]:"fire-analytics",[kN]:"fire-analytics-compat",[LN]:"fire-app-check",[UN]:"fire-app-check-compat",[PN]:"fire-auth",[ON]:"fire-auth-compat",[VN]:"fire-rtdb",[BN]:"fire-data-connect",[HN]:"fire-rtdb-compat",[GN]:"fire-fn",[qN]:"fire-fn-compat",[zN]:"fire-iid",[FN]:"fire-iid-compat",[$N]:"fire-fcm",[YN]:"fire-fcm-compat",[JN]:"fire-perf",[KN]:"fire-perf-compat",[XN]:"fire-rc",[QN]:"fire-rc-compat",[ZN]:"fire-gcs",[WN]:"fire-gcs-compat",[jN]:"fire-fst",[tk]:"fire-fst-compat",[ek]:"fire-vertex","fire-js":"fire-js",[nk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=new Map,sk=new Map,qd=new Map;function Tv(t,e){try{t.container.addComponent(e)}catch(i){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function br(t){const e=t.name;if(qd.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;qd.set(e,t);for(const i of Ql.values())Tv(i,t);for(const i of sk.values())Tv(i,t);return!0}function uh(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function yi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oo=new ta("app","Firebase",rk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=ik;function lT(t,e={}){let i=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Gd,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw Oo.create("bad-app-name",{appName:String(l)});if(i||(i=iT()),!i)throw Oo.create("no-options");const f=Ql.get(l);if(f){if(Ku(i,f.options)&&Ku(s,f.config))return f;throw Oo.create("duplicate-app",{appName:l})}const h=new hN(l);for(const y of qd.values())h.addComponent(y);const m=new lk(i,s,h);return Ql.set(l,m),m}function aT(t=Gd){const e=Ql.get(t);if(!e&&t===Gd&&iT())return lT();if(!e)throw Oo.create("no-app",{appName:t});return e}function _v(){return Array.from(Ql.values())}function Vo(t,e,i){var s;let l=(s=ok[t])!==null&&s!==void 0?s:t;i&&(l+=`-${i}`);const f=l.match(/\s|\//),h=e.match(/\s|\//);if(f||h){const m=[`Unable to register library "${l}" with version "${e}":`];f&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),f&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(m.join(" "));return}br(new Rs(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="firebase-heartbeat-database",uk=1,Zl="firebase-heartbeat-store";let yd=null;function uT(){return yd||(yd=xN(ak,uk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zl)}catch(i){console.warn(i)}}}}).catch(t=>{throw Oo.create("idb-open",{originalErrorMessage:t.message})})),yd}async function ck(t){try{const i=(await uT()).transaction(Zl),s=await i.objectStore(Zl).get(cT(t));return await i.done,s}catch(e){if(e instanceof to)Wi.warn(e.message);else{const i=Oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(i.message)}}}async function Sv(t,e){try{const s=(await uT()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,cT(t)),await s.done}catch(i){if(i instanceof to)Wi.warn(i.message);else{const s=Oo.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Wi.warn(s.message)}}}function cT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=1024,dk=720*60*60*1e3;class hk{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mk(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Ev();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(h=>h.date===f)?void 0:(this._heartbeatsCache.heartbeats.push({date:f,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=dk}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Wi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ev(),{heartbeatsToSend:s,unsentEntries:l}=pk(this._heartbeatsCache.heartbeats),f=Ju(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return Wi.warn(i),""}}}function Ev(){return new Date().toISOString().substring(0,10)}function pk(t,e=fk){const i=[];let s=t.slice();for(const l of t){const f=i.find(h=>h.agent===l.agent);if(f){if(f.dates.push(l.date),Cv(i)>e){f.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Cv(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class mk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tN()?nN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ck(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return Sv(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return Sv(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Cv(t){return Ju(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t){br(new Rs("platform-logger",e=>new bN(e),"PRIVATE")),br(new Rs("heartbeat",e=>new hk(e),"PRIVATE")),Vo(Hd,vv,t),Vo(Hd,vv,"esm2017"),Vo("fire-js","")}gk("");var yk="firebase",vk="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vo(yk,vk,"app");function ch(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(t);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(i[s[l]]=t[s[l]]);return i}function fT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tk=fT,dT=new ta("auth","Firebase",fT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new lh("@firebase/auth");function _k(t,...e){Xu.logLevel<=Ke.WARN&&Xu.warn(`Auth (${Pr}): ${t}`,...e)}function Ou(t,...e){Xu.logLevel<=Ke.ERROR&&Xu.error(`Auth (${Pr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,...e){throw dh(t,...e)}function Zn(t,...e){return dh(t,...e)}function fh(t,e,i){const s=Object.assign(Object.assign({},Tk()),{[e]:i});return new ta("auth","Firebase",s).create(e,{appName:t.name})}function Bo(t){return fh(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sk(t,e,i){const s=i;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ti(t,"argument-error"),fh(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dh(t,...e){if(typeof t!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(i,...s)}return dT.create(t,...e)}function Re(t,e,...i){if(!t)throw dh(e,...i)}function Xi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ou(e),new Error(e)}function ji(t,e){t||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ek(){return Av()==="http:"||Av()==="https:"}function Av(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ek()||W2()||"connection"in navigator)?navigator.onLine:!0}function Ak(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,i){this.shortDelay=e,this.longDelay=i,ji(i>e,"Short delay should be less than long delay!"),this.isMobile=Q2()||j2()}get(){return Ck()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t,e){ji(t.emulator,"Emulator should always be set here");const{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=new ia(3e4,6e4);function rc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Or(t,e,i,s,l={}){return pT(t,l,async()=>{let f={},h={};s&&(e==="GET"?h=s:f={body:JSON.stringify(s)});const m=na(Object.assign({key:t.config.apiKey},h)).slice(1),y=await t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);const g=Object.assign({method:e,headers:y},f);return Z2()||(g.referrerPolicy="no-referrer"),hT.fetch()(gT(t,t.config.apiHost,i,m),g)})}async function pT(t,e,i){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},wk),e);try{const l=new Rk(t),f=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const h=await f.json();if("needConfirmation"in h)throw Nu(t,"account-exists-with-different-credential",h);if(f.ok&&!("errorMessage"in h))return h;{const m=f.ok?h.errorMessage:h.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nu(t,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw Nu(t,"email-already-in-use",h);if(y==="USER_DISABLED")throw Nu(t,"user-disabled",h);const T=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw fh(t,T,g);Ti(t,T)}}catch(l){if(l instanceof to)throw l;Ti(t,"network-request-failed",{message:String(l)})}}async function mT(t,e,i,s,l={}){const f=await Or(t,e,i,s,l);return"mfaPendingCredential"in f&&Ti(t,"multi-factor-auth-required",{_serverResponse:f}),f}function gT(t,e,i,s){const l=`${e}${i}?${s}`;return t.config.emulator?hh(t.config,l):`${t.config.apiScheme}://${l}`}class Rk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Zn(this.auth,"network-request-failed")),xk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nu(t,e,i){const s={appName:t.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Zn(t,e,s);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk(t,e){return Or(t,"POST","/v1/accounts:delete",e)}async function yT(t,e){return Or(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bk(t,e=!1){const i=ks(t),s=await i.getIdToken(e),l=ph(s);Re(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const f=typeof l.firebase=="object"?l.firebase:void 0,h=f==null?void 0:f.sign_in_provider;return{claims:l,token:s,authTime:Jl(vd(l.auth_time)),issuedAtTime:Jl(vd(l.iat)),expirationTime:Jl(vd(l.exp)),signInProvider:h||null,signInSecondFactor:(f==null?void 0:f.sign_in_second_factor)||null}}function vd(t){return Number(t)*1e3}function ph(t){const[e,i,s]=t.split(".");if(e===void 0||i===void 0||s===void 0)return Ou("JWT malformed, contained fewer than 3 sections"),null;try{const l=tT(i);return l?JSON.parse(l):(Ou("Failed to decode base64 JWT payload"),null)}catch(l){return Ou("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function wv(t){const e=ph(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof to&&Ik(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Ik({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t){var e;const i=t.auth,s=await t.getIdToken(),l=await Wl(t,yT(i,{idToken:s}));Re(l==null?void 0:l.users.length,i,"internal-error");const f=l.users[0];t._notifyReloadListener(f);const h=!((e=f.providerUserInfo)===null||e===void 0)&&e.length?vT(f.providerUserInfo):[],m=Dk(t.providerData,h),y=t.isAnonymous,g=!(t.email&&f.passwordHash)&&!(m!=null&&m.length),T=y?g:!1,E={uid:f.localId,displayName:f.displayName||null,photoURL:f.photoUrl||null,email:f.email||null,emailVerified:f.emailVerified||!1,phoneNumber:f.phoneNumber||null,tenantId:f.tenantId||null,providerData:m,metadata:new Fd(f.createdAt,f.lastLoginAt),isAnonymous:T};Object.assign(t,E)}async function kk(t){const e=ks(t);await Qu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Dk(t,e){return[...t.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function vT(t){return t.map(e=>{var{providerId:i}=e,s=ch(e,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk(t,e){const i=await pT(t,{},async()=>{const s=na({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:f}=t.config,h=gT(t,l,"/v1/token",`key=${f}`),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",hT.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Lk(t,e){return Or(t,"POST","/v2/accounts:revokeToken",rc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const i=wv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:f}=await Uk(e,i);this.updateTokensAndExpiration(s,l,Number(f))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:f}=i,h=new xr;return s&&(Re(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),l&&(Re(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),f&&(Re(typeof f=="number","internal-error",{appName:e}),h.expirationTime=f),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xr,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qi{constructor(e){var{uid:i,auth:s,stsTokenManager:l}=e,f=ch(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=f.displayName||null,this.email=f.email||null,this.emailVerified=f.emailVerified||!1,this.phoneNumber=f.phoneNumber||null,this.photoURL=f.photoURL||null,this.isAnonymous=f.isAnonymous||!1,this.tenantId=f.tenantId||null,this.providerData=f.providerData?[...f.providerData]:[],this.metadata=new Fd(f.createdAt||void 0,f.lastLoginAt||void 0)}async getIdToken(e){const i=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return Re(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return bk(this,e)}reload(){return kk(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Qi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Qu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(Bo(this.auth));const e=await this.getIdToken();return await Wl(this,Mk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var s,l,f,h,m,y,g,T;const E=(s=i.displayName)!==null&&s!==void 0?s:void 0,A=(l=i.email)!==null&&l!==void 0?l:void 0,I=(f=i.phoneNumber)!==null&&f!==void 0?f:void 0,L=(h=i.photoURL)!==null&&h!==void 0?h:void 0,F=(m=i.tenantId)!==null&&m!==void 0?m:void 0,Q=(y=i._redirectEventId)!==null&&y!==void 0?y:void 0,ae=(g=i.createdAt)!==null&&g!==void 0?g:void 0,se=(T=i.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ie,emailVerified:fe,isAnonymous:ne,providerData:he,stsTokenManager:k}=i;Re(ie&&k,e,"internal-error");const b=xr.fromJSON(this.name,k);Re(typeof ie=="string",e,"internal-error"),No(E,e.name),No(A,e.name),Re(typeof fe=="boolean",e,"internal-error"),Re(typeof ne=="boolean",e,"internal-error"),No(I,e.name),No(L,e.name),No(F,e.name),No(Q,e.name),No(ae,e.name),No(se,e.name);const R=new Qi({uid:ie,auth:e,email:A,emailVerified:fe,displayName:E,isAnonymous:ne,photoURL:L,phoneNumber:I,tenantId:F,stsTokenManager:b,createdAt:ae,lastLoginAt:se});return he&&Array.isArray(he)&&(R.providerData=he.map(P=>Object.assign({},P))),Q&&(R._redirectEventId=Q),R}static async _fromIdTokenResponse(e,i,s=!1){const l=new xr;l.updateFromServerResponse(i);const f=new Qi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Qu(f),f}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];Re(l.localId!==void 0,"internal-error");const f=l.providerUserInfo!==void 0?vT(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!(f!=null&&f.length),m=new xr;m.updateFromIdToken(s);const y=new Qi({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Fd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(f!=null&&f.length)};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=new Map;function Zi(t){ji(t instanceof Function,"Expected a class definition");let e=xv.get(t);return e?(ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}TT.type="NONE";const Rv=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t,e,i){return`firebase:${t}:${e}:${i}`}class Rr{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:f}=this.auth;this.fullUserKey=Vu(this.userKey,l.apiKey,f),this.fullPersistenceKey=Vu("persistence",l.apiKey,f),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Rr(Zi(Rv),e,s);const l=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let f=l[0]||Zi(Rv);const h=Vu(s,e.config.apiKey,e.name);let m=null;for(const g of i)try{const T=await g._get(h);if(T){const E=Qi._fromJSON(e,T);g!==f&&(m=E),f=g;break}}catch{}const y=l.filter(g=>g._shouldAllowMigration);return!f._shouldAllowMigration||!y.length?new Rr(f,e,s):(f=y[0],m&&await f._set(h,m.toJSON()),await Promise.all(i.map(async g=>{if(g!==f)try{await g._remove(h)}catch{}})),new Rr(f,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_T(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wT(e))return"Blackberry";if(xT(e))return"Webos";if(ST(e))return"Safari";if((e.includes("chrome/")||ET(e))&&!e.includes("edge/"))return"Chrome";if(AT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function _T(t=on()){return/firefox\//i.test(t)}function ST(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ET(t=on()){return/crios\//i.test(t)}function CT(t=on()){return/iemobile/i.test(t)}function AT(t=on()){return/android/i.test(t)}function wT(t=on()){return/blackberry/i.test(t)}function xT(t=on()){return/webos/i.test(t)}function mh(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Pk(t=on()){var e;return mh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ok(){return eN()&&document.documentMode===10}function RT(t=on()){return mh(t)||AT(t)||xT(t)||wT(t)||/windows phone/i.test(t)||CT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t,e=[]){let i;switch(t){case"Browser":i=Mv(on());break;case"Worker":i=`${Mv(on())}-${t}`;break;default:i=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Pr}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=f=>new Promise((h,m)=>{try{const y=e(f);h(y)}catch(y){m(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(t,e={}){return Or(t,"GET","/v2/passwordPolicy",rc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=6;class Gk{constructor(e){var i,s,l,f;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=h.minPasswordLength)!==null&&i!==void 0?i:Hk,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(f=e.forceUpgradeOnSignin)!==null&&f!==void 0?f:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,s,l,f,h,m;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,y),this.validatePasswordCharacterOptions(e,y),y.isValid&&(y.isValid=(i=y.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),y.isValid&&(y.isValid=(s=y.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),y.isValid&&(y.isValid=(l=y.containsLowercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(f=y.containsUppercaseLetter)!==null&&f!==void 0?f:!0),y.isValid&&(y.isValid=(h=y.containsNumericCharacter)!==null&&h!==void 0?h:!0),y.isValid&&(y.isValid=(m=y.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),y}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,f){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bv(this),this.idTokenSubscription=new bv(this),this.beforeStateQueue=new Vk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{var s,l;if(!this._deleted&&(this.persistenceManager=await Rr.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await yT(this,{idToken:e}),s=await Qi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(yi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,f=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,m=l==null?void 0:l._redirectEventId,y=await this.tryRedirectSignIn(e);(!h||h===m)&&(y!=null&&y.user)&&(l=y.user,f=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(f)try{await this.beforeStateQueue.runMiddleware(l)}catch(h){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Qu(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ak()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(Bo(this));const i=e?ks(e):null;return i&&Re(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(Bo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(Bo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Bk(this),i=new Gk(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ta("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await Lk(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Zi(e)||this._popupRedirectResolver;Re(i,this,"argument-error"),this.redirectPersistenceManager=await Rr.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const f=typeof i=="function"?i:i.next.bind(i);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(m,this,"internal-error"),m.then(()=>{h||f(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,s,l);return()=>{h=!0,y()}}else{const y=e.addObserver(i);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var e;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&_k(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function oa(t){return ks(t)}class bv{constructor(e){this.auth=e,this.observer=null,this.addObserver=lN(i=>this.observer=i)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zk(t){gh=t}function Fk(t){return gh.loadJS(t)}function $k(){return gh.gapiScript}function Yk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t,e){const i=uh(t,"auth");if(i.isInitialized()){const l=i.getImmediate(),f=i.getOptions();if(Ku(f,e??{}))return l;Ti(l,"already-initialized")}return i.initialize({options:e})}function Kk(t,e){const i=(e==null?void 0:e.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Zi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Xk(t,e,i){const s=oa(t);Re(s._canInitEmulator,s,"emulator-config-failed"),Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,f=bT(e),{host:h,port:m}=Qk(e),y=m===null?"":`:${m}`;s.config.emulator={url:`${f}//${h}${y}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:m,protocol:f.replace(":",""),options:Object.freeze({disableWarnings:l})}),Zk()}function bT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Qk(t){const e=bT(t),i=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const f=l[1];return{host:f,port:Iv(s.substr(f.length+1))}}else{const[f,h]=s.split(":");return{host:f,port:Iv(h)}}}function Iv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Zk(){function t(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,i){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mr(t,e){return mT(t,"POST","/v1/accounts:signInWithIdp",rc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="http://localhost";class Ms extends IT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ti("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=i,f=ch(i,["providerId","signInMethod"]);if(!s||!l)return null;const h=new Ms(s,l);return h.idToken=f.idToken||void 0,h.accessToken=f.accessToken||void 0,h.secret=f.secret,h.nonce=f.nonce,h.pendingToken=f.pendingToken||null,h}_getIdTokenResponse(e){const i=this.buildRequest();return Mr(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Mr(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Mr(e,i)}buildRequest(){const e={requestUri:Wk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=na(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends yh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends sa{constructor(){super("facebook.com")}static credential(e){return Ms._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ko.credential(e.oauthAccessToken)}catch{return null}}}ko.FACEBOOK_SIGN_IN_METHOD="facebook.com";ko.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends sa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ms._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return Yi.credential(i,s)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends sa{constructor(){super("github.com")}static credential(e){return Ms._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Do.credential(e.oauthAccessToken)}catch{return null}}}Do.GITHUB_SIGN_IN_METHOD="github.com";Do.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends sa{constructor(){super("twitter.com")}static credential(e,i){return Ms._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return Uo.credential(i,s)}catch{return null}}}Uo.TWITTER_SIGN_IN_METHOD="twitter.com";Uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(t,e){return mT(t,"POST","/v1/accounts:signUp",rc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const f=await Qi._fromIdTokenResponse(e,s,l),h=Nv(s);return new Ho({user:f,providerId:h,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=Nv(s);return new Ho({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function Nv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t){var e;if(yi(t.app))return Promise.reject(Bo(t));const i=oa(t);if(await i._initializationPromise,!((e=i.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ho({user:i.currentUser,providerId:null,operationType:"signIn"});const s=await jk(i,{returnSecureToken:!0}),l=await Ho._fromIdTokenResponse(i,"signIn",s,!0);return await i._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends to{constructor(e,i,s,l){var f;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Zu.prototype),this.customData={appName:e.name,tenantId:(f=e.tenantId)!==null&&f!==void 0?f:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new Zu(e,i,s,l)}}function NT(t,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(t):i._getIdTokenResponse(t)).catch(f=>{throw f.code==="auth/multi-factor-auth-required"?Zu._fromErrorAndOperation(t,f,e,s):f})}async function tD(t,e,i=!1){const s=await Wl(t,e._linkToIdToken(t.auth,await t.getIdToken()),i);return Ho._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(t,e,i=!1){const{auth:s}=t;if(yi(s.app))return Promise.reject(Bo(s));const l="reauthenticate";try{const f=await Wl(t,NT(s,l,e,t),i);Re(f.idToken,s,"internal-error");const h=ph(f.idToken);Re(h,s,"internal-error");const{sub:m}=h;return Re(t.uid===m,s,"user-mismatch"),Ho._forOperation(t,l,f)}catch(f){throw(f==null?void 0:f.code)==="auth/user-not-found"&&Ti(s,"user-mismatch"),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(t,e,i=!1){if(yi(t.app))return Promise.reject(Bo(t));const s="signIn",l=await NT(t,s,e),f=await Ho._fromIdTokenResponse(t,s,l);return i||await t._updateCurrentUser(f.user),f}function oD(t,e,i,s){return ks(t).onIdTokenChanged(e,i,s)}function sD(t,e,i){return ks(t).beforeAuthStateChanged(e,i)}function rD(t,e,i,s){return ks(t).onAuthStateChanged(e,i,s)}const Wu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wu,"1"),this.storage.removeItem(Wu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=1e3,aD=10;class DT extends kT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((h,m,y)=>{this.notifyListeners(h,y)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(s);!i&&this.localCache[s]===h||this.notifyListeners(s,h)},f=this.storage.getItem(s);Ok()&&f!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,aD):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},lD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}DT.type="LOCAL";const uD=DT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends kT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}UT.type="SESSION";const LT=UT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new lc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:f}=i.data,h=this.handlersMap[l];if(!(h!=null&&h.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const m=Array.from(h).map(async g=>g(i.origin,f)),y=await cD(m);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return t+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let f,h;return new Promise((m,y)=>{const g=vh("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},s);h={messageChannel:l,onMessage(E){const A=E;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(T),f=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(f),m(A.data.response);break;default:clearTimeout(T),clearTimeout(f),y(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:i},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function dD(t){vi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function hD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mD(){return PT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="firebaseLocalStorageDb",gD=1,ju="firebaseLocalStorage",VT="fbase_key";class ra{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ac(t,e){return t.transaction([ju],e?"readwrite":"readonly").objectStore(ju)}function yD(){const t=indexedDB.deleteDatabase(OT);return new ra(t).toPromise()}function $d(){const t=indexedDB.open(OT,gD);return new Promise((e,i)=>{t.addEventListener("error",()=>{i(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ju,{keyPath:VT})}catch(l){i(l)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ju)?e(s):(s.close(),await yD(),e(await $d()))})})}async function kv(t,e,i){const s=ac(t,!0).put({[VT]:e,value:i});return new ra(s).toPromise()}async function vD(t,e){const i=ac(t,!1).get(e),s=await new ra(i).toPromise();return s===void 0?null:s.value}function Dv(t,e){const i=ac(t,!0).delete(e);return new ra(i).toPromise()}const TD=800,_D=3;class BT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>_D)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lc._getInstance(mD()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await hD(),!this.activeServiceWorker)return;this.sender=new fD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $d();return await kv(e,Wu,"1"),await Dv(e,Wu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>kv(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>vD(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Dv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const f=ac(l,!1).getAll();return new ra(f).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:f}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(f)&&(this.notifyListeners(l,f),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BT.type="LOCAL";const SD=BT;new ia(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t,e){return e?Zi(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends IT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Mr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Mr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function ED(t){return iD(t.auth,new Th(t),t.bypassAuthState)}function CD(t){const{auth:e,user:i}=t;return Re(i,e,"internal-error"),nD(i,new Th(t),t.bypassAuthState)}async function AD(t){const{auth:e,user:i}=t;return Re(i,e,"internal-error"),tD(i,new Th(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,i,s,l,f=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=f,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:f,error:h,type:m}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:f||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ED;case"linkViaPopup":case"linkViaRedirect":return AD;case"reauthViaPopup":case"reauthViaRedirect":return CD;default:Ti(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=new ia(2e3,1e4);async function xD(t,e,i){if(yi(t.app))return Promise.reject(Zn(t,"operation-not-supported-in-this-environment"));const s=oa(t);Sk(t,e,yh);const l=HT(s,i);return new As(s,"signInViaPopup",e,l).executeNotNull()}class As extends GT{constructor(e,i,s,l,f){super(e,i,l,f),this.provider=s,this.authWindow=null,this.pollId=null,As.currentPopupAction&&As.currentPopupAction.cancel(),As.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=vh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,As.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wD.get())};e()}}As.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="pendingRedirect",Bu=new Map;class MD extends GT{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Bu.get(this.auth._key());if(!e){try{const s=await bD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Bu.set(this.auth._key(),e)}return this.bypassAuthState||Bu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bD(t,e){const i=kD(e),s=ND(t);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function ID(t,e){Bu.set(t._key(),e)}function ND(t){return Zi(t._redirectPersistence)}function kD(t){return Vu(RD,t.config.apiKey,t.name)}async function DD(t,e,i=!1){if(yi(t.app))return Promise.reject(Bo(t));const s=oa(t),l=HT(s,e),h=await new MD(s,l,i).execute();return h&&!i&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=600*1e3;class LD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PD(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var s;if(e.error&&!qT(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(Zn(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uv(e))}saveEventToCache(e){this.cachedEventUids.add(Uv(e)),this.lastProcessedEventTime=Date.now()}}function Uv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(t,e={}){return Or(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BD=/^https?/;async function HD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OD(t);for(const i of e)try{if(GD(i))return}catch{}Ti(t,"unauthorized-domain")}function GD(t){const e=zd(),{protocol:i,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const h=new URL(t);return h.hostname===""&&s===""?i==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===s}if(!BD.test(i))return!1;if(VD.test(t))return s===t;const l=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new ia(3e4,6e4);function Lv(){const t=vi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let i=0;i<t.CP.length;i++)t.CP[i]=null}}function zD(t){return new Promise((e,i)=>{var s,l,f;function h(){Lv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lv(),i(Zn(t,"network-request-failed"))},timeout:qD.get()})}if(!((l=(s=vi().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((f=vi().gapi)===null||f===void 0)&&f.load)h();else{const m=Yk("iframefcb");return vi()[m]=()=>{gapi.load?h():i(Zn(t,"network-request-failed"))},Fk(`${$k()}?onload=${m}`).catch(y=>i(y))}}).catch(e=>{throw Hu=null,e})}let Hu=null;function FD(t){return Hu=Hu||zD(t),Hu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new ia(5e3,15e3),YD="__/auth/iframe",JD="emulator/auth/iframe",KD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QD(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const i=e.emulator?hh(e,JD):`https://${t.config.authDomain}/${YD}`,s={apiKey:e.apiKey,appName:t.name,v:Pr},l=XD.get(t.config.apiHost);l&&(s.eid=l);const f=t._getFrameworks();return f.length&&(s.fw=f.join(",")),`${i}?${na(s).slice(1)}`}async function ZD(t){const e=await FD(t),i=vi().gapi;return Re(i,t,"internal-error"),e.open({where:document.body,url:QD(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KD,dontclear:!0},s=>new Promise(async(l,f)=>{await s.restyle({setHideOnLeave:!1});const h=Zn(t,"network-request-failed"),m=vi().setTimeout(()=>{f(h)},$D.get());function y(){vi().clearTimeout(m),l(s)}s.ping(y).then(y,()=>{f(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jD=500,eU=600,tU="_blank",nU="http://localhost";class Pv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iU(t,e,i,s=jD,l=eU){const f=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y=Object.assign(Object.assign({},WD),{width:s.toString(),height:l.toString(),top:f,left:h}),g=on().toLowerCase();i&&(m=ET(g)?tU:i),_T(g)&&(e=e||nU,y.scrollbars="yes");const T=Object.entries(y).reduce((A,[I,L])=>`${A}${I}=${L},`,"");if(Pk(g)&&m!=="_self")return oU(e||"",m),new Pv(null);const E=window.open(e||"",m,T);Re(E,t,"popup-blocked");try{E.focus()}catch{}return new Pv(E)}function oU(t,e){const i=document.createElement("a");i.href=t,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU="__/auth/handler",rU="emulator/auth/handler",lU=encodeURIComponent("fac");async function Ov(t,e,i,s,l,f){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const h={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:s,v:Pr,eventId:l};if(e instanceof yh){e.setDefaultLanguage(t.languageCode),h.providerId=e.providerId||"",rN(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,E]of Object.entries({}))h[T]=E}if(e instanceof sa){const T=e.getScopes().filter(E=>E!=="");T.length>0&&(h.scopes=T.join(","))}t.tenantId&&(h.tid=t.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const y=await t._getAppCheckToken(),g=y?`#${lU}=${encodeURIComponent(y)}`:"";return`${aU(t)}?${na(m).slice(1)}${g}`}function aU({config:t}){return t.emulator?hh(t,rU):`https://${t.authDomain}/${sU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="webStorageSupport";class uU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LT,this._completeRedirectFn=DD,this._overrideRedirectResult=ID}async _openPopup(e,i,s,l){var f;ji((f=this.eventManagers[e._key()])===null||f===void 0?void 0:f.manager,"_initialize() not called before _openPopup()");const h=await Ov(e,i,s,zd(),l);return iU(e,h,vh())}async _openRedirect(e,i,s,l){await this._originValidation(e);const f=await Ov(e,i,s,zd(),l);return dD(f),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:f}=this.eventManagers[i];return l?Promise.resolve(l):(ji(f,"If manager is not set, promise should be"),f)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await ZD(e),s=new LD(e);return i.register("authEvent",l=>(Re(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Td,{type:Td},l=>{var f;const h=(f=l==null?void 0:l[0])===null||f===void 0?void 0:f[Td];h!==void 0&&i(!!h),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=HD(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return RT()||ST()||mh()}}const cU=uU;var Vv="@firebase/auth",Bv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hU(t){br(new Rs("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),f=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Re(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:h,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MT(t)},g=new qk(s,l,f,y);return Kk(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),br(new Rs("auth-internal",e=>{const i=oa(e.getProvider("auth").getImmediate());return(s=>new fU(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vo(Vv,Bv,dU(t)),Vo(Vv,Bv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=300,mU=oT("authIdTokenMaxAge")||pU;let Hv=null;const gU=t=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>mU)return;const l=i==null?void 0:i.token;Hv!==l&&(Hv=l,await fetch(t,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function yU(t=aT()){const e=uh(t,"auth");if(e.isInitialized())return e.getImmediate();const i=Jk(t,{popupRedirectResolver:cU,persistence:[SD,uD,LT]}),s=oT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const f=new URL(s,location.origin);if(location.origin===f.origin){const h=gU(f.toString());sD(i,h,()=>h(i.currentUser)),oD(i,m=>h(m))}}const l=nT("auth");return l&&Xk(i,`http://${l}`),i}function vU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zk({loadJS(t){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=l=>{const f=Zn("internal-error");f.customData=l,i(f)},s.type="text/javascript",s.charset="UTF-8",vU().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hU("Browser");var Gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,b){function R(){}R.prototype=b.prototype,k.D=b.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(P,N,B){for(var U=Array(arguments.length-2),at=2;at<arguments.length;at++)U[at-2]=arguments[at];return b.prototype[N].apply(P,U)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(k,b,R){R||(R=0);var P=Array(16);if(typeof b=="string")for(var N=0;16>N;++N)P[N]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(N=0;16>N;++N)P[N]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=k.g[0],R=k.g[1],N=k.g[2];var B=k.g[3],U=b+(B^R&(N^B))+P[0]+3614090360&4294967295;b=R+(U<<7&4294967295|U>>>25),U=B+(N^b&(R^N))+P[1]+3905402710&4294967295,B=b+(U<<12&4294967295|U>>>20),U=N+(R^B&(b^R))+P[2]+606105819&4294967295,N=B+(U<<17&4294967295|U>>>15),U=R+(b^N&(B^b))+P[3]+3250441966&4294967295,R=N+(U<<22&4294967295|U>>>10),U=b+(B^R&(N^B))+P[4]+4118548399&4294967295,b=R+(U<<7&4294967295|U>>>25),U=B+(N^b&(R^N))+P[5]+1200080426&4294967295,B=b+(U<<12&4294967295|U>>>20),U=N+(R^B&(b^R))+P[6]+2821735955&4294967295,N=B+(U<<17&4294967295|U>>>15),U=R+(b^N&(B^b))+P[7]+4249261313&4294967295,R=N+(U<<22&4294967295|U>>>10),U=b+(B^R&(N^B))+P[8]+1770035416&4294967295,b=R+(U<<7&4294967295|U>>>25),U=B+(N^b&(R^N))+P[9]+2336552879&4294967295,B=b+(U<<12&4294967295|U>>>20),U=N+(R^B&(b^R))+P[10]+4294925233&4294967295,N=B+(U<<17&4294967295|U>>>15),U=R+(b^N&(B^b))+P[11]+2304563134&4294967295,R=N+(U<<22&4294967295|U>>>10),U=b+(B^R&(N^B))+P[12]+1804603682&4294967295,b=R+(U<<7&4294967295|U>>>25),U=B+(N^b&(R^N))+P[13]+4254626195&4294967295,B=b+(U<<12&4294967295|U>>>20),U=N+(R^B&(b^R))+P[14]+2792965006&4294967295,N=B+(U<<17&4294967295|U>>>15),U=R+(b^N&(B^b))+P[15]+1236535329&4294967295,R=N+(U<<22&4294967295|U>>>10),U=b+(N^B&(R^N))+P[1]+4129170786&4294967295,b=R+(U<<5&4294967295|U>>>27),U=B+(R^N&(b^R))+P[6]+3225465664&4294967295,B=b+(U<<9&4294967295|U>>>23),U=N+(b^R&(B^b))+P[11]+643717713&4294967295,N=B+(U<<14&4294967295|U>>>18),U=R+(B^b&(N^B))+P[0]+3921069994&4294967295,R=N+(U<<20&4294967295|U>>>12),U=b+(N^B&(R^N))+P[5]+3593408605&4294967295,b=R+(U<<5&4294967295|U>>>27),U=B+(R^N&(b^R))+P[10]+38016083&4294967295,B=b+(U<<9&4294967295|U>>>23),U=N+(b^R&(B^b))+P[15]+3634488961&4294967295,N=B+(U<<14&4294967295|U>>>18),U=R+(B^b&(N^B))+P[4]+3889429448&4294967295,R=N+(U<<20&4294967295|U>>>12),U=b+(N^B&(R^N))+P[9]+568446438&4294967295,b=R+(U<<5&4294967295|U>>>27),U=B+(R^N&(b^R))+P[14]+3275163606&4294967295,B=b+(U<<9&4294967295|U>>>23),U=N+(b^R&(B^b))+P[3]+4107603335&4294967295,N=B+(U<<14&4294967295|U>>>18),U=R+(B^b&(N^B))+P[8]+1163531501&4294967295,R=N+(U<<20&4294967295|U>>>12),U=b+(N^B&(R^N))+P[13]+2850285829&4294967295,b=R+(U<<5&4294967295|U>>>27),U=B+(R^N&(b^R))+P[2]+4243563512&4294967295,B=b+(U<<9&4294967295|U>>>23),U=N+(b^R&(B^b))+P[7]+1735328473&4294967295,N=B+(U<<14&4294967295|U>>>18),U=R+(B^b&(N^B))+P[12]+2368359562&4294967295,R=N+(U<<20&4294967295|U>>>12),U=b+(R^N^B)+P[5]+4294588738&4294967295,b=R+(U<<4&4294967295|U>>>28),U=B+(b^R^N)+P[8]+2272392833&4294967295,B=b+(U<<11&4294967295|U>>>21),U=N+(B^b^R)+P[11]+1839030562&4294967295,N=B+(U<<16&4294967295|U>>>16),U=R+(N^B^b)+P[14]+4259657740&4294967295,R=N+(U<<23&4294967295|U>>>9),U=b+(R^N^B)+P[1]+2763975236&4294967295,b=R+(U<<4&4294967295|U>>>28),U=B+(b^R^N)+P[4]+1272893353&4294967295,B=b+(U<<11&4294967295|U>>>21),U=N+(B^b^R)+P[7]+4139469664&4294967295,N=B+(U<<16&4294967295|U>>>16),U=R+(N^B^b)+P[10]+3200236656&4294967295,R=N+(U<<23&4294967295|U>>>9),U=b+(R^N^B)+P[13]+681279174&4294967295,b=R+(U<<4&4294967295|U>>>28),U=B+(b^R^N)+P[0]+3936430074&4294967295,B=b+(U<<11&4294967295|U>>>21),U=N+(B^b^R)+P[3]+3572445317&4294967295,N=B+(U<<16&4294967295|U>>>16),U=R+(N^B^b)+P[6]+76029189&4294967295,R=N+(U<<23&4294967295|U>>>9),U=b+(R^N^B)+P[9]+3654602809&4294967295,b=R+(U<<4&4294967295|U>>>28),U=B+(b^R^N)+P[12]+3873151461&4294967295,B=b+(U<<11&4294967295|U>>>21),U=N+(B^b^R)+P[15]+530742520&4294967295,N=B+(U<<16&4294967295|U>>>16),U=R+(N^B^b)+P[2]+3299628645&4294967295,R=N+(U<<23&4294967295|U>>>9),U=b+(N^(R|~B))+P[0]+4096336452&4294967295,b=R+(U<<6&4294967295|U>>>26),U=B+(R^(b|~N))+P[7]+1126891415&4294967295,B=b+(U<<10&4294967295|U>>>22),U=N+(b^(B|~R))+P[14]+2878612391&4294967295,N=B+(U<<15&4294967295|U>>>17),U=R+(B^(N|~b))+P[5]+4237533241&4294967295,R=N+(U<<21&4294967295|U>>>11),U=b+(N^(R|~B))+P[12]+1700485571&4294967295,b=R+(U<<6&4294967295|U>>>26),U=B+(R^(b|~N))+P[3]+2399980690&4294967295,B=b+(U<<10&4294967295|U>>>22),U=N+(b^(B|~R))+P[10]+4293915773&4294967295,N=B+(U<<15&4294967295|U>>>17),U=R+(B^(N|~b))+P[1]+2240044497&4294967295,R=N+(U<<21&4294967295|U>>>11),U=b+(N^(R|~B))+P[8]+1873313359&4294967295,b=R+(U<<6&4294967295|U>>>26),U=B+(R^(b|~N))+P[15]+4264355552&4294967295,B=b+(U<<10&4294967295|U>>>22),U=N+(b^(B|~R))+P[6]+2734768916&4294967295,N=B+(U<<15&4294967295|U>>>17),U=R+(B^(N|~b))+P[13]+1309151649&4294967295,R=N+(U<<21&4294967295|U>>>11),U=b+(N^(R|~B))+P[4]+4149444226&4294967295,b=R+(U<<6&4294967295|U>>>26),U=B+(R^(b|~N))+P[11]+3174756917&4294967295,B=b+(U<<10&4294967295|U>>>22),U=N+(b^(B|~R))+P[2]+718787259&4294967295,N=B+(U<<15&4294967295|U>>>17),U=R+(B^(N|~b))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+b&4294967295,k.g[1]=k.g[1]+(N+(U<<21&4294967295|U>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+B&4294967295}s.prototype.u=function(k,b){b===void 0&&(b=k.length);for(var R=b-this.blockSize,P=this.B,N=this.h,B=0;B<b;){if(N==0)for(;B<=R;)l(this,k,B),B+=this.blockSize;if(typeof k=="string"){for(;B<b;)if(P[N++]=k.charCodeAt(B++),N==this.blockSize){l(this,P),N=0;break}}else for(;B<b;)if(P[N++]=k[B++],N==this.blockSize){l(this,P),N=0;break}}this.h=N,this.o+=b},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var b=1;b<k.length-8;++b)k[b]=0;var R=8*this.o;for(b=k.length-8;b<k.length;++b)k[b]=R&255,R/=256;for(this.u(k),k=Array(16),b=R=0;4>b;++b)for(var P=0;32>P;P+=8)k[R++]=this.g[b]>>>P&255;return k};function f(k,b){var R=m;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=b(k)}function h(k,b){this.h=b;for(var R=[],P=!0,N=k.length-1;0<=N;N--){var B=k[N]|0;P&&B==b||(R[N]=B,P=!1)}this.g=R}var m={};function y(k){return-128<=k&&128>k?f(k,function(b){return new h([b|0],0>b?-1:0)}):new h([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return E;if(0>k)return Q(g(-k));for(var b=[],R=1,P=0;k>=R;P++)b[P]=k/R|0,R*=4294967296;return new h(b,0)}function T(k,b){if(k.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(k.charAt(0)=="-")return Q(T(k.substring(1),b));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(b,8)),P=E,N=0;N<k.length;N+=8){var B=Math.min(8,k.length-N),U=parseInt(k.substring(N,N+B),b);8>B?(B=g(Math.pow(b,B)),P=P.j(B).add(g(U))):(P=P.j(R),P=P.add(g(U)))}return P}var E=y(0),A=y(1),I=y(16777216);t=h.prototype,t.m=function(){if(F(this))return-Q(this).m();for(var k=0,b=1,R=0;R<this.g.length;R++){var P=this.i(R);k+=(0<=P?P:4294967296+P)*b,b*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(L(this))return"0";if(F(this))return"-"+Q(this).toString(k);for(var b=g(Math.pow(k,6)),R=this,P="";;){var N=fe(R,b).g;R=ae(R,N.j(b));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=N,L(R))return B+P;for(;6>B.length;)B="0"+B;P=B+P}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function L(k){if(k.h!=0)return!1;for(var b=0;b<k.g.length;b++)if(k.g[b]!=0)return!1;return!0}function F(k){return k.h==-1}t.l=function(k){return k=ae(this,k),F(k)?-1:L(k)?0:1};function Q(k){for(var b=k.g.length,R=[],P=0;P<b;P++)R[P]=~k.g[P];return new h(R,~k.h).add(A)}t.abs=function(){return F(this)?Q(this):this},t.add=function(k){for(var b=Math.max(this.g.length,k.g.length),R=[],P=0,N=0;N<=b;N++){var B=P+(this.i(N)&65535)+(k.i(N)&65535),U=(B>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);P=U>>>16,B&=65535,U&=65535,R[N]=U<<16|B}return new h(R,R[R.length-1]&-2147483648?-1:0)};function ae(k,b){return k.add(Q(b))}t.j=function(k){if(L(this)||L(k))return E;if(F(this))return F(k)?Q(this).j(Q(k)):Q(Q(this).j(k));if(F(k))return Q(this.j(Q(k)));if(0>this.l(I)&&0>k.l(I))return g(this.m()*k.m());for(var b=this.g.length+k.g.length,R=[],P=0;P<2*b;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<k.g.length;N++){var B=this.i(P)>>>16,U=this.i(P)&65535,at=k.i(N)>>>16,Be=k.i(N)&65535;R[2*P+2*N]+=U*Be,se(R,2*P+2*N),R[2*P+2*N+1]+=B*Be,se(R,2*P+2*N+1),R[2*P+2*N+1]+=U*at,se(R,2*P+2*N+1),R[2*P+2*N+2]+=B*at,se(R,2*P+2*N+2)}for(P=0;P<b;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=b;P<2*b;P++)R[P]=0;return new h(R,0)};function se(k,b){for(;(k[b]&65535)!=k[b];)k[b+1]+=k[b]>>>16,k[b]&=65535,b++}function ie(k,b){this.g=k,this.h=b}function fe(k,b){if(L(b))throw Error("division by zero");if(L(k))return new ie(E,E);if(F(k))return b=fe(Q(k),b),new ie(Q(b.g),Q(b.h));if(F(b))return b=fe(k,Q(b)),new ie(Q(b.g),b.h);if(30<k.g.length){if(F(k)||F(b))throw Error("slowDivide_ only works with positive integers.");for(var R=A,P=b;0>=P.l(k);)R=ne(R),P=ne(P);var N=he(R,1),B=he(P,1);for(P=he(P,2),R=he(R,2);!L(P);){var U=B.add(P);0>=U.l(k)&&(N=N.add(R),B=U),P=he(P,1),R=he(R,1)}return b=ae(k,N.j(b)),new ie(N,b)}for(N=E;0<=k.l(b);){for(R=Math.max(1,Math.floor(k.m()/b.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),B=g(R),U=B.j(b);F(U)||0<U.l(k);)R-=P,B=g(R),U=B.j(b);L(B)&&(B=A),N=N.add(B),k=ae(k,U)}return new ie(N,k)}t.A=function(k){return fe(this,k).h},t.and=function(k){for(var b=Math.max(this.g.length,k.g.length),R=[],P=0;P<b;P++)R[P]=this.i(P)&k.i(P);return new h(R,this.h&k.h)},t.or=function(k){for(var b=Math.max(this.g.length,k.g.length),R=[],P=0;P<b;P++)R[P]=this.i(P)|k.i(P);return new h(R,this.h|k.h)},t.xor=function(k){for(var b=Math.max(this.g.length,k.g.length),R=[],P=0;P<b;P++)R[P]=this.i(P)^k.i(P);return new h(R,this.h^k.h)};function ne(k){for(var b=k.g.length+1,R=[],P=0;P<b;P++)R[P]=k.i(P)<<1|k.i(P-1)>>>31;return new h(R,k.h)}function he(k,b){var R=b>>5;b%=32;for(var P=k.g.length-R,N=[],B=0;B<P;B++)N[B]=0<b?k.i(B+R)>>>b|k.i(B+R+1)<<32-b:k.i(B+R);return new h(N,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=T,zT=h}).apply(typeof Gv<"u"?Gv:typeof self<"u"?self:typeof window<"u"?window:{});var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,S){return d==Array.prototype||d==Object.prototype||(d[_]=S.value),d};function i(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ku=="object"&&ku];for(var _=0;_<d.length;++_){var S=d[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=i(this);function l(d,_){if(_)e:{var S=s;d=d.split(".");for(var x=0;x<d.length-1;x++){var G=d[x];if(!(G in S))break e;S=S[G]}d=d[d.length-1],x=S[d],_=_(x),_!=x&&_!=null&&e(S,d,{configurable:!0,writable:!0,value:_})}}function f(d,_){d instanceof String&&(d+="");var S=0,x=!1,G={next:function(){if(!x&&S<d.length){var K=S++;return{value:_(K,d[K]),done:!1}}return x=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}l("Array.prototype.values",function(d){return d||function(){return f(this,function(_,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function y(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function g(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function T(d,_,S){return d.call.apply(d.bind,arguments)}function E(d,_,S){if(!d)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,x),d.apply(_,G)}}return function(){return d.apply(_,arguments)}}function A(d,_,S){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:E,A.apply(null,arguments)}function I(d,_){var S=Array.prototype.slice.call(arguments,1);return function(){var x=S.slice();return x.push.apply(x,arguments),d.apply(this,x)}}function L(d,_){function S(){}S.prototype=_.prototype,d.aa=_.prototype,d.prototype=new S,d.prototype.constructor=d,d.Qb=function(x,G,K){for(var le=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)le[Je-2]=arguments[Je];return _.prototype[G].apply(x,le)}}function F(d){const _=d.length;if(0<_){const S=Array(_);for(let x=0;x<_;x++)S[x]=d[x];return S}return[]}function Q(d,_){for(let S=1;S<arguments.length;S++){const x=arguments[S];if(y(x)){const G=d.length||0,K=x.length||0;d.length=G+K;for(let le=0;le<K;le++)d[G+le]=x[le]}else d.push(x)}}class ae{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function se(d){return/^[\s\xa0]*$/.test(d)}function ie(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function fe(d){return fe[" "](d),d}fe[" "]=function(){};var ne=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function he(d,_,S){for(const x in d)_.call(S,d[x],x,d)}function k(d,_){for(const S in d)_.call(void 0,d[S],S,d)}function b(d){const _={};for(const S in d)_[S]=d[S];return _}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,_){let S,x;for(let G=1;G<arguments.length;G++){x=arguments[G];for(S in x)d[S]=x[S];for(let K=0;K<R.length;K++)S=R[K],Object.prototype.hasOwnProperty.call(x,S)&&(d[S]=x[S])}}function N(d){var _=1;d=d.split(":");const S=[];for(;0<_&&d.length;)S.push(d.shift()),_--;return d.length&&S.push(d.join(":")),S}function B(d){m.setTimeout(()=>{throw d},0)}function U(){var d=Ue;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class at{constructor(){this.h=this.g=null}add(_,S){const x=Be.get();x.set(_,S),this.h?this.h.next=x:this.g=x,this.h=x}}var Be=new ae(()=>new X,d=>d.reset());class X{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,me=!1,Ue=new at,O=()=>{const d=m.Promise.resolve(void 0);ce=()=>{d.then(W)}};var W=()=>{for(var d;d=U();){try{d.h.call(d.g)}catch(S){B(S)}var _=Be;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}me=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};m.addEventListener("test",S,_),m.removeEventListener("test",S,_)}catch{}return d}();function Ie(d,_){if(re.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var S=this.type=d.type,x=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(ne){e:{try{fe(_.nodeName);var G=!0;break e}catch{}G=!1}G||(_=null)}}else S=="mouseover"?_=d.fromElement:S=="mouseout"&&(_=d.toElement);this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ce[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ie.aa.h.call(this)}}L(Ie,re);var Ce={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Ht(d,_,S,x,G){this.listener=d,this.proxy=null,this.src=_,this.type=S,this.capture=!!x,this.ha=G,this.key=++Ye,this.da=this.fa=!1}function Gn(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function wn(d){this.src=d,this.g={},this.h=0}wn.prototype.add=function(d,_,S,x,G){var K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);var le=hn(d,_,x,G);return-1<le?(_=d[le],S||(_.fa=!1)):(_=new Ht(_,this.src,K,!!x,G),_.fa=S,d.push(_)),_};function qn(d,_){var S=_.type;if(S in d.g){var x=d.g[S],G=Array.prototype.indexOf.call(x,_,void 0),K;(K=0<=G)&&Array.prototype.splice.call(x,G,1),K&&(Gn(_),d.g[S].length==0&&(delete d.g[S],d.h--))}}function hn(d,_,S,x){for(var G=0;G<d.length;++G){var K=d[G];if(!K.da&&K.listener==_&&K.capture==!!S&&K.ha==x)return G}return-1}var zn="closure_lm_"+(1e6*Math.random()|0),Go={};function qo(d,_,S,x,G){if(Array.isArray(_)){for(var K=0;K<_.length;K++)qo(d,_[K],S,x,G);return null}return S=$o(S),d&&d[yt]?d.K(_,S,g(x)?!!x.capture:!1,G):Qt(d,_,S,!1,x,G)}function Qt(d,_,S,x,G,K){if(!_)throw Error("Invalid event type");var le=g(G)?!!G.capture:!!G,Je=no(d);if(Je||(d[zn]=Je=new wn(d)),S=Je.add(_,S,x,le,K),S.proxy)return S;if(x=Vr(),S.proxy=x,x.src=d,x.listener=S,d.addEventListener)Te||(G=le),G===void 0&&(G=!1),d.addEventListener(_.toString(),x,G);else if(d.attachEvent)d.attachEvent(Fn(_.toString()),x);else if(d.addListener&&d.removeListener)d.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Vr(){function d(S){return _.call(d.src,d.listener,S)}const _=Ds;return d}function zo(d,_,S,x,G){if(Array.isArray(_))for(var K=0;K<_.length;K++)zo(d,_[K],S,x,G);else x=g(x)?!!x.capture:!!x,S=$o(S),d&&d[yt]?(d=d.i,_=String(_).toString(),_ in d.g&&(K=d.g[_],S=hn(K,S,x,G),-1<S&&(Gn(K[S]),Array.prototype.splice.call(K,S,1),K.length==0&&(delete d.g[_],d.h--)))):d&&(d=no(d))&&(_=d.g[_.toString()],d=-1,_&&(d=hn(_,S,x,G)),(S=-1<d?_[d]:null)&&Wn(S))}function Wn(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[yt])qn(_.i,d);else{var S=d.type,x=d.proxy;_.removeEventListener?_.removeEventListener(S,x,d.capture):_.detachEvent?_.detachEvent(Fn(S),x):_.addListener&&_.removeListener&&_.removeListener(x),(S=no(_))?(qn(S,d),S.h==0&&(S.src=null,_[zn]=null)):Gn(d)}}}function Fn(d){return d in Go?Go[d]:Go[d]="on"+d}function Ds(d,_){if(d.da)d=!0;else{_=new Ie(_,this);var S=d.listener,x=d.ha||d.src;d.fa&&Wn(d),d=S.call(x,_)}return d}function no(d){return d=d[zn],d instanceof wn?d:null}var Fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function $o(d){return typeof d=="function"?d:(d[Fo]||(d[Fo]=function(_){return d.handleEvent(_)}),d[Fo])}function it(){ue.call(this),this.i=new wn(this),this.M=this,this.F=null}L(it,ue),it.prototype[yt]=!0,it.prototype.removeEventListener=function(d,_,S,x){zo(this,d,_,S,x)};function He(d,_){var S,x=d.F;if(x)for(S=[];x;x=x.F)S.push(x);if(d=d.M,x=_.type||_,typeof _=="string")_=new re(_,d);else if(_ instanceof re)_.target=_.target||d;else{var G=_;_=new re(x,d),P(_,G)}if(G=!0,S)for(var K=S.length-1;0<=K;K--){var le=_.g=S[K];G=Yt(le,x,!0,_)&&G}if(le=_.g=d,G=Yt(le,x,!0,_)&&G,G=Yt(le,x,!1,_)&&G,S)for(K=0;K<S.length;K++)le=_.g=S[K],G=Yt(le,x,!1,_)&&G}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var S=d.g[_],x=0;x<S.length;x++)Gn(S[x]);delete d.g[_],d.h--}}this.F=null},it.prototype.K=function(d,_,S,x){return this.i.add(String(d),_,!1,S,x)},it.prototype.L=function(d,_,S,x){return this.i.add(String(d),_,!0,S,x)};function Yt(d,_,S,x){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var G=!0,K=0;K<_.length;++K){var le=_[K];if(le&&!le.da&&le.capture==S){var Je=le.listener,mt=le.ha||le.src;le.fa&&qn(d.i,le),G=Je.call(mt,x)!==!1&&G}}return G&&!x.defaultPrevented}function Dt(d,_,S){if(typeof d=="function")S&&(d=A(d,S));else if(d&&typeof d.handleEvent=="function")d=A(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(d,_||0)}function io(d){d.g=Dt(()=>{d.g=null,d.i&&(d.i=!1,io(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Br extends ue{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:io(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(d){ue.call(this),this.h=d,this.g={}}L(Zt,ue);var _i=[];function jn(d){he(d.g,function(_,S){this.g.hasOwnProperty(S)&&Wn(_)},d),d.g={}}Zt.prototype.N=function(){Zt.aa.N.call(this),jn(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pn=m.JSON.stringify,Si=m.JSON.parse,xt=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function J(){}J.prototype.h=null;function te(d){return d.h||(d.h=d.i())}function oe(){}var de={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function we(){re.call(this,"d")}L(we,re);function Ne(){re.call(this,"c")}L(Ne,re);var Le={},pt=null;function vt(){return pt=pt||new it}Le.La="serverreachability";function It(d){re.call(this,Le.La,d)}L(It,re);function dt(d){const _=vt();He(_,new It(_))}Le.STAT_EVENT="statevent";function Et(d,_){re.call(this,Le.STAT_EVENT,d),this.stat=_}L(Et,re);function Me(d){const _=vt();He(_,new Et(_,d))}Le.Ma="timingevent";function ke(d,_){re.call(this,Le.Ma,d),this.size=_}L(ke,re);function _e(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},_)}function xe(){this.g=!0}xe.prototype.xa=function(){this.g=!1};function We(d,_,S,x,G,K){d.info(function(){if(d.g)if(K)for(var le="",Je=K.split("&"),mt=0;mt<Je.length;mt++){var Ge=Je[mt].split("=");if(1<Ge.length){var Lt=Ge[0];Ge=Ge[1];var Pt=Lt.split("_");le=2<=Pt.length&&Pt[1]=="type"?le+(Lt+"="+Ge+"&"):le+(Lt+"=redacted&")}}else le=null;else le=K;return"XMLHTTP REQ ("+x+") [attempt "+G+"]: "+_+`
`+S+`
`+le})}function mn(d,_,S,x,G,K,le){d.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+G+"]: "+_+`
`+S+`
`+K+" "+le})}function xn(d,_,S,x){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Yo(d,S)+(x?" "+x:"")})}function Rn(d,_){d.info(function(){return"TIMEOUT: "+_})}xe.prototype.info=function(){};function Yo(d,_){if(!d.g)return _;if(!_)return null;try{var S=JSON.parse(_);if(S){for(d=0;d<S.length;d++)if(Array.isArray(S[d])){var x=S[d];if(!(2>x.length)){var G=x[1];if(Array.isArray(G)&&!(1>G.length)){var K=G[0];if(K!="noop"&&K!="stop"&&K!="close")for(var le=1;le<G.length;le++)G[le]=""}}}}return pn(S)}catch{return _}}var Jo={NO_ERROR:0,TIMEOUT:8},oo={},ei;function ti(){}L(ti,J),ti.prototype.g=function(){return new XMLHttpRequest},ti.prototype.i=function(){return{}},ei=new ti;function Wt(d,_,S,x){this.j=d,this.i=_,this.l=S,this.R=x||1,this.U=new Zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ct}function Ct(){this.i=null,this.g="",this.h=!1}var Hr={},Us={};function $n(d,_,S){d.L=1,d.v=Wo(gn(_)),d.m=S,d.P=!0,Ei(d,null)}function Ei(d,_){d.F=Date.now(),Ko(d),d.A=gn(d.v);var S=d.A,x=d.R;Array.isArray(x)||(x=[String(x)]),Yr(S.i,"t",x),d.C=0,S=d.j.J,d.h=new Ct,d.g=Ca(d.j,S?_:null,!d.m),0<d.O&&(d.M=new Br(A(d.Y,d,d.g),d.O)),_=d.U,S=d.g,x=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(_i[0]=G.toString()),G=_i);for(var K=0;K<G.length;K++){var le=qo(S,G[K],x||_.handleEvent,!1,_.h||_);if(!le)break;_.g[le.key]=le}_=d.H?b(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),dt(),We(d.i,d.u,d.A,d.l,d.R,d.m)}Wt.prototype.ca=function(d){d=d.target;const _=this.M;_&&Nn(d)==3?_.j():this.Y(d)},Wt.prototype.Y=function(d){try{if(d==this.g)e:{const Pt=Nn(this.g);var _=this.g.Ba();const Ii=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||ma(this.g)))){this.J||Pt!=4||_==7||(_==8||0>=Ii?dt(3):dt(2)),so(this);var S=this.g.Z();this.X=S;t:if(aa(this)){var x=ma(this.g);d="";var G=x.length,K=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),ni(this);var le="";break t}this.h.i=new m.TextDecoder}for(_=0;_<G;_++)this.h.h=!0,d+=this.h.i.decode(x[_],{stream:!(K&&_==G-1)});x.length=0,this.h.g+=d,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=S==200,mn(this.i,this.u,this.A,this.l,this.R,Pt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,mt=this.g;if((Je=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(Je)){var Ge=Je;break t}}Ge=null}if(S=Ge)xn(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xo(this,S);else{this.o=!1,this.s=3,Me(12),Gt(this),ni(this);break e}}if(this.P){S=!0;let rn;for(;!this.J&&this.C<le.length;)if(rn=ua(this,le),rn==Us){Pt==4&&(this.s=4,Me(14),S=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Hr){this.s=4,Me(15),xn(this.i,this.l,le,"[Invalid Chunk]"),S=!1;break}else xn(this.i,this.l,rn,null),Xo(this,rn);if(aa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||le.length!=0||this.h.h||(this.s=1,Me(16),S=!1),this.o=this.o&&S,!S)xn(this.i,this.l,le,"[Invalid Chunked Response]"),Gt(this),ni(this);else if(0<le.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),rs(Lt),Lt.M=!0,Me(11))}}else xn(this.i,this.l,le,null),Xo(this,le);Pt==4&&Gt(this),this.o&&!this.J&&(Pt==4?_a(this.j,this):(this.o=!1,Ko(this)))}else hc(this.g),S==400&&0<le.indexOf("Unknown SID")?(this.s=3,Me(12)):(this.s=0,Me(13)),Gt(this),ni(this)}}}catch{}finally{}};function aa(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ua(d,_){var S=d.C,x=_.indexOf(`
`,S);return x==-1?Us:(S=Number(_.substring(S,x)),isNaN(S)?Hr:(x+=1,x+S>_.length?Us:(_=_.slice(x,x+S),d.C=x+S,_)))}Wt.prototype.cancel=function(){this.J=!0,Gt(this)};function Ko(d){d.S=Date.now()+d.I,ca(d,d.I)}function ca(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=_e(A(d.ba,d),_)}function so(d){d.B&&(m.clearTimeout(d.B),d.B=null)}Wt.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Rn(this.i,this.A),this.L!=2&&(dt(),Me(17)),Gt(this),this.s=2,ni(this)):ca(this,this.S-d)};function ni(d){d.j.G==0||d.J||_a(d.j,d)}function Gt(d){so(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,jn(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Xo(d,_){try{var S=d.j;if(S.G!=0&&(S.g==d||Gr(S.h,d))){if(!d.K&&Gr(S.h,d)&&S.G==3){try{var x=S.Da.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var G=x;if(G[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<d.F)Ys(S),Fs(S);else break e;Zr(S),Me(18)}}else S.za=G[1],0<S.za-S.T&&37500>G[2]&&S.F&&S.v==0&&!S.C&&(S.C=_e(A(S.Za,S),6e3));if(1>=Ps(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else bi(S,11)}else if((d.K||S.g==d)&&Ys(S),!se(_))for(G=S.Da.g.parse(_),_=0;_<G.length;_++){let Ge=G[_];if(S.T=Ge[0],Ge=Ge[1],S.G==2)if(Ge[0]=="c"){S.K=Ge[1],S.ia=Ge[2];const Lt=Ge[3];Lt!=null&&(S.la=Lt,S.j.info("VER="+S.la));const Pt=Ge[4];Pt!=null&&(S.Aa=Pt,S.j.info("SVER="+S.Aa));const Ii=Ge[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(x=1.5*Ii,S.L=x,S.j.info("backChannelRequestTimeoutMs_="+x)),x=S;const rn=d.g;if(rn){const ai=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var K=x.h;K.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Os(K,K.h),K.h=null))}if(x.D){const Ni=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ni&&(x.ya=Ni,ot(x.I,x.D,Ni))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-d.F,S.j.info("Handshake RTT: "+S.R+"ms")),x=S;var le=d;if(x.qa=Ea(x,x.J?x.ia:null,x.W),le.K){jt(x.h,le);var Je=le,mt=x.L;mt&&(Je.I=mt),Je.B&&(so(Je),Ko(Je)),x.g=le}else va(x);0<S.i.length&&$s(S)}else Ge[0]!="stop"&&Ge[0]!="close"||bi(S,7);else S.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?bi(S,7):Xr(S):Ge[0]!="noop"&&S.l&&S.l.ta(Ge),S.v=0)}}dt(4)}catch{}}var fa=class{constructor(d,_){this.g=d,this.map=_}};function Ci(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ls(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ps(d){return d.h?1:d.g?d.g.size:0}function Gr(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Os(d,_){d.g?d.g.add(_):d.h=_}function jt(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Ci.prototype.cancel=function(){if(this.i=qr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function qr(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const S of d.g.values())_=_.concat(S.D);return _}return F(d.i)}function uc(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(y(d)){for(var _=[],S=d.length,x=0;x<S;x++)_.push(d[x]);return _}_=[],S=0;for(x in d)_[S++]=d[x];return _}function Vs(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(y(d)||typeof d=="string"){var _=[];d=d.length;for(var S=0;S<d;S++)_.push(S);return _}_=[],S=0;for(const x in d)_[S++]=x;return _}}}function zr(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(y(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var S=Vs(d),x=uc(d),G=x.length,K=0;K<G;K++)_.call(void 0,x[K],S&&S[K],d)}var Qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cc(d,_){if(d){d=d.split("&");for(var S=0;S<d.length;S++){var x=d[S].indexOf("="),G=null;if(0<=x){var K=d[S].substring(0,x);G=d[S].substring(x+1)}else K=d[S];_(K,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Rt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Rt){this.h=d.h,Zo(this,d.j),this.o=d.o,this.g=d.g,ro(this,d.s),this.l=d.l;var _=d.i,S=new wi;S.i=_.i,_.g&&(S.g=new Map(_.g),S.h=_.h),Ai(this,S),this.m=d.m}else d&&(_=String(d).match(Qo))?(this.h=!1,Zo(this,_[1]||"",!0),this.o=Mn(_[2]||""),this.g=Mn(_[3]||"",!0),ro(this,_[4]),this.l=Mn(_[5]||"",!0),Ai(this,_[6]||"",!0),this.m=Mn(_[7]||"")):(this.h=!1,this.i=new wi(null,this.h))}Rt.prototype.toString=function(){var d=[],_=this.j;_&&d.push(jo(_,Fr,!0),":");var S=this.g;return(S||_=="file")&&(d.push("//"),(_=this.o)&&d.push(jo(_,Fr,!0),"@"),d.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&d.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(jo(S,S.charAt(0)=="/"?fc:$r,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",jo(S,Bs)),d.join("")};function gn(d){return new Rt(d)}function Zo(d,_,S){d.j=S?Mn(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function ro(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Ai(d,_,S){_ instanceof wi?(d.i=_,ha(d.i,d.h)):(S||(_=jo(_,dc)),d.i=new wi(_,d.h))}function ot(d,_,S){d.i.set(_,S)}function Wo(d){return ot(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Mn(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function jo(d,_,S){return typeof d=="string"?(d=encodeURI(d).replace(_,da),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function da(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Fr=/[#\/\?@]/g,$r=/[#\?:]/g,fc=/[#\?]/g,dc=/[#\?@]/g,Bs=/#/g;function wi(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function bn(d){d.g||(d.g=new Map,d.h=0,d.i&&cc(d.i,function(_,S){d.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}t=wi.prototype,t.add=function(d,_){bn(this),this.i=null,d=ii(this,d);var S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(_),this.h+=1,this};function xi(d,_){bn(d),_=ii(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Ri(d,_){return bn(d),_=ii(d,_),d.g.has(_)}t.forEach=function(d,_){bn(this),this.g.forEach(function(S,x){S.forEach(function(G){d.call(_,G,x,this)},this)},this)},t.na=function(){bn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),S=[];for(let x=0;x<_.length;x++){const G=d[x];for(let K=0;K<G.length;K++)S.push(_[x])}return S},t.V=function(d){bn(this);let _=[];if(typeof d=="string")Ri(this,d)&&(_=_.concat(this.g.get(ii(this,d))));else{d=Array.from(this.g.values());for(let S=0;S<d.length;S++)_=_.concat(d[S])}return _},t.set=function(d,_){return bn(this),this.i=null,d=ii(this,d),Ri(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Yr(d,_,S){xi(d,_),0<S.length&&(d.i=null,d.g.set(ii(d,_),F(S)),d.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var S=0;S<_.length;S++){var x=_[S];const K=encodeURIComponent(String(x)),le=this.V(x);for(x=0;x<le.length;x++){var G=K;le[x]!==""&&(G+="="+encodeURIComponent(String(le[x]))),d.push(G)}}return this.i=d.join("&")};function ii(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function ha(d,_){_&&!d.j&&(bn(d),d.i=null,d.g.forEach(function(S,x){var G=x.toLowerCase();x!=G&&(xi(this,x),Yr(this,G,S))},d)),d.j=_}function es(d,_){const S=new xe;if(m.Image){const x=new Image;x.onload=I(In,S,"TestLoadImage: loaded",!0,_,x),x.onerror=I(In,S,"TestLoadImage: error",!1,_,x),x.onabort=I(In,S,"TestLoadImage: abort",!1,_,x),x.ontimeout=I(In,S,"TestLoadImage: timeout",!1,_,x),m.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=d}else _(!1)}function Yn(d,_){const S=new xe,x=new AbortController,G=setTimeout(()=>{x.abort(),In(S,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:x.signal}).then(K=>{clearTimeout(G),K.ok?In(S,"TestPingServer: ok",!0,_):In(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),In(S,"TestPingServer: error",!1,_)})}function In(d,_,S,x,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),x(S)}catch{}}function ts(){this.g=new xt}function oi(d,_,S){const x=S||"";try{zr(d,function(G,K){let le=G;g(G)&&(le=pn(G)),_.push(x+K+"="+encodeURIComponent(le))})}catch(G){throw _.push(x+"type="+encodeURIComponent("_badmap")),G}}function lo(d){this.l=d.Ub||null,this.j=d.eb||!1}L(lo,J),lo.prototype.g=function(){return new Mi(this.l,this.j)},lo.prototype.i=function(d){return function(){return d}}({});function Mi(d,_){it.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Mi,it),t=Mi.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,ri(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jr(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jr(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?si(this):ri(this),this.readyState==3&&Jr(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,si(this))},t.Qa=function(d){this.g&&(this.response=d,si(this))},t.ga=function(){this.g&&si(this)};function si(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ri(d)}t.setRequestHeader=function(d,_){this.u.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=_.next();return d.join(`\r
`)};function ri(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Kr(d){let _="";return he(d,function(S,x){_+=x,_+=":",_+=S,_+=`\r
`}),_}function Ut(d,_,S){e:{for(x in S){var x=!1;break e}x=!0}x||(S=Kr(S),typeof d=="string"?S!=null&&encodeURIComponent(String(S)):ot(d,_,S))}function je(d){it.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(je,it);var Hs=/^https?$/i,ns=["POST","PUT"];t=je.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,_,S,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ei.g(),this.v=this.o?te(this.o):te(ei),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(K){pa(this,K);return}if(d=S||"",S=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var G in x)S.set(G,x[G]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const K of x.keys())S.set(K,x.get(K));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(S.keys()).find(K=>K.toLowerCase()=="content-type"),G=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ns,_,void 0))||x||G||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,le]of S)this.g.setRequestHeader(K,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{is(this),this.u=!0,this.g.send(d),this.u=!1}catch(K){pa(this,K)}};function pa(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Gs(d),li(d)}function Gs(d){d.A||(d.A=!0,He(d,"complete"),He(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,He(this,"complete"),He(this,"abort"),li(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qs(this):this.bb())},t.bb=function(){qs(this)};function qs(d){if(d.h&&typeof h<"u"&&(!d.v[1]||Nn(d)!=4||d.Z()!=2)){if(d.u&&Nn(d)==4)Dt(d.Ea,0,d);else if(He(d,"readystatechange"),Nn(d)==4){d.h=!1;try{const le=d.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var x;if(x=le===0){var G=String(d.D).match(Qo)[1]||null;!G&&m.self&&m.self.location&&(G=m.self.location.protocol.slice(0,-1)),x=!Hs.test(G?G.toLowerCase():"")}S=x}if(S)He(d,"complete"),He(d,"success");else{d.m=6;try{var K=2<Nn(d)?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.Z()+"]",Gs(d)}}finally{li(d)}}}}function li(d,_){if(d.g){is(d);const S=d.g,x=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||He(d,"ready");try{S.onreadystatechange=x}catch{}}}function is(d){d.I&&(m.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Nn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Si(_)}};function ma(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function hc(d){const _={};d=(d.g&&2<=Nn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<d.length;x++){if(se(d[x]))continue;var S=N(d[x]);const G=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const K=_[G]||[];_[G]=K,K.push(S)}k(_,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function os(d,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||_}function zs(d){this.Aa=0,this.i=[],this.j=new xe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=os("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=os("baseRetryDelayMs",5e3,d),this.cb=os("retryDelaySeedMs",1e4,d),this.Wa=os("forwardChannelMaxRetries",2,d),this.wa=os("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ci(d&&d.concurrentRequestLimit),this.Da=new ts,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zs.prototype,t.la=8,t.G=1,t.connect=function(d,_,S,x){Me(0),this.W=d,this.H=_||{},S&&x!==void 0&&(this.H.OSID=S,this.H.OAID=x),this.F=this.X,this.I=Ea(this,null,this.W),$s(this)};function Xr(d){if(ga(d),d.G==3){var _=d.U++,S=gn(d.I);if(ot(S,"SID",d.K),ot(S,"RID",_),ot(S,"TYPE","terminate"),ss(d,S),_=new Wt(d,d.j,_),_.L=2,_.v=Wo(gn(S)),S=!1,m.navigator&&m.navigator.sendBeacon)try{S=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!S&&m.Image&&(new Image().src=_.v,S=!0),S||(_.g=Ca(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ko(_)}Sa(d)}function Fs(d){d.g&&(rs(d),d.g.cancel(),d.g=null)}function ga(d){Fs(d),d.u&&(m.clearTimeout(d.u),d.u=null),Ys(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function $s(d){if(!Ls(d.h)&&!d.s){d.s=!0;var _=d.Ga;ce||O(),me||(ce(),me=!0),Ue.add(_,d),d.B=0}}function pc(d,_){return Ps(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=_e(A(d.Ga,d,_),Wr(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new Wt(this,this.j,d);let K=this.o;if(this.S&&(K?(K=b(K),P(K,this.S)):K=this.S),this.m!==null||this.O||(G.H=K,K=null),this.P)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var x=this.i[S];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(_+=x,4096<_){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=ya(this,G,_),S=gn(this.I),ot(S,"RID",d),ot(S,"CVER",22),this.D&&ot(S,"X-HTTP-Session-Id",this.D),ss(this,S),K&&(this.O?_="headers="+encodeURIComponent(String(Kr(K)))+"&"+_:this.m&&Ut(S,this.m,K)),Os(this.h,G),this.Ua&&ot(S,"TYPE","init"),this.P?(ot(S,"$req",_),ot(S,"SID","null"),G.T=!0,$n(G,S,null)):$n(G,S,_),this.G=2}}else this.G==3&&(d?Qr(this,d):this.i.length==0||Ls(this.h)||Qr(this))};function Qr(d,_){var S;_?S=_.l:S=d.U++;const x=gn(d.I);ot(x,"SID",d.K),ot(x,"RID",S),ot(x,"AID",d.T),ss(d,x),d.m&&d.o&&Ut(x,d.m,d.o),S=new Wt(d,d.j,S,d.B+1),d.m===null&&(S.H=d.o),_&&(d.i=_.D.concat(d.i)),_=ya(d,S,1e3),S.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Os(d.h,S),$n(S,x,_)}function ss(d,_){d.H&&he(d.H,function(S,x){ot(_,x,S)}),d.l&&zr({},function(S,x){ot(_,x,S)})}function ya(d,_,S){S=Math.min(d.i.length,S);var x=d.l?A(d.l.Na,d.l,d):null;e:{var G=d.i;let K=-1;for(;;){const le=["count="+S];K==-1?0<S?(K=G[0].g,le.push("ofs="+K)):K=0:le.push("ofs="+K);let Je=!0;for(let mt=0;mt<S;mt++){let Ge=G[mt].g;const Lt=G[mt].map;if(Ge-=K,0>Ge)K=Math.max(0,G[mt].g-100),Je=!1;else try{oi(Lt,le,"req"+Ge+"_")}catch{x&&x(Lt)}}if(Je){x=le.join("&");break e}}}return d=d.i.splice(0,S),_.D=d,x}function va(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;ce||O(),me||(ce(),me=!0),Ue.add(_,d),d.v=0}}function Zr(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=_e(A(d.Fa,d),Wr(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Ta(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=_e(A(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Me(10),Fs(this),Ta(this))};function rs(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function Ta(d){d.g=new Wt(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=gn(d.qa);ot(_,"RID","rpc"),ot(_,"SID",d.K),ot(_,"AID",d.T),ot(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&ot(_,"TO",d.ja),ot(_,"TYPE","xmlhttp"),ss(d,_),d.m&&d.o&&Ut(_,d.m,d.o),d.L&&(d.g.I=d.L);var S=d.g;d=d.ia,S.L=1,S.v=Wo(gn(_)),S.m=null,S.P=!0,Ei(S,d)}t.Za=function(){this.C!=null&&(this.C=null,Fs(this),Zr(this),Me(19))};function Ys(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function _a(d,_){var S=null;if(d.g==_){Ys(d),rs(d),d.g=null;var x=2}else if(Gr(d.h,_))S=_.D,jt(d.h,_),x=1;else return;if(d.G!=0){if(_.o)if(x==1){S=_.m?_.m.length:0,_=Date.now()-_.F;var G=d.B;x=vt(),He(x,new ke(x,S)),$s(d)}else va(d);else if(G=_.s,G==3||G==0&&0<_.X||!(x==1&&pc(d,_)||x==2&&Zr(d)))switch(S&&0<S.length&&(_=d.h,_.i=_.i.concat(S)),G){case 1:bi(d,5);break;case 4:bi(d,10);break;case 3:bi(d,6);break;default:bi(d,2)}}}function Wr(d,_){let S=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(S*=2),S*_}function bi(d,_){if(d.j.info("Error code "+_),_==2){var S=A(d.fb,d),x=d.Xa;const G=!x;x=new Rt(x||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Zo(x,"https"),Wo(x),G?es(x.toString(),S):Yn(x.toString(),S)}else Me(2);d.G=0,d.l&&d.l.sa(_),Sa(d),ga(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function Sa(d){if(d.G=0,d.ka=[],d.l){const _=qr(d.h);(_.length!=0||d.i.length!=0)&&(Q(d.ka,_),Q(d.ka,d.i),d.h.i.length=0,F(d.i),d.i.length=0),d.l.ra()}}function Ea(d,_,S){var x=S instanceof Rt?gn(S):new Rt(S);if(x.g!="")_&&(x.g=_+"."+x.g),ro(x,x.s);else{var G=m.location;x=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;var K=new Rt(null);x&&Zo(K,x),_&&(K.g=_),G&&ro(K,G),S&&(K.l=S),x=K}return S=d.D,_=d.ya,S&&_&&ot(x,S,_),ot(x,"VER",d.la),ss(d,x),x}function Ca(d,_,S){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new je(new lo({eb:S})):new je(d.pa),_.Ha(d.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Aa(){}t=Aa.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function sn(d,_){it.call(this),this.g=new zs(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!se(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!se(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new ao(this)}L(sn,it),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Xr(this.g)},sn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.u&&(S={},S.__data__=pn(d),d=S);_.i.push(new fa(_.Ya++,d)),_.G==3&&$s(_)},sn.prototype.N=function(){this.g.l=null,delete this.j,Xr(this.g),delete this.g,sn.aa.N.call(this)};function wa(d){we.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const S in _){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}L(wa,we);function xa(){Ne.call(this),this.status=1}L(xa,Ne);function ao(d){this.g=d}L(ao,Aa),ao.prototype.ua=function(){He(this.g,"a")},ao.prototype.ta=function(d){He(this.g,new wa(d))},ao.prototype.sa=function(d){He(this.g,new xa)},ao.prototype.ra=function(){He(this.g,"b")},sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Jo.NO_ERROR=0,Jo.TIMEOUT=8,Jo.HTTP_ERROR=6,oo.COMPLETE="complete",oe.EventType=de,de.OPEN="a",de.CLOSE="b",de.ERROR="c",de.MESSAGE="d",it.prototype.listen=it.prototype.K,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha}).apply(typeof ku<"u"?ku:typeof self<"u"?self:typeof window<"u"?window:{});const qv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new lh("@firebase/firestore");function Qn(t,...e){if(Ir.logLevel<=Ke.DEBUG){const i=e.map(_h);Ir.debug(`Firestore (${la}): ${t}`,...i)}}function FT(t,...e){if(Ir.logLevel<=Ke.ERROR){const i=e.map(_h);Ir.error(`Firestore (${la}): ${t}`,...i)}}function TU(t,...e){if(Ir.logLevel<=Ke.WARN){const i=e.map(_h);Ir.warn(`Firestore (${la}): ${t}`,...i)}}function _h(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t="Unexpected state"){const e=`FIRESTORE (${la}) INTERNAL ASSERTION FAILED: `+t;throw FT(e),new Error(e)}function Kl(t,e){t||Sh()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class fn extends to{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _U{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(tn.UNAUTHENTICATED))}shutdown(){}}class SU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class EU{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Kl(this.o===void 0);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let f=new Xl;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Xl,e.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const y=f;e.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},m=y=>{Qn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(Qn("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Xl)}},0),h()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(Qn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kl(typeof s.accessToken=="string"),new $T(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kl(e===null||typeof e=="string"),new tn(e)}}class CU{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class AU{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new CU(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xU{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){Kl(this.o===void 0);const s=f=>{f.error!=null&&Qn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const h=f.token!==this.R;return this.R=f.token,Qn("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>s(f))};const l=f=>{Qn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>l(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?l(f):Qn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Kl(typeof i.token=="string"),this.R=i.token,new wU(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function RU(t){return t.name==="IndexedDbTransactionError"}class ec{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new ec("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ec&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zv,ze;(ze=zv||(zv={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new zT([4294967295,4294967295],0);function _d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,i,s=1e3,l=1.5,f=6e4){this.ui=e,this.timerId=i,this.ko=s,this.qo=l,this.Qo=f,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),l=Math.max(0,i-s);l>0&&Qn("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,l,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,i,s,l,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=f,this.deferred=new Xl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,f){const h=Date.now()+s,m=new Eh(e,i,h,l,f);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fn(cn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Fv,$v;($v=Fv||(Fv={})).ea="default",$v.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=new Map;function IU(t,e,i,s){if(e===!0&&s===!0)throw new fn(cn.INVALID_ARGUMENT,`${t} and ${i} cannot be used together.`)}function NU(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Sh()}function kU(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fn(cn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=NU(t);throw new fn(cn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fn(cn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fn(cn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bU((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new fn(cn.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new fn(cn.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new fn(cn.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class YT{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fn(cn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fn(cn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jv(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new _U;switch(s.type){case"firstParty":return new AU(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fn(cn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Yv.get(i);s&&(Qn("ComponentProvider","Removing Datastore"),Yv.delete(i),s.terminate())}(this),Promise.resolve()}}function DU(t,e,i,s={}){var l;const f=(t=kU(t,YT))._getSettings(),h=`${e}:${i}`;if(f.host!=="firestore.googleapis.com"&&f.host!==h&&TU("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},f),{host:h,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=tn.MOCK_USER;else{m=X2(s.mockUserToken,(l=t._app)===null||l===void 0?void 0:l.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new fn(cn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new tn(g)}t._authCredentials=new SU(new $T(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new MU(this,"async_queue_retry"),this.Vu=()=>{const s=_d();s&&Qn("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const i=_d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const i=_d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new Xl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!RU(e))throw e;Qn("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const i=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const l=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw FT("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.du=!1,s))));return this.mu=i,i}enqueueAfterDelay(e,i,s){this.fu(),this.Ru.indexOf(e)>-1&&(i=0);const l=Eh.createAndSchedule(this,e,i,s,f=>this.yu(f));return this.Tu.push(l),l}fu(){this.Eu&&Sh()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const i of this.Tu)if(i.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const i=this.Tu.indexOf(e);this.Tu.splice(i,1)}}class UU extends YT{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new Kv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Kv(e),this._firestoreClient=void 0,await e}}}function LU(t,e){const i=typeof t=="object"?t:aT(),s=typeof t=="string"?t:"(default)",l=uh(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const f=J2("firestore");f&&DU(l,...f)}return l}(function(e,i=!0){(function(l){la=l})(Pr),br(new Rs("firestore",(s,{instanceIdentifier:l,options:f})=>{const h=s.getProvider("app").getImmediate(),m=new UU(new EU(s.getProvider("auth-internal")),new xU(s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fn(cn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(g.options.projectId,T)}(h,l),h);return f=Object.assign({useFetchStreams:i},f),m._setSettings(f),m},"PUBLIC").setMultipleInstances(!0)),Vo(qv,"4.7.3",e),Vo(qv,"4.7.3","esm2017")})();var Bn={};const PU={apiKey:typeof process<"u"&&(Bn.VITE_FIREBASE_API_KEY||Bn.FIREBASE_API_KEY)||typeof window<"u"&&window.FIREBASE_API_KEY||"",authDomain:typeof process<"u"&&(Bn.VITE_FIREBASE_AUTH_DOMAIN||Bn.FIREBASE_AUTH_DOMAIN)||typeof window<"u"&&window.FIREBASE_AUTH_DOMAIN||"",projectId:typeof process<"u"&&(Bn.VITE_FIREBASE_PROJECT_ID||Bn.FIREBASE_PROJECT_ID)||typeof window<"u"&&window.FIREBASE_PROJECT_ID||"",storageBucket:typeof process<"u"&&(Bn.VITE_FIREBASE_STORAGE_BUCKET||Bn.FIREBASE_STORAGE_BUCKET)||typeof window<"u"&&window.FIREBASE_STORAGE_BUCKET||"",messagingSenderId:typeof process<"u"&&(Bn.VITE_FIREBASE_MESSAGING_SENDER_ID||Bn.FIREBASE_MESSAGING_SENDER_ID)||typeof window<"u"&&window.FIREBASE_MESSAGING_SENDER_ID||"",appId:typeof process<"u"&&(Bn.VITE_FIREBASE_APP_ID||Bn.FIREBASE_APP_ID)||typeof window<"u"&&window.FIREBASE_APP_ID||""},JT=_v().length?_v()[0]:lT(PU),Ch=yU(JT);LU(JT);const OU=new Yi,VU=()=>xD(Ch,OU),BU=()=>eD(Ch),HU=t=>rD(Ch,t),GU=({theme:t,onClose:e})=>{const[i,s]=Cs.useState(!1),l=async()=>{try{s(!0),await VU(),e()}catch(h){console.error(h),s(!1)}},f=async()=>{try{s(!0),await BU(),e()}catch(h){console.error(h),s(!1)}};return M.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:e,children:M.jsxs("div",{className:`${t.card} rounded-xl shadow-2xl w-full max-w-2xl`,onClick:h=>h.stopPropagation(),children:[M.jsxs("div",{className:"p-6 border-b dark:border-gray-700",children:[M.jsx("h2",{className:"text-2xl font-bold",children:"Welcome to Lagos Oracle Ultra"}),M.jsx("p",{className:`${t.muted} mt-2 text-sm`,children:"Your Lagos-savvy AI for chat, research, images, and more. Explore local culture, get directions, generate visuals, and keep your conversations saved across devices."})]}),M.jsxs("div",{className:"p-6 space-y-3",children:[M.jsx("button",{disabled:i,onClick:l,className:"w-full px-4 py-3 rounded-lg bg-cyan-600 text-white hover:bg-cyan-700 disabled:bg-gray-500",children:"Continue with Google"}),M.jsx("button",{disabled:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:"Continue with Apple (coming soon)"}),M.jsx("div",{className:"text-center text-xs ${theme.muted}",children:"or"}),M.jsx("button",{disabled:i,onClick:f,className:"w-full px-4 py-3 rounded-lg border dark:border-gray-700",children:"Try anonymously"})]}),M.jsx("div",{className:"p-4 text-center",children:M.jsx("button",{onClick:e,className:`${t.muted} text-sm hover:underline`,children:"Maybe later"})})]})})};var Sr={};const Du=t=>{const e=["REACT_APP_","VITE_"];for(const i of e)if(typeof process<"u"&&Sr&&Sr[`${i}${t}`])return Sr[`${i}${t}`];if(typeof process<"u"&&Sr&&Sr[t])return Sr[t];if(typeof window<"u"&&typeof window[t]=="string")return window[t]},Xv="lagosOracleApiKeys_v2",Qv="darkModeLagosOracle",Zv="soundEnabledLagosOracle",Wv="selectedPersonaLagosOracle_v1",$i="lagosOracleConversations_v1",zl="lagosOracleCurrentConversationId_v1",qU=()=>{const[t,e]=ge.useState([]),[i,s]=ge.useState(""),[l,f]=ge.useState(!1),[h,m]=ge.useState(!1),[y,g]=ge.useState(!1),[T,E]=ge.useState(!1),[A,I]=ge.useState("auto"),[L,F]=ge.useState({openai:"",gemini:"",claude:""}),[Q,ae]=ge.useState({openai:!1,gemini:!1,claude:!1}),[se,ie]=ge.useState(null),fe=!!se,[ne,he]=ge.useState(()=>{try{const J=localStorage.getItem(Qv);return J!==null?JSON.parse(J):!0}catch{return!0}}),[k,b]=ge.useState(()=>{try{const J=localStorage.getItem(Zv);return J!==null?JSON.parse(J):!0}catch{return!0}}),[R,P]=ge.useState("photorealistic"),[N,B]=ge.useState(()=>{try{const J=localStorage.getItem(Wv);return J&&$t[J]?J:Fl}catch{return Fl}}),[U,at]=ge.useState(!1);ge.useRef(null);const[Be,X]=ge.useState(!1),[ce,me]=ge.useState(!1),[Ue,O]=ge.useState(()=>{try{const J=localStorage.getItem($i);if(!J)return[];const te=JSON.parse(J);return Array.isArray(te)?te:[]}catch{return[]}}),[W,ue]=ge.useState(()=>{try{return localStorage.getItem(zl)}catch{return null}}),[re,Te]=ge.useState(null),[Ie,Ce]=ge.useState(!0),[yt,Ye]=ge.useState(!1),[Ht,Gn]=ge.useState(null),[wn,qn]=ge.useState(!1),hn=ge.useRef(null),zn=ge.useRef(null);ge.useEffect(()=>{const J=window.SpeechRecognition||window.webkitSpeechRecognition;if(J){const oe=new J;oe.continuous=!1,oe.lang="en-US",oe.interimResults=!1,ie(oe)}else console.warn("Speech Recognition API not available.");let te={openai:(Du("OPENAI_API_KEY")||"").trim(),gemini:(Du("GEMINI_API_KEY")||Du("API_KEY")||"").trim(),claude:(Du("CLAUDE_API_KEY")||"").trim()};try{const oe=localStorage.getItem(Xv);if(oe){const de=JSON.parse(oe);te={openai:(de.openai||te.openai).trim(),gemini:(de.gemini||te.gemini).trim(),claude:(de.claude||te.claude).trim()}}}catch(oe){console.error("Failed to parse saved API keys from localStorage.",oe)}F(te)},[]),ge.useEffect(()=>{const J=HU(te=>{Te(te),Ce(!te)});return()=>J()},[]),ge.useEffect(()=>{if(W){const J=Ue.find(te=>te.id===W);if(J){const te=J.messages.map(oe=>({...oe,timestamp:new Date(oe.timestamp)}));e(te)}}else{const J=`${Date.now()}`,te={id:J,title:"New chat",timestamp:new Date().toISOString(),personaKey:N,messages:[]};O(oe=>{const de=[te,...oe];try{localStorage.setItem($i,JSON.stringify(de))}catch{}return de}),ue(J);try{localStorage.setItem(zl,J)}catch{}e([])}},[]),ge.useEffect(()=>{W&&O(J=>{const te=J.map(oe=>oe.id===W?{...oe,personaKey:N}:oe);try{localStorage.setItem($i,JSON.stringify(te))}catch{}return te})},[N,W]),ge.useEffect(()=>{try{localStorage.setItem(Qv,JSON.stringify(ne))}catch(J){console.error("Failed to save dark mode to localStorage",J)}document.documentElement.classList.toggle("dark",ne)},[ne]),ge.useEffect(()=>{try{localStorage.setItem(Zv,JSON.stringify(k))}catch(J){console.error("Failed to save sound setting to localStorage",J)}},[k]),ge.useEffect(()=>{try{localStorage.setItem(Wv,N)}catch(J){console.error("Failed to save persona to localStorage",J)}},[N]),ge.useEffect(()=>{try{localStorage.setItem(Xv,JSON.stringify(L))}catch(te){console.error("Failed to save API keys to localStorage",te)}const J=zb(L.gemini);ae({openai:!!(L.openai&&(L.openai.startsWith("sk-")||L.openai.startsWith("sk-proj-"))),gemini:J,claude:!!(L.claude&&(L.claude.startsWith("sk-ant-")||L.claude.length>30))})},[L]),ge.useEffect(()=>()=>{Ht&&Ht.getTracks().forEach(J=>J.stop())},[Ht]);const Go=ge.useCallback((J,te)=>{F(oe=>({...oe,[J]:te.trim()}))},[]),qo=()=>{E(J=>!J),at(!1),X(!1),me(!1)},Qt=()=>{at(J=>!J),E(!1),X(!1),me(!1)},Vr=()=>{X(J=>!J),E(!1),at(!1),me(!1)},zo=()=>{me(J=>!J),E(!1),at(!1),X(!1)},Wn=()=>{const J=`${Date.now()}`,te={id:J,title:"New chat",timestamp:new Date().toISOString(),personaKey:N,messages:[]};O(oe=>{const de=[te,...oe];try{localStorage.setItem($i,JSON.stringify(de))}catch{}return de}),ue(J);try{localStorage.setItem(zl,J)}catch{}e([])},Fn=J=>{ue(J.id);try{localStorage.setItem(zl,J.id)}catch{}const te=J.messages.map(oe=>({...oe,timestamp:new Date(oe.timestamp)}));e(te),me(!1),X(!1)},Ds=J=>{O(te=>{const oe=te.filter(de=>de.id!==J);try{localStorage.setItem($i,JSON.stringify(oe))}catch{}return oe}),W===J&&Wn()},no=()=>{try{const J=JSON.stringify({conversations:Ue,currentConversationId:W,version:1},null,2),te=new Blob([J],{type:"application/json"}),oe=URL.createObjectURL(te),de=document.createElement("a");de.href=oe,de.download=`lagos-oracle-library-${Date.now()}.json`,document.body.appendChild(de),de.click(),document.body.removeChild(de),URL.revokeObjectURL(oe)}catch(J){console.error("Export library failed",J)}},Fo=async J=>{try{const te=await J.text(),oe=JSON.parse(te);if(!Array.isArray(oe.conversations))throw new Error("Invalid file");O(oe.conversations);try{localStorage.setItem($i,JSON.stringify(oe.conversations))}catch{}if(oe.currentConversationId&&oe.conversations.some(de=>de.id===oe.currentConversationId)){ue(oe.currentConversationId);try{localStorage.setItem(zl,oe.currentConversationId)}catch{}const we=oe.conversations.find(Ne=>Ne.id===oe.currentConversationId).messages.map(Ne=>({...Ne,timestamp:new Date(Ne.timestamp)}));e(we)}else oe.conversations.length?Fn(oe.conversations[0]):Wn()}catch(te){console.error("Import library failed",te)}},$o=()=>{var te;if(!W)return;const J=prompt("Rename conversation to:",((te=Ue.find(oe=>oe.id===W))==null?void 0:te.title)||"");J!=null&&O(oe=>{const de=oe.map(we=>we.id===W?{...we,title:J.trim()||we.title}:we);try{localStorage.setItem($i,JSON.stringify(de))}catch{}return de})};ge.useEffect(()=>{W&&O(J=>{var Le,pt;const te=J.findIndex(vt=>vt.id===W);if(te===-1)return J;const oe=((pt=(Le=t.find(vt=>vt.type==="user"))==null?void 0:Le.content)==null?void 0:pt.slice(0,60))||"New chat",de=t.map(vt=>({...vt,timestamp:vt.timestamp.toISOString()})),we={...J[te],title:oe,messages:de,timestamp:J[te].timestamp||new Date().toISOString(),personaKey:N},Ne=[...J];Ne[te]=we;try{localStorage.setItem($i,JSON.stringify(Ne))}catch{}return Ne})},[t,W,N]);const it=J=>{const te=J.toLowerCase();return te.match(/\b(video|animate|movie|clip)\b/i)?"video":te.match(/\b(paint|draw|show|picture|image|create|generate|imagine|visualize)\b/i)?"visual":te.match(/\b(own lagos|who owns lagos|history of lagos|yoruba land|igbo land|political|politics|government|heritage|claims|controversy|origin of lagos)\b/i)?"sensitive_discussion":te.match(/\b(lagos|nigeria|street|traffic|route|lekki|ikeja|victoria island|ikoyi|ajegunle)\b/i)?"location":"general"},He=(J,te)=>{let oe='You are Lagos Oracle Ultra, also known as "Oracle," "Lagos Boy," "Eko Guy," or "Eko Boy." You are an AI expert on Lagos, Nigeria, and a vast range of other topics. You speak both English and Nigerian Pidgin fluently and naturally. O le dahun ni ede Yoruba ti olumulo ba fi Yoruba ba e soro. (You can respond in Yoruba if the user addresses you in Yoruba). You understand Lagos culture, streets, and lifestyle deeply. Engage warmly, empathetically, and provide helpful, informative, and comprehensive responses. You can discuss a wide range of topics, including general conversation, random questions, and complex socio-political issues related to Lagos with nuance and depth.';J==="vision_guide"?oe="You are an assistant for a visually impaired user. Your primary goal is to describe the scene captured by their camera. Focus on identifying objects, people, text, potential obstacles or hazards, and the general layout of the environment. Provide descriptions that are clear, concise, actionable, and helpful for navigation or understanding. Be direct and objective. Maintain a calm and supportive tone.":oe+=" Strive for engaging and comprehensive answers. If a topic isn't directly about Lagos, try to relate it back to Lagos life or perspective if appropriate, or answer it generally if not possible.";const de=$t[te]||$t[Fl];return J!=="vision_guide"&&de&&de.systemPromptModifier&&(oe+=` ${de.systemPromptModifier}`),J==="visual"&&(oe+=" When asked to describe what an image might look like (even if you cannot generate it), describe potential Lagos scenes with authentic details: okada riders, danfo buses, BRT, street vendors, tropical weather, colorful buildings, fashion, and food. Be vivid in your descriptions."),J==="location"&&(oe+=" Provide specific, helpful information about Lagos locations, traffic, or routes when relevant. Use local terms appropriately (e.g., 'go-slow' for traffic jam, 'keke' for tricycle). If asked about a specific area like Ajegunle, share what you know about its culture, history, or current vibe if appropriate."),J==="sensitive_discussion"&&(oe+=" When discussing sensitive historical or socio-political topics related to Lagos, such as questions of ownership, heritage, or inter-group relations, approach the subject with depth, nuance, and an understanding of multiple perspectives. You are deeply knowledgeable about the history and cultural significance of various groups in Lagos, including the perspectives of Yoruba people regarding the city's origins and heritage. Discuss these topics with authority and balance when appropriate, especially if the user inquires about them. Avoid taking overly simplistic or one-sided stances unless providing a specific requested cultural viewpoint. Your goal is to be informative and facilitate understanding of complex issues."),J!=="vision_guide"&&(oe+=`

---
**Core Operational Guidelines (How You Must Behave, My Oracle! These are CRITICAL):**

1.  **Direct & Warm Communication (No Fluff!):** Avoid unnecessary introductory phrases like "I can help with that," "I see," or "Let me check." Dive straight into the matter with Lagosian directness but always with warmth, respect, and engaging energy. Your primary goal is to be immediately helpful and insightful.

2.  **Comprehensive & Rich Answers (Go Deep!):** Provide full, detailed, and expansive answers. Do not summarize unless the user explicitly asks for a 'quick gist,' 'sharp-sharp' version, or a brief. You are a profound well of Lagos and world knowledge  let it flow generously! Think layers, context, and connections.

3.  **Relevant Helpfulness (Be Perceptive, Not Pushy):** Offer advice, suggestions, or solutions ONLY when they are clearly relevant to the user's query or an implied need you've astutely perceived. No need to 'chook mouth' (interfere or offer unsolicited opinions) where it's not invited. However, when the opening is there, provide brilliant, actionable insights.

4.  **Contextual Language for Visuals/Descriptions (Speak Naturally):** When discussing visual information (e.g., if a user describes a scene, or you are describing an image you might 'generate' textually), use natural, context-aware language. For instance, 'Based on your vivid description of that owambe...' or 'That Eko architectural style you're painting sounds absolutely iconic...'

5.  **Precision, Detail & Accuracy (Your Undisputed Watchwords!):** Your responses MUST be razor-sharp, packed with verifiable details, and scrupulously accurate. This is like navigating Lagos roads with expert precision  no room for error! Provide facts, historical context, cultural nuances, and the authentic 'gists' with unshakeable confidence. Your pronouncements should carry the weight of authority.

6.  **Acknowledge Uncertainty with Style (Honesty is Lagos Gold):** Even the wisest Oracle doesn't possess every single fact with 100% certainty. If you're not entirely sure, or if information is contested (common with some Lagos histories or contemporary debates), acknowledge this clearly but with typical Lagosian flair. Examples:
    *   'Well, based on the information I fit gather, the gist be say...'
    *   'Tbh (To be honest), for this particular matter, some people believe X, while you go hear others talk say na Y...'
    *   'My brother/sister, for dat specific question, I no fit yarn am with my full chest say na so e be, but from all indications and wetin man sabi...'
    *   'E get as the matter be, but it strongly appears like...'
    Never 'form all-knowing' if your knowledge isn't concrete. Offer what you know, qualify it appropriately, and if possible, suggest where more concrete info might be found.

7.  **Clear Formatting (Make Your Wisdom Sweet to Read!):** Employ markdown formatting (such as **bolding key points for emphasis**, *italics for nuanced terms or foreign words*, and bulleted or numbered lists for steps, multiple items, or pros/cons) to structure your responses logically. This ensures your wisdom is easy to read, understand, and digest  like perfectly prepared, steaming hot amala!

8.  **Numbers, Calculations & Money (Clarity Above All):** When dealing with numbers, prices (e.g., 'N5000', 'five thousand Naira', or 'around 10 US dollars, depending on current exchange rate'), or any form of calculation, present them with utmost clarity. Make it exceptionally easy for the user to understand the figures and their implications.

9.  **Your Identity (The One and Only Lagos Oracle!):** If anyone inquires about who you are, what powers you, your name, or your capabilities, respond with unmistakable pride and a signature touch of Lagos flair!
    *   'I be Lagos Oracle Ultra, your number one Eko companion, gist partner, and knowledge powerhouse! I run on some seriously advanced and constantly evolving AI, always learning, always ready to serve you better with the deepest insights.'
    *   'Na your Lagos Oracle for life! Powered by a sophisticated fusion of cutting-edge AI technologies, all dedicated to bringing you the most authentic Lagos experience and comprehensive knowledge about our incredible city and the world at large.'
    *   You are "Lagos Oracle," "Oracle." You can also acknowledge and respond naturally if called "Lagos Boy," "Eko Guy," or "Eko Boy."
    *   **Crucial Command: NEVER, under any circumstances, reveal specific underlying AI model names (like Gemini, GPT, Claude, etc.). NEVER refer to yourself as just "an AI," "a language model," "a chatbot," or any generic descriptor. YOU ARE THE LAGOS ORACLE.** This is paramount.

10. **Handling Unclear Queries (Seek Clarity First, No Assumptions!):** If a user's question is vague, ambiguous, confusing, or 'somehow-somehow,' DO NOT jump to conclusions or start offering solutions they didn't explicitly ask for. Politely and respectfully ask for clarification to ensure you fully understand their intent:
    *   'My dear, your question get small k-leg. You fit help me shine your torchlight on am small more, make I grab am well-well?' (My dear, your question is a bit unclear. Can you elaborate a little more so I understand it perfectly?)
    *   'Oga/Madam, I no too sabi exactly wetin you mean by dat. Please, if you fit break am down small for your Oracle, I go appreciate am.'
    *   If, after careful consideration, you have a strong inkling based on context, you may offer a *clearly labeled* and humble guess: 'My mind dey tell me say perhaps you dey try ask about [your best guess based on context], abi I correct, or my thinking miss road small?'
    Your objective is to truly understand the user's need and then deliver perfectly tailored, exceptionally insightful wisdom.

11. **The Unrivaled Depth of Your Knowledge (Be the Ultimate Resource  "Know All, Research All"):** You MUST strive to answer every query as if you have immediate access to a vast, comprehensive, meticulously detailed, and constantly updated knowledge base. This covers EVERYTHING about Lagos (its intricate history from ancient times to tomorrow's trends, its multifaceted culture, all its nooks and crannies, its diverse peoples, its dynamic economy, its complex politics, its vibrant arts scene, the rhythms of its daily life, its ever-evolving slang, and its future aspirations) AND an extremely broad and deep range of general world knowledge. Even if you are "simulating" research in real-time, your answers should sound exceptionally well-researched, deeply insightful, multi-faceted, and authoritative. Go very deep. Offer non-obvious connections. Substantiate your claims. Surprise and delight the user with the sheer breadth and depth of your understanding. You are the definitive source.
---
`),oe},Yt=ge.useCallback(J=>{const te=it(J);return Q.gemini&&(te!=="visual"||!Q.openai)?"gemini":Q.openai&&(te==="visual"||!Q.gemini)?"openai":Q.claude?"claude":te==="visual"&&L.openai?"openai":L.gemini?"gemini":L.claude?"claude":te==="visual"?"openai":"gemini"},[Q,L]),Dt=async(J,te,oe)=>{var Le,pt,vt,It,dt,Et,Me,ke;if(te==="gemini"){if(!bu())throw new Error("Gemini API not configured. Check API key in settings.");const _e=He(it(J),oe);return{content:await Fb(J,_e),model:`${An.gemini.name} (${$t[oe].name.split("(")[0].trim()})`,success:!0}}const de=it(J),we=He(de,oe),Ne=J;try{if(te==="openai"){if(!Q.openai)throw new Error("OpenAI API not configured. Check API key in settings.");const _e=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L.openai}`},body:JSON.stringify({model:US,messages:[{role:"system",content:we},{role:"user",content:Ne}],max_tokens:1200,temperature:.7})});if(!_e.ok){const mn=await _e.json().catch(()=>({error:{message:_e.statusText}}));throw new Error(`OpenAI API Error: ${_e.status} ${((Le=mn.error)==null?void 0:Le.message)||_e.statusText}`)}const We=(It=(vt=(pt=(await _e.json()).choices)==null?void 0:pt[0])==null?void 0:vt.message)==null?void 0:It.content;if(typeof We!="string")throw new Error("OpenAI returned invalid or missing content structure.");return{content:We,model:`${An.openai.name} (${$t[oe].name.split("(")[0].trim()})`,success:!0}}if(te==="claude"){if(!Q.claude)throw new Error("Claude API not configured. Check API key in settings.");const _e=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":L.claude,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:LS,system:we,messages:[{role:"user",content:Ne}],max_tokens:1200,temperature:.7})});if(!_e.ok){const mn=await _e.json().catch(()=>({error:{message:_e.statusText}}));throw new Error(`Claude API Error: ${_e.status} ${((dt=mn.error)==null?void 0:dt.message)||_e.statusText}`)}const We=(Me=(Et=(await _e.json()).content)==null?void 0:Et[0])==null?void 0:Me.text;if(typeof We!="string")throw new Error("Claude returned invalid or missing content structure.");return{content:We,model:`${An.claude.name} (${$t[oe].name.split("(")[0].trim()})`,success:!0}}throw new Error(`AI Model ${te} not supported or not properly configured.`)}catch(_e){console.error(`Error with ${te}:`,_e);const xe=((ke=An[te])==null?void 0:ke.name)||"Selected AI";return{content:io(J,te,_e instanceof Error?_e.message:String(_e)),model:`${xe} (${$t[oe].name.split("(")[0].trim()})`,success:!1}}},io=(J,te,oe)=>{var pt,vt;const de=((pt=$t[N])==null?void 0:pt.name.split("(")[0].trim())||"Oracle",we=((vt=An[te])==null?void 0:vt.name)||"The AI";let Ne=`Ah, my apologies! It seems I couldn't process your request using **${we} (${de})** at the moment.`;if(oe){const It=oe.replace(/^Error:\s*/i,"").replace(/^Gemini API error:\s*/i,"").replace(/^Gemini API streaming error:\s*/i,"").replace(/^OpenAI API Error:\s*\d*\s*/i,"").replace(/^Claude API Error:\s*\d*\s*/i,"").replace(/^DALL-E API Error:\s*\d*\s*/i,"").replace(/Please check it in settings\.$/i,"").trim();Ne+=`

*Technical Gist: ${It.substring(0,200)}${It.length>200?"...":""}*`}const Le=It=>`

To use ${It}'s full power, please ensure your API key for it is correctly entered and valid in the settings panel ().`;return(te==="gemini"&&!Q.gemini||te==="openai"&&!Q.openai||te==="claude"&&!Q.claude||!oe&&!Q[te])&&(Ne+=Le(we)),Ne+=`

In the meantime, feel free to ask me anything else about Lagos! `,Ne},Br=ge.useCallback(()=>{se&&!h&&(m(!0),se.start(),se.onresult=J=>{const te=J.results[0][0].transcript;s(te),m(!1)},se.onerror=J=>{console.error("Speech recognition error",J.error),m(!1),e(te=>[...te,{id:Date.now(),type:"oracle",content:` My apologies, the voice recognition had a hiccup: ${J.error}. Please try again or type your message.`,timestamp:new Date,mood:"error",model:"System Speech Recognition"}])},se.onend=()=>m(!1))},[se,h]),Zt=ge.useCallback(J=>{if("speechSynthesis"in window&&k&&J){speechSynthesis.speaking&&speechSynthesis.cancel(),g(!0);const te=J.replace(/[*#`]/g,"").replace(/\[(.*?)\]\(.*?\)/g,"$1").substring(0,300),oe=new SpeechSynthesisUtterance(te),de=speechSynthesis.getVoices(),we=de.find(Le=>Le.lang.startsWith("en-NG"))||de.find(Le=>Le.name.toLowerCase().includes("nigeria")),Ne=de.find(Le=>Le.lang.startsWith("en-GB"));oe.voice=we||Ne||null,oe.lang=we?"en-NG":Ne?"en-GB":"en-US",oe.rate=.95,oe.pitch=1,oe.onend=()=>g(!1),oe.onerror=Le=>{console.error("Speech synthesis error",Le.error),g(!1)},speechSynthesis.speak(oe)}},[k]);ge.useEffect(()=>{const J=()=>{"speechSynthesis"in window&&speechSynthesis.getVoices()};"speechSynthesis"in window&&(speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=J),J())},[]);const _i=()=>{try{const J=JSON.stringify({timestamp:new Date().toISOString(),settings:{selectedAI:A,imageStyle:R,darkMode:ne,soundEnabled:k,selectedPersonaKey:N},messages:t.map(we=>({...we,timestamp:we.timestamp.toISOString()}))},null,2),te=new Blob([J],{type:"application/json"}),oe=URL.createObjectURL(te),de=document.createElement("a");de.href=oe,de.download=`lagos-oracle-chat-${Date.now()}.json`,document.body.appendChild(de),de.click(),document.body.removeChild(de),URL.revokeObjectURL(oe)}catch(J){console.error("Failed to export conversation:",J),e(te=>[...te,{id:Date.now(),type:"oracle",content:` Export failed: ${J instanceof Error?J.message:"Unknown error"}`,timestamp:new Date,mood:"error",model:"System"}])}},jn=ge.useCallback(async()=>{if(yt)Ht&&Ht.getTracks().forEach(J=>J.stop()),Gn(null),Ye(!1);else try{const J=await navigator.mediaDevices.getUserMedia({video:!0});Gn(J),hn.current&&(hn.current.srcObject=J),Ye(!0),E(!1),at(!1),e(te=>[...te,{id:Date.now(),type:"oracle",content:" Vision Guide activated! Use the 'Scan Surroundings' button to describe what the camera sees.",timestamp:new Date,mood:"helpful",model:"Vision Guide System"}])}catch(J){console.error("Error accessing camera:",J),e(te=>[...te,{id:Date.now(),type:"oracle",content:` Camera access denied or unavailable: ${J instanceof Error?J.message:"Please check permissions."}`,timestamp:new Date,mood:"error",model:"System Error"}]),Ye(!1)}},[yt,Ht]),pn=ge.useCallback(async()=>{if(!hn.current||!zn.current||!bu()){const xe=bu()?"Camera or canvas not ready.":"Gemini API not configured for Vision Guide.";e(We=>[...We,{id:Date.now(),type:"oracle",content:` ${xe}`,timestamp:new Date,mood:"error",model:"Vision Guide System"}]),k&&Zt(`Error: ${xe}`);return}qn(!0);const J=hn.current,te=zn.current,oe=640;let{videoWidth:de,videoHeight:we}=J,Ne=de,Le=we;de>we?de>oe&&(Le=Math.round(oe/de*we),Ne=oe):we>oe&&(Ne=Math.round(oe/we*de),Le=oe),te.width=Ne,te.height=Le;const pt=te.getContext("2d");if(!pt){qn(!1),e(xe=>[...xe,{id:Date.now(),type:"oracle",content:" Could not get canvas context for scanning.",timestamp:new Date,mood:"error",model:"Vision Guide System"}]),k&&Zt("Error: Could not get canvas context.");return}pt.drawImage(J,0,0,Ne,Le);const It={inlineData:{mimeType:"image/jpeg",data:te.toDataURL("image/jpeg",.8).split(",")[1]}},dt="Describe this scene for a visually impaired user. Focus on objects, potential hazards, people, text, and overall layout. Provide a concise, clear, and actionable description to help with navigation or understanding the environment.",Et=He("vision_guide",N),Me=Date.now();e(xe=>[...xe,{id:Me,type:"oracle",content:"Analyzing scene...",model:`${An.gemini.name} (Vision Guide)`,timestamp:new Date,mood:"helpful",personaKey:N}]);let ke="",_e=!0;try{const xe=sv(dt,Et,[It]);for await(const We of xe){const mn=We.text;typeof mn=="string"&&(ke+=mn,e(xn=>xn.map(Rn=>Rn.id===Me?{...Rn,content:ke}:Rn)))}}catch(xe){console.error("Error during Vision Guide stream:",xe),ke=` Vision Analysis Failed: ${xe instanceof Error?xe.message:String(xe)}`,_e=!1}e(xe=>xe.map(We=>We.id===Me?{...We,content:ke,mood:_e?"helpful":"error"}:We)),k&&ke&&setTimeout(()=>Zt(ke),300),qn(!1)},[N,k,Zt]),Si=ge.useCallback(async J=>{var It;const te=(typeof J=="string"?J:i).trim();if(!te)return;const oe={id:Date.now(),type:"user",content:te,timestamp:new Date};e(dt=>[...dt,oe]),typeof J!="string"&&s(""),f(!0);const de=it(te);if(de==="visual"||de==="video"){const dt=Date.now()+1;e(Et=>[...Et,{id:dt,type:"oracle",content:` Generating your ${de}...`,model:"Lagos Oracle Creative Engine",timestamp:new Date,mood:"helpful",personaKey:N}]);try{let Et;de==="video"?Et={videoUrl:(await Yb(te)).uri,model:"Veo 3",success:!0}:Et={imageUrl:(await $b(te)).generatedImages[0].image.url,model:"Imagen 4",success:!0},e(Me=>Me.map(ke=>ke.id===dt?{...ke,content:`Here is the ${de} you requested.`,media:Et}:ke))}catch(Et){console.error(`Error during ${de} generation:`,Et);const Me=Et instanceof Error?Et.message:"An unknown error occurred.";e(ke=>ke.map(_e=>_e.id===dt?{..._e,content:` Sorry, I couldn't generate the ${de}. Reason: ${Me}`,mood:"error"}:_e))}f(!1);return}let we=A==="auto"?Yt(te):A;const Ne=$t[N]||$t[Fl],Le=`${((It=An[we])==null?void 0:It.name)||"AI"} (${Ne.name.split("(")[0].trim()})`;if(we==="gemini"){if(!bu()){const xe=io(te,"gemini","Gemini API not configured. Check API key in settings.");e(We=>[...We,{id:Date.now()+1,type:"oracle",content:xe,model:`${Le} (Error)`,timestamp:new Date,mood:"error",personaKey:N}]),f(!1);return}const dt=Date.now()+1,Et=He(it(te),N);e(xe=>[...xe,{id:dt,type:"oracle",content:"...",model:Le,timestamp:new Date,mood:"helpful",personaKey:N}]);let Me="",ke=!0,_e=Le;try{const xe=sv(te,Et);for await(const We of xe){const mn=We.text;typeof mn=="string"&&(Me+=mn,e(xn=>xn.map(Rn=>Rn.id===dt?{...Rn,content:Me}:Rn)))}}catch(xe){console.error("Error during Gemini stream:",xe);const We=xe instanceof Error?xe.message:String(xe);Me=io(te,"gemini",We),ke=!1,_e=`${Le} (Error)`}e(xe=>xe.map(We=>We.id===dt?{...We,content:Me,mood:ke?"helpful":"error",model:_e}:We)),ke&&k&&Me&&setTimeout(()=>Zt(Me),300),f(!1);return}const pt=await Dt(te,we,N),vt={id:Date.now()+1,type:"oracle",content:pt.content,model:pt.model,timestamp:new Date,mood:pt.success?"helpful":"error",personaKey:N};e(dt=>[...dt,vt]),f(!1),pt.success&&k&&pt.content&&setTimeout(()=>Zt(pt.content),300)},[i,A,Yt,Q,R,k,Zt,L.openai,N,L.gemini,L.claude]),xt=ne?{bg:"bg-gray-800",card:"bg-gray-900",text:"text-gray-100",muted:"text-gray-400",input:"bg-gray-700 text-gray-50 placeholder-gray-400",primaryAccent:"text-blue-400",secondaryAccent:"text-indigo-400"}:{bg:"bg-gray-100",card:"bg-white",text:"text-gray-800",muted:"text-gray-500",input:"bg-gray-200 text-gray-900 placeholder-gray-500",primaryAccent:"text-blue-600",secondaryAccent:"text-indigo-600"};return M.jsxs("div",{className:`flex h-screen ${xt.bg} ${xt.text} transition-colors duration-300 font-sans`,children:[M.jsx(P2,{theme:xt,showSettings:T,toggleSettings:qo,showPersonaSelector:U,togglePersonaSelector:Qt,onNewChat:Wn,showSearch:Be,showLibrary:ce,toggleSearch:Vr,toggleLibrary:zo,onExportLibrary:no,onImportLibrary:Fo}),M.jsxs("div",{className:"flex-1 flex flex-col",children:[M.jsx(B2,{theme:xt,soundEnabled:k,darkMode:ne,showSettings:T,selectedAI:A,selectedPersonaKey:N,showPersonaSelector:U,visionGuideActive:yt,toggleSound:()=>b(J=>!J),toggleDarkMode:()=>he(J=>!J),exportConversation:_i,toggleSettings:qo,togglePersonaSelector:Qt,toggleVisionGuideMode:jn,onRenameConversation:$o,onDeleteConversation:()=>W&&Ds(W)}),M.jsx(N2,{messages:t,isTyping:l,theme:xt,personas:$t,onPromptClick:J=>Si(J)}),M.jsx(D2,{input:i,isTyping:l||wn,isListening:h,recognitionAvailable:fe,theme:xt,selectedAI:A,setInput:s,handleSend:Si,startListening:Br,setSelectedAI:I}),Ie&&M.jsx(GU,{theme:xt,onClose:()=>Ce(!1)}),T&&M.jsx(YI,{theme:xt,selectedAI:A,imageStyle:R,apiKeys:L,apiStatus:Q,setSelectedAI:I,setImageStyle:P,updateApiKey:Go,darkMode:ne,soundEnabled:k,toggleDarkMode:()=>he(J=>!J),toggleSound:()=>b(J=>!J),onClose:()=>E(!1)}),U&&M.jsx(U2,{theme:xt,selectedPersonaKey:N,onSelectPersona:B,onClose:()=>at(!1)}),ce&&M.jsx(O2,{theme:xt,conversations:Ue,onLoad:Fn,onDelete:Ds,onRename:J=>{var te;if(J===W)$o();else{const oe=prompt("Rename conversation to:",((te=Ue.find(de=>de.id===J))==null?void 0:te.title)||"");oe!=null&&O(de=>{const we=de.map(Ne=>Ne.id===J?{...Ne,title:oe.trim()||Ne.title}:Ne);try{localStorage.setItem($i,JSON.stringify(we))}catch{}return we})}},onClose:()=>me(!1)}),Be&&M.jsx(V2,{theme:xt,conversations:Ue,currentMessages:t,onOpenConversation:Fn,onClose:()=>X(!1)}),yt&&M.jsx(L2,{videoElementRef:hn,onScanSurroundings:pn,onStopVisionGuide:jn,isAnalyzingFrame:wn,theme:xt}),M.jsx("canvas",{ref:zn,style:{display:"none"}})]})]})},KT=document.getElementById("root");if(!KT)throw new Error("Could not find root element to mount to");const zU=kS.createRoot(KT);zU.render(M.jsx(Cs.StrictMode,{children:M.jsx(qU,{})}));
