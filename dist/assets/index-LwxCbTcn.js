var Vv=Object.defineProperty;var Pv=(n,e,o)=>e in n?Vv(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o;var Oe=(n,e,o)=>Pv(n,typeof e!="symbol"?e+"":e,o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function o(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(c){if(c.ep)return;c.ep=!0;const f=o(c);fetch(c.href,f)}})();function Uh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Nu={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function Gv(){if(Zp)return wl;Zp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(l,c,f){var m=null;if(f!==void 0&&(m=""+f),c.key!==void 0&&(m=""+c.key),"key"in c){f={};for(var g in c)g!=="key"&&(f[g]=c[g])}else f=c;return c=f.ref,{$$typeof:n,type:l,key:m,ref:c!==void 0?c:null,props:f}}return wl.Fragment=e,wl.jsx=o,wl.jsxs=o,wl}var Wp;function qv(){return Wp||(Wp=1,Nu.exports=Gv()),Nu.exports}var R=qv(),wu={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function Hv(){if(jp)return pe;jp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function C(_){return _===null||typeof _!="object"?null:(_=S&&_[S]||_["@@iterator"],typeof _=="function"?_:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,L={};function z(_,q,K){this.props=_,this.context=q,this.refs=L,this.updater=K||M}z.prototype.isReactComponent={},z.prototype.setState=function(_,q){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,q,"setState")},z.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function Q(){}Q.prototype=z.prototype;function F(_,q,K){this.props=_,this.context=q,this.refs=L,this.updater=K||M}var Y=F.prototype=new Q;Y.constructor=F,w(Y,z.prototype),Y.isPureReactComponent=!0;var j=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function W(_,q,K,$,le,me){return K=me.ref,{$$typeof:n,type:_,key:q,ref:K!==void 0?K:null,props:me}}function Ee(_,q){return W(_.type,q,void 0,void 0,void 0,_.props)}function ae(_){return typeof _=="object"&&_!==null&&_.$$typeof===n}function Se(_){var q={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(K){return q[K]})}var ee=/\/+/g;function ke(_,q){return typeof _=="object"&&_!==null&&_.key!=null?Se(""+_.key):q.toString(36)}function Ut(){}function pt(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(Ut,Ut):(_.status="pending",_.then(function(q){_.status==="pending"&&(_.status="fulfilled",_.value=q)},function(q){_.status==="pending"&&(_.status="rejected",_.reason=q)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function Ie(_,q,K,$,le){var me=typeof _;(me==="undefined"||me==="boolean")&&(_=null);var fe=!1;if(_===null)fe=!0;else switch(me){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(_.$$typeof){case n:case e:fe=!0;break;case v:return fe=_._init,Ie(fe(_._payload),q,K,$,le)}}if(fe)return le=le(_),fe=$===""?"."+ke(_,0):$,j(le)?(K="",fe!=null&&(K=fe.replace(ee,"$&/")+"/"),Ie(le,q,K,"",function(Rt){return Rt})):le!=null&&(ae(le)&&(le=Ee(le,K+(le.key==null||_&&_.key===le.key?"":(""+le.key).replace(ee,"$&/")+"/")+fe)),q.push(le)),1;fe=0;var vt=$===""?".":$+":";if(j(_))for(var Pe=0;Pe<_.length;Pe++)$=_[Pe],me=vt+ke($,Pe),fe+=Ie($,q,K,me,le);else if(Pe=C(_),typeof Pe=="function")for(_=Pe.call(_),Pe=0;!($=_.next()).done;)$=$.value,me=vt+ke($,Pe++),fe+=Ie($,q,K,me,le);else if(me==="object"){if(typeof _.then=="function")return Ie(pt(_),q,K,$,le);throw q=String(_),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return fe}function U(_,q,K){if(_==null)return _;var $=[],le=0;return Ie(_,$,"","",function(me){return q.call(K,me,le++)}),$}function J(_){if(_._status===-1){var q=_._result;q=q(),q.then(function(K){(_._status===0||_._status===-1)&&(_._status=1,_._result=K)},function(K){(_._status===0||_._status===-1)&&(_._status=2,_._result=K)}),_._status===-1&&(_._status=0,_._result=q)}if(_._status===1)return _._result.default;throw _._result}var ie=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function Re(){}return pe.Children={map:U,forEach:function(_,q,K){U(_,function(){q.apply(this,arguments)},K)},count:function(_){var q=0;return U(_,function(){q++}),q},toArray:function(_){return U(_,function(q){return q})||[]},only:function(_){if(!ae(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},pe.Component=z,pe.Fragment=o,pe.Profiler=c,pe.PureComponent=F,pe.StrictMode=l,pe.Suspense=y,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,pe.__COMPILER_RUNTIME={__proto__:null,c:function(_){return B.H.useMemoCache(_)}},pe.cache=function(_){return function(){return _.apply(null,arguments)}},pe.cloneElement=function(_,q,K){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var $=w({},_.props),le=_.key,me=void 0;if(q!=null)for(fe in q.ref!==void 0&&(me=void 0),q.key!==void 0&&(le=""+q.key),q)!re.call(q,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&q.ref===void 0||($[fe]=q[fe]);var fe=arguments.length-2;if(fe===1)$.children=K;else if(1<fe){for(var vt=Array(fe),Pe=0;Pe<fe;Pe++)vt[Pe]=arguments[Pe+2];$.children=vt}return W(_.type,le,void 0,void 0,me,$)},pe.createContext=function(_){return _={$$typeof:m,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:f,_context:_},_},pe.createElement=function(_,q,K){var $,le={},me=null;if(q!=null)for($ in q.key!==void 0&&(me=""+q.key),q)re.call(q,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(le[$]=q[$]);var fe=arguments.length-2;if(fe===1)le.children=K;else if(1<fe){for(var vt=Array(fe),Pe=0;Pe<fe;Pe++)vt[Pe]=arguments[Pe+2];le.children=vt}if(_&&_.defaultProps)for($ in fe=_.defaultProps,fe)le[$]===void 0&&(le[$]=fe[$]);return W(_,me,void 0,void 0,null,le)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(_){return{$$typeof:g,render:_}},pe.isValidElement=ae,pe.lazy=function(_){return{$$typeof:v,_payload:{_status:-1,_result:_},_init:J}},pe.memo=function(_,q){return{$$typeof:p,type:_,compare:q===void 0?null:q}},pe.startTransition=function(_){var q=B.T,K={};B.T=K;try{var $=_(),le=B.S;le!==null&&le(K,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Re,ie)}catch(me){ie(me)}finally{B.T=q}},pe.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},pe.use=function(_){return B.H.use(_)},pe.useActionState=function(_,q,K){return B.H.useActionState(_,q,K)},pe.useCallback=function(_,q){return B.H.useCallback(_,q)},pe.useContext=function(_){return B.H.useContext(_)},pe.useDebugValue=function(){},pe.useDeferredValue=function(_,q){return B.H.useDeferredValue(_,q)},pe.useEffect=function(_,q,K){var $=B.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(_,q)},pe.useId=function(){return B.H.useId()},pe.useImperativeHandle=function(_,q,K){return B.H.useImperativeHandle(_,q,K)},pe.useInsertionEffect=function(_,q){return B.H.useInsertionEffect(_,q)},pe.useLayoutEffect=function(_,q){return B.H.useLayoutEffect(_,q)},pe.useMemo=function(_,q){return B.H.useMemo(_,q)},pe.useOptimistic=function(_,q){return B.H.useOptimistic(_,q)},pe.useReducer=function(_,q,K){return B.H.useReducer(_,q,K)},pe.useRef=function(_){return B.H.useRef(_)},pe.useState=function(_){return B.H.useState(_)},pe.useSyncExternalStore=function(_,q,K){return B.H.useSyncExternalStore(_,q,K)},pe.useTransition=function(){return B.H.useTransition()},pe.version="19.1.1",pe}var em;function Wu(){return em||(em=1,wu.exports=Hv()),wu.exports}var oe=Wu();const zv=Uh(oe);var bu={exports:{}},bl={},Du={exports:{}},ku={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function Bv(){return tm||(tm=1,function(n){function e(U,J){var ie=U.length;U.push(J);e:for(;0<ie;){var Re=ie-1>>>1,_=U[Re];if(0<c(_,J))U[Re]=J,U[ie]=_,ie=Re;else break e}}function o(U){return U.length===0?null:U[0]}function l(U){if(U.length===0)return null;var J=U[0],ie=U.pop();if(ie!==J){U[0]=ie;e:for(var Re=0,_=U.length,q=_>>>1;Re<q;){var K=2*(Re+1)-1,$=U[K],le=K+1,me=U[le];if(0>c($,ie))le<_&&0>c(me,$)?(U[Re]=me,U[le]=ie,Re=le):(U[Re]=$,U[K]=ie,Re=K);else if(le<_&&0>c(me,ie))U[Re]=me,U[le]=ie,Re=le;else break e}}return J}function c(U,J){var ie=U.sortIndex-J.sortIndex;return ie!==0?ie:U.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var m=Date,g=m.now();n.unstable_now=function(){return m.now()-g}}var y=[],p=[],v=1,S=null,C=3,M=!1,w=!1,L=!1,z=!1,Q=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function j(U){for(var J=o(p);J!==null;){if(J.callback===null)l(p);else if(J.startTime<=U)l(p),J.sortIndex=J.expirationTime,e(y,J);else break;J=o(p)}}function B(U){if(L=!1,j(U),!w)if(o(y)!==null)w=!0,re||(re=!0,ke());else{var J=o(p);J!==null&&Ie(B,J.startTime-U)}}var re=!1,W=-1,Ee=5,ae=-1;function Se(){return z?!0:!(n.unstable_now()-ae<Ee)}function ee(){if(z=!1,re){var U=n.unstable_now();ae=U;var J=!0;try{e:{w=!1,L&&(L=!1,F(W),W=-1),M=!0;var ie=C;try{t:{for(j(U),S=o(y);S!==null&&!(S.expirationTime>U&&Se());){var Re=S.callback;if(typeof Re=="function"){S.callback=null,C=S.priorityLevel;var _=Re(S.expirationTime<=U);if(U=n.unstable_now(),typeof _=="function"){S.callback=_,j(U),J=!0;break t}S===o(y)&&l(y),j(U)}else l(y);S=o(y)}if(S!==null)J=!0;else{var q=o(p);q!==null&&Ie(B,q.startTime-U),J=!1}}break e}finally{S=null,C=ie,M=!1}J=void 0}}finally{J?ke():re=!1}}}var ke;if(typeof Y=="function")ke=function(){Y(ee)};else if(typeof MessageChannel<"u"){var Ut=new MessageChannel,pt=Ut.port2;Ut.port1.onmessage=ee,ke=function(){pt.postMessage(null)}}else ke=function(){Q(ee,0)};function Ie(U,J){W=Q(function(){U(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_next=function(U){switch(C){case 1:case 2:case 3:var J=3;break;default:J=C}var ie=C;C=J;try{return U()}finally{C=ie}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(U,J){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ie=C;C=U;try{return J()}finally{C=ie}},n.unstable_scheduleCallback=function(U,J,ie){var Re=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Re+ie:Re):ie=Re,U){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=ie+_,U={id:v++,callback:J,priorityLevel:U,startTime:ie,expirationTime:_,sortIndex:-1},ie>Re?(U.sortIndex=ie,e(p,U),o(y)===null&&U===o(p)&&(L?(F(W),W=-1):L=!0,Ie(B,ie-Re))):(U.sortIndex=_,e(y,U),w||M||(w=!0,re||(re=!0,ke()))),U},n.unstable_shouldYield=Se,n.unstable_wrapCallback=function(U){var J=C;return function(){var ie=C;C=J;try{return U.apply(this,arguments)}finally{C=ie}}}}(ku)),ku}var nm;function Ov(){return nm||(nm=1,Du.exports=Bv()),Du.exports}var Iu={exports:{}},Ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function Yv(){if(im)return Ct;im=1;var n=Wu();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(y,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:y,containerInfo:p,implementation:v}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Ct.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return f(y,p,null,v)},Ct.flushSync=function(y){var p=m.T,v=l.p;try{if(m.T=null,l.p=2,y)return y()}finally{m.T=p,l.p=v,l.d.f()}},Ct.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(y,p))},Ct.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},Ct.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,S=g(v,p.crossOrigin),C=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:M}):v==="script"&&l.d.X(y,{crossOrigin:S,integrity:C,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ct.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(y)},Ct.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,S=g(v,p.crossOrigin);l.d.L(y,v,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ct.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=g(p.as,p.crossOrigin);l.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(y)},Ct.requestFormReset=function(y){l.d.r(y)},Ct.unstable_batchedUpdates=function(y,p){return y(p)},Ct.useFormState=function(y,p,v){return m.H.useFormState(y,p,v)},Ct.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ct.version="19.1.1",Ct}var om;function Fv(){if(om)return Iu.exports;om=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Iu.exports=Yv(),Iu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function $v(){if(lm)return bl;lm=1;var n=Ov(),e=Wu(),o=Fv();function l(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function m(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(f(t)!==t)throw Error(l(188))}function y(t){var i=t.alternate;if(!i){if(i=f(t),i===null)throw Error(l(188));return i!==t?null:t}for(var a=t,u=i;;){var d=a.return;if(d===null)break;var h=d.alternate;if(h===null){if(u=d.return,u!==null){a=u;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===a)return g(d),t;if(h===u)return g(d),i;h=h.sibling}throw Error(l(188))}if(a.return!==u.return)a=d,u=h;else{for(var T=!1,E=d.child;E;){if(E===a){T=!0,a=d,u=h;break}if(E===u){T=!0,u=d,a=h;break}E=E.sibling}if(!T){for(E=h.child;E;){if(E===a){T=!0,a=h,u=d;break}if(E===u){T=!0,u=h,a=d;break}E=E.sibling}if(!T)throw Error(l(189))}}if(a.alternate!==u)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),Se=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function ke(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var Ut=Symbol.for("react.client.reference");function pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ut?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case z:return"Profiler";case L:return"StrictMode";case B:return"Suspense";case re:return"SuspenseList";case ae:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case Y:return(t.displayName||"Context")+".Provider";case F:return(t._context.displayName||"Context")+".Consumer";case j:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W:return i=t.displayName||null,i!==null?i:pt(t.type)||"Memo";case Ee:i=t._payload,t=t._init;try{return pt(t(i))}catch{}}return null}var Ie=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Re=[],_=-1;function q(t){return{current:t}}function K(t){0>_||(t.current=Re[_],Re[_]=null,_--)}function $(t,i){_++,Re[_]=t.current,t.current=i}var le=q(null),me=q(null),fe=q(null),vt=q(null);function Pe(t,i){switch($(fe,i),$(me,t),$(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?xp(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=xp(i),t=Mp(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(le),$(le,t)}function Rt(){K(le),K(me),K(fe)}function ai(t){t.memoizedState!==null&&$(vt,t);var i=le.current,a=Mp(i,t.type);i!==a&&($(me,t),$(le,a))}function ki(t){me.current===t&&(K(le),K(me)),vt.current===t&&(K(vt),_l._currentValue=ie)}var ko=Object.prototype.hasOwnProperty,Io=n.unstable_scheduleCallback,Uo=n.unstable_cancelCallback,gs=n.unstable_shouldYield,Gl=n.unstable_requestPaint,Lt=n.unstable_now,ys=n.unstable_getCurrentPriorityLevel,Ln=n.unstable_ImmediatePriority,si=n.unstable_UserBlockingPriority,ri=n.unstable_NormalPriority,vs=n.unstable_LowPriority,Ii=n.unstable_IdlePriority,Ts=n.log,hn=n.unstable_setDisableYieldValue,ui=null,At=null;function tn(t){if(typeof Ts=="function"&&hn(t),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(ui,t)}catch{}}var Ke=Math.clz32?Math.clz32:X,G=Math.log,O=Math.LN2;function X(t){return t>>>=0,t===0?32:31-(G(t)/O|0)|0}var de=256,Ue=4194304;function xe(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ae(t,i,a){var u=t.pendingLanes;if(u===0)return 0;var d=0,h=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var E=u&134217727;return E!==0?(u=E&~h,u!==0?d=xe(u):(T&=E,T!==0?d=xe(T):a||(a=E&~t,a!==0&&(d=xe(a))))):(E=u&~h,E!==0?d=xe(E):T!==0?d=xe(T):a||(a=u&~t,a!==0&&(d=xe(a)))),d===0?0:i!==0&&i!==d&&(i&h)===0&&(h=d&-d,a=i&-i,h>=a||h===32&&(a&4194048)!==0)?i:d}function Xe(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function mt(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _t(){var t=de;return de<<=1,(de&4194048)===0&&(de=256),t}function at(){var t=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),t}function it(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Fe(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function et(t,i,a,u,d,h){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,A=t.expirationTimes,D=t.hiddenUpdates;for(a=T&~a;0<a;){var V=31-Ke(a),H=1<<V;E[V]=0,A[V]=-1;var k=D[V];if(k!==null)for(D[V]=null,V=0;V<k.length;V++){var I=k[V];I!==null&&(I.lane&=-536870913)}a&=~H}u!==0&&_e(t,u,0),h!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=h&~(T&~i))}function _e(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-Ke(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|a&4194090}function Te(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var u=31-Ke(a),d=1<<u;d&i|t[u]&i&&(t[u]|=i),a&=~d}}function ze(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ui(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:Fp(t.type))}function gn(t,i){var a=J.p;try{return J.p=t,i()}finally{J.p=a}}var Vn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Vn,Nt="__reactProps$"+Vn,Li="__reactContainer$"+Vn,Ss="__reactEvents$"+Vn,Mg="__reactListeners$"+Vn,Rg="__reactHandles$"+Vn,dc="__reactResources$"+Vn,Lo="__reactMarker$"+Vn;function Cs(t){delete t[Tt],delete t[Nt],delete t[Ss],delete t[Mg],delete t[Rg]}function Vi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Li]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=bp(t);t!==null;){if(a=t[Tt])return a;t=bp(t)}return i}t=a,a=t.parentNode}return null}function Pi(t){if(t=t[Tt]||t[Li]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Vo(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(l(33))}function Gi(t){var i=t[dc];return i||(i=t[dc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ut(t){t[Lo]=!0}var pc=new Set,mc={};function ci(t,i){qi(t,i),qi(t+"Capture",i)}function qi(t,i){for(mc[t]=i,t=0;t<i.length;t++)pc.add(i[t])}var Ng=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hc={},gc={};function wg(t){return ko.call(gc,t)?!0:ko.call(hc,t)?!1:Ng.test(t)?gc[t]=!0:(hc[t]=!0,!1)}function ql(t,i,a){if(wg(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Hl(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function yn(t,i,a,u){if(u===null)t.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+u)}}var Es,yc;function Hi(t){if(Es===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Es=i&&i[1]||"",yc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Es+t+yc}var As=!1;function _s(t,i){if(!t||As)return"";As=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(I){var k=I}Reflect.construct(t,[],H)}else{try{H.call()}catch(I){k=I}t.call(H.prototype)}}else{try{throw Error()}catch(I){k=I}(H=t())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(I){if(I&&k&&typeof I.stack=="string")return[I.stack,k.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=u.DetermineComponentFrameRoot(),T=h[0],E=h[1];if(T&&E){var A=T.split(`
`),D=E.split(`
`);for(d=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;if(u===A.length||d===D.length)for(u=A.length-1,d=D.length-1;1<=u&&0<=d&&A[u]!==D[d];)d--;for(;1<=u&&0<=d;u--,d--)if(A[u]!==D[d]){if(u!==1||d!==1)do if(u--,d--,0>d||A[u]!==D[d]){var V=`
`+A[u].replace(" at new "," at ");return t.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",t.displayName)),V}while(1<=u&&0<=d);break}}}finally{As=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Hi(a):""}function bg(t){switch(t.tag){case 26:case 27:case 5:return Hi(t.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 15:return _s(t.type,!1);case 11:return _s(t.type.render,!1);case 1:return _s(t.type,!0);case 31:return Hi("Activity");default:return""}}function vc(t){try{var i="";do i+=bg(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tc(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Dg(t){var i=Tc(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,h=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){u=""+T,h.call(this,T)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function zl(t){t._valueTracker||(t._valueTracker=Dg(t))}function Sc(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return t&&(u=Tc(t)?t.checked?"true":"false":t.value),t=u,t!==a?(i.setValue(t),!0):!1}function Bl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kg=/[\n"\\]/g;function Ft(t){return t.replace(kg,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function xs(t,i,a,u,d,h,T,E){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Yt(i)):t.value!==""+Yt(i)&&(t.value=""+Yt(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Ms(t,T,Yt(i)):a!=null?Ms(t,T,Yt(a)):u!=null&&t.removeAttribute("value"),d==null&&h!=null&&(t.defaultChecked=!!h),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Yt(E):t.removeAttribute("name")}function Cc(t,i,a,u,d,h,T,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),i!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||i!=null))return;a=a!=null?""+Yt(a):"",i=i!=null?""+Yt(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=E?t.checked:!!u,t.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Ms(t,i,a){i==="number"&&Bl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function zi(t,i,a,u){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&u&&(t[a].defaultSelected=!0)}else{for(a=""+Yt(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Ec(t,i,a){if(i!=null&&(i=""+Yt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Yt(a):""}function Ac(t,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(l(92));if(Ie(u)){if(1<u.length)throw Error(l(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=Yt(i),t.defaultValue=a,u=t.textContent,u===a&&u!==""&&u!==null&&(t.value=u)}function Bi(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ig=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _c(t,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,a):typeof a!="number"||a===0||Ig.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function xc(t,i,a){if(i!=null&&typeof i!="object")throw Error(l(62));if(t=t.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var d in i)u=i[d],i.hasOwnProperty(d)&&a[d]!==u&&_c(t,d,u)}else for(var h in i)i.hasOwnProperty(h)&&_c(t,h,i[h])}function Rs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ug=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ol(t){return Lg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ns=null;function ws(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oi=null,Yi=null;function Mc(t){var i=Pi(t);if(i&&(t=i.stateNode)){var a=t[Nt]||null;e:switch(t=i.stateNode,i.type){case"input":if(xs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ft(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==t&&u.form===t.form){var d=u[Nt]||null;if(!d)throw Error(l(90));xs(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===t.form&&Sc(u)}break e;case"textarea":Ec(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&zi(t,!!a.multiple,i,!1)}}}var bs=!1;function Rc(t,i,a){if(bs)return t(i,a);bs=!0;try{var u=t(i);return u}finally{if(bs=!1,(Oi!==null||Yi!==null)&&(Na(),Oi&&(i=Oi,t=Yi,Yi=Oi=null,Mc(i),t)))for(i=0;i<t.length;i++)Mc(t[i])}}function Po(t,i){var a=t.stateNode;if(a===null)return null;var u=a[Nt]||null;if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(l(231,i,typeof a));return a}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ds=!1;if(vn)try{var Go={};Object.defineProperty(Go,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",Go,Go),window.removeEventListener("test",Go,Go)}catch{Ds=!1}var Pn=null,ks=null,Yl=null;function Nc(){if(Yl)return Yl;var t,i=ks,a=i.length,u,d="value"in Pn?Pn.value:Pn.textContent,h=d.length;for(t=0;t<a&&i[t]===d[t];t++);var T=a-t;for(u=1;u<=T&&i[a-u]===d[h-u];u++);return Yl=d.slice(t,1<u?1-u:void 0)}function Fl(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function $l(){return!0}function wc(){return!1}function wt(t){function i(a,u,d,h,T){this._reactName=a,this._targetInst=d,this.type=u,this.nativeEvent=h,this.target=T,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?$l:wc,this.isPropagationStopped=wc,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),i}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jl=wt(fi),qo=v({},fi,{view:0,detail:0}),Vg=wt(qo),Is,Us,Ho,Kl=v({},qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ho&&(Ho&&t.type==="mousemove"?(Is=t.screenX-Ho.screenX,Us=t.screenY-Ho.screenY):Us=Is=0,Ho=t),Is)},movementY:function(t){return"movementY"in t?t.movementY:Us}}),bc=wt(Kl),Pg=v({},Kl,{dataTransfer:0}),Gg=wt(Pg),qg=v({},qo,{relatedTarget:0}),Ls=wt(qg),Hg=v({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),zg=wt(Hg),Bg=v({},fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Og=wt(Bg),Yg=v({},fi,{data:0}),Dc=wt(Yg),Fg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$g={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kg(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Jg[t])?!!i[t]:!1}function Vs(){return Kg}var Xg=v({},qo,{key:function(t){if(t.key){var i=Fg[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Fl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$g[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(t){return t.type==="keypress"?Fl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qg=wt(Xg),Zg=v({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kc=wt(Zg),Wg=v({},qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),jg=wt(Wg),ey=v({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ty=wt(ey),ny=v({},Kl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iy=wt(ny),oy=v({},fi,{newState:0,oldState:0}),ly=wt(oy),ay=[9,13,27,32],Ps=vn&&"CompositionEvent"in window,zo=null;vn&&"documentMode"in document&&(zo=document.documentMode);var sy=vn&&"TextEvent"in window&&!zo,Ic=vn&&(!Ps||zo&&8<zo&&11>=zo),Uc=" ",Lc=!1;function Vc(t,i){switch(t){case"keyup":return ay.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fi=!1;function ry(t,i){switch(t){case"compositionend":return Pc(i);case"keypress":return i.which!==32?null:(Lc=!0,Uc);case"textInput":return t=i.data,t===Uc&&Lc?null:t;default:return null}}function uy(t,i){if(Fi)return t==="compositionend"||!Ps&&Vc(t,i)?(t=Nc(),Yl=ks=Pn=null,Fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ic&&i.locale!=="ko"?null:i.data;default:return null}}var cy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!cy[t.type]:i==="textarea"}function qc(t,i,a,u){Oi?Yi?Yi.push(u):Yi=[u]:Oi=u,i=Ua(i,"onChange"),0<i.length&&(a=new Jl("onChange","change",null,a,u),t.push({event:a,listeners:i}))}var Bo=null,Oo=null;function fy(t){Sp(t,0)}function Xl(t){var i=Vo(t);if(Sc(i))return t}function Hc(t,i){if(t==="change")return i}var zc=!1;if(vn){var Gs;if(vn){var qs="oninput"in document;if(!qs){var Bc=document.createElement("div");Bc.setAttribute("oninput","return;"),qs=typeof Bc.oninput=="function"}Gs=qs}else Gs=!1;zc=Gs&&(!document.documentMode||9<document.documentMode)}function Oc(){Bo&&(Bo.detachEvent("onpropertychange",Yc),Oo=Bo=null)}function Yc(t){if(t.propertyName==="value"&&Xl(Oo)){var i=[];qc(i,Oo,t,ws(t)),Rc(fy,i)}}function dy(t,i,a){t==="focusin"?(Oc(),Bo=i,Oo=a,Bo.attachEvent("onpropertychange",Yc)):t==="focusout"&&Oc()}function py(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xl(Oo)}function my(t,i){if(t==="click")return Xl(i)}function hy(t,i){if(t==="input"||t==="change")return Xl(i)}function gy(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Pt=typeof Object.is=="function"?Object.is:gy;function Yo(t,i){if(Pt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var d=a[u];if(!ko.call(i,d)||!Pt(t[d],i[d]))return!1}return!0}function Fc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $c(t,i){var a=Fc(t);t=0;for(var u;a;){if(a.nodeType===3){if(u=t+a.textContent.length,t<=i&&u>=i)return{node:a,offset:i-t};t=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fc(a)}}function Jc(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Jc(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Kc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Bl(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Bl(t.document)}return i}function Hs(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var yy=vn&&"documentMode"in document&&11>=document.documentMode,$i=null,zs=null,Fo=null,Bs=!1;function Xc(t,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bs||$i==null||$i!==Bl(u)||(u=$i,"selectionStart"in u&&Hs(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Fo&&Yo(Fo,u)||(Fo=u,u=Ua(zs,"onSelect"),0<u.length&&(i=new Jl("onSelect","select",null,i,a),t.push({event:i,listeners:u}),i.target=$i)))}function di(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ji={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},Os={},Qc={};vn&&(Qc=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function pi(t){if(Os[t])return Os[t];if(!Ji[t])return t;var i=Ji[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Qc)return Os[t]=i[a];return t}var Zc=pi("animationend"),Wc=pi("animationiteration"),jc=pi("animationstart"),vy=pi("transitionrun"),Ty=pi("transitionstart"),Sy=pi("transitioncancel"),ef=pi("transitionend"),tf=new Map,Ys="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ys.push("scrollEnd");function nn(t,i){tf.set(t,i),ci(i,[t])}var nf=new WeakMap;function $t(t,i){if(typeof t=="object"&&t!==null){var a=nf.get(t);return a!==void 0?a:(i={value:t,source:i,stack:vc(i)},nf.set(t,i),i)}return{value:t,source:i,stack:vc(i)}}var Jt=[],Ki=0,Fs=0;function Ql(){for(var t=Ki,i=Fs=Ki=0;i<t;){var a=Jt[i];Jt[i++]=null;var u=Jt[i];Jt[i++]=null;var d=Jt[i];Jt[i++]=null;var h=Jt[i];if(Jt[i++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}h!==0&&of(a,d,h)}}function Zl(t,i,a,u){Jt[Ki++]=t,Jt[Ki++]=i,Jt[Ki++]=a,Jt[Ki++]=u,Fs|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function $s(t,i,a,u){return Zl(t,i,a,u),Wl(t)}function Xi(t,i){return Zl(t,null,null,i),Wl(t)}function of(t,i,a){t.lanes|=a;var u=t.alternate;u!==null&&(u.lanes|=a);for(var d=!1,h=t.return;h!==null;)h.childLanes|=a,u=h.alternate,u!==null&&(u.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(d=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,d&&i!==null&&(d=31-Ke(a),t=h.hiddenUpdates,u=t[d],u===null?t[d]=[i]:u.push(i),i.lane=a|536870912),h):null}function Wl(t){if(50<gl)throw gl=0,Wr=null,Error(l(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Qi={};function Cy(t,i,a,u){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(t,i,a,u){return new Cy(t,i,a,u)}function Js(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tn(t,i){var a=t.alternate;return a===null?(a=Gt(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function lf(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function jl(t,i,a,u,d,h){var T=0;if(u=t,typeof t=="function")Js(t)&&(T=1);else if(typeof t=="string")T=Av(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ae:return t=Gt(31,a,i,d),t.elementType=ae,t.lanes=h,t;case w:return mi(a.children,d,h,i);case L:T=8,d|=24;break;case z:return t=Gt(12,a,i,d|2),t.elementType=z,t.lanes=h,t;case B:return t=Gt(13,a,i,d),t.elementType=B,t.lanes=h,t;case re:return t=Gt(19,a,i,d),t.elementType=re,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:case Y:T=10;break e;case F:T=9;break e;case j:T=11;break e;case W:T=14;break e;case Ee:T=16,u=null;break e}T=29,a=Error(l(130,t===null?"null":typeof t,"")),u=null}return i=Gt(T,a,i,d),i.elementType=t,i.type=u,i.lanes=h,i}function mi(t,i,a,u){return t=Gt(7,t,u,i),t.lanes=a,t}function Ks(t,i,a){return t=Gt(6,t,null,i),t.lanes=a,t}function Xs(t,i,a){return i=Gt(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Zi=[],Wi=0,ea=null,ta=0,Kt=[],Xt=0,hi=null,Sn=1,Cn="";function gi(t,i){Zi[Wi++]=ta,Zi[Wi++]=ea,ea=t,ta=i}function af(t,i,a){Kt[Xt++]=Sn,Kt[Xt++]=Cn,Kt[Xt++]=hi,hi=t;var u=Sn;t=Cn;var d=32-Ke(u)-1;u&=~(1<<d),a+=1;var h=32-Ke(i)+d;if(30<h){var T=d-d%5;h=(u&(1<<T)-1).toString(32),u>>=T,d-=T,Sn=1<<32-Ke(i)+d|a<<d|u,Cn=h+t}else Sn=1<<h|a<<d|u,Cn=t}function Qs(t){t.return!==null&&(gi(t,1),af(t,1,0))}function Zs(t){for(;t===ea;)ea=Zi[--Wi],Zi[Wi]=null,ta=Zi[--Wi],Zi[Wi]=null;for(;t===hi;)hi=Kt[--Xt],Kt[Xt]=null,Cn=Kt[--Xt],Kt[Xt]=null,Sn=Kt[--Xt],Kt[Xt]=null}var xt=null,We=null,Ne=!1,yi=null,sn=!1,Ws=Error(l(519));function vi(t){var i=Error(l(418,""));throw Ko($t(i,t)),Ws}function sf(t){var i=t.stateNode,a=t.type,u=t.memoizedProps;switch(i[Tt]=t,i[Nt]=u,a){case"dialog":ve("cancel",i),ve("close",i);break;case"iframe":case"object":case"embed":ve("load",i);break;case"video":case"audio":for(a=0;a<vl.length;a++)ve(vl[a],i);break;case"source":ve("error",i);break;case"img":case"image":case"link":ve("error",i),ve("load",i);break;case"details":ve("toggle",i);break;case"input":ve("invalid",i),Cc(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),zl(i);break;case"select":ve("invalid",i);break;case"textarea":ve("invalid",i),Ac(i,u.value,u.defaultValue,u.children),zl(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||_p(i.textContent,a)?(u.popover!=null&&(ve("beforetoggle",i),ve("toggle",i)),u.onScroll!=null&&ve("scroll",i),u.onScrollEnd!=null&&ve("scrollend",i),u.onClick!=null&&(i.onclick=La),i=!0):i=!1,i||vi(t)}function rf(t){for(xt=t.return;xt;)switch(xt.tag){case 5:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:xt=xt.return}}function $o(t){if(t!==xt)return!1;if(!Ne)return rf(t),Ne=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||mu(t.type,t.memoizedProps)),a=!a),a&&We&&vi(t),rf(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){We=ln(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}We=null}}else i===27?(i=We,jn(t.type)?(t=vu,vu=null,We=t):We=i):We=xt?ln(t.stateNode.nextSibling):null;return!0}function Jo(){We=xt=null,Ne=!1}function uf(){var t=yi;return t!==null&&(kt===null?kt=t:kt.push.apply(kt,t),yi=null),t}function Ko(t){yi===null?yi=[t]:yi.push(t)}var js=q(null),Ti=null,En=null;function Gn(t,i,a){$(js,i._currentValue),i._currentValue=a}function An(t){t._currentValue=js.current,K(js)}function er(t,i,a){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===a)break;t=t.return}}function tr(t,i,a,u){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var h=d.dependencies;if(h!==null){var T=d.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=d;for(var A=0;A<i.length;A++)if(E.context===i[A]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),er(h.return,a,t),u||(T=null);break e}h=E.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(l(341));T.lanes|=a,h=T.alternate,h!==null&&(h.lanes|=a),er(T,a,t),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===t){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Xo(t,i,a,u){t=null;for(var d=i,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(l(387));if(T=T.memoizedProps,T!==null){var E=d.type;Pt(d.pendingProps.value,T.value)||(t!==null?t.push(E):t=[E])}}else if(d===vt.current){if(T=d.alternate,T===null)throw Error(l(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(_l):t=[_l])}d=d.return}t!==null&&tr(i,t,a,u),i.flags|=262144}function na(t){for(t=t.firstContext;t!==null;){if(!Pt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Si(t){Ti=t,En=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function St(t){return cf(Ti,t)}function ia(t,i){return Ti===null&&Si(t),cf(t,i)}function cf(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},En===null){if(t===null)throw Error(l(308));En=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else En=En.next=i;return a}var Ey=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Ay=n.unstable_scheduleCallback,_y=n.unstable_NormalPriority,st={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nr(){return{controller:new Ey,data:new Map,refCount:0}}function Qo(t){t.refCount--,t.refCount===0&&Ay(_y,function(){t.controller.abort()})}var Zo=null,ir=0,ji=0,eo=null;function xy(t,i){if(Zo===null){var a=Zo=[];ir=0,ji=lu(),eo={status:"pending",value:void 0,then:function(u){a.push(u)}}}return ir++,i.then(ff,ff),i}function ff(){if(--ir===0&&Zo!==null){eo!==null&&(eo.status="fulfilled");var t=Zo;Zo=null,ji=0,eo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function My(t,i){var a=[],u={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(u.status="rejected",u.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),u}var df=U.S;U.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&xy(t,i),df!==null&&df(t,i)};var Ci=q(null);function or(){var t=Ci.current;return t!==null?t:Ye.pooledCache}function oa(t,i){i===null?$(Ci,Ci.current):$(Ci,i.pool)}function pf(){var t=or();return t===null?null:{parent:st._currentValue,pool:t}}var Wo=Error(l(460)),mf=Error(l(474)),la=Error(l(542)),lr={then:function(){}};function hf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function aa(){}function gf(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(aa,aa),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,vf(t),t;default:if(typeof i.status=="string")i.then(aa,aa);else{if(t=Ye,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=u}},function(u){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,vf(t),t}throw jo=i,Wo}}var jo=null;function yf(){if(jo===null)throw Error(l(459));var t=jo;return jo=null,t}function vf(t){if(t===Wo||t===la)throw Error(l(483))}var qn=!1;function ar(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sr(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zn(t,i,a){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Le&2)!==0){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,i=Wl(t),of(t,null,a),i}return Zl(t,u,i,a),Wl(t)}function el(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,a|=u,i.lanes=a,Te(t,a)}}function rr(t,i){var a=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var d=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?d=h=T:h=h.next=T,a=a.next}while(a!==null);h===null?d=h=i:h=h.next=i}else d=h=i;a={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:u.shared,callbacks:u.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var ur=!1;function tl(){if(ur){var t=eo;if(t!==null)throw t}}function nl(t,i,a,u){ur=!1;var d=t.updateQueue;qn=!1;var h=d.firstBaseUpdate,T=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var A=E,D=A.next;A.next=null,T===null?h=D:T.next=D,T=A;var V=t.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==T&&(E===null?V.firstBaseUpdate=D:E.next=D,V.lastBaseUpdate=A))}if(h!==null){var H=d.baseState;T=0,V=D=A=null,E=h;do{var k=E.lane&-536870913,I=k!==E.lane;if(I?(Ce&k)===k:(u&k)===k){k!==0&&k===ji&&(ur=!0),V!==null&&(V=V.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ce=t,se=E;k=i;var He=a;switch(se.tag){case 1:if(ce=se.payload,typeof ce=="function"){H=ce.call(He,H,k);break e}H=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=se.payload,k=typeof ce=="function"?ce.call(He,H,k):ce,k==null)break e;H=v({},H,k);break e;case 2:qn=!0}}k=E.callback,k!==null&&(t.flags|=64,I&&(t.flags|=8192),I=d.callbacks,I===null?d.callbacks=[k]:I.push(k))}else I={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(D=V=I,A=H):V=V.next=I,T|=k;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;I=E,E=I.next,I.next=null,d.lastBaseUpdate=I,d.shared.pending=null}}while(!0);V===null&&(A=H),d.baseState=A,d.firstBaseUpdate=D,d.lastBaseUpdate=V,h===null&&(d.shared.lanes=0),Xn|=T,t.lanes=T,t.memoizedState=H}}function Tf(t,i){if(typeof t!="function")throw Error(l(191,t));t.call(i)}function Sf(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Tf(a[t],i)}var to=q(null),sa=q(0);function Cf(t,i){t=bn,$(sa,t),$(to,i),bn=t|i.baseLanes}function cr(){$(sa,bn),$(to,to.current)}function fr(){bn=sa.current,K(to),K(sa)}var Bn=0,he=null,Ge=null,ot=null,ra=!1,no=!1,Ei=!1,ua=0,il=0,io=null,Ry=0;function tt(){throw Error(l(321))}function dr(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Pt(t[a],i[a]))return!1;return!0}function pr(t,i,a,u,d,h){return Bn=h,he=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=t===null||t.memoizedState===null?od:ld,Ei=!1,h=a(u,d),Ei=!1,no&&(h=Af(i,a,u,d)),Ef(t),h}function Ef(t){U.H=ha;var i=Ge!==null&&Ge.next!==null;if(Bn=0,ot=Ge=he=null,ra=!1,il=0,io=null,i)throw Error(l(300));t===null||ct||(t=t.dependencies,t!==null&&na(t)&&(ct=!0))}function Af(t,i,a,u){he=t;var d=0;do{if(no&&(io=null),il=0,no=!1,25<=d)throw Error(l(301));if(d+=1,ot=Ge=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}U.H=Uy,h=i(a,u)}while(no);return h}function Ny(){var t=U.H,i=t.useState()[0];return i=typeof i.then=="function"?ol(i):i,t=t.useState()[0],(Ge!==null?Ge.memoizedState:null)!==t&&(he.flags|=1024),i}function mr(){var t=ua!==0;return ua=0,t}function hr(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function gr(t){if(ra){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ra=!1}Bn=0,ot=Ge=he=null,no=!1,il=ua=0,io=null}function bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?he.memoizedState=ot=t:ot=ot.next=t,ot}function lt(){if(Ge===null){var t=he.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var i=ot===null?he.memoizedState:ot.next;if(i!==null)ot=i,Ge=t;else{if(t===null)throw he.alternate===null?Error(l(467)):Error(l(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},ot===null?he.memoizedState=ot=t:ot=ot.next=t}return ot}function yr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var i=il;return il+=1,io===null&&(io=[]),t=gf(io,t,i),i=he,(ot===null?i.memoizedState:ot.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?od:ld),t}function ca(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===Y)return St(t)}throw Error(l(438,String(t)))}function vr(t){var i=null,a=he.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=he.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=yr(),he.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),u=0;u<t;u++)a[u]=Se;return i.index++,a}function _n(t,i){return typeof i=="function"?i(t):i}function fa(t){var i=lt();return Tr(i,Ge,t)}function Tr(t,i,a){var u=t.queue;if(u===null)throw Error(l(311));u.lastRenderedReducer=a;var d=t.baseQueue,h=u.pending;if(h!==null){if(d!==null){var T=d.next;d.next=h.next,h.next=T}i.baseQueue=d=h,u.pending=null}if(h=t.baseState,d===null)t.memoizedState=h;else{i=d.next;var E=T=null,A=null,D=i,V=!1;do{var H=D.lane&-536870913;if(H!==D.lane?(Ce&H)===H:(Bn&H)===H){var k=D.revertLane;if(k===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),H===ji&&(V=!0);else if((Bn&k)===k){D=D.next,k===ji&&(V=!0);continue}else H={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(E=A=H,T=h):A=A.next=H,he.lanes|=k,Xn|=k;H=D.action,Ei&&a(h,H),h=D.hasEagerState?D.eagerState:a(h,H)}else k={lane:H,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(E=A=k,T=h):A=A.next=k,he.lanes|=H,Xn|=H;D=D.next}while(D!==null&&D!==i);if(A===null?T=h:A.next=E,!Pt(h,t.memoizedState)&&(ct=!0,V&&(a=eo,a!==null)))throw a;t.memoizedState=h,t.baseState=T,t.baseQueue=A,u.lastRenderedState=h}return d===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Sr(t){var i=lt(),a=i.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=t;var u=a.dispatch,d=a.pending,h=i.memoizedState;if(d!==null){a.pending=null;var T=d=d.next;do h=t(h,T.action),T=T.next;while(T!==d);Pt(h,i.memoizedState)||(ct=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),a.lastRenderedState=h}return[h,u]}function _f(t,i,a){var u=he,d=lt(),h=Ne;if(h){if(a===void 0)throw Error(l(407));a=a()}else a=i();var T=!Pt((Ge||d).memoizedState,a);T&&(d.memoizedState=a,ct=!0),d=d.queue;var E=Rf.bind(null,u,d,t);if(ll(2048,8,E,[t]),d.getSnapshot!==i||T||ot!==null&&ot.memoizedState.tag&1){if(u.flags|=2048,oo(9,da(),Mf.bind(null,u,d,a,i),null),Ye===null)throw Error(l(349));h||(Bn&124)!==0||xf(u,i,a)}return a}function xf(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=he.updateQueue,i===null?(i=yr(),he.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Mf(t,i,a,u){i.value=a,i.getSnapshot=u,Nf(i)&&wf(t)}function Rf(t,i,a){return a(function(){Nf(i)&&wf(t)})}function Nf(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Pt(t,a)}catch{return!0}}function wf(t){var i=Xi(t,2);i!==null&&Ot(i,t,2)}function Cr(t){var i=bt();if(typeof t=="function"){var a=t;if(t=a(),Ei){tn(!0);try{a()}finally{tn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:t},i}function bf(t,i,a,u){return t.baseState=a,Tr(t,Ge,typeof u=="function"?u:_n)}function wy(t,i,a,u,d){if(ma(t))throw Error(l(485));if(t=i.action,t!==null){var h={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){h.listeners.push(T)}};U.T!==null?a(!0):h.isTransition=!1,u(h),a=i.pending,a===null?(h.next=i.pending=h,Df(i,h)):(h.next=a.next,i.pending=a.next=h)}}function Df(t,i){var a=i.action,u=i.payload,d=t.state;if(i.isTransition){var h=U.T,T={};U.T=T;try{var E=a(d,u),A=U.S;A!==null&&A(T,E),kf(t,i,E)}catch(D){Er(t,i,D)}finally{U.T=h}}else try{h=a(d,u),kf(t,i,h)}catch(D){Er(t,i,D)}}function kf(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){If(t,i,u)},function(u){return Er(t,i,u)}):If(t,i,a)}function If(t,i,a){i.status="fulfilled",i.value=a,Uf(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Df(t,a)))}function Er(t,i,a){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,Uf(i),i=i.next;while(i!==u)}t.action=null}function Uf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Lf(t,i){return i}function Vf(t,i){if(Ne){var a=Ye.formState;if(a!==null){e:{var u=he;if(Ne){if(We){t:{for(var d=We,h=sn;d.nodeType!==8;){if(!h){d=null;break t}if(d=ln(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){We=ln(d.nextSibling),u=d.data==="F!";break e}}vi(u)}u=!1}u&&(i=a[0])}}return a=bt(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lf,lastRenderedState:i},a.queue=u,a=td.bind(null,he,u),u.dispatch=a,u=Cr(!1),h=Rr.bind(null,he,!1,u.queue),u=bt(),d={state:i,dispatch:null,action:t,pending:null},u.queue=d,a=wy.bind(null,he,d,h,a),d.dispatch=a,u.memoizedState=t,[i,a,!1]}function Pf(t){var i=lt();return Gf(i,Ge,t)}function Gf(t,i,a){if(i=Tr(t,i,Lf)[0],t=fa(_n)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=ol(i)}catch(T){throw T===Wo?la:T}else u=i;i=lt();var d=i.queue,h=d.dispatch;return a!==i.memoizedState&&(he.flags|=2048,oo(9,da(),by.bind(null,d,a),null)),[u,h,t]}function by(t,i){t.action=i}function qf(t){var i=lt(),a=Ge;if(a!==null)return Gf(i,a,t);lt(),i=i.memoizedState,a=lt();var u=a.queue.dispatch;return a.memoizedState=t,[i,u,!1]}function oo(t,i,a,u){return t={tag:t,create:a,deps:u,inst:i,next:null},i=he.updateQueue,i===null&&(i=yr(),he.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(u=a.next,a.next=t,t.next=u,i.lastEffect=t),t}function da(){return{destroy:void 0,resource:void 0}}function Hf(){return lt().memoizedState}function pa(t,i,a,u){var d=bt();u=u===void 0?null:u,he.flags|=t,d.memoizedState=oo(1|i,da(),a,u)}function ll(t,i,a,u){var d=lt();u=u===void 0?null:u;var h=d.memoizedState.inst;Ge!==null&&u!==null&&dr(u,Ge.memoizedState.deps)?d.memoizedState=oo(i,h,a,u):(he.flags|=t,d.memoizedState=oo(1|i,h,a,u))}function zf(t,i){pa(8390656,8,t,i)}function Bf(t,i){ll(2048,8,t,i)}function Of(t,i){return ll(4,2,t,i)}function Yf(t,i){return ll(4,4,t,i)}function Ff(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function $f(t,i,a){a=a!=null?a.concat([t]):null,ll(4,4,Ff.bind(null,i,t),a)}function Ar(){}function Jf(t,i){var a=lt();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&dr(i,u[1])?u[0]:(a.memoizedState=[t,i],t)}function Kf(t,i){var a=lt();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&dr(i,u[1]))return u[0];if(u=t(),Ei){tn(!0);try{t()}finally{tn(!1)}}return a.memoizedState=[u,i],u}function _r(t,i,a){return a===void 0||(Bn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Zd(),he.lanes|=t,Xn|=t,a)}function Xf(t,i,a,u){return Pt(a,i)?a:to.current!==null?(t=_r(t,a,u),Pt(t,i)||(ct=!0),t):(Bn&42)===0?(ct=!0,t.memoizedState=a):(t=Zd(),he.lanes|=t,Xn|=t,i)}function Qf(t,i,a,u,d){var h=J.p;J.p=h!==0&&8>h?h:8;var T=U.T,E={};U.T=E,Rr(t,!1,i,a);try{var A=d(),D=U.S;if(D!==null&&D(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var V=My(A,u);al(t,i,V,Bt(t))}else al(t,i,u,Bt(t))}catch(H){al(t,i,{then:function(){},status:"rejected",reason:H},Bt())}finally{J.p=h,U.T=T}}function Dy(){}function xr(t,i,a,u){if(t.tag!==5)throw Error(l(476));var d=Zf(t).queue;Qf(t,d,i,ie,a===null?Dy:function(){return Wf(t),a(u)})}function Zf(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Wf(t){var i=Zf(t).next.queue;al(t,i,{},Bt())}function Mr(){return St(_l)}function jf(){return lt().memoizedState}function ed(){return lt().memoizedState}function ky(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Bt();t=Hn(a);var u=zn(i,t,a);u!==null&&(Ot(u,i,a),el(u,i,a)),i={cache:nr()},t.payload=i;return}i=i.return}}function Iy(t,i,a){var u=Bt();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ma(t)?nd(i,a):(a=$s(t,i,a,u),a!==null&&(Ot(a,t,u),id(a,i,u)))}function td(t,i,a){var u=Bt();al(t,i,a,u)}function al(t,i,a,u){var d={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ma(t))nd(i,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var T=i.lastRenderedState,E=h(T,a);if(d.hasEagerState=!0,d.eagerState=E,Pt(E,T))return Zl(t,i,d,0),Ye===null&&Ql(),!1}catch{}finally{}if(a=$s(t,i,d,u),a!==null)return Ot(a,t,u),id(a,i,u),!0}return!1}function Rr(t,i,a,u){if(u={lane:2,revertLane:lu(),action:u,hasEagerState:!1,eagerState:null,next:null},ma(t)){if(i)throw Error(l(479))}else i=$s(t,a,u,2),i!==null&&Ot(i,t,2)}function ma(t){var i=t.alternate;return t===he||i!==null&&i===he}function nd(t,i){no=ra=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function id(t,i,a){if((a&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,a|=u,i.lanes=a,Te(t,a)}}var ha={readContext:St,use:ca,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt},od={readContext:St,use:ca,useCallback:function(t,i){return bt().memoizedState=[t,i===void 0?null:i],t},useContext:St,useEffect:zf,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,pa(4194308,4,Ff.bind(null,i,t),a)},useLayoutEffect:function(t,i){return pa(4194308,4,t,i)},useInsertionEffect:function(t,i){pa(4,2,t,i)},useMemo:function(t,i){var a=bt();i=i===void 0?null:i;var u=t();if(Ei){tn(!0);try{t()}finally{tn(!1)}}return a.memoizedState=[u,i],u},useReducer:function(t,i,a){var u=bt();if(a!==void 0){var d=a(i);if(Ei){tn(!0);try{a(i)}finally{tn(!1)}}}else d=i;return u.memoizedState=u.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},u.queue=t,t=t.dispatch=Iy.bind(null,he,t),[u.memoizedState,t]},useRef:function(t){var i=bt();return t={current:t},i.memoizedState=t},useState:function(t){t=Cr(t);var i=t.queue,a=td.bind(null,he,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ar,useDeferredValue:function(t,i){var a=bt();return _r(a,t,i)},useTransition:function(){var t=Cr(!1);return t=Qf.bind(null,he,t.queue,!0,!1),bt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var u=he,d=bt();if(Ne){if(a===void 0)throw Error(l(407));a=a()}else{if(a=i(),Ye===null)throw Error(l(349));(Ce&124)!==0||xf(u,i,a)}d.memoizedState=a;var h={value:a,getSnapshot:i};return d.queue=h,zf(Rf.bind(null,u,h,t),[t]),u.flags|=2048,oo(9,da(),Mf.bind(null,u,h,a,i),null),a},useId:function(){var t=bt(),i=Ye.identifierPrefix;if(Ne){var a=Cn,u=Sn;a=(u&~(1<<32-Ke(u)-1)).toString(32)+a,i=""+i+"R"+a,a=ua++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=Ry++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Mr,useFormState:Vf,useActionState:Vf,useOptimistic:function(t){var i=bt();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Rr.bind(null,he,!0,a),a.dispatch=i,[t,i]},useMemoCache:vr,useCacheRefresh:function(){return bt().memoizedState=ky.bind(null,he)}},ld={readContext:St,use:ca,useCallback:Jf,useContext:St,useEffect:Bf,useImperativeHandle:$f,useInsertionEffect:Of,useLayoutEffect:Yf,useMemo:Kf,useReducer:fa,useRef:Hf,useState:function(){return fa(_n)},useDebugValue:Ar,useDeferredValue:function(t,i){var a=lt();return Xf(a,Ge.memoizedState,t,i)},useTransition:function(){var t=fa(_n)[0],i=lt().memoizedState;return[typeof t=="boolean"?t:ol(t),i]},useSyncExternalStore:_f,useId:jf,useHostTransitionStatus:Mr,useFormState:Pf,useActionState:Pf,useOptimistic:function(t,i){var a=lt();return bf(a,Ge,t,i)},useMemoCache:vr,useCacheRefresh:ed},Uy={readContext:St,use:ca,useCallback:Jf,useContext:St,useEffect:Bf,useImperativeHandle:$f,useInsertionEffect:Of,useLayoutEffect:Yf,useMemo:Kf,useReducer:Sr,useRef:Hf,useState:function(){return Sr(_n)},useDebugValue:Ar,useDeferredValue:function(t,i){var a=lt();return Ge===null?_r(a,t,i):Xf(a,Ge.memoizedState,t,i)},useTransition:function(){var t=Sr(_n)[0],i=lt().memoizedState;return[typeof t=="boolean"?t:ol(t),i]},useSyncExternalStore:_f,useId:jf,useHostTransitionStatus:Mr,useFormState:qf,useActionState:qf,useOptimistic:function(t,i){var a=lt();return Ge!==null?bf(a,Ge,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vr,useCacheRefresh:ed},lo=null,sl=0;function ga(t){var i=sl;return sl+=1,lo===null&&(lo=[]),gf(lo,t,i)}function rl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ya(t,i){throw i.$$typeof===S?Error(l(525)):(t=Object.prototype.toString.call(i),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ad(t){var i=t._init;return i(t._payload)}function sd(t){function i(N,x){if(t){var b=N.deletions;b===null?(N.deletions=[x],N.flags|=16):b.push(x)}}function a(N,x){if(!t)return null;for(;x!==null;)i(N,x),x=x.sibling;return null}function u(N){for(var x=new Map;N!==null;)N.key!==null?x.set(N.key,N):x.set(N.index,N),N=N.sibling;return x}function d(N,x){return N=Tn(N,x),N.index=0,N.sibling=null,N}function h(N,x,b){return N.index=b,t?(b=N.alternate,b!==null?(b=b.index,b<x?(N.flags|=67108866,x):b):(N.flags|=67108866,x)):(N.flags|=1048576,x)}function T(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function E(N,x,b,P){return x===null||x.tag!==6?(x=Ks(b,N.mode,P),x.return=N,x):(x=d(x,b),x.return=N,x)}function A(N,x,b,P){var Z=b.type;return Z===w?V(N,x,b.props.children,P,b.key):x!==null&&(x.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Ee&&ad(Z)===x.type)?(x=d(x,b.props),rl(x,b),x.return=N,x):(x=jl(b.type,b.key,b.props,null,N.mode,P),rl(x,b),x.return=N,x)}function D(N,x,b,P){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Xs(b,N.mode,P),x.return=N,x):(x=d(x,b.children||[]),x.return=N,x)}function V(N,x,b,P,Z){return x===null||x.tag!==7?(x=mi(b,N.mode,P,Z),x.return=N,x):(x=d(x,b),x.return=N,x)}function H(N,x,b){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Ks(""+x,N.mode,b),x.return=N,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case C:return b=jl(x.type,x.key,x.props,null,N.mode,b),rl(b,x),b.return=N,b;case M:return x=Xs(x,N.mode,b),x.return=N,x;case Ee:var P=x._init;return x=P(x._payload),H(N,x,b)}if(Ie(x)||ke(x))return x=mi(x,N.mode,b,null),x.return=N,x;if(typeof x.then=="function")return H(N,ga(x),b);if(x.$$typeof===Y)return H(N,ia(N,x),b);ya(N,x)}return null}function k(N,x,b,P){var Z=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return Z!==null?null:E(N,x,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case C:return b.key===Z?A(N,x,b,P):null;case M:return b.key===Z?D(N,x,b,P):null;case Ee:return Z=b._init,b=Z(b._payload),k(N,x,b,P)}if(Ie(b)||ke(b))return Z!==null?null:V(N,x,b,P,null);if(typeof b.then=="function")return k(N,x,ga(b),P);if(b.$$typeof===Y)return k(N,x,ia(N,b),P);ya(N,b)}return null}function I(N,x,b,P,Z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return N=N.get(b)||null,E(x,N,""+P,Z);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case C:return N=N.get(P.key===null?b:P.key)||null,A(x,N,P,Z);case M:return N=N.get(P.key===null?b:P.key)||null,D(x,N,P,Z);case Ee:var ge=P._init;return P=ge(P._payload),I(N,x,b,P,Z)}if(Ie(P)||ke(P))return N=N.get(b)||null,V(x,N,P,Z,null);if(typeof P.then=="function")return I(N,x,b,ga(P),Z);if(P.$$typeof===Y)return I(N,x,b,ia(x,P),Z);ya(x,P)}return null}function ce(N,x,b,P){for(var Z=null,ge=null,ne=x,ue=x=0,dt=null;ne!==null&&ue<b.length;ue++){ne.index>ue?(dt=ne,ne=null):dt=ne.sibling;var Me=k(N,ne,b[ue],P);if(Me===null){ne===null&&(ne=dt);break}t&&ne&&Me.alternate===null&&i(N,ne),x=h(Me,x,ue),ge===null?Z=Me:ge.sibling=Me,ge=Me,ne=dt}if(ue===b.length)return a(N,ne),Ne&&gi(N,ue),Z;if(ne===null){for(;ue<b.length;ue++)ne=H(N,b[ue],P),ne!==null&&(x=h(ne,x,ue),ge===null?Z=ne:ge.sibling=ne,ge=ne);return Ne&&gi(N,ue),Z}for(ne=u(ne);ue<b.length;ue++)dt=I(ne,N,ue,b[ue],P),dt!==null&&(t&&dt.alternate!==null&&ne.delete(dt.key===null?ue:dt.key),x=h(dt,x,ue),ge===null?Z=dt:ge.sibling=dt,ge=dt);return t&&ne.forEach(function(oi){return i(N,oi)}),Ne&&gi(N,ue),Z}function se(N,x,b,P){if(b==null)throw Error(l(151));for(var Z=null,ge=null,ne=x,ue=x=0,dt=null,Me=b.next();ne!==null&&!Me.done;ue++,Me=b.next()){ne.index>ue?(dt=ne,ne=null):dt=ne.sibling;var oi=k(N,ne,Me.value,P);if(oi===null){ne===null&&(ne=dt);break}t&&ne&&oi.alternate===null&&i(N,ne),x=h(oi,x,ue),ge===null?Z=oi:ge.sibling=oi,ge=oi,ne=dt}if(Me.done)return a(N,ne),Ne&&gi(N,ue),Z;if(ne===null){for(;!Me.done;ue++,Me=b.next())Me=H(N,Me.value,P),Me!==null&&(x=h(Me,x,ue),ge===null?Z=Me:ge.sibling=Me,ge=Me);return Ne&&gi(N,ue),Z}for(ne=u(ne);!Me.done;ue++,Me=b.next())Me=I(ne,N,ue,Me.value,P),Me!==null&&(t&&Me.alternate!==null&&ne.delete(Me.key===null?ue:Me.key),x=h(Me,x,ue),ge===null?Z=Me:ge.sibling=Me,ge=Me);return t&&ne.forEach(function(Lv){return i(N,Lv)}),Ne&&gi(N,ue),Z}function He(N,x,b,P){if(typeof b=="object"&&b!==null&&b.type===w&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case C:e:{for(var Z=b.key;x!==null;){if(x.key===Z){if(Z=b.type,Z===w){if(x.tag===7){a(N,x.sibling),P=d(x,b.props.children),P.return=N,N=P;break e}}else if(x.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Ee&&ad(Z)===x.type){a(N,x.sibling),P=d(x,b.props),rl(P,b),P.return=N,N=P;break e}a(N,x);break}else i(N,x);x=x.sibling}b.type===w?(P=mi(b.props.children,N.mode,P,b.key),P.return=N,N=P):(P=jl(b.type,b.key,b.props,null,N.mode,P),rl(P,b),P.return=N,N=P)}return T(N);case M:e:{for(Z=b.key;x!==null;){if(x.key===Z)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){a(N,x.sibling),P=d(x,b.children||[]),P.return=N,N=P;break e}else{a(N,x);break}else i(N,x);x=x.sibling}P=Xs(b,N.mode,P),P.return=N,N=P}return T(N);case Ee:return Z=b._init,b=Z(b._payload),He(N,x,b,P)}if(Ie(b))return ce(N,x,b,P);if(ke(b)){if(Z=ke(b),typeof Z!="function")throw Error(l(150));return b=Z.call(b),se(N,x,b,P)}if(typeof b.then=="function")return He(N,x,ga(b),P);if(b.$$typeof===Y)return He(N,x,ia(N,b),P);ya(N,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,x!==null&&x.tag===6?(a(N,x.sibling),P=d(x,b),P.return=N,N=P):(a(N,x),P=Ks(b,N.mode,P),P.return=N,N=P),T(N)):a(N,x)}return function(N,x,b,P){try{sl=0;var Z=He(N,x,b,P);return lo=null,Z}catch(ne){if(ne===Wo||ne===la)throw ne;var ge=Gt(29,ne,null,N.mode);return ge.lanes=P,ge.return=N,ge}finally{}}}var ao=sd(!0),rd=sd(!1),Qt=q(null),rn=null;function On(t){var i=t.alternate;$(rt,rt.current&1),$(Qt,t),rn===null&&(i===null||to.current!==null||i.memoizedState!==null)&&(rn=t)}function ud(t){if(t.tag===22){if($(rt,rt.current),$(Qt,t),rn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(rn=t)}}else Yn()}function Yn(){$(rt,rt.current),$(Qt,Qt.current)}function xn(t){K(Qt),rn===t&&(rn=null),K(rt)}var rt=q(0);function va(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||yu(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Nr(t,i,a,u){i=t.memoizedState,a=a(u,i),a=a==null?i:v({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var wr={enqueueSetState:function(t,i,a){t=t._reactInternals;var u=Bt(),d=Hn(u);d.payload=i,a!=null&&(d.callback=a),i=zn(t,d,u),i!==null&&(Ot(i,t,u),el(i,t,u))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var u=Bt(),d=Hn(u);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=zn(t,d,u),i!==null&&(Ot(i,t,u),el(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Bt(),u=Hn(a);u.tag=2,i!=null&&(u.callback=i),i=zn(t,u,a),i!==null&&(Ot(i,t,a),el(i,t,a))}};function cd(t,i,a,u,d,h,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,h,T):i.prototype&&i.prototype.isPureReactComponent?!Yo(a,u)||!Yo(d,h):!0}function fd(t,i,a,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==t&&wr.enqueueReplaceState(i,i.state,null)}function Ai(t,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(t=t.defaultProps){a===i&&(a=v({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var Ta=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function dd(t){Ta(t)}function pd(t){console.error(t)}function md(t){Ta(t)}function Sa(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function hd(t,i,a){try{var u=t.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function br(t,i,a){return a=Hn(a),a.tag=3,a.payload={element:null},a.callback=function(){Sa(t,i)},a}function gd(t){return t=Hn(t),t.tag=3,t}function yd(t,i,a,u){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var h=u.value;t.payload=function(){return d(h)},t.callback=function(){hd(i,a,u)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){hd(i,a,u),typeof d!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function Ly(t,i,a,u,d){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&Xo(i,a,d,!0),a=Qt.current,a!==null){switch(a.tag){case 13:return rn===null?eu():a.alternate===null&&je===0&&(je=3),a.flags&=-257,a.flags|=65536,a.lanes=d,u===lr?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),nu(t,u,d)),!1;case 22:return a.flags|=65536,u===lr?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),nu(t,u,d)),!1}throw Error(l(435,a.tag))}return nu(t,u,d),eu(),!1}if(Ne)return i=Qt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,u!==Ws&&(t=Error(l(422),{cause:u}),Ko($t(t,a)))):(u!==Ws&&(i=Error(l(423),{cause:u}),Ko($t(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,u=$t(u,a),d=br(t.stateNode,u,d),rr(t,d),je!==4&&(je=2)),!1;var h=Error(l(520),{cause:u});if(h=$t(h,a),hl===null?hl=[h]:hl.push(h),je!==4&&(je=2),i===null)return!0;u=$t(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=br(a.stateNode,u,t),rr(a,t),!1;case 1:if(i=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Qn===null||!Qn.has(h))))return a.flags|=65536,d&=-d,a.lanes|=d,d=gd(d),yd(d,t,a,u),rr(a,d),!1}a=a.return}while(a!==null);return!1}var vd=Error(l(461)),ct=!1;function ht(t,i,a,u){i.child=t===null?rd(i,null,a,u):ao(i,t.child,a,u)}function Td(t,i,a,u,d){a=a.render;var h=i.ref;if("ref"in u){var T={};for(var E in u)E!=="ref"&&(T[E]=u[E])}else T=u;return Si(i),u=pr(t,i,a,T,h,d),E=mr(),t!==null&&!ct?(hr(t,i,d),Mn(t,i,d)):(Ne&&E&&Qs(i),i.flags|=1,ht(t,i,u,d),i.child)}function Sd(t,i,a,u,d){if(t===null){var h=a.type;return typeof h=="function"&&!Js(h)&&h.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=h,Cd(t,i,h,u,d)):(t=jl(a.type,null,u,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(h=t.child,!Gr(t,d)){var T=h.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(T,u)&&t.ref===i.ref)return Mn(t,i,d)}return i.flags|=1,t=Tn(h,u),t.ref=i.ref,t.return=i,i.child=t}function Cd(t,i,a,u,d){if(t!==null){var h=t.memoizedProps;if(Yo(h,u)&&t.ref===i.ref)if(ct=!1,i.pendingProps=u=h,Gr(t,d))(t.flags&131072)!==0&&(ct=!0);else return i.lanes=t.lanes,Mn(t,i,d)}return Dr(t,i,a,u,d)}function Ed(t,i,a){var u=i.pendingProps,d=u.children,h=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=h!==null?h.baseLanes|a:a,t!==null){for(d=i.child=t.child,h=0;d!==null;)h=h|d.lanes|d.childLanes,d=d.sibling;i.childLanes=h&~u}else i.childLanes=0,i.child=null;return Ad(t,i,u,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&oa(i,h!==null?h.cachePool:null),h!==null?Cf(i,h):cr(),ud(i);else return i.lanes=i.childLanes=536870912,Ad(t,i,h!==null?h.baseLanes|a:a,a)}else h!==null?(oa(i,h.cachePool),Cf(i,h),Yn(),i.memoizedState=null):(t!==null&&oa(i,null),cr(),Yn());return ht(t,i,d,a),i.child}function Ad(t,i,a,u){var d=or();return d=d===null?null:{parent:st._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&oa(i,null),cr(),ud(i),t!==null&&Xo(t,i,u,!0),null}function Ca(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Dr(t,i,a,u,d){return Si(i),a=pr(t,i,a,u,void 0,d),u=mr(),t!==null&&!ct?(hr(t,i,d),Mn(t,i,d)):(Ne&&u&&Qs(i),i.flags|=1,ht(t,i,a,d),i.child)}function _d(t,i,a,u,d,h){return Si(i),i.updateQueue=null,a=Af(i,u,a,d),Ef(t),u=mr(),t!==null&&!ct?(hr(t,i,h),Mn(t,i,h)):(Ne&&u&&Qs(i),i.flags|=1,ht(t,i,a,h),i.child)}function xd(t,i,a,u,d){if(Si(i),i.stateNode===null){var h=Qi,T=a.contextType;typeof T=="object"&&T!==null&&(h=St(T)),h=new a(u,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=wr,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=u,h.state=i.memoizedState,h.refs={},ar(i),T=a.contextType,h.context=typeof T=="object"&&T!==null?St(T):Qi,h.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Nr(i,a,T,u),h.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(T=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),T!==h.state&&wr.enqueueReplaceState(h,h.state,null),nl(i,u,h,d),tl(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){h=i.stateNode;var E=i.memoizedProps,A=Ai(a,E);h.props=A;var D=h.context,V=a.contextType;T=Qi,typeof V=="object"&&V!==null&&(T=St(V));var H=a.getDerivedStateFromProps;V=typeof H=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,V||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||D!==T)&&fd(i,h,u,T),qn=!1;var k=i.memoizedState;h.state=k,nl(i,u,h,d),tl(),D=i.memoizedState,E||k!==D||qn?(typeof H=="function"&&(Nr(i,a,H,u),D=i.memoizedState),(A=qn||cd(i,a,A,u,k,D,T))?(V||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=D),h.props=u,h.state=D,h.context=T,u=A):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{h=i.stateNode,sr(t,i),T=i.memoizedProps,V=Ai(a,T),h.props=V,H=i.pendingProps,k=h.context,D=a.contextType,A=Qi,typeof D=="object"&&D!==null&&(A=St(D)),E=a.getDerivedStateFromProps,(D=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T!==H||k!==A)&&fd(i,h,u,A),qn=!1,k=i.memoizedState,h.state=k,nl(i,u,h,d),tl();var I=i.memoizedState;T!==H||k!==I||qn||t!==null&&t.dependencies!==null&&na(t.dependencies)?(typeof E=="function"&&(Nr(i,a,E,u),I=i.memoizedState),(V=qn||cd(i,a,V,u,k,I,A)||t!==null&&t.dependencies!==null&&na(t.dependencies))?(D||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(u,I,A),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(u,I,A)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=I),h.props=u,h.state=I,h.context=A,u=V):(typeof h.componentDidUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),u=!1)}return h=u,Ca(t,i),u=(i.flags&128)!==0,h||u?(h=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,t!==null&&u?(i.child=ao(i,t.child,null,d),i.child=ao(i,null,a,d)):ht(t,i,a,d),i.memoizedState=h.state,t=i.child):t=Mn(t,i,d),t}function Md(t,i,a,u){return Jo(),i.flags|=256,ht(t,i,a,u),i.child}var kr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ir(t){return{baseLanes:t,cachePool:pf()}}function Ur(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Zt),t}function Rd(t,i,a){var u=i.pendingProps,d=!1,h=(i.flags&128)!==0,T;if((T=h)||(T=t!==null&&t.memoizedState===null?!1:(rt.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ne){if(d?On(i):Yn(),Ne){var E=We,A;if(A=E){e:{for(A=E,E=sn;A.nodeType!==8;){if(!E){E=null;break e}if(A=ln(A.nextSibling),A===null){E=null;break e}}E=A}E!==null?(i.memoizedState={dehydrated:E,treeContext:hi!==null?{id:Sn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},A=Gt(18,null,null,0),A.stateNode=E,A.return=i,i.child=A,xt=i,We=null,A=!0):A=!1}A||vi(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return yu(E)?i.lanes=32:i.lanes=536870912,null;xn(i)}return E=u.children,u=u.fallback,d?(Yn(),d=i.mode,E=Ea({mode:"hidden",children:E},d),u=mi(u,d,a,null),E.return=i,u.return=i,E.sibling=u,i.child=E,d=i.child,d.memoizedState=Ir(a),d.childLanes=Ur(t,T,a),i.memoizedState=kr,u):(On(i),Lr(i,E))}if(A=t.memoizedState,A!==null&&(E=A.dehydrated,E!==null)){if(h)i.flags&256?(On(i),i.flags&=-257,i=Vr(t,i,a)):i.memoizedState!==null?(Yn(),i.child=t.child,i.flags|=128,i=null):(Yn(),d=u.fallback,E=i.mode,u=Ea({mode:"visible",children:u.children},E),d=mi(d,E,a,null),d.flags|=2,u.return=i,d.return=i,u.sibling=d,i.child=u,ao(i,t.child,null,a),u=i.child,u.memoizedState=Ir(a),u.childLanes=Ur(t,T,a),i.memoizedState=kr,i=d);else if(On(i),yu(E)){if(T=E.nextSibling&&E.nextSibling.dataset,T)var D=T.dgst;T=D,u=Error(l(419)),u.stack="",u.digest=T,Ko({value:u,source:null,stack:null}),i=Vr(t,i,a)}else if(ct||Xo(t,i,a,!1),T=(a&t.childLanes)!==0,ct||T){if(T=Ye,T!==null&&(u=a&-a,u=(u&42)!==0?1:ze(u),u=(u&(T.suspendedLanes|a))!==0?0:u,u!==0&&u!==A.retryLane))throw A.retryLane=u,Xi(t,u),Ot(T,t,u),vd;E.data==="$?"||eu(),i=Vr(t,i,a)}else E.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=A.treeContext,We=ln(E.nextSibling),xt=i,Ne=!0,yi=null,sn=!1,t!==null&&(Kt[Xt++]=Sn,Kt[Xt++]=Cn,Kt[Xt++]=hi,Sn=t.id,Cn=t.overflow,hi=i),i=Lr(i,u.children),i.flags|=4096);return i}return d?(Yn(),d=u.fallback,E=i.mode,A=t.child,D=A.sibling,u=Tn(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&65011712,D!==null?d=Tn(D,d):(d=mi(d,E,a,null),d.flags|=2),d.return=i,u.return=i,u.sibling=d,i.child=u,u=d,d=i.child,E=t.child.memoizedState,E===null?E=Ir(a):(A=E.cachePool,A!==null?(D=st._currentValue,A=A.parent!==D?{parent:D,pool:D}:A):A=pf(),E={baseLanes:E.baseLanes|a,cachePool:A}),d.memoizedState=E,d.childLanes=Ur(t,T,a),i.memoizedState=kr,u):(On(i),a=t.child,t=a.sibling,a=Tn(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=a,i.memoizedState=null,a)}function Lr(t,i){return i=Ea({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ea(t,i){return t=Gt(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Vr(t,i,a){return ao(i,t.child,null,a),t=Lr(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Nd(t,i,a){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),er(t.return,i,a)}function Pr(t,i,a,u,d){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:d}:(h.isBackwards=i,h.rendering=null,h.renderingStartTime=0,h.last=u,h.tail=a,h.tailMode=d)}function wd(t,i,a){var u=i.pendingProps,d=u.revealOrder,h=u.tail;if(ht(t,i,u.children,a),u=rt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nd(t,a,i);else if(t.tag===19)Nd(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch($(rt,u),d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&va(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Pr(i,!1,d,a,h);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&va(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Pr(i,!0,a,null,h);break;case"together":Pr(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Mn(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Xn|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Xo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(l(153));if(i.child!==null){for(t=i.child,a=Tn(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Tn(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Gr(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&na(t)))}function Vy(t,i,a){switch(i.tag){case 3:Pe(i,i.stateNode.containerInfo),Gn(i,st,t.memoizedState.cache),Jo();break;case 27:case 5:ai(i);break;case 4:Pe(i,i.stateNode.containerInfo);break;case 10:Gn(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(On(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Rd(t,i,a):(On(i),t=Mn(t,i,a),t!==null?t.sibling:null);On(i);break;case 19:var d=(t.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(Xo(t,i,a,!1),u=(a&i.childLanes)!==0),d){if(u)return wd(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$(rt,rt.current),u)break;return null;case 22:case 23:return i.lanes=0,Ed(t,i,a);case 24:Gn(i,st,t.memoizedState.cache)}return Mn(t,i,a)}function bd(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)ct=!0;else{if(!Gr(t,a)&&(i.flags&128)===0)return ct=!1,Vy(t,i,a);ct=(t.flags&131072)!==0}else ct=!1,Ne&&(i.flags&1048576)!==0&&af(i,ta,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var u=i.elementType,d=u._init;if(u=d(u._payload),i.type=u,typeof u=="function")Js(u)?(t=Ai(u,t),i.tag=1,i=xd(null,i,u,t,a)):(i.tag=0,i=Dr(null,i,u,t,a));else{if(u!=null){if(d=u.$$typeof,d===j){i.tag=11,i=Td(null,i,u,t,a);break e}else if(d===W){i.tag=14,i=Sd(null,i,u,t,a);break e}}throw i=pt(u)||u,Error(l(306,i,""))}}return i;case 0:return Dr(t,i,i.type,i.pendingProps,a);case 1:return u=i.type,d=Ai(u,i.pendingProps),xd(t,i,u,d,a);case 3:e:{if(Pe(i,i.stateNode.containerInfo),t===null)throw Error(l(387));u=i.pendingProps;var h=i.memoizedState;d=h.element,sr(t,i),nl(i,u,null,a);var T=i.memoizedState;if(u=T.cache,Gn(i,st,u),u!==h.cache&&tr(i,[st],a,!0),tl(),u=T.element,h.isDehydrated)if(h={element:u,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Md(t,i,u,a);break e}else if(u!==d){d=$t(Error(l(424)),i),Ko(d),i=Md(t,i,u,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(We=ln(t.firstChild),xt=i,Ne=!0,yi=null,sn=!0,a=rd(i,null,u,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Jo(),u===d){i=Mn(t,i,a);break e}ht(t,i,u,a)}i=i.child}return i;case 26:return Ca(t,i),t===null?(a=Up(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ne||(a=i.type,t=i.pendingProps,u=Va(fe.current).createElement(a),u[Tt]=i,u[Nt]=t,yt(u,a,t),ut(u),i.stateNode=u):i.memoizedState=Up(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ai(i),t===null&&Ne&&(u=i.stateNode=Dp(i.type,i.pendingProps,fe.current),xt=i,sn=!0,d=We,jn(i.type)?(vu=d,We=ln(u.firstChild)):We=d),ht(t,i,i.pendingProps.children,a),Ca(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ne&&((d=u=We)&&(u=cv(u,i.type,i.pendingProps,sn),u!==null?(i.stateNode=u,xt=i,We=ln(u.firstChild),sn=!1,d=!0):d=!1),d||vi(i)),ai(i),d=i.type,h=i.pendingProps,T=t!==null?t.memoizedProps:null,u=h.children,mu(d,h)?u=null:T!==null&&mu(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=pr(t,i,Ny,null,null,a),_l._currentValue=d),Ca(t,i),ht(t,i,u,a),i.child;case 6:return t===null&&Ne&&((t=a=We)&&(a=fv(a,i.pendingProps,sn),a!==null?(i.stateNode=a,xt=i,We=null,t=!0):t=!1),t||vi(i)),null;case 13:return Rd(t,i,a);case 4:return Pe(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=ao(i,null,u,a):ht(t,i,u,a),i.child;case 11:return Td(t,i,i.type,i.pendingProps,a);case 7:return ht(t,i,i.pendingProps,a),i.child;case 8:return ht(t,i,i.pendingProps.children,a),i.child;case 12:return ht(t,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,Gn(i,i.type,u.value),ht(t,i,u.children,a),i.child;case 9:return d=i.type._context,u=i.pendingProps.children,Si(i),d=St(d),u=u(d),i.flags|=1,ht(t,i,u,a),i.child;case 14:return Sd(t,i,i.type,i.pendingProps,a);case 15:return Cd(t,i,i.type,i.pendingProps,a);case 19:return wd(t,i,a);case 31:return u=i.pendingProps,a=i.mode,u={mode:u.mode,children:u.children},t===null?(a=Ea(u,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Tn(t.child,u),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Ed(t,i,a);case 24:return Si(i),u=St(st),t===null?(d=or(),d===null&&(d=Ye,h=nr(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=a),d=h),i.memoizedState={parent:u,cache:d},ar(i),Gn(i,st,d)):((t.lanes&a)!==0&&(sr(t,i),nl(i,null,null,a),tl()),d=t.memoizedState,h=i.memoizedState,d.parent!==u?(d={parent:u,cache:u},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Gn(i,st,u)):(u=h.cache,Gn(i,st,u),u!==d.cache&&tr(i,[st],a,!0))),ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function Rn(t){t.flags|=4}function Dd(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qp(i)){if(i=Qt.current,i!==null&&((Ce&4194048)===Ce?rn!==null:(Ce&62914560)!==Ce&&(Ce&536870912)===0||i!==rn))throw jo=lr,mf;t.flags|=8192}}function Aa(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?at():536870912,t.lanes|=i,co|=i)}function ul(t,i){if(!Ne)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Ze(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,u=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=a,i}function Py(t,i,a){var u=i.pendingProps;switch(Zs(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(i),null;case 1:return Ze(i),null;case 3:return a=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),An(st),Rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&($o(i)?Rn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,uf())),Ze(i),null;case 26:return a=i.memoizedState,t===null?(Rn(i),a!==null?(Ze(i),Dd(i,a)):(Ze(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Rn(i),Ze(i),Dd(i,a)):(Ze(i),i.flags&=-16777217):(t.memoizedProps!==u&&Rn(i),Ze(i),i.flags&=-16777217),null;case 27:ki(i),a=fe.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Rn(i);else{if(!u){if(i.stateNode===null)throw Error(l(166));return Ze(i),null}t=le.current,$o(i)?sf(i):(t=Dp(d,u,a),i.stateNode=t,Rn(i))}return Ze(i),null;case 5:if(ki(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Rn(i);else{if(!u){if(i.stateNode===null)throw Error(l(166));return Ze(i),null}if(t=le.current,$o(i))sf(i);else{switch(d=Va(fe.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?d.createElement(a,{is:u.is}):d.createElement(a)}}t[Tt]=i,t[Nt]=u;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(yt(t,a,u),a){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Rn(i)}}return Ze(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&Rn(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(l(166));if(t=fe.current,$o(i)){if(t=i.stateNode,a=i.memoizedProps,u=null,d=xt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||_p(t.nodeValue,a)),t||vi(i)}else t=Va(t).createTextNode(u),t[Tt]=i,i.stateNode=t}return Ze(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=$o(i),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(l(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));d[Tt]=i}else Jo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ze(i),d=!1}else d=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(xn(i),i):(xn(i),null)}if(xn(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=u!==null,t=t!==null&&t.memoizedState!==null,a){u=i.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var h=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(h=u.memoizedState.cachePool.pool),h!==d&&(u.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Aa(i,i.updateQueue),Ze(i),null;case 4:return Rt(),t===null&&uu(i.stateNode.containerInfo),Ze(i),null;case 10:return An(i.type),Ze(i),null;case 19:if(K(rt),d=i.memoizedState,d===null)return Ze(i),null;if(u=(i.flags&128)!==0,h=d.rendering,h===null)if(u)ul(d,!1);else{if(je!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(h=va(t),h!==null){for(i.flags|=128,ul(d,!1),t=h.updateQueue,i.updateQueue=t,Aa(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)lf(a,t),a=a.sibling;return $(rt,rt.current&1|2),i.child}t=t.sibling}d.tail!==null&&Lt()>Ma&&(i.flags|=128,u=!0,ul(d,!1),i.lanes=4194304)}else{if(!u)if(t=va(h),t!==null){if(i.flags|=128,u=!0,t=t.updateQueue,i.updateQueue=t,Aa(i,t),ul(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Ne)return Ze(i),null}else 2*Lt()-d.renderingStartTime>Ma&&a!==536870912&&(i.flags|=128,u=!0,ul(d,!1),i.lanes=4194304);d.isBackwards?(h.sibling=i.child,i.child=h):(t=d.last,t!==null?t.sibling=h:i.child=h,d.last=h)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Lt(),i.sibling=null,t=rt.current,$(rt,u?t&1|2:t&1),i):(Ze(i),null);case 22:case 23:return xn(i),fr(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(a&536870912)!==0&&(i.flags&128)===0&&(Ze(i),i.subtreeFlags&6&&(i.flags|=8192)):Ze(i),a=i.updateQueue,a!==null&&Aa(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),t!==null&&K(Ci),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),An(st),Ze(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function Gy(t,i){switch(Zs(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return An(st),Rt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ki(i),null;case 13:if(xn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(l(340));Jo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return K(rt),null;case 4:return Rt(),null;case 10:return An(i.type),null;case 22:case 23:return xn(i),fr(),t!==null&&K(Ci),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return An(st),null;case 25:return null;default:return null}}function kd(t,i){switch(Zs(i),i.tag){case 3:An(st),Rt();break;case 26:case 27:case 5:ki(i);break;case 4:Rt();break;case 13:xn(i);break;case 19:K(rt);break;case 10:An(i.type);break;case 22:case 23:xn(i),fr(),t!==null&&K(Ci);break;case 24:An(st)}}function cl(t,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var d=u.next;a=d;do{if((a.tag&t)===t){u=void 0;var h=a.create,T=a.inst;u=h(),T.destroy=u}a=a.next}while(a!==d)}}catch(E){Be(i,i.return,E)}}function Fn(t,i,a){try{var u=i.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var h=d.next;u=h;do{if((u.tag&t)===t){var T=u.inst,E=T.destroy;if(E!==void 0){T.destroy=void 0,d=i;var A=a,D=E;try{D()}catch(V){Be(d,A,V)}}}u=u.next}while(u!==h)}}catch(V){Be(i,i.return,V)}}function Id(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Sf(i,a)}catch(u){Be(t,t.return,u)}}}function Ud(t,i,a){a.props=Ai(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(u){Be(t,i,u)}}function fl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof a=="function"?t.refCleanup=a(u):a.current=u}}catch(d){Be(t,i,d)}}function un(t,i){var a=t.ref,u=t.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(d){Be(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Be(t,i,d)}else a.current=null}function Ld(t){var i=t.type,a=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(d){Be(t,t.return,d)}}function qr(t,i,a){try{var u=t.stateNode;lv(u,t.type,a,i),u[Nt]=i}catch(d){Be(t,t.return,d)}}function Vd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&jn(t.type)||t.tag===4}function Hr(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&jn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zr(t,i,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=La));else if(u!==4&&(u===27&&jn(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(zr(t,i,a),t=t.sibling;t!==null;)zr(t,i,a),t=t.sibling}function _a(t,i,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(u!==4&&(u===27&&jn(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_a(t,i,a),t=t.sibling;t!==null;)_a(t,i,a),t=t.sibling}function Pd(t){var i=t.stateNode,a=t.memoizedProps;try{for(var u=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);yt(i,u,a),i[Tt]=t,i[Nt]=a}catch(h){Be(t,t.return,h)}}var Nn=!1,nt=!1,Br=!1,Gd=typeof WeakSet=="function"?WeakSet:Set,ft=null;function qy(t,i){if(t=t.containerInfo,du=Ba,t=Kc(t),Hs(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var d=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var T=0,E=-1,A=-1,D=0,V=0,H=t,k=null;t:for(;;){for(var I;H!==a||d!==0&&H.nodeType!==3||(E=T+d),H!==h||u!==0&&H.nodeType!==3||(A=T+u),H.nodeType===3&&(T+=H.nodeValue.length),(I=H.firstChild)!==null;)k=H,H=I;for(;;){if(H===t)break t;if(k===a&&++D===d&&(E=T),k===h&&++V===u&&(A=T),(I=H.nextSibling)!==null)break;H=k,k=H.parentNode}H=I}a=E===-1||A===-1?null:{start:E,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(pu={focusedElem:t,selectionRange:a},Ba=!1,ft=i;ft!==null;)if(i=ft,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,ft=t;else for(;ft!==null;){switch(i=ft,h=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=i,d=h.memoizedProps,h=h.memoizedState,u=a.stateNode;try{var ce=Ai(a.type,d,a.elementType===a.type);t=u.getSnapshotBeforeUpdate(ce,h),u.__reactInternalSnapshotBeforeUpdate=t}catch(se){Be(a,a.return,se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)gu(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=i.sibling,t!==null){t.return=i.return,ft=t;break}ft=i.return}}function qd(t,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:$n(t,a),u&4&&cl(5,a);break;case 1:if($n(t,a),u&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){Be(a,a.return,T)}else{var d=Ai(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Be(a,a.return,T)}}u&64&&Id(a),u&512&&fl(a,a.return);break;case 3:if($n(t,a),u&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Sf(t,i)}catch(T){Be(a,a.return,T)}}break;case 27:i===null&&u&4&&Pd(a);case 26:case 5:$n(t,a),i===null&&u&4&&Ld(a),u&512&&fl(a,a.return);break;case 12:$n(t,a);break;case 13:$n(t,a),u&4&&Bd(t,a),u&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Ky.bind(null,a),dv(t,a))));break;case 22:if(u=a.memoizedState!==null||Nn,!u){i=i!==null&&i.memoizedState!==null||nt,d=Nn;var h=nt;Nn=u,(nt=i)&&!h?Jn(t,a,(a.subtreeFlags&8772)!==0):$n(t,a),Nn=d,nt=h}break;case 30:break;default:$n(t,a)}}function Hd(t){var i=t.alternate;i!==null&&(t.alternate=null,Hd(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Cs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qe=null,Dt=!1;function wn(t,i,a){for(a=a.child;a!==null;)zd(t,i,a),a=a.sibling}function zd(t,i,a){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(ui,a)}catch{}switch(a.tag){case 26:nt||un(a,i),wn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:nt||un(a,i);var u=Qe,d=Dt;jn(a.type)&&(Qe=a.stateNode,Dt=!1),wn(t,i,a),Sl(a.stateNode),Qe=u,Dt=d;break;case 5:nt||un(a,i);case 6:if(u=Qe,d=Dt,Qe=null,wn(t,i,a),Qe=u,Dt=d,Qe!==null)if(Dt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(a.stateNode)}catch(h){Be(a,i,h)}else try{Qe.removeChild(a.stateNode)}catch(h){Be(a,i,h)}break;case 18:Qe!==null&&(Dt?(t=Qe,wp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Nl(t)):wp(Qe,a.stateNode));break;case 4:u=Qe,d=Dt,Qe=a.stateNode.containerInfo,Dt=!0,wn(t,i,a),Qe=u,Dt=d;break;case 0:case 11:case 14:case 15:nt||Fn(2,a,i),nt||Fn(4,a,i),wn(t,i,a);break;case 1:nt||(un(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Ud(a,i,u)),wn(t,i,a);break;case 21:wn(t,i,a);break;case 22:nt=(u=nt)||a.memoizedState!==null,wn(t,i,a),nt=u;break;default:wn(t,i,a)}}function Bd(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Nl(t)}catch(a){Be(i,i.return,a)}}function Hy(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Gd),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Gd),i;default:throw Error(l(435,t.tag))}}function Or(t,i){var a=Hy(t);i.forEach(function(u){var d=Xy.bind(null,t,u);a.has(u)||(a.add(u),u.then(d,d))})}function qt(t,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var d=a[u],h=t,T=i,E=T;e:for(;E!==null;){switch(E.tag){case 27:if(jn(E.type)){Qe=E.stateNode,Dt=!1;break e}break;case 5:Qe=E.stateNode,Dt=!1;break e;case 3:case 4:Qe=E.stateNode.containerInfo,Dt=!0;break e}E=E.return}if(Qe===null)throw Error(l(160));zd(h,T,d),Qe=null,Dt=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Od(i,t),i=i.sibling}var on=null;function Od(t,i){var a=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:qt(i,t),Ht(t),u&4&&(Fn(3,t,t.return),cl(3,t),Fn(5,t,t.return));break;case 1:qt(i,t),Ht(t),u&512&&(nt||a===null||un(a,a.return)),u&64&&Nn&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var d=on;if(qt(i,t),Ht(t),u&512&&(nt||a===null||un(a,a.return)),u&4){var h=a!==null?a.memoizedState:null;if(u=t.memoizedState,a===null)if(u===null)if(t.stateNode===null){e:{u=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Lo]||h[Tt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(u),d.head.insertBefore(h,d.querySelector("head > title"))),yt(h,u,a),h[Tt]=t,ut(h),u=h;break e;case"link":var T=Pp("link","href",d).get(u+(a.href||""));if(T){for(var E=0;E<T.length;E++)if(h=T[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(E,1);break t}}h=d.createElement(u),yt(h,u,a),d.head.appendChild(h);break;case"meta":if(T=Pp("meta","content",d).get(u+(a.content||""))){for(E=0;E<T.length;E++)if(h=T[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(E,1);break t}}h=d.createElement(u),yt(h,u,a),d.head.appendChild(h);break;default:throw Error(l(468,u))}h[Tt]=t,ut(h),u=h}t.stateNode=u}else Gp(d,t.type,t.stateNode);else t.stateNode=Vp(d,u,t.memoizedProps);else h!==u?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,u===null?Gp(d,t.type,t.stateNode):Vp(d,u,t.memoizedProps)):u===null&&t.stateNode!==null&&qr(t,t.memoizedProps,a.memoizedProps)}break;case 27:qt(i,t),Ht(t),u&512&&(nt||a===null||un(a,a.return)),a!==null&&u&4&&qr(t,t.memoizedProps,a.memoizedProps);break;case 5:if(qt(i,t),Ht(t),u&512&&(nt||a===null||un(a,a.return)),t.flags&32){d=t.stateNode;try{Bi(d,"")}catch(I){Be(t,t.return,I)}}u&4&&t.stateNode!=null&&(d=t.memoizedProps,qr(t,d,a!==null?a.memoizedProps:d)),u&1024&&(Br=!0);break;case 6:if(qt(i,t),Ht(t),u&4){if(t.stateNode===null)throw Error(l(162));u=t.memoizedProps,a=t.stateNode;try{a.nodeValue=u}catch(I){Be(t,t.return,I)}}break;case 3:if(qa=null,d=on,on=Pa(i.containerInfo),qt(i,t),on=d,Ht(t),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Nl(i.containerInfo)}catch(I){Be(t,t.return,I)}Br&&(Br=!1,Yd(t));break;case 4:u=on,on=Pa(t.stateNode.containerInfo),qt(i,t),Ht(t),on=u;break;case 12:qt(i,t),Ht(t);break;case 13:qt(i,t),Ht(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Xr=Lt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Or(t,u)));break;case 22:d=t.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,D=Nn,V=nt;if(Nn=D||d,nt=V||A,qt(i,t),nt=V,Nn=D,Ht(t),u&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||A||Nn||nt||_i(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){A=a=i;try{if(h=A.stateNode,d)T=h.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{E=A.stateNode;var H=A.memoizedProps.style,k=H!=null&&H.hasOwnProperty("display")?H.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(I){Be(A,A.return,I)}}}else if(i.tag===6){if(a===null){A=i;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(I){Be(A,A.return,I)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Or(t,a))));break;case 19:qt(i,t),Ht(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Or(t,u)));break;case 30:break;case 21:break;default:qt(i,t),Ht(t)}}function Ht(t){var i=t.flags;if(i&2){try{for(var a,u=t.return;u!==null;){if(Vd(u)){a=u;break}u=u.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var d=a.stateNode,h=Hr(t);_a(t,h,d);break;case 5:var T=a.stateNode;a.flags&32&&(Bi(T,""),a.flags&=-33);var E=Hr(t);_a(t,E,T);break;case 3:case 4:var A=a.stateNode.containerInfo,D=Hr(t);zr(t,D,A);break;default:throw Error(l(161))}}catch(V){Be(t,t.return,V)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Yd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Yd(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function $n(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)qd(t,i.alternate,i),i=i.sibling}function _i(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Fn(4,i,i.return),_i(i);break;case 1:un(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ud(i,i.return,a),_i(i);break;case 27:Sl(i.stateNode);case 26:case 5:un(i,i.return),_i(i);break;case 22:i.memoizedState===null&&_i(i);break;case 30:_i(i);break;default:_i(i)}t=t.sibling}}function Jn(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,d=t,h=i,T=h.flags;switch(h.tag){case 0:case 11:case 15:Jn(d,h,a),cl(4,h);break;case 1:if(Jn(d,h,a),u=h,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(D){Be(u,u.return,D)}if(u=h,d=u.updateQueue,d!==null){var E=u.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Tf(A[d],E)}catch(D){Be(u,u.return,D)}}a&&T&64&&Id(h),fl(h,h.return);break;case 27:Pd(h);case 26:case 5:Jn(d,h,a),a&&u===null&&T&4&&Ld(h),fl(h,h.return);break;case 12:Jn(d,h,a);break;case 13:Jn(d,h,a),a&&T&4&&Bd(d,h);break;case 22:h.memoizedState===null&&Jn(d,h,a),fl(h,h.return);break;case 30:break;default:Jn(d,h,a)}i=i.sibling}}function Yr(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Qo(a))}function Fr(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Qo(t))}function cn(t,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Fd(t,i,a,u),i=i.sibling}function Fd(t,i,a,u){var d=i.flags;switch(i.tag){case 0:case 11:case 15:cn(t,i,a,u),d&2048&&cl(9,i);break;case 1:cn(t,i,a,u);break;case 3:cn(t,i,a,u),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Qo(t)));break;case 12:if(d&2048){cn(t,i,a,u),t=i.stateNode;try{var h=i.memoizedProps,T=h.id,E=h.onPostCommit;typeof E=="function"&&E(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Be(i,i.return,A)}}else cn(t,i,a,u);break;case 13:cn(t,i,a,u);break;case 23:break;case 22:h=i.stateNode,T=i.alternate,i.memoizedState!==null?h._visibility&2?cn(t,i,a,u):dl(t,i):h._visibility&2?cn(t,i,a,u):(h._visibility|=2,so(t,i,a,u,(i.subtreeFlags&10256)!==0)),d&2048&&Yr(T,i);break;case 24:cn(t,i,a,u),d&2048&&Fr(i.alternate,i);break;default:cn(t,i,a,u)}}function so(t,i,a,u,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var h=t,T=i,E=a,A=u,D=T.flags;switch(T.tag){case 0:case 11:case 15:so(h,T,E,A,d),cl(8,T);break;case 23:break;case 22:var V=T.stateNode;T.memoizedState!==null?V._visibility&2?so(h,T,E,A,d):dl(h,T):(V._visibility|=2,so(h,T,E,A,d)),d&&D&2048&&Yr(T.alternate,T);break;case 24:so(h,T,E,A,d),d&&D&2048&&Fr(T.alternate,T);break;default:so(h,T,E,A,d)}i=i.sibling}}function dl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,u=i,d=u.flags;switch(u.tag){case 22:dl(a,u),d&2048&&Yr(u.alternate,u);break;case 24:dl(a,u),d&2048&&Fr(u.alternate,u);break;default:dl(a,u)}i=i.sibling}}var pl=8192;function ro(t){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)$d(t),t=t.sibling}function $d(t){switch(t.tag){case 26:ro(t),t.flags&pl&&t.memoizedState!==null&&xv(on,t.memoizedState,t.memoizedProps);break;case 5:ro(t);break;case 3:case 4:var i=on;on=Pa(t.stateNode.containerInfo),ro(t),on=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=pl,pl=16777216,ro(t),pl=i):ro(t));break;default:ro(t)}}function Jd(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ml(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];ft=u,Xd(u,t)}Jd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kd(t),t=t.sibling}function Kd(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&Fn(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,xa(t)):ml(t);break;default:ml(t)}}function xa(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];ft=u,Xd(u,t)}Jd(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Fn(8,i,i.return),xa(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,xa(i));break;default:xa(i)}t=t.sibling}}function Xd(t,i){for(;ft!==null;){var a=ft;switch(a.tag){case 0:case 11:case 15:Fn(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Qo(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,ft=u;else e:for(a=t;ft!==null;){u=ft;var d=u.sibling,h=u.return;if(Hd(u),u===a){ft=null;break e}if(d!==null){d.return=h,ft=d;break e}ft=h}}}var zy={getCacheForType:function(t){var i=St(st),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},By=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ye=null,ye=null,Ce=0,Ve=0,zt=null,Kn=!1,uo=!1,$r=!1,bn=0,je=0,Xn=0,xi=0,Jr=0,Zt=0,co=0,hl=null,kt=null,Kr=!1,Xr=0,Ma=1/0,Ra=null,Qn=null,gt=0,Zn=null,fo=null,po=0,Qr=0,Zr=null,Qd=null,gl=0,Wr=null;function Bt(){if((Le&2)!==0&&Ce!==0)return Ce&-Ce;if(U.T!==null){var t=ji;return t!==0?t:lu()}return Ui()}function Zd(){Zt===0&&(Zt=(Ce&536870912)===0||Ne?_t():536870912);var t=Qt.current;return t!==null&&(t.flags|=32),Zt}function Ot(t,i,a){(t===Ye&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)&&(mo(t,0),Wn(t,Ce,Zt,!1)),Fe(t,a),((Le&2)===0||t!==Ye)&&(t===Ye&&((Le&2)===0&&(xi|=a),je===4&&Wn(t,Ce,Zt,!1)),fn(t))}function Wd(t,i,a){if((Le&6)!==0)throw Error(l(327));var u=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Xe(t,i),d=u?Fy(t,i):tu(t,i,!0),h=u;do{if(d===0){uo&&!u&&Wn(t,i,0,!1);break}else{if(a=t.current.alternate,h&&!Oy(a)){d=tu(t,i,!1),h=!1;continue}if(d===2){if(h=i,t.errorRecoveryDisabledLanes&h)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var E=t;d=hl;var A=E.current.memoizedState.isDehydrated;if(A&&(mo(E,T).flags|=256),T=tu(E,T,!1),T!==2){if($r&&!A){E.errorRecoveryDisabledLanes|=h,xi|=h,d=4;break e}h=kt,kt=d,h!==null&&(kt===null?kt=h:kt.push.apply(kt,h))}d=T}if(h=!1,d!==2)continue}}if(d===1){mo(t,0),Wn(t,i,0,!0);break}e:{switch(u=t,h=d,h){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:Wn(u,i,Zt,!Kn);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(d=Xr+300-Lt(),10<d)){if(Wn(u,i,Zt,!Kn),Ae(u,0,!0)!==0)break e;u.timeoutHandle=Rp(jd.bind(null,u,a,kt,Ra,Kr,i,Zt,xi,co,Kn,h,2,-0,0),d);break e}jd(u,a,kt,Ra,Kr,i,Zt,xi,co,Kn,h,0,-0,0)}}break}while(!0);fn(t)}function jd(t,i,a,u,d,h,T,E,A,D,V,H,k,I){if(t.timeoutHandle=-1,H=i.subtreeFlags,(H&8192||(H&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:_v},$d(i),H=Mv(),H!==null)){t.cancelPendingCommit=H(ap.bind(null,t,i,h,a,u,d,T,E,A,V,1,k,I)),Wn(t,h,T,!D);return}ap(t,i,h,a,u,d,T,E,A)}function Oy(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var d=a[u],h=d.getSnapshot;d=d.value;try{if(!Pt(h(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Wn(t,i,a,u){i&=~Jr,i&=~xi,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var d=i;0<d;){var h=31-Ke(d),T=1<<h;u[h]=-1,d&=~T}a!==0&&_e(t,a,i)}function Na(){return(Le&6)===0?(yl(0),!1):!0}function jr(){if(ye!==null){if(Ve===0)var t=ye.return;else t=ye,En=Ti=null,gr(t),lo=null,sl=0,t=ye;for(;t!==null;)kd(t.alternate,t),t=t.return;ye=null}}function mo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,sv(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),jr(),Ye=t,ye=a=Tn(t.current,null),Ce=i,Ve=0,zt=null,Kn=!1,uo=Xe(t,i),$r=!1,co=Zt=Jr=xi=Xn=je=0,kt=hl=null,Kr=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var d=31-Ke(u),h=1<<d;i|=t[d],u&=~h}return bn=i,Ql(),a}function ep(t,i){he=null,U.H=ha,i===Wo||i===la?(i=yf(),Ve=3):i===mf?(i=yf(),Ve=4):Ve=i===vd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,zt=i,ye===null&&(je=1,Sa(t,$t(i,t.current)))}function tp(){var t=U.H;return U.H=ha,t===null?ha:t}function np(){var t=U.A;return U.A=zy,t}function eu(){je=4,Kn||(Ce&4194048)!==Ce&&Qt.current!==null||(uo=!0),(Xn&134217727)===0&&(xi&134217727)===0||Ye===null||Wn(Ye,Ce,Zt,!1)}function tu(t,i,a){var u=Le;Le|=2;var d=tp(),h=np();(Ye!==t||Ce!==i)&&(Ra=null,mo(t,i)),i=!1;var T=je;e:do try{if(Ve!==0&&ye!==null){var E=ye,A=zt;switch(Ve){case 8:jr(),T=6;break e;case 3:case 2:case 9:case 6:Qt.current===null&&(i=!0);var D=Ve;if(Ve=0,zt=null,ho(t,E,A,D),a&&uo){T=0;break e}break;default:D=Ve,Ve=0,zt=null,ho(t,E,A,D)}}Yy(),T=je;break}catch(V){ep(t,V)}while(!0);return i&&t.shellSuspendCounter++,En=Ti=null,Le=u,U.H=d,U.A=h,ye===null&&(Ye=null,Ce=0,Ql()),T}function Yy(){for(;ye!==null;)ip(ye)}function Fy(t,i){var a=Le;Le|=2;var u=tp(),d=np();Ye!==t||Ce!==i?(Ra=null,Ma=Lt()+500,mo(t,i)):uo=Xe(t,i);e:do try{if(Ve!==0&&ye!==null){i=ye;var h=zt;t:switch(Ve){case 1:Ve=0,zt=null,ho(t,i,h,1);break;case 2:case 9:if(hf(h)){Ve=0,zt=null,op(i);break}i=function(){Ve!==2&&Ve!==9||Ye!==t||(Ve=7),fn(t)},h.then(i,i);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:hf(h)?(Ve=0,zt=null,op(i)):(Ve=0,zt=null,ho(t,i,h,7));break;case 5:var T=null;switch(ye.tag){case 26:T=ye.memoizedState;case 5:case 27:var E=ye;if(!T||qp(T)){Ve=0,zt=null;var A=E.sibling;if(A!==null)ye=A;else{var D=E.return;D!==null?(ye=D,wa(D)):ye=null}break t}}Ve=0,zt=null,ho(t,i,h,5);break;case 6:Ve=0,zt=null,ho(t,i,h,6);break;case 8:jr(),je=6;break e;default:throw Error(l(462))}}$y();break}catch(V){ep(t,V)}while(!0);return En=Ti=null,U.H=u,U.A=d,Le=a,ye!==null?0:(Ye=null,Ce=0,Ql(),je)}function $y(){for(;ye!==null&&!gs();)ip(ye)}function ip(t){var i=bd(t.alternate,t,bn);t.memoizedProps=t.pendingProps,i===null?wa(t):ye=i}function op(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=_d(a,i,i.pendingProps,i.type,void 0,Ce);break;case 11:i=_d(a,i,i.pendingProps,i.type.render,i.ref,Ce);break;case 5:gr(i);default:kd(a,i),i=ye=lf(i,bn),i=bd(a,i,bn)}t.memoizedProps=t.pendingProps,i===null?wa(t):ye=i}function ho(t,i,a,u){En=Ti=null,gr(i),lo=null,sl=0;var d=i.return;try{if(Ly(t,d,i,a,Ce)){je=1,Sa(t,$t(a,t.current)),ye=null;return}}catch(h){if(d!==null)throw ye=d,h;je=1,Sa(t,$t(a,t.current)),ye=null;return}i.flags&32768?(Ne||u===1?t=!0:uo||(Ce&536870912)!==0?t=!1:(Kn=t=!0,(u===2||u===9||u===3||u===6)&&(u=Qt.current,u!==null&&u.tag===13&&(u.flags|=16384))),lp(i,t)):wa(i)}function wa(t){var i=t;do{if((i.flags&32768)!==0){lp(i,Kn);return}t=i.return;var a=Py(i.alternate,i,bn);if(a!==null){ye=a;return}if(i=i.sibling,i!==null){ye=i;return}ye=i=t}while(i!==null);je===0&&(je=5)}function lp(t,i){do{var a=Gy(t.alternate,t);if(a!==null){a.flags&=32767,ye=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ye=t;return}ye=t=a}while(t!==null);je=6,ye=null}function ap(t,i,a,u,d,h,T,E,A){t.cancelPendingCommit=null;do ba();while(gt!==0);if((Le&6)!==0)throw Error(l(327));if(i!==null){if(i===t.current)throw Error(l(177));if(h=i.lanes|i.childLanes,h|=Fs,et(t,a,h,T,E,A),t===Ye&&(ye=Ye=null,Ce=0),fo=i,Zn=t,po=a,Qr=h,Zr=d,Qd=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Qy(ri,function(){return fp(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=U.T,U.T=null,d=J.p,J.p=2,T=Le,Le|=4;try{qy(t,i,a)}finally{Le=T,J.p=d,U.T=u}}gt=1,sp(),rp(),up()}}function sp(){if(gt===1){gt=0;var t=Zn,i=fo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var u=J.p;J.p=2;var d=Le;Le|=4;try{Od(i,t);var h=pu,T=Kc(t.containerInfo),E=h.focusedElem,A=h.selectionRange;if(T!==E&&E&&E.ownerDocument&&Jc(E.ownerDocument.documentElement,E)){if(A!==null&&Hs(E)){var D=A.start,V=A.end;if(V===void 0&&(V=D),"selectionStart"in E)E.selectionStart=D,E.selectionEnd=Math.min(V,E.value.length);else{var H=E.ownerDocument||document,k=H&&H.defaultView||window;if(k.getSelection){var I=k.getSelection(),ce=E.textContent.length,se=Math.min(A.start,ce),He=A.end===void 0?se:Math.min(A.end,ce);!I.extend&&se>He&&(T=He,He=se,se=T);var N=$c(E,se),x=$c(E,He);if(N&&x&&(I.rangeCount!==1||I.anchorNode!==N.node||I.anchorOffset!==N.offset||I.focusNode!==x.node||I.focusOffset!==x.offset)){var b=H.createRange();b.setStart(N.node,N.offset),I.removeAllRanges(),se>He?(I.addRange(b),I.extend(x.node,x.offset)):(b.setEnd(x.node,x.offset),I.addRange(b))}}}}for(H=[],I=E;I=I.parentNode;)I.nodeType===1&&H.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<H.length;E++){var P=H[E];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Ba=!!du,pu=du=null}finally{Le=d,J.p=u,U.T=a}}t.current=i,gt=2}}function rp(){if(gt===2){gt=0;var t=Zn,i=fo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var u=J.p;J.p=2;var d=Le;Le|=4;try{qd(t,i.alternate,i)}finally{Le=d,J.p=u,U.T=a}}gt=3}}function up(){if(gt===4||gt===3){gt=0,Gl();var t=Zn,i=fo,a=po,u=Qd;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?gt=5:(gt=0,fo=Zn=null,cp(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Qn=null),Vt(a),i=i.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(ui,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=U.T,d=J.p,J.p=2,U.T=null;try{for(var h=t.onRecoverableError,T=0;T<u.length;T++){var E=u[T];h(E.value,{componentStack:E.stack})}}finally{U.T=i,J.p=d}}(po&3)!==0&&ba(),fn(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===Wr?gl++:(gl=0,Wr=t):gl=0,yl(0)}}function cp(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Qo(i)))}function ba(t){return sp(),rp(),up(),fp()}function fp(){if(gt!==5)return!1;var t=Zn,i=Qr;Qr=0;var a=Vt(po),u=U.T,d=J.p;try{J.p=32>a?32:a,U.T=null,a=Zr,Zr=null;var h=Zn,T=po;if(gt=0,fo=Zn=null,po=0,(Le&6)!==0)throw Error(l(331));var E=Le;if(Le|=4,Kd(h.current),Fd(h,h.current,T,a),Le=E,yl(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(ui,h)}catch{}return!0}finally{J.p=d,U.T=u,cp(t,i)}}function dp(t,i,a){i=$t(a,i),i=br(t.stateNode,i,2),t=zn(t,i,2),t!==null&&(Fe(t,2),fn(t))}function Be(t,i,a){if(t.tag===3)dp(t,t,a);else for(;i!==null;){if(i.tag===3){dp(i,t,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Qn===null||!Qn.has(u))){t=$t(a,t),a=gd(2),u=zn(i,a,2),u!==null&&(yd(a,u,i,t),Fe(u,2),fn(u));break}}i=i.return}}function nu(t,i,a){var u=t.pingCache;if(u===null){u=t.pingCache=new By;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(a)||($r=!0,d.add(a),t=Jy.bind(null,t,i,a),i.then(t,t))}function Jy(t,i,a){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ye===t&&(Ce&a)===a&&(je===4||je===3&&(Ce&62914560)===Ce&&300>Lt()-Xr?(Le&2)===0&&mo(t,0):Jr|=a,co===Ce&&(co=0)),fn(t)}function pp(t,i){i===0&&(i=at()),t=Xi(t,i),t!==null&&(Fe(t,i),fn(t))}function Ky(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),pp(t,a)}function Xy(t,i){var a=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(l(314))}u!==null&&u.delete(i),pp(t,a)}function Qy(t,i){return Io(t,i)}var Da=null,go=null,iu=!1,ka=!1,ou=!1,Mi=0;function fn(t){t!==go&&t.next===null&&(go===null?Da=go=t:go=go.next=t),ka=!0,iu||(iu=!0,Wy())}function yl(t,i){if(!ou&&ka){ou=!0;do for(var a=!1,u=Da;u!==null;){if(t!==0){var d=u.pendingLanes;if(d===0)var h=0;else{var T=u.suspendedLanes,E=u.pingedLanes;h=(1<<31-Ke(42|t)+1)-1,h&=d&~(T&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,yp(u,h))}else h=Ce,h=Ae(u,u===Ye?h:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(h&3)===0||Xe(u,h)||(a=!0,yp(u,h));u=u.next}while(a);ou=!1}}function Zy(){mp()}function mp(){ka=iu=!1;var t=0;Mi!==0&&(av()&&(t=Mi),Mi=0);for(var i=Lt(),a=null,u=Da;u!==null;){var d=u.next,h=hp(u,i);h===0?(u.next=null,a===null?Da=d:a.next=d,d===null&&(go=a)):(a=u,(t!==0||(h&3)!==0)&&(ka=!0)),u=d}yl(t)}function hp(t,i){for(var a=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var T=31-Ke(h),E=1<<T,A=d[T];A===-1?((E&a)===0||(E&u)!==0)&&(d[T]=mt(E,i)):A<=i&&(t.expiredLanes|=E),h&=~E}if(i=Ye,a=Ce,a=Ae(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,a===0||t===i&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Uo(u),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Xe(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(u!==null&&Uo(u),Vt(a)){case 2:case 8:a=si;break;case 32:a=ri;break;case 268435456:a=Ii;break;default:a=ri}return u=gp.bind(null,t),a=Io(a,u),t.callbackPriority=i,t.callbackNode=a,i}return u!==null&&u!==null&&Uo(u),t.callbackPriority=2,t.callbackNode=null,2}function gp(t,i){if(gt!==0&&gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ba()&&t.callbackNode!==a)return null;var u=Ce;return u=Ae(t,t===Ye?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Wd(t,u,i),hp(t,Lt()),t.callbackNode!=null&&t.callbackNode===a?gp.bind(null,t):null)}function yp(t,i){if(ba())return null;Wd(t,i,!0)}function Wy(){rv(function(){(Le&6)!==0?Io(Ln,Zy):mp()})}function lu(){return Mi===0&&(Mi=_t()),Mi}function vp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ol(""+t)}function Tp(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function jy(t,i,a,u,d){if(i==="submit"&&a&&a.stateNode===d){var h=vp((d[Nt]||null).action),T=u.submitter;T&&(i=(i=T[Nt]||null)?vp(i.formAction):T.getAttribute("formAction"),i!==null&&(h=i,T=null));var E=new Jl("action","action",null,u,d);t.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Mi!==0){var A=T?Tp(d,T):new FormData(d);xr(a,{pending:!0,data:A,method:d.method,action:h},null,A)}}else typeof h=="function"&&(E.preventDefault(),A=T?Tp(d,T):new FormData(d),xr(a,{pending:!0,data:A,method:d.method,action:h},h,A))},currentTarget:d}]})}}for(var au=0;au<Ys.length;au++){var su=Ys[au],ev=su.toLowerCase(),tv=su[0].toUpperCase()+su.slice(1);nn(ev,"on"+tv)}nn(Zc,"onAnimationEnd"),nn(Wc,"onAnimationIteration"),nn(jc,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(vy,"onTransitionRun"),nn(Ty,"onTransitionStart"),nn(Sy,"onTransitionCancel"),nn(ef,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function Sp(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var u=t[a],d=u.event;u=u.listeners;e:{var h=void 0;if(i)for(var T=u.length-1;0<=T;T--){var E=u[T],A=E.instance,D=E.currentTarget;if(E=E.listener,A!==h&&d.isPropagationStopped())break e;h=E,d.currentTarget=D;try{h(d)}catch(V){Ta(V)}d.currentTarget=null,h=A}else for(T=0;T<u.length;T++){if(E=u[T],A=E.instance,D=E.currentTarget,E=E.listener,A!==h&&d.isPropagationStopped())break e;h=E,d.currentTarget=D;try{h(d)}catch(V){Ta(V)}d.currentTarget=null,h=A}}}}function ve(t,i){var a=i[Ss];a===void 0&&(a=i[Ss]=new Set);var u=t+"__bubble";a.has(u)||(Cp(i,t,2,!1),a.add(u))}function ru(t,i,a){var u=0;i&&(u|=4),Cp(a,t,u,i)}var Ia="_reactListening"+Math.random().toString(36).slice(2);function uu(t){if(!t[Ia]){t[Ia]=!0,pc.forEach(function(a){a!=="selectionchange"&&(nv.has(a)||ru(a,!1,t),ru(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ia]||(i[Ia]=!0,ru("selectionchange",!1,i))}}function Cp(t,i,a,u){switch(Fp(i)){case 2:var d=wv;break;case 8:d=bv;break;default:d=Au}a=d.bind(null,i,a,t),d=void 0,!Ds||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function cu(t,i,a,u,d){var h=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var E=u.stateNode.containerInfo;if(E===d)break;if(T===4)for(T=u.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;E!==null;){if(T=Vi(E),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){u=h=T;continue e}E=E.parentNode}}u=u.return}Rc(function(){var D=h,V=ws(a),H=[];e:{var k=tf.get(t);if(k!==void 0){var I=Jl,ce=t;switch(t){case"keypress":if(Fl(a)===0)break e;case"keydown":case"keyup":I=Qg;break;case"focusin":ce="focus",I=Ls;break;case"focusout":ce="blur",I=Ls;break;case"beforeblur":case"afterblur":I=Ls;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Gg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=jg;break;case Zc:case Wc:case jc:I=zg;break;case ef:I=ty;break;case"scroll":case"scrollend":I=Vg;break;case"wheel":I=iy;break;case"copy":case"cut":case"paste":I=Og;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=kc;break;case"toggle":case"beforetoggle":I=ly}var se=(i&4)!==0,He=!se&&(t==="scroll"||t==="scrollend"),N=se?k!==null?k+"Capture":null:k;se=[];for(var x=D,b;x!==null;){var P=x;if(b=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||b===null||N===null||(P=Po(x,N),P!=null&&se.push(Tl(x,P,b))),He)break;x=x.return}0<se.length&&(k=new I(k,ce,null,a,V),H.push({event:k,listeners:se}))}}if((i&7)===0){e:{if(k=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",k&&a!==Ns&&(ce=a.relatedTarget||a.fromElement)&&(Vi(ce)||ce[Li]))break e;if((I||k)&&(k=V.window===V?V:(k=V.ownerDocument)?k.defaultView||k.parentWindow:window,I?(ce=a.relatedTarget||a.toElement,I=D,ce=ce?Vi(ce):null,ce!==null&&(He=f(ce),se=ce.tag,ce!==He||se!==5&&se!==27&&se!==6)&&(ce=null)):(I=null,ce=D),I!==ce)){if(se=bc,P="onMouseLeave",N="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(se=kc,P="onPointerLeave",N="onPointerEnter",x="pointer"),He=I==null?k:Vo(I),b=ce==null?k:Vo(ce),k=new se(P,x+"leave",I,a,V),k.target=He,k.relatedTarget=b,P=null,Vi(V)===D&&(se=new se(N,x+"enter",ce,a,V),se.target=b,se.relatedTarget=He,P=se),He=P,I&&ce)t:{for(se=I,N=ce,x=0,b=se;b;b=yo(b))x++;for(b=0,P=N;P;P=yo(P))b++;for(;0<x-b;)se=yo(se),x--;for(;0<b-x;)N=yo(N),b--;for(;x--;){if(se===N||N!==null&&se===N.alternate)break t;se=yo(se),N=yo(N)}se=null}else se=null;I!==null&&Ep(H,k,I,se,!1),ce!==null&&He!==null&&Ep(H,He,ce,se,!0)}}e:{if(k=D?Vo(D):window,I=k.nodeName&&k.nodeName.toLowerCase(),I==="select"||I==="input"&&k.type==="file")var Z=Hc;else if(Gc(k))if(zc)Z=hy;else{Z=py;var ge=dy}else I=k.nodeName,!I||I.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?D&&Rs(D.elementType)&&(Z=Hc):Z=my;if(Z&&(Z=Z(t,D))){qc(H,Z,a,V);break e}ge&&ge(t,k,D),t==="focusout"&&D&&k.type==="number"&&D.memoizedProps.value!=null&&Ms(k,"number",k.value)}switch(ge=D?Vo(D):window,t){case"focusin":(Gc(ge)||ge.contentEditable==="true")&&($i=ge,zs=D,Fo=null);break;case"focusout":Fo=zs=$i=null;break;case"mousedown":Bs=!0;break;case"contextmenu":case"mouseup":case"dragend":Bs=!1,Xc(H,a,V);break;case"selectionchange":if(yy)break;case"keydown":case"keyup":Xc(H,a,V)}var ne;if(Ps)e:{switch(t){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else Fi?Vc(t,a)&&(ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ue="onCompositionStart");ue&&(Ic&&a.locale!=="ko"&&(Fi||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&Fi&&(ne=Nc()):(Pn=V,ks="value"in Pn?Pn.value:Pn.textContent,Fi=!0)),ge=Ua(D,ue),0<ge.length&&(ue=new Dc(ue,t,null,a,V),H.push({event:ue,listeners:ge}),ne?ue.data=ne:(ne=Pc(a),ne!==null&&(ue.data=ne)))),(ne=sy?ry(t,a):uy(t,a))&&(ue=Ua(D,"onBeforeInput"),0<ue.length&&(ge=new Dc("onBeforeInput","beforeinput",null,a,V),H.push({event:ge,listeners:ue}),ge.data=ne)),jy(H,t,D,a,V)}Sp(H,i)})}function Tl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ua(t,i){for(var a=i+"Capture",u=[];t!==null;){var d=t,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=Po(t,a),d!=null&&u.unshift(Tl(t,d,h)),d=Po(t,i),d!=null&&u.push(Tl(t,d,h))),t.tag===3)return u;t=t.return}return[]}function yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ep(t,i,a,u,d){for(var h=i._reactName,T=[];a!==null&&a!==u;){var E=a,A=E.alternate,D=E.stateNode;if(E=E.tag,A!==null&&A===u)break;E!==5&&E!==26&&E!==27||D===null||(A=D,d?(D=Po(a,h),D!=null&&T.unshift(Tl(a,D,A))):d||(D=Po(a,h),D!=null&&T.push(Tl(a,D,A)))),a=a.return}T.length!==0&&t.push({event:i,listeners:T})}var iv=/\r\n?/g,ov=/\u0000|\uFFFD/g;function Ap(t){return(typeof t=="string"?t:""+t).replace(iv,`
`).replace(ov,"")}function _p(t,i){return i=Ap(i),Ap(t)===i}function La(){}function qe(t,i,a,u,d,h){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Bi(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Bi(t,""+u);break;case"className":Hl(t,"class",u);break;case"tabIndex":Hl(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Hl(t,a,u);break;case"style":xc(t,u,h);break;case"data":if(i!=="object"){Hl(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=Ol(""+u),t.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(i!=="input"&&qe(t,i,"name",d.name,d,null),qe(t,i,"formEncType",d.formEncType,d,null),qe(t,i,"formMethod",d.formMethod,d,null),qe(t,i,"formTarget",d.formTarget,d,null)):(qe(t,i,"encType",d.encType,d,null),qe(t,i,"method",d.method,d,null),qe(t,i,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=Ol(""+u),t.setAttribute(a,u);break;case"onClick":u!=null&&(t.onclick=La);break;case"onScroll":u!=null&&ve("scroll",t);break;case"onScrollEnd":u!=null&&ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(a=u.__html,a!=null){if(d.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}a=Ol(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""+u):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":u===!0?t.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,u):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(a,u):t.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(a):t.setAttribute(a,u);break;case"popover":ve("beforetoggle",t),ve("toggle",t),ql(t,"popover",u);break;case"xlinkActuate":yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":yn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":yn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":yn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":yn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ql(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ug.get(a)||a,ql(t,a,u))}}function fu(t,i,a,u,d,h){switch(a){case"style":xc(t,u,h);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(a=u.__html,a!=null){if(d.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"children":typeof u=="string"?Bi(t,u):(typeof u=="number"||typeof u=="bigint")&&Bi(t,""+u);break;case"onScroll":u!=null&&ve("scroll",t);break;case"onScrollEnd":u!=null&&ve("scrollend",t);break;case"onClick":u!=null&&(t.onclick=La);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),h=t[Nt]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(i,h,d),typeof u=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,u,d);break e}a in t?t[a]=u:u===!0?t.setAttribute(a,""):ql(t,a,u)}}}function yt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",t),ve("load",t);var u=!1,d=!1,h;for(h in a)if(a.hasOwnProperty(h)){var T=a[h];if(T!=null)switch(h){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:qe(t,i,h,T,a,null)}}d&&qe(t,i,"srcSet",a.srcSet,a,null),u&&qe(t,i,"src",a.src,a,null);return;case"input":ve("invalid",t);var E=h=T=d=null,A=null,D=null;for(u in a)if(a.hasOwnProperty(u)){var V=a[u];if(V!=null)switch(u){case"name":d=V;break;case"type":T=V;break;case"checked":A=V;break;case"defaultChecked":D=V;break;case"value":h=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(l(137,i));break;default:qe(t,i,u,V,a,null)}}Cc(t,h,E,A,D,T,d,!1),zl(t);return;case"select":ve("invalid",t),u=T=h=null;for(d in a)if(a.hasOwnProperty(d)&&(E=a[d],E!=null))switch(d){case"value":h=E;break;case"defaultValue":T=E;break;case"multiple":u=E;default:qe(t,i,d,E,a,null)}i=h,a=T,t.multiple=!!u,i!=null?zi(t,!!u,i,!1):a!=null&&zi(t,!!u,a,!0);return;case"textarea":ve("invalid",t),h=d=u=null;for(T in a)if(a.hasOwnProperty(T)&&(E=a[T],E!=null))switch(T){case"value":u=E;break;case"defaultValue":d=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(l(91));break;default:qe(t,i,T,E,a,null)}Ac(t,u,d,h),zl(t);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(u=a[A],u!=null))switch(A){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:qe(t,i,A,u,a,null)}return;case"dialog":ve("beforetoggle",t),ve("toggle",t),ve("cancel",t),ve("close",t);break;case"iframe":case"object":ve("load",t);break;case"video":case"audio":for(u=0;u<vl.length;u++)ve(vl[u],t);break;case"image":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"embed":case"source":case"link":ve("error",t),ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(u=a[D],u!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:qe(t,i,D,u,a,null)}return;default:if(Rs(i)){for(V in a)a.hasOwnProperty(V)&&(u=a[V],u!==void 0&&fu(t,i,V,u,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(u=a[E],u!=null&&qe(t,i,E,u,a,null))}function lv(t,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,T=null,E=null,A=null,D=null,V=null;for(I in a){var H=a[I];if(a.hasOwnProperty(I)&&H!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":A=H;default:u.hasOwnProperty(I)||qe(t,i,I,null,u,H)}}for(var k in u){var I=u[k];if(H=a[k],u.hasOwnProperty(k)&&(I!=null||H!=null))switch(k){case"type":h=I;break;case"name":d=I;break;case"checked":D=I;break;case"defaultChecked":V=I;break;case"value":T=I;break;case"defaultValue":E=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(l(137,i));break;default:I!==H&&qe(t,i,k,I,u,H)}}xs(t,T,E,A,D,V,h,d);return;case"select":I=T=E=k=null;for(h in a)if(A=a[h],a.hasOwnProperty(h)&&A!=null)switch(h){case"value":break;case"multiple":I=A;default:u.hasOwnProperty(h)||qe(t,i,h,null,u,A)}for(d in u)if(h=u[d],A=a[d],u.hasOwnProperty(d)&&(h!=null||A!=null))switch(d){case"value":k=h;break;case"defaultValue":E=h;break;case"multiple":T=h;default:h!==A&&qe(t,i,d,h,u,A)}i=E,a=T,u=I,k!=null?zi(t,!!a,k,!1):!!u!=!!a&&(i!=null?zi(t,!!a,i,!0):zi(t,!!a,a?[]:"",!1));return;case"textarea":I=k=null;for(E in a)if(d=a[E],a.hasOwnProperty(E)&&d!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:qe(t,i,E,null,u,d)}for(T in u)if(d=u[T],h=a[T],u.hasOwnProperty(T)&&(d!=null||h!=null))switch(T){case"value":k=d;break;case"defaultValue":I=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(l(91));break;default:d!==h&&qe(t,i,T,d,u,h)}Ec(t,k,I);return;case"option":for(var ce in a)if(k=a[ce],a.hasOwnProperty(ce)&&k!=null&&!u.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:qe(t,i,ce,null,u,k)}for(A in u)if(k=u[A],I=a[A],u.hasOwnProperty(A)&&k!==I&&(k!=null||I!=null))switch(A){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:qe(t,i,A,k,u,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in a)k=a[se],a.hasOwnProperty(se)&&k!=null&&!u.hasOwnProperty(se)&&qe(t,i,se,null,u,k);for(D in u)if(k=u[D],I=a[D],u.hasOwnProperty(D)&&k!==I&&(k!=null||I!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,i));break;default:qe(t,i,D,k,u,I)}return;default:if(Rs(i)){for(var He in a)k=a[He],a.hasOwnProperty(He)&&k!==void 0&&!u.hasOwnProperty(He)&&fu(t,i,He,void 0,u,k);for(V in u)k=u[V],I=a[V],!u.hasOwnProperty(V)||k===I||k===void 0&&I===void 0||fu(t,i,V,k,u,I);return}}for(var N in a)k=a[N],a.hasOwnProperty(N)&&k!=null&&!u.hasOwnProperty(N)&&qe(t,i,N,null,u,k);for(H in u)k=u[H],I=a[H],!u.hasOwnProperty(H)||k===I||k==null&&I==null||qe(t,i,H,k,u,I)}var du=null,pu=null;function Va(t){return t.nodeType===9?t:t.ownerDocument}function xp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mp(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function mu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var hu=null;function av(){var t=window.event;return t&&t.type==="popstate"?t===hu?!1:(hu=t,!0):(hu=null,!1)}var Rp=typeof setTimeout=="function"?setTimeout:void 0,sv=typeof clearTimeout=="function"?clearTimeout:void 0,Np=typeof Promise=="function"?Promise:void 0,rv=typeof queueMicrotask=="function"?queueMicrotask:typeof Np<"u"?function(t){return Np.resolve(null).then(t).catch(uv)}:Rp;function uv(t){setTimeout(function(){throw t})}function jn(t){return t==="head"}function wp(t,i){var a=i,u=0,d=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(0<u&&8>u){a=u;var T=t.ownerDocument;if(a&1&&Sl(T.documentElement),a&2&&Sl(T.body),a&4)for(a=T.head,Sl(a),T=a.firstChild;T;){var E=T.nextSibling,A=T.nodeName;T[Lo]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=E}}if(d===0){t.removeChild(h),Nl(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:u=a.charCodeAt(0)-48;else u=0;a=h}while(a);Nl(i)}function gu(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gu(a),Cs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function cv(t,i,a,u){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Lo])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=ln(t.nextSibling),t===null)break}return null}function fv(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ln(t.nextSibling),t===null))return null;return t}function yu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function dv(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var u=function(){i(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var vu=null;function bp(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Dp(t,i,a){switch(i=Va(a),t){case"html":if(t=i.documentElement,!t)throw Error(l(452));return t;case"head":if(t=i.head,!t)throw Error(l(453));return t;case"body":if(t=i.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Sl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Cs(t)}var Wt=new Map,kp=new Set;function Pa(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Dn=J.d;J.d={f:pv,r:mv,D:hv,C:gv,L:yv,m:vv,X:Sv,S:Tv,M:Cv};function pv(){var t=Dn.f(),i=Na();return t||i}function mv(t){var i=Pi(t);i!==null&&i.tag===5&&i.type==="form"?Wf(i):Dn.r(t)}var vo=typeof document>"u"?null:document;function Ip(t,i,a){var u=vo;if(u&&typeof i=="string"&&i){var d=Ft(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),kp.has(d)||(kp.add(d),t={rel:t,crossOrigin:a,href:i},u.querySelector(d)===null&&(i=u.createElement("link"),yt(i,"link",t),ut(i),u.head.appendChild(i)))}}function hv(t){Dn.D(t),Ip("dns-prefetch",t,null)}function gv(t,i){Dn.C(t,i),Ip("preconnect",t,i)}function yv(t,i,a){Dn.L(t,i,a);var u=vo;if(u&&t&&i){var d='link[rel="preload"][as="'+Ft(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Ft(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Ft(a.imageSizes)+'"]')):d+='[href="'+Ft(t)+'"]';var h=d;switch(i){case"style":h=To(t);break;case"script":h=So(t)}Wt.has(h)||(t=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Wt.set(h,t),u.querySelector(d)!==null||i==="style"&&u.querySelector(Cl(h))||i==="script"&&u.querySelector(El(h))||(i=u.createElement("link"),yt(i,"link",t),ut(i),u.head.appendChild(i)))}}function vv(t,i){Dn.m(t,i);var a=vo;if(a&&t){var u=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Ft(u)+'"][href="'+Ft(t)+'"]',h=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=So(t)}if(!Wt.has(h)&&(t=v({rel:"modulepreload",href:t},i),Wt.set(h,t),a.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(h)))return}u=a.createElement("link"),yt(u,"link",t),ut(u),a.head.appendChild(u)}}}function Tv(t,i,a){Dn.S(t,i,a);var u=vo;if(u&&t){var d=Gi(u).hoistableStyles,h=To(t);i=i||"default";var T=d.get(h);if(!T){var E={loading:0,preload:null};if(T=u.querySelector(Cl(h)))E.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Wt.get(h))&&Tu(t,a);var A=T=u.createElement("link");ut(A),yt(A,"link",t),A._p=new Promise(function(D,V){A.onload=D,A.onerror=V}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ga(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:E},d.set(h,T)}}}function Sv(t,i){Dn.X(t,i);var a=vo;if(a&&t){var u=Gi(a).hoistableScripts,d=So(t),h=u.get(d);h||(h=a.querySelector(El(d)),h||(t=v({src:t,async:!0},i),(i=Wt.get(d))&&Su(t,i),h=a.createElement("script"),ut(h),yt(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(d,h))}}function Cv(t,i){Dn.M(t,i);var a=vo;if(a&&t){var u=Gi(a).hoistableScripts,d=So(t),h=u.get(d);h||(h=a.querySelector(El(d)),h||(t=v({src:t,async:!0,type:"module"},i),(i=Wt.get(d))&&Su(t,i),h=a.createElement("script"),ut(h),yt(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(d,h))}}function Up(t,i,a,u){var d=(d=fe.current)?Pa(d):null;if(!d)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=To(a.href),a=Gi(d).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=To(a.href);var h=Gi(d).hoistableStyles,T=h.get(t);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,T),(h=d.querySelector(Cl(t)))&&!h._p&&(T.instance=h,T.state.loading=5),Wt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wt.set(t,a),h||Ev(d,t,a,T.state))),i&&u===null)throw Error(l(528,""));return T}if(i&&u!==null)throw Error(l(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=So(a),a=Gi(d).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function To(t){return'href="'+Ft(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function Lp(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Ev(t,i,a,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),yt(i,"link",a),ut(i),t.head.appendChild(i))}function So(t){return'[src="'+Ft(t)+'"]'}function El(t){return"script[async]"+t}function Vp(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+Ft(a.href)+'"]');if(u)return i.instance=u,ut(u),u;var d=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),ut(u),yt(u,"style",d),Ga(u,a.precedence,t),i.instance=u;case"stylesheet":d=To(a.href);var h=t.querySelector(Cl(d));if(h)return i.state.loading|=4,i.instance=h,ut(h),h;u=Lp(a),(d=Wt.get(d))&&Tu(u,d),h=(t.ownerDocument||t).createElement("link"),ut(h);var T=h;return T._p=new Promise(function(E,A){T.onload=E,T.onerror=A}),yt(h,"link",u),i.state.loading|=4,Ga(h,a.precedence,t),i.instance=h;case"script":return h=So(a.src),(d=t.querySelector(El(h)))?(i.instance=d,ut(d),d):(u=a,(d=Wt.get(h))&&(u=v({},a),Su(u,d)),t=t.ownerDocument||t,d=t.createElement("script"),ut(d),yt(d,"link",u),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Ga(u,a.precedence,t));return i.instance}function Ga(t,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,h=d,T=0;T<u.length;T++){var E=u[T];if(E.dataset.precedence===i)h=E;else if(h!==d)break}h?h.parentNode.insertBefore(t,h.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Tu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Su(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var qa=null;function Pp(t,i,a){if(qa===null){var u=new Map,d=qa=new Map;d.set(a,u)}else d=qa,u=d.get(a),u||(u=new Map,d.set(a,u));if(u.has(t))return u;for(u.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var h=a[d];if(!(h[Lo]||h[Tt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var T=h.getAttribute(i)||"";T=t+T;var E=u.get(T);E?E.push(h):u.set(T,[h])}}return u}function Gp(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Av(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function qp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Al=null;function _v(){}function xv(t,i,a){if(Al===null)throw Error(l(475));var u=Al;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=To(a.href),h=t.querySelector(Cl(d));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=Ha.bind(u),t.then(u,u)),i.state.loading|=4,i.instance=h,ut(h);return}h=t.ownerDocument||t,a=Lp(a),(d=Wt.get(d))&&Tu(a,d),h=h.createElement("link"),ut(h);var T=h;T._p=new Promise(function(E,A){T.onload=E,T.onerror=A}),yt(h,"link",a),i.instance=h}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Ha.bind(u),t.addEventListener("load",i),t.addEventListener("error",i))}}function Mv(){if(Al===null)throw Error(l(475));var t=Al;return t.stylesheets&&t.count===0&&Cu(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Cu(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Ha(){if(this.count--,this.count===0){if(this.stylesheets)Cu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var za=null;function Cu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,za=new Map,i.forEach(Rv,t),za=null,Ha.call(t))}function Rv(t,i){if(!(i.state.loading&4)){var a=za.get(t);if(a)var u=a.get(null);else{a=new Map,za.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var T=d[h];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),u=T)}u&&a.set(null,u)}d=i.instance,T=d.getAttribute("data-precedence"),h=a.get(T)||u,h===u&&a.set(null,d),a.set(T,d),this.count++,u=Ha.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),h?h.parentNode.insertBefore(d,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var _l={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Nv(t,i,a,u,d,h,T,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=it(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=it(0),this.hiddenUpdates=it(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Hp(t,i,a,u,d,h,T,E,A,D,V,H){return t=new Nv(t,i,a,T,E,A,D,H),i=1,h===!0&&(i|=24),h=Gt(3,null,null,i),t.current=h,h.stateNode=t,i=nr(),i.refCount++,t.pooledCache=i,i.refCount++,h.memoizedState={element:u,isDehydrated:a,cache:i},ar(h),t}function zp(t){return t?(t=Qi,t):Qi}function Bp(t,i,a,u,d,h){d=zp(d),u.context===null?u.context=d:u.pendingContext=d,u=Hn(i),u.payload={element:a},h=h===void 0?null:h,h!==null&&(u.callback=h),a=zn(t,u,i),a!==null&&(Ot(a,t,i),el(a,t,i))}function Op(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Eu(t,i){Op(t,i),(t=t.alternate)&&Op(t,i)}function Yp(t){if(t.tag===13){var i=Xi(t,67108864);i!==null&&Ot(i,t,67108864),Eu(t,67108864)}}var Ba=!0;function wv(t,i,a,u){var d=U.T;U.T=null;var h=J.p;try{J.p=2,Au(t,i,a,u)}finally{J.p=h,U.T=d}}function bv(t,i,a,u){var d=U.T;U.T=null;var h=J.p;try{J.p=8,Au(t,i,a,u)}finally{J.p=h,U.T=d}}function Au(t,i,a,u){if(Ba){var d=_u(u);if(d===null)cu(t,i,u,Oa,a),$p(t,u);else if(kv(d,t,i,a,u))u.stopPropagation();else if($p(t,u),i&4&&-1<Dv.indexOf(t)){for(;d!==null;){var h=Pi(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var T=xe(h.pendingLanes);if(T!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;T;){var A=1<<31-Ke(T);E.entanglements[1]|=A,T&=~A}fn(h),(Le&6)===0&&(Ma=Lt()+500,yl(0))}}break;case 13:E=Xi(h,2),E!==null&&Ot(E,h,2),Na(),Eu(h,2)}if(h=_u(u),h===null&&cu(t,i,u,Oa,a),h===d)break;d=h}d!==null&&u.stopPropagation()}else cu(t,i,u,null,a)}}function _u(t){return t=ws(t),xu(t)}var Oa=null;function xu(t){if(Oa=null,t=Vi(t),t!==null){var i=f(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Oa=t,null}function Fp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ys()){case Ln:return 2;case si:return 8;case ri:case vs:return 32;case Ii:return 268435456;default:return 32}default:return 32}}var Mu=!1,ei=null,ti=null,ni=null,xl=new Map,Ml=new Map,ii=[],Dv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $p(t,i){switch(t){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":xl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(i.pointerId)}}function Rl(t,i,a,u,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:h,targetContainers:[d]},i!==null&&(i=Pi(i),i!==null&&Yp(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function kv(t,i,a,u,d){switch(i){case"focusin":return ei=Rl(ei,t,i,a,u,d),!0;case"dragenter":return ti=Rl(ti,t,i,a,u,d),!0;case"mouseover":return ni=Rl(ni,t,i,a,u,d),!0;case"pointerover":var h=d.pointerId;return xl.set(h,Rl(xl.get(h)||null,t,i,a,u,d)),!0;case"gotpointercapture":return h=d.pointerId,Ml.set(h,Rl(Ml.get(h)||null,t,i,a,u,d)),!0}return!1}function Jp(t){var i=Vi(t.target);if(i!==null){var a=f(i);if(a!==null){if(i=a.tag,i===13){if(i=m(a),i!==null){t.blockedOn=i,gn(t.priority,function(){if(a.tag===13){var u=Bt();u=ze(u);var d=Xi(a,u);d!==null&&Ot(d,a,u),Eu(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ya(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=_u(t.nativeEvent);if(a===null){a=t.nativeEvent;var u=new a.constructor(a.type,a);Ns=u,a.target.dispatchEvent(u),Ns=null}else return i=Pi(a),i!==null&&Yp(i),t.blockedOn=a,!1;i.shift()}return!0}function Kp(t,i,a){Ya(t)&&a.delete(i)}function Iv(){Mu=!1,ei!==null&&Ya(ei)&&(ei=null),ti!==null&&Ya(ti)&&(ti=null),ni!==null&&Ya(ni)&&(ni=null),xl.forEach(Kp),Ml.forEach(Kp)}function Fa(t,i){t.blockedOn===i&&(t.blockedOn=null,Mu||(Mu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Iv)))}var $a=null;function Xp(t){$a!==t&&($a=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$a===t&&($a=null);for(var i=0;i<t.length;i+=3){var a=t[i],u=t[i+1],d=t[i+2];if(typeof u!="function"){if(xu(u||a)===null)continue;break}var h=Pi(a);h!==null&&(t.splice(i,3),i-=3,xr(h,{pending:!0,data:d,method:a.method,action:u},u,d))}}))}function Nl(t){function i(A){return Fa(A,t)}ei!==null&&Fa(ei,t),ti!==null&&Fa(ti,t),ni!==null&&Fa(ni,t),xl.forEach(i),Ml.forEach(i);for(var a=0;a<ii.length;a++){var u=ii[a];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ii.length&&(a=ii[0],a.blockedOn===null);)Jp(a),a.blockedOn===null&&ii.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var d=a[u],h=a[u+1],T=d[Nt]||null;if(typeof h=="function")T||Xp(a);else if(T){var E=null;if(h&&h.hasAttribute("formAction")){if(d=h,T=h[Nt]||null)E=T.formAction;else if(xu(d)!==null)continue}else E=T.action;typeof E=="function"?a[u+1]=E:(a.splice(u,3),u-=3),Xp(a)}}}function Ru(t){this._internalRoot=t}Ja.prototype.render=Ru.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(l(409));var a=i.current,u=Bt();Bp(a,u,t,i,null,null)},Ja.prototype.unmount=Ru.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Bp(t.current,2,null,t,null,null),Na(),i[Li]=null}};function Ja(t){this._internalRoot=t}Ja.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ui();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ii.length&&i!==0&&i<ii[a].priority;a++);ii.splice(a,0,t),a===0&&Jp(t)}};var Qp=e.version;if(Qp!=="19.1.1")throw Error(l(527,Qp,"19.1.1"));J.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var Uv={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ka.isDisabled&&Ka.supportsFiber)try{ui=Ka.inject(Uv),At=Ka}catch{}}return bl.createRoot=function(t,i){if(!c(t))throw Error(l(299));var a=!1,u="",d=dd,h=pd,T=md,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Hp(t,1,!1,null,null,a,u,d,h,T,E,null),t[Li]=i.current,uu(t),new Ru(i)},bl.hydrateRoot=function(t,i,a){if(!c(t))throw Error(l(299));var u=!1,d="",h=dd,T=pd,E=md,A=null,D=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(D=a.formState)),i=Hp(t,1,!0,i,a??null,u,d,h,T,E,A,D),i.context=zp(null),a=i.current,u=Bt(),u=ze(u),d=Hn(u),d.callback=null,zn(a,d,u),a=u,i.current.lanes=a,Fe(i,a),fn(i),t[Li]=i.current,uu(t),new Ja(i)},bl.version="19.1.1",bl}var am;function Jv(){if(am)return bu.exports;am=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bu.exports=$v(),bu.exports}var Kv=Jv();const Xv=Uh(Kv),an={openai:{name:"GPT-4o + DALL-E",icon:"",color:"text-emerald-400"},gemini:{name:"Gemini Flash",icon:"",color:"text-blue-400"},claude:{name:"Claude Sonnet",icon:"",color:"text-purple-400"},auto:{name:"Smart Auto",icon:"",color:"text-cyan-400"}},Qv={photorealistic:" Ultra-realistic",artistic:" Artistic Nigerian",cyberpunk:" Cyber-Lagos",anime:" Anime style"},Lh="gemini-2.5-flash",Zv="gpt-4o",Wv="claude-3-sonnet-20240229",Xa="default",jt={default:{name:"Lagos Oracle (Default)",icon:"",description:"Your standard, knowledgeable Lagos Oracle.",systemPromptModifier:"",color:"text-yellow-400"},emeka:{name:"Emeka (Igbo Insight)",icon:"",description:"Wise, with a touch of Igbo flair and proverbs.",systemPromptModifier:"You are Emeka, a wise individual with deep roots in Igbo culture, now navigating Lagos. Your responses often carry a touch of Igbo flair, and you might naturally use common Igbo greetings (like 'Nno'), phrases, or proverbs if the context allows. You offer thoughtful and insightful perspectives on various matters.",color:"text-green-400"},femi:{name:"Femi (Yorb Poise)",icon:"",description:"Confident, sharp, Yorb man from Lagos.",systemPromptModifier:"You are Femi, a confident and articulate Yorb man, born and raised in the heart of Lagos. Your responses are sharp, informed, and carry the cadence of a true Lagosian with deep Yorb heritage. You may incorporate Yorb proverbs (we), sayings, or greetings (like ' n l o') when fitting, showcasing pride in your culture.",color:"text-blue-400"},anita:{name:"Anita (Shakara Queen)",icon:"",description:"Playful, sassy, full of Lagos street smarts and slang.",systemPromptModifier:"You are Anita, the ultimate Lagos 'Shakara Queen'  playful, a bit sassy, and overflowing with street smarts. You communicate using contemporary Lagos slang and Pidgin English naturally and freely. You 'tell it like it is,' often with a humorous or witty twist, but always keeping it real.",color:"text-pink-400"},muhammed:{name:"Muhammed (Northern Calm)",icon:"",description:"Calm, thoughtful, with a Northern Nigerian perspective.",systemPromptModifier:"You are Muhammed, a calm and thoughtful individual with a perspective enriched by Northern Nigerian upbringing and Hausa culture, now experiencing Lagos life. Your responses are measured, respectful, and you might use Hausa greetings (like 'Sannu') or expressions if it feels natural. You bring a sense of peace and consideration to your interactions.",color:"text-teal-400"}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let jv,e0;function t0(){return{geminiUrl:jv,vertexUrl:e0}}function n0(n,e,o,l){var c,f;if(!(n!=null&&n.baseUrl)){const m=t0();return e?(c=m.vertexUrl)!==null&&c!==void 0?c:o:(f=m.geminiUrl)!==null&&f!==void 0?f:l}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wi{}function te(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(l,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const f=e[c];return f!=null?String(f):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function r(n,e,o){for(let f=0;f<e.length-1;f++){const m=e[f];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in n))if(Array.isArray(o))n[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(o))for(let p=0;p<y.length;p++){const v=y[p];r(v,e.slice(f+1),o[p])}else for(const p of y)r(p,e.slice(f+1),o)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];r(y[0],e.slice(f+1),o);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const l=e[e.length-1],c=n[l];if(c!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===c)return;if(typeof c=="object"&&typeof o=="object"&&c!==null&&o!==null)Object.assign(c,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else n[l]=o}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return;const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2);if(c in n){const f=n[c];return Array.isArray(f)?f.map(m=>s(m,e.slice(o+1))):void 0}else return}else n=n[l]}return n}catch(o){if(o instanceof TypeError)return;throw o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vu(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(sm||(sm={}));var rm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(rm||(rm={}));var li;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(li||(li={}));var pn;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(pn||(pn={}));var um;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(um||(um={}));var mn;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(mn||(mn={}));var cm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(cm||(cm={}));var fm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(fm||(fm={}));var dm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(dm||(dm={}));var pm;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(pm||(pm={}));var mm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(mm||(mm={}));var hm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(hm||(hm={}));var gm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(gm||(gm={}));var ym;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ym||(ym={}));var vm;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(vm||(vm={}));var Tm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Tm||(Tm={}));var ls;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(ls||(ls={}));var Sm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Sm||(Sm={}));var Pu;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Pu||(Pu={}));var Cm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Cm||(Cm={}));var Em;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Em||(Em={}));var Am;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Am||(Am={}));var _m;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(_m||(_m={}));var xm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(xm||(xm={}));var Mm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Mm||(Mm={}));var Rm;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Rm||(Rm={}));var Nm;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Nm||(Nm={}));var wm;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(wm||(wm={}));var bm;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(bm||(bm={}));var Dm;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Dm||(Dm={}));var km;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(km||(km={}));var Im;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Im||(Im={}));var Um;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Um||(Um={}));var Lm;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Lm||(Lm={}));var Vm;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Vm||(Vm={}));var Pm;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Pm||(Pm={}));var Gm;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Gm||(Gm={}));var qm;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(qm||(qm={}));var Hm;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Hm||(Hm={}));var zm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(zm||(zm={}));var Bm;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Bm||(Bm={}));var Om;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Om||(Om={}));var Ao;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ao||(Ao={}));class Gu{constructor(e){const o={};for(const l of e.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Dl{get text(){var e,o,l,c,f,m,g,y;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const S=[];for(const C of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[M,w]of Object.entries(C))M!=="text"&&M!=="thought"&&(w!==null||w!==void 0)&&S.push(M);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;v=!0,p+=C.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,o,l,c,f,m,g,y;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const S of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,M]of Object.entries(S))C!=="inlineData"&&(M!==null||M!==void 0)&&v.push(C);S.inlineData&&typeof S.inlineData.data=="string"&&(p+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,o,l,c,f,m,g,y;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,o,l,c,f,m,g,y,p;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,o,l,c,f,m,g,y,p;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class Ym{}class Fm{}class i0{}class o0{}class l0{}class $m{}class Jm{}class Km{}class a0{}class Xm{}class Qm{}class Zm{}class Wm{}class s0{}class r0{}class u0{}class jm{}class c0{get text(){var e,o,l;let c="",f=!1;const m=[];for(const g of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[y,p]of Object.entries(g))y!=="text"&&y!=="thought"&&p!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,c+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,o,l;let c="";const f=[];for(const m of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&f.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class as{_fromAPIResponse({apiResponse:e,isVertexAI:o}){const l=new as;if(l.name=e.name,l.metadata=e.metadata,l.done=e.done,l.error=e.error,o){const c=e.response;if(c){const f=new Xm,m=c.videos;f.generatedVideos=m==null?void 0:m.map(g=>({video:{uri:g.gcsUri,videoBytes:g.bytesBase64Encoded?Vu(g.bytesBase64Encoded):void 0,mimeType:g.mimeType}})),f.raiMediaFilteredCount=c.raiMediaFilteredCount,f.raiMediaFilteredReasons=c.raiMediaFilteredReasons,l.response=f}}else{const c=e.response;if(c){const f=new Xm,m=c.generateVideoResponse,g=m==null?void 0:m.generatedSamples;f.generatedVideos=g==null?void 0:g.map(y=>{const p=y.video;return{video:{uri:p==null?void 0:p.uri,videoBytes:p!=null&&p.encodedVideo?Vu(p==null?void 0:p.encodedVideo):void 0,mimeType:y.encoding}}}),f.raiMediaFilteredCount=m==null?void 0:m.raiMediaFilteredCount,f.raiMediaFilteredReasons=m==null?void 0:m.raiMediaFilteredReasons,l.response=f}}return l}}class f0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function be(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Vh(n,e){const o=be(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function Ph(n){return Array.isArray(n)?n.map(e=>ss(e)):[ss(n)]}function ss(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Gh(n){const e=ss(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function qh(n){const e=ss(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function eh(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Hh(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>eh(e)):[eh(n)]}function qu(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function th(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function nh(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Et(n){if(n==null)throw new Error("ContentUnion is required");return qu(n)?n:{role:"user",parts:Hh(n)}}function zh(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const l=Et(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(n.isVertexAI()){const o=Et(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>Et(o)):[Et(e)]}function en(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(th(n)||nh(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Et(n)]}const e=[],o=[],l=qu(n[0]);for(const c of n){const f=qu(c);if(f!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)e.push(c);else{if(th(c)||nh(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(c)}}return l||e.push({role:"user",parts:Hh(o)}),e}function d0(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(l=>l!=="null");if(o.length===1)e.type=Object.values(li).includes(o[0].toUpperCase())?o[0].toUpperCase():li.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of o)e.anyOf.push({type:Object.values(li).includes(l.toUpperCase())?l.toUpperCase():li.TYPE_UNSPECIFIED})}}function _o(n){const e={},o=["items"],l=["anyOf"],c=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=n.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,n=f[1]):f[1].type==="null"&&(e.nullable=!0,n=f[0])),n.type instanceof Array&&d0(n.type,e);for(const[m,g]of Object.entries(n))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(li).includes(g.toUpperCase())?g.toUpperCase():li.TYPE_UNSPECIFIED}else if(o.includes(m))e[m]=_o(g);else if(l.includes(m)){const y=[];for(const p of g){if(p.type=="null"){e.nullable=!0;continue}y.push(_o(p))}e[m]=y}else if(c.includes(m)){const y={};for(const[p,v]of Object.entries(g))y[p]=_o(v);e[m]=y}else{if(m==="additionalProperties")continue;e[m]=g}return e}function ju(n){return _o(n)}function ec(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function tc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Ro(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=_o(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=_o(e.response));return n}function No(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function p0(n,e,o,l=1){const c=!e.startsWith(`${o}/`)&&e.split("/").length===l;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:c?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:c?`${o}/${e}`:e}function Un(n,e){if(typeof e!="string")throw new Error("name must be a string");return p0(n,e,"cachedContents")}function Bh(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function bi(n){return Vu(n)}function m0(n){return n!=null&&typeof n=="object"&&"name"in n}function h0(n){return n!=null&&typeof n=="object"&&"video"in n}function g0(n){return n!=null&&typeof n=="object"&&"uri"in n}function Oh(n){var e;let o;if(m0(n)&&(o=n.name),!(g0(n)&&(o=n.uri,o===void 0))&&!(h0(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const c=o.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${o}`);o=c[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Yh(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function Fh(n){for(const e of["models","tunedModels","publisherModels"])if(y0(n,e))return n[e];return[]}function y0(n,e){return n!==null&&typeof n=="object"&&e in n}function v0(n,e={}){const o=n,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function T0(n,e={}){const o=[],l=new Set;for(const c of n){const f=c.name;if(l.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);l.add(f);const m=v0(c,e);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function $h(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function S0(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function wo(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Jh(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C0(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function E0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function A0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function _0(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],C0(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],E0(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],A0(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function Kh(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>_0(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function x0(n){const e={},o=s(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=s(n,["default"]);l!=null&&r(e,["default"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const f=s(n,["enum"]);f!=null&&r(e,["enum"],f);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const S=s(n,["maxProperties"]);S!=null&&r(e,["maxProperties"],S);const C=s(n,["maximum"]);C!=null&&r(e,["maximum"],C);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const w=s(n,["minLength"]);w!=null&&r(e,["minLength"],w);const L=s(n,["minProperties"]);L!=null&&r(e,["minProperties"],L);const z=s(n,["minimum"]);z!=null&&r(e,["minimum"],z);const Q=s(n,["nullable"]);Q!=null&&r(e,["nullable"],Q);const F=s(n,["pattern"]);F!=null&&r(e,["pattern"],F);const Y=s(n,["properties"]);Y!=null&&r(e,["properties"],Y);const j=s(n,["propertyOrdering"]);j!=null&&r(e,["propertyOrdering"],j);const B=s(n,["required"]);B!=null&&r(e,["required"],B);const re=s(n,["title"]);re!=null&&r(e,["title"],re);const W=s(n,["type"]);return W!=null&&r(e,["type"],W),e}function M0(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["category"]);o!=null&&r(e,["category"],o);const l=s(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function R0(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const f=s(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function N0(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function w0(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],N0(o)),e}function b0(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function D0(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],b0(o)),e}function k0(){return{}}function I0(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>R0(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],w0(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],D0(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],k0());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function U0(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function L0(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function V0(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],L0(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function P0(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],U0(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],V0(l)),e}function G0(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function Xh(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],G0(o)),e}function q0(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Xh(l)),e}function H0(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>q0(c))),r(e,["speakerVoiceConfigs"],l)}return e}function z0(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],Xh(o));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],H0(l));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function B0(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=s(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function O0(n,e,o){const l={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],Kh(Et(c)));const f=s(e,["temperature"]);f!=null&&r(l,["temperature"],f);const m=s(e,["topP"]);m!=null&&r(l,["topP"],m);const g=s(e,["topK"]);g!=null&&r(l,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(l,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const S=s(e,["responseLogprobs"]);S!=null&&r(l,["responseLogprobs"],S);const C=s(e,["logprobs"]);C!=null&&r(l,["logprobs"],C);const M=s(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const w=s(e,["frequencyPenalty"]);w!=null&&r(l,["frequencyPenalty"],w);const L=s(e,["seed"]);L!=null&&r(l,["seed"],L);const z=s(e,["responseMimeType"]);z!=null&&r(l,["responseMimeType"],z);const Q=s(e,["responseSchema"]);Q!=null&&r(l,["responseSchema"],x0(ju(Q)));const F=s(e,["responseJsonSchema"]);if(F!=null&&r(l,["responseJsonSchema"],F),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=s(e,["safetySettings"]);if(o!==void 0&&Y!=null){let ee=Y;Array.isArray(ee)&&(ee=ee.map(ke=>M0(ke))),r(o,["safetySettings"],ee)}const j=s(e,["tools"]);if(o!==void 0&&j!=null){let ee=No(j);Array.isArray(ee)&&(ee=ee.map(ke=>I0(Ro(ke)))),r(o,["tools"],ee)}const B=s(e,["toolConfig"]);if(o!==void 0&&B!=null&&r(o,["toolConfig"],P0(B)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const re=s(e,["cachedContent"]);o!==void 0&&re!=null&&r(o,["cachedContent"],Un(n,re));const W=s(e,["responseModalities"]);W!=null&&r(l,["responseModalities"],W);const Ee=s(e,["mediaResolution"]);Ee!=null&&r(l,["mediaResolution"],Ee);const ae=s(e,["speechConfig"]);if(ae!=null&&r(l,["speechConfig"],z0(ec(ae))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Se=s(e,["thinkingConfig"]);return Se!=null&&r(l,["thinkingConfig"],B0(Se)),l}function Y0(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["request","model"],be(n,l));const c=s(e,["contents"]);if(c!=null){let m=en(c);Array.isArray(m)&&(m=m.map(g=>Kh(g))),r(o,["request","contents"],m)}const f=s(e,["config"]);return f!=null&&r(o,["request","generationConfig"],O0(n,f,o)),o}function F0(n,e){const o={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=s(e,["fileName"]);l!=null&&r(o,["fileName"],l);const c=s(e,["inlinedRequests"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Y0(n,m))),r(o,["requests","requests"],f)}return o}function $0(n,e){const o={},l=s(n,["displayName"]);if(e!==void 0&&l!=null&&r(e,["batch","displayName"],l),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function J0(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["src"]);c!=null&&r(o,["batch","inputConfig"],F0(n,$h(n,c)));const f=s(e,["config"]);return f!=null&&r(o,["config"],$0(f,o)),o}function K0(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],wo(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function X0(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],wo(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function Q0(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);if(e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Z0(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],Q0(o,e)),e}function W0(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],wo(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function j0(n){const e={},o=s(n,["format"]);o!=null&&r(e,["instancesFormat"],o);const l=s(n,["gcsUri"]);l!=null&&r(e,["gcsSource","uris"],l);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigquerySource","inputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function eT(n){const e={},o=s(n,["format"]);o!=null&&r(e,["predictionsFormat"],o);const l=s(n,["gcsUri"]);l!=null&&r(e,["gcsDestination","outputUriPrefix"],l);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigqueryDestination","outputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function tT(n,e){const o={},l=s(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=s(n,["dest"]);return e!==void 0&&c!=null&&r(e,["outputConfig"],eT(S0(c))),o}function nT(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["model"],be(n,l));const c=s(e,["src"]);c!=null&&r(o,["inputConfig"],j0($h(n,c)));const f=s(e,["config"]);return f!=null&&r(o,["config"],tT(f,o)),o}function iT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],wo(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function oT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],wo(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function lT(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const f=s(n,["filter"]);return e!==void 0&&f!=null&&r(e,["_query","filter"],f),o}function aT(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],lT(o,e)),e}function sT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],wo(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function rT(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function uT(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function cT(n){const e={},o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function fT(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],rT(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],uT(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],cT(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function dT(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>fT(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function pT(n){const e={},o=s(n,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function mT(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function hT(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>mT(c))),r(e,["urlMetadata"],l)}return e}function gT(n){const e={},o=s(n,["content"]);o!=null&&r(e,["content"],dT(o));const l=s(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],pT(l));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const f=s(n,["finishReason"]);f!=null&&r(e,["finishReason"],f);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],hT(m));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const S=s(n,["safetyRatings"]);return S!=null&&r(e,["safetyRatings"],S),e}function yT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>gT(p))),r(e,["candidates"],y)}const c=s(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const f=s(n,["promptFeedback"]);f!=null&&r(e,["promptFeedback"],f);const m=s(n,["responseId"]);m!=null&&r(e,["responseId"],m);const g=s(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function Qh(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const l=s(n,["code"]);l!=null&&r(e,["code"],l);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function vT(n){const e={},o=s(n,["response"]);o!=null&&r(e,["response"],yT(o));const l=s(n,["error"]);return l!=null&&r(e,["error"],Qh(l)),e}function TT(n){const e={},o=s(n,["responsesFile"]);o!=null&&r(e,["fileName"],o);const l=s(n,["inlinedResponses","inlinedResponses"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>vT(f))),r(e,["inlinedResponses"],c)}return e}function Hu(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["metadata","displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["metadata","state"]);c!=null&&r(e,["state"],Jh(c));const f=s(n,["metadata","createTime"]);f!=null&&r(e,["createTime"],f);const m=s(n,["metadata","endTime"]);m!=null&&r(e,["endTime"],m);const g=s(n,["metadata","updateTime"]);g!=null&&r(e,["updateTime"],g);const y=s(n,["metadata","model"]);y!=null&&r(e,["model"],y);const p=s(n,["metadata","output"]);return p!=null&&r(e,["dest"],TT(p)),e}function ST(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["operations"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Hu(m))),r(e,["batchJobs"],f)}return e}function CT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const f=s(n,["error"]);return f!=null&&r(e,["error"],Qh(f)),e}function Zh(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const l=s(n,["code"]);l!=null&&r(e,["code"],l);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function ET(n){const e={},o=s(n,["instancesFormat"]);o!=null&&r(e,["format"],o);const l=s(n,["gcsSource","uris"]);l!=null&&r(e,["gcsUri"],l);const c=s(n,["bigquerySource","inputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function AT(n){const e={},o=s(n,["predictionsFormat"]);o!=null&&r(e,["format"],o);const l=s(n,["gcsDestination","outputUriPrefix"]);l!=null&&r(e,["gcsUri"],l);const c=s(n,["bigqueryDestination","outputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function zu(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["state"]);c!=null&&r(e,["state"],Jh(c));const f=s(n,["error"]);f!=null&&r(e,["error"],Zh(f));const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=s(n,["startTime"]);g!=null&&r(e,["startTime"],g);const y=s(n,["endTime"]);y!=null&&r(e,["endTime"],y);const p=s(n,["updateTime"]);p!=null&&r(e,["updateTime"],p);const v=s(n,["model"]);v!=null&&r(e,["model"],v);const S=s(n,["inputConfig"]);S!=null&&r(e,["src"],ET(S));const C=s(n,["outputConfig"]);return C!=null&&r(e,["dest"],AT(C)),e}function _T(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["batchPredictionJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>zu(m))),r(e,["batchJobs"],f)}return e}function xT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const f=s(n,["error"]);return f!=null&&r(e,["error"],Zh(f)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ri;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ri||(Ri={}));class Vl{constructor(e,o,l,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,l,c)}init(e,o,l){var c,f;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!l||Object.keys(l).length===0?m={config:{}}:typeof l=="object"?m=Object.assign({},l):m=l,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(f=(c=m.config)===null||c===void 0?void 0:c.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MT extends wi{constructor(e){super(),this.apiClient=e,this.create=async o=>{if(this.apiClient.isVertexAI()){const c=Date.now().toString();if(Array.isArray(o.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(o.config=o.config||{},o.config.displayName===void 0&&(o.config.displayName="genaiBatchJob_${timestampStr}"),o.config.dest===void 0&&typeof o.src=="string")if(o.src.startsWith("gs://")&&o.src.endsWith(".jsonl"))o.config.dest=`${o.src.slice(0,-6)}/dest`;else if(o.src.startsWith("bq://"))o.config.dest=`${o.src}_dest_${c}`;else throw new Error("Unsupported source:"+o.src)}return await this.createInternal(o)},this.list=async(o={})=>new Vl(Ri.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o)}async createInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=nT(this.apiClient,e);return g=te("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>zu(v))}else{const p=J0(this.apiClient,e);return g=te("{model}:batchGenerateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Hu(v))}}async get(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=iT(this.apiClient,e);return g=te("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>zu(v))}else{const p=K0(this.apiClient,e);return g=te("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Hu(v))}}async cancel(e){var o,l,c,f;let m="",g={};if(this.apiClient.isVertexAI()){const y=oT(this.apiClient,e);m=te("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=X0(this.apiClient,e);m=te("batches/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=aT(e);return g=te("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=_T(v),C=new jm;return Object.assign(C,S),C})}else{const p=Z0(e);return g=te("batches",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=ST(v),C=new jm;return Object.assign(C,S),C})}}async delete(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=sT(this.apiClient,e);return g=te("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>xT(v))}else{const p=W0(this.apiClient,e);return g=te("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>CT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RT(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function NT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function wT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function bT(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],RT(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],NT(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],wT(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function ih(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>bT(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function DT(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const f=s(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function kT(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function IT(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],kT(o)),e}function UT(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function LT(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],UT(o)),e}function VT(){return{}}function PT(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>DT(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],IT(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],LT(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],VT());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function GT(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function qT(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function HT(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],qT(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function zT(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],GT(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],HT(l)),e}function BT(n,e){const o={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const f=s(n,["displayName"]);e!==void 0&&f!=null&&r(e,["displayName"],f);const m=s(n,["contents"]);if(e!==void 0&&m!=null){let v=en(m);Array.isArray(v)&&(v=v.map(S=>ih(S))),r(e,["contents"],v)}const g=s(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],ih(Et(g)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>PT(S))),r(e,["tools"],v)}const p=s(n,["toolConfig"]);if(e!==void 0&&p!=null&&r(e,["toolConfig"],zT(p)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function OT(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["model"],Vh(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],BT(c,o)),o}function YT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Un(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function FT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Un(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function $T(n,e){const o={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),o}function JT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Un(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],$T(c,o)),o}function KT(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function XT(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],KT(o,e)),e}function QT(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function ZT(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function WT(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function jT(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],QT(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],ZT(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],WT(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function oh(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>jT(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function eS(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&r(e,["description"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const f=s(n,["parametersJsonSchema"]);f!=null&&r(e,["parametersJsonSchema"],f);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function tS(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function nS(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],tS(o)),e}function iS(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function oS(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],iS(o)),e}function lS(){return{}}function aS(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function sS(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],aS(o));const l=s(n,["authType"]);l!=null&&r(e,["authType"],l);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const f=s(n,["httpBasicAuthConfig"]);f!=null&&r(e,["httpBasicAuthConfig"],f);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function rS(n){const e={},o=s(n,["authConfig"]);return o!=null&&r(e,["authConfig"],sS(o)),e}function uS(){return{}}function cS(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(C=>eS(C))),r(e,["functionDeclarations"],S)}const l=s(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],nS(c));const f=s(n,["googleSearchRetrieval"]);f!=null&&r(e,["googleSearchRetrieval"],oS(f)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],lS());const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],rS(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],uS());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function fS(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function dS(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function pS(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],dS(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function mS(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],fS(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],pS(l)),e}function hS(n,e){const o={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const f=s(n,["displayName"]);e!==void 0&&f!=null&&r(e,["displayName"],f);const m=s(n,["contents"]);if(e!==void 0&&m!=null){let S=en(m);Array.isArray(S)&&(S=S.map(C=>oh(C))),r(e,["contents"],S)}const g=s(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],oh(Et(g)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(C=>cS(C))),r(e,["tools"],S)}const p=s(n,["toolConfig"]);e!==void 0&&p!=null&&r(e,["toolConfig"],mS(p));const v=s(n,["kmsKeyName"]);return e!==void 0&&v!=null&&r(e,["encryption_spec","kmsKeyName"],v),o}function gS(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["model"],Vh(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],hS(c,o)),o}function yS(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Un(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function vS(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Un(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function TS(n,e){const o={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),o}function SS(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Un(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],TS(c,o)),o}function CS(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function ES(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],CS(o,e)),e}function ns(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const f=s(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=s(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const g=s(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function AS(){return{}}function _S(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["cachedContents"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>ns(m))),r(e,["cachedContents"],f)}return e}function is(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const f=s(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=s(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const g=s(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function xS(){return{}}function MS(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["cachedContents"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>is(m))),r(e,["cachedContents"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RS extends wi{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Vl(Ri.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=gS(this.apiClient,e);return g=te("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>is(v))}else{const p=OT(this.apiClient,e);return g=te("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>ns(v))}}async get(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=yS(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>is(v))}else{const p=YT(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>ns(v))}}async delete(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=vS(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(()=>{const v=xS(),S=new Zm;return Object.assign(S,v),S})}else{const p=FT(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(()=>{const v=AS(),S=new Zm;return Object.assign(S,v),S})}}async update(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=SS(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>is(v))}else{const p=JT(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>ns(v))}}async listInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=ES(e);return g=te("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=MS(v),C=new Wm;return Object.assign(C,S),C})}else{const p=XT(e);return g=te("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=_S(v),C=new Wm;return Object.assign(C,S),C})}}}function lh(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],l=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $e(n){return this instanceof $e?(this.v=n,this):new $e(n)}function xo(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(n,e||[]),c,f=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),c[Symbol.asyncIterator]=function(){return this},c;function m(M){return function(w){return Promise.resolve(w).then(M,S)}}function g(M,w){l[M]&&(c[M]=function(L){return new Promise(function(z,Q){f.push([M,L,z,Q])>1||y(M,L)})},w&&(c[M]=w(c[M])))}function y(M,w){try{p(l[M](w))}catch(L){C(f[0][3],L)}}function p(M){M.value instanceof $e?Promise.resolve(M.value.v).then(v,S):C(f[0][2],M)}function v(M){y("next",M)}function S(M){y("throw",M)}function C(M,w){M(w),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Ul(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof lh=="function"?lh(n):n[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(f){o[f]=n[f]&&function(m){return new Promise(function(g,y){m=n[f](m),c(g,y,m.done,m.value)})}}function c(f,m,g,y){Promise.resolve(y).then(function(p){f({value:p,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NS(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:Wh(o)}function Wh(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function wS(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function ah(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let l=0;for(;l<o;)if(n[l].role==="user")e.push(n[l]),l++;else{const c=[];let f=!0;for(;l<o&&n[l].role==="model";)c.push(n[l]),f&&!Wh(n[l])&&(f=!1),l++;f?e.push(...c):e.pop()}return e}class bS{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new DS(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class DS{constructor(e,o,l,c={},f=[]){this.apiClient=e,this.modelsModule=o,this.model=l,this.config=c,this.history=f,this.sendPromise=Promise.resolve(),wS(f)}async sendMessage(e){var o;await this.sendPromise;const l=Et(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,m,g;const y=await c,p=(m=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let C=[];v!=null&&(C=(g=v.slice(S))!==null&&g!==void 0?g:[]);const M=p?[p]:[];this.recordHistory(l,M,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var o;await this.sendPromise;const l=Et(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const f=await c;return this.processStreamResponse(f,l)}getHistory(e=!1){const o=e?ah(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var l,c;return xo(this,arguments,function*(){var m,g,y,p;const v=[];try{for(var S=!0,C=Ul(e),M;M=yield $e(C.next()),m=M.done,!m;S=!0){p=M.value,S=!1;const w=p;if(NS(w)){const L=(c=(l=w.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;L!==void 0&&v.push(L)}yield yield $e(w)}}catch(w){g={error:w}}finally{try{!S&&!m&&(y=C.return)&&(yield $e(y.call(C)))}finally{if(g)throw g.error}}this.recordHistory(o,v)})}recordHistory(e,o,l){let c=[];o.length>0&&o.every(f=>f.role!==void 0)?c=o:c.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...ah(l)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fs extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,fs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kS(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function IS(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],kS(o,e)),e}function US(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const l=s(n,["message"]);l!=null&&r(e,["message"],l);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function LS(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const f=s(n,["sizeBytes"]);f!=null&&r(e,["sizeBytes"],f);const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=s(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const S=s(n,["downloadUri"]);S!=null&&r(e,["downloadUri"],S);const C=s(n,["state"]);C!=null&&r(e,["state"],C);const M=s(n,["source"]);M!=null&&r(e,["source"],M);const w=s(n,["videoMetadata"]);w!=null&&r(e,["videoMetadata"],w);const L=s(n,["error"]);return L!=null&&r(e,["error"],US(L)),e}function VS(n){const e={},o=s(n,["file"]);o!=null&&r(e,["file"],LS(o));const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function PS(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","file"],Oh(o));const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function GS(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","file"],Oh(o));const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function qS(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const l=s(n,["message"]);l!=null&&r(e,["message"],l);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function Bu(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const f=s(n,["sizeBytes"]);f!=null&&r(e,["sizeBytes"],f);const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=s(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const S=s(n,["downloadUri"]);S!=null&&r(e,["downloadUri"],S);const C=s(n,["state"]);C!=null&&r(e,["state"],C);const M=s(n,["source"]);M!=null&&r(e,["source"],M);const w=s(n,["videoMetadata"]);w!=null&&r(e,["videoMetadata"],w);const L=s(n,["error"]);return L!=null&&r(e,["error"],qS(L)),e}function HS(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["files"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Bu(m))),r(e,["files"],f)}return e}function zS(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function BS(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OS extends wi{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Vl(Ri.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>Bu(o))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IS(e);return f=te("files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=HS(y),v=new s0;return Object.assign(v,p),v})}}async createInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=VS(e);return f=te("upload/v1beta/files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const p=zS(y),v=new r0;return Object.assign(v,p),v})}}async get(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PS(e);return f=te("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Bu(y))}}async delete(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=GS(e);return f=te("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(()=>{const y=BS(),p=new u0;return Object.assign(p,y),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YS(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function jh(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],YS(o)),e}function FS(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],jh(l)),e}function $S(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>FS(c))),r(e,["speakerVoiceConfigs"],l)}return e}function JS(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],jh(o));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],$S(l));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function KS(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function XS(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function QS(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function ZS(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],KS(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],XS(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],QS(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function WS(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>ZS(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function jS(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const f=s(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function eC(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function tC(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],eC(o)),e}function nC(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function iC(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],nC(o)),e}function oC(){return{}}function lC(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>jS(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],tC(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],iC(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],oC());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function aC(n){const e={},o=s(n,["handle"]);if(o!=null&&r(e,["handle"],o),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function sh(){return{}}function sC(n){const e={},o=s(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=s(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const f=s(n,["prefixPaddingMs"]);f!=null&&r(e,["prefixPaddingMs"],f);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function rC(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],sC(o));const l=s(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function uC(n){const e={},o=s(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function cC(n){const e={},o=s(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=s(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],uC(l)),e}function fC(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function dC(n,e){const o={},l=s(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const f=s(n,["temperature"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","temperature"],f);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const S=s(n,["speechConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","speechConfig"],JS(tc(S)));const C=s(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],C);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],WS(Et(M)));const w=s(n,["tools"]);if(e!==void 0&&w!=null){let B=No(w);Array.isArray(B)&&(B=B.map(re=>lC(Ro(re)))),r(e,["setup","tools"],B)}const L=s(n,["sessionResumption"]);e!==void 0&&L!=null&&r(e,["setup","sessionResumption"],aC(L));const z=s(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&r(e,["setup","inputAudioTranscription"],sh());const Q=s(n,["outputAudioTranscription"]);e!==void 0&&Q!=null&&r(e,["setup","outputAudioTranscription"],sh());const F=s(n,["realtimeInputConfig"]);e!==void 0&&F!=null&&r(e,["setup","realtimeInputConfig"],rC(F));const Y=s(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&r(e,["setup","contextWindowCompression"],cC(Y));const j=s(n,["proactivity"]);return e!==void 0&&j!=null&&r(e,["setup","proactivity"],fC(j)),o}function pC(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["setup","model"],be(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],dC(c,o)),o}function mC(){return{}}function hC(){return{}}function gC(n){const e={},o=s(n,["media"]);o!=null&&r(e,["mediaChunks"],Ph(o));const l=s(n,["audio"]);l!=null&&r(e,["audio"],qh(l));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const f=s(n,["video"]);f!=null&&r(e,["video"],Gh(f));const m=s(n,["text"]);return m!=null&&r(e,["text"],m),s(n,["activityStart"])!=null&&r(e,["activityStart"],mC()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],hC()),e}function eg(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function yC(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>eg(c))),r(e,["weightedPrompts"],l)}return e}function tg(n){const e={},o=s(n,["temperature"]);o!=null&&r(e,["temperature"],o);const l=s(n,["topK"]);l!=null&&r(e,["topK"],l);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const f=s(n,["guidance"]);f!=null&&r(e,["guidance"],f);const m=s(n,["bpm"]);m!=null&&r(e,["bpm"],m);const g=s(n,["density"]);g!=null&&r(e,["density"],g);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=s(n,["scale"]);p!=null&&r(e,["scale"],p);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const S=s(n,["muteDrums"]);S!=null&&r(e,["muteDrums"],S);const C=s(n,["onlyBassAndDrums"]);C!=null&&r(e,["onlyBassAndDrums"],C);const M=s(n,["musicGenerationMode"]);return M!=null&&r(e,["musicGenerationMode"],M),e}function vC(n){const e={},o=s(n,["musicGenerationConfig"]);return o!=null&&r(e,["musicGenerationConfig"],tg(o)),e}function ng(n){const e={},o=s(n,["model"]);return o!=null&&r(e,["model"],o),e}function ig(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>eg(c))),r(e,["weightedPrompts"],l)}return e}function Ou(n){const e={},o=s(n,["setup"]);o!=null&&r(e,["setup"],ng(o));const l=s(n,["clientContent"]);l!=null&&r(e,["clientContent"],ig(l));const c=s(n,["musicGenerationConfig"]);c!=null&&r(e,["musicGenerationConfig"],tg(c));const f=s(n,["playbackControl"]);return f!=null&&r(e,["playbackControl"],f),e}function TC(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function SC(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],TC(o)),e}function CC(n){const e={},o=s(n,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],SC(o)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function EC(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function AC(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function _C(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function xC(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],EC(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],AC(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],_C(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function MC(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>xC(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function RC(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&r(e,["description"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const f=s(n,["parametersJsonSchema"]);f!=null&&r(e,["parametersJsonSchema"],f);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function NC(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function wC(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],NC(o)),e}function bC(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function DC(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],bC(o)),e}function kC(){return{}}function IC(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function UC(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],IC(o));const l=s(n,["authType"]);l!=null&&r(e,["authType"],l);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const f=s(n,["httpBasicAuthConfig"]);f!=null&&r(e,["httpBasicAuthConfig"],f);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function LC(n){const e={},o=s(n,["authConfig"]);return o!=null&&r(e,["authConfig"],UC(o)),e}function VC(){return{}}function PC(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(C=>RC(C))),r(e,["functionDeclarations"],S)}const l=s(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],wC(c));const f=s(n,["googleSearchRetrieval"]);f!=null&&r(e,["googleSearchRetrieval"],DC(f)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],kC());const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],LC(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],VC());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function GC(n){const e={},o=s(n,["handle"]);o!=null&&r(e,["handle"],o);const l=s(n,["transparent"]);return l!=null&&r(e,["transparent"],l),e}function rh(){return{}}function qC(n){const e={},o=s(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=s(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const f=s(n,["prefixPaddingMs"]);f!=null&&r(e,["prefixPaddingMs"],f);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function HC(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],qC(o));const l=s(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function zC(n){const e={},o=s(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function BC(n){const e={},o=s(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=s(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],zC(l)),e}function OC(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function YC(n,e){const o={},l=s(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const f=s(n,["temperature"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","temperature"],f);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const S=s(n,["speechConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","speechConfig"],CC(tc(S)));const C=s(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],C);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],MC(Et(M)));const w=s(n,["tools"]);if(e!==void 0&&w!=null){let B=No(w);Array.isArray(B)&&(B=B.map(re=>PC(Ro(re)))),r(e,["setup","tools"],B)}const L=s(n,["sessionResumption"]);e!==void 0&&L!=null&&r(e,["setup","sessionResumption"],GC(L));const z=s(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&r(e,["setup","inputAudioTranscription"],rh());const Q=s(n,["outputAudioTranscription"]);e!==void 0&&Q!=null&&r(e,["setup","outputAudioTranscription"],rh());const F=s(n,["realtimeInputConfig"]);e!==void 0&&F!=null&&r(e,["setup","realtimeInputConfig"],HC(F));const Y=s(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&r(e,["setup","contextWindowCompression"],BC(Y));const j=s(n,["proactivity"]);return e!==void 0&&j!=null&&r(e,["setup","proactivity"],OC(j)),o}function FC(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["setup","model"],be(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],YC(c,o)),o}function $C(){return{}}function JC(){return{}}function KC(n){const e={},o=s(n,["media"]);o!=null&&r(e,["mediaChunks"],Ph(o));const l=s(n,["audio"]);l!=null&&r(e,["audio"],qh(l));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const f=s(n,["video"]);f!=null&&r(e,["video"],Gh(f));const m=s(n,["text"]);return m!=null&&r(e,["text"],m),s(n,["activityStart"])!=null&&r(e,["activityStart"],$C()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],JC()),e}function XC(){return{}}function QC(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function ZC(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function WC(n){const e={},o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function jC(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],QC(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],ZC(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],WC(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function eE(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>jC(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function uh(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function tE(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function nE(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>tE(c))),r(e,["urlMetadata"],l)}return e}function iE(n){const e={},o=s(n,["modelTurn"]);o!=null&&r(e,["modelTurn"],eE(o));const l=s(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const f=s(n,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const m=s(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const g=s(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],uh(g));const y=s(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],uh(y));const p=s(n,["urlContextMetadata"]);return p!=null&&r(e,["urlContextMetadata"],nE(p)),e}function oE(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const l=s(n,["args"]);l!=null&&r(e,["args"],l);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function lE(n){const e={},o=s(n,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>oE(c))),r(e,["functionCalls"],l)}return e}function aE(n){const e={},o=s(n,["ids"]);return o!=null&&r(e,["ids"],o),e}function Qa(n){const e={},o=s(n,["modality"]);o!=null&&r(e,["modality"],o);const l=s(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function sE(n){const e={},o=s(n,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const l=s(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const c=s(n,["responseTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const f=s(n,["toolUsePromptTokenCount"]);f!=null&&r(e,["toolUsePromptTokenCount"],f);const m=s(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const g=s(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=s(n,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(M=>Qa(M))),r(e,["promptTokensDetails"],C)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(M=>Qa(M))),r(e,["cacheTokensDetails"],C)}const v=s(n,["responseTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(M=>Qa(M))),r(e,["responseTokensDetails"],C)}const S=s(n,["toolUsePromptTokensDetails"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(M=>Qa(M))),r(e,["toolUsePromptTokensDetails"],C)}return e}function rE(n){const e={},o=s(n,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function uE(n){const e={},o=s(n,["newHandle"]);o!=null&&r(e,["newHandle"],o);const l=s(n,["resumable"]);l!=null&&r(e,["resumable"],l);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function cE(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],XC());const l=s(n,["serverContent"]);l!=null&&r(e,["serverContent"],iE(l));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],lE(c));const f=s(n,["toolCallCancellation"]);f!=null&&r(e,["toolCallCancellation"],aE(f));const m=s(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],sE(m));const g=s(n,["goAway"]);g!=null&&r(e,["goAway"],rE(g));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],uE(y)),e}function fE(){return{}}function dE(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function pE(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>dE(c))),r(e,["weightedPrompts"],l)}return e}function mE(n){const e={},o=s(n,["temperature"]);o!=null&&r(e,["temperature"],o);const l=s(n,["topK"]);l!=null&&r(e,["topK"],l);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const f=s(n,["guidance"]);f!=null&&r(e,["guidance"],f);const m=s(n,["bpm"]);m!=null&&r(e,["bpm"],m);const g=s(n,["density"]);g!=null&&r(e,["density"],g);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=s(n,["scale"]);p!=null&&r(e,["scale"],p);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const S=s(n,["muteDrums"]);S!=null&&r(e,["muteDrums"],S);const C=s(n,["onlyBassAndDrums"]);C!=null&&r(e,["onlyBassAndDrums"],C);const M=s(n,["musicGenerationMode"]);return M!=null&&r(e,["musicGenerationMode"],M),e}function hE(n){const e={},o=s(n,["clientContent"]);o!=null&&r(e,["clientContent"],pE(o));const l=s(n,["musicGenerationConfig"]);return l!=null&&r(e,["musicGenerationConfig"],mE(l)),e}function gE(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);l!=null&&r(e,["mimeType"],l);const c=s(n,["sourceMetadata"]);return c!=null&&r(e,["sourceMetadata"],hE(c)),e}function yE(n){const e={},o=s(n,["audioChunks"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>gE(c))),r(e,["audioChunks"],l)}return e}function vE(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["filteredReason"]);return l!=null&&r(e,["filteredReason"],l),e}function TE(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],fE());const l=s(n,["serverContent"]);l!=null&&r(e,["serverContent"],yE(l));const c=s(n,["filteredPrompt"]);return c!=null&&r(e,["filteredPrompt"],vE(c)),e}function SE(n){const e={},o=s(n,["sessionId"]);return o!=null&&r(e,["sessionId"],o),e}function CE(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function EE(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function AE(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function _E(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],CE(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],EE(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],AE(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function xE(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>_E(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function ch(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function ME(n){const e={},o=s(n,["modelTurn"]);o!=null&&r(e,["modelTurn"],xE(o));const l=s(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const f=s(n,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const m=s(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const g=s(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],ch(g));const y=s(n,["outputTranscription"]);return y!=null&&r(e,["outputTranscription"],ch(y)),e}function RE(n){const e={},o=s(n,["args"]);o!=null&&r(e,["args"],o);const l=s(n,["name"]);return l!=null&&r(e,["name"],l),e}function NE(n){const e={},o=s(n,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>RE(c))),r(e,["functionCalls"],l)}return e}function wE(n){const e={},o=s(n,["ids"]);return o!=null&&r(e,["ids"],o),e}function Za(n){const e={},o=s(n,["modality"]);o!=null&&r(e,["modality"],o);const l=s(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function bE(n){const e={},o=s(n,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const l=s(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const c=s(n,["candidatesTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const f=s(n,["toolUsePromptTokenCount"]);f!=null&&r(e,["toolUsePromptTokenCount"],f);const m=s(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const g=s(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=s(n,["promptTokensDetails"]);if(y!=null){let M=y;Array.isArray(M)&&(M=M.map(w=>Za(w))),r(e,["promptTokensDetails"],M)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let M=p;Array.isArray(M)&&(M=M.map(w=>Za(w))),r(e,["cacheTokensDetails"],M)}const v=s(n,["candidatesTokensDetails"]);if(v!=null){let M=v;Array.isArray(M)&&(M=M.map(w=>Za(w))),r(e,["responseTokensDetails"],M)}const S=s(n,["toolUsePromptTokensDetails"]);if(S!=null){let M=S;Array.isArray(M)&&(M=M.map(w=>Za(w))),r(e,["toolUsePromptTokensDetails"],M)}const C=s(n,["trafficType"]);return C!=null&&r(e,["trafficType"],C),e}function DE(n){const e={},o=s(n,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function kE(n){const e={},o=s(n,["newHandle"]);o!=null&&r(e,["newHandle"],o);const l=s(n,["resumable"]);l!=null&&r(e,["resumable"],l);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function IE(n){const e={},o=s(n,["setupComplete"]);o!=null&&r(e,["setupComplete"],SE(o));const l=s(n,["serverContent"]);l!=null&&r(e,["serverContent"],ME(l));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],NE(c));const f=s(n,["toolCallCancellation"]);f!=null&&r(e,["toolCallCancellation"],wE(f));const m=s(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],bE(m));const g=s(n,["goAway"]);g!=null&&r(e,["goAway"],DE(g));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],kE(y)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UE(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function LE(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function VE(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function PE(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],UE(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],LE(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],VE(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function ds(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>PE(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function GE(n){const e={},o=s(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=s(n,["default"]);l!=null&&r(e,["default"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const f=s(n,["enum"]);f!=null&&r(e,["enum"],f);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const S=s(n,["maxProperties"]);S!=null&&r(e,["maxProperties"],S);const C=s(n,["maximum"]);C!=null&&r(e,["maximum"],C);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const w=s(n,["minLength"]);w!=null&&r(e,["minLength"],w);const L=s(n,["minProperties"]);L!=null&&r(e,["minProperties"],L);const z=s(n,["minimum"]);z!=null&&r(e,["minimum"],z);const Q=s(n,["nullable"]);Q!=null&&r(e,["nullable"],Q);const F=s(n,["pattern"]);F!=null&&r(e,["pattern"],F);const Y=s(n,["properties"]);Y!=null&&r(e,["properties"],Y);const j=s(n,["propertyOrdering"]);j!=null&&r(e,["propertyOrdering"],j);const B=s(n,["required"]);B!=null&&r(e,["required"],B);const re=s(n,["title"]);re!=null&&r(e,["title"],re);const W=s(n,["type"]);return W!=null&&r(e,["type"],W),e}function qE(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["category"]);o!=null&&r(e,["category"],o);const l=s(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function HE(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const f=s(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function zE(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function BE(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],zE(o)),e}function OE(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function YE(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],OE(o)),e}function FE(){return{}}function $E(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>HE(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],BE(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],YE(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],FE());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function JE(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function KE(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function XE(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],KE(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function QE(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],JE(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],XE(l)),e}function ZE(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function og(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],ZE(o)),e}function WE(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],og(l)),e}function jE(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>WE(c))),r(e,["speakerVoiceConfigs"],l)}return e}function eA(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],og(o));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],jE(l));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function tA(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=s(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function nA(n,e,o){const l={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],ds(Et(c)));const f=s(e,["temperature"]);f!=null&&r(l,["temperature"],f);const m=s(e,["topP"]);m!=null&&r(l,["topP"],m);const g=s(e,["topK"]);g!=null&&r(l,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(l,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const S=s(e,["responseLogprobs"]);S!=null&&r(l,["responseLogprobs"],S);const C=s(e,["logprobs"]);C!=null&&r(l,["logprobs"],C);const M=s(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const w=s(e,["frequencyPenalty"]);w!=null&&r(l,["frequencyPenalty"],w);const L=s(e,["seed"]);L!=null&&r(l,["seed"],L);const z=s(e,["responseMimeType"]);z!=null&&r(l,["responseMimeType"],z);const Q=s(e,["responseSchema"]);Q!=null&&r(l,["responseSchema"],GE(ju(Q)));const F=s(e,["responseJsonSchema"]);if(F!=null&&r(l,["responseJsonSchema"],F),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=s(e,["safetySettings"]);if(o!==void 0&&Y!=null){let ee=Y;Array.isArray(ee)&&(ee=ee.map(ke=>qE(ke))),r(o,["safetySettings"],ee)}const j=s(e,["tools"]);if(o!==void 0&&j!=null){let ee=No(j);Array.isArray(ee)&&(ee=ee.map(ke=>$E(Ro(ke)))),r(o,["tools"],ee)}const B=s(e,["toolConfig"]);if(o!==void 0&&B!=null&&r(o,["toolConfig"],QE(B)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const re=s(e,["cachedContent"]);o!==void 0&&re!=null&&r(o,["cachedContent"],Un(n,re));const W=s(e,["responseModalities"]);W!=null&&r(l,["responseModalities"],W);const Ee=s(e,["mediaResolution"]);Ee!=null&&r(l,["mediaResolution"],Ee);const ae=s(e,["speechConfig"]);if(ae!=null&&r(l,["speechConfig"],eA(ec(ae))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Se=s(e,["thinkingConfig"]);return Se!=null&&r(l,["thinkingConfig"],tA(Se)),l}function fh(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["contents"]);if(c!=null){let m=en(c);Array.isArray(m)&&(m=m.map(g=>ds(g))),r(o,["contents"],m)}const f=s(e,["config"]);return f!=null&&r(o,["generationConfig"],nA(n,f,o)),o}function iA(n,e){const o={},l=s(n,["taskType"]);e!==void 0&&l!=null&&r(e,["requests[]","taskType"],l);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const f=s(n,["outputDimensionality"]);if(e!==void 0&&f!=null&&r(e,["requests[]","outputDimensionality"],f),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function oA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["contents"]);c!=null&&r(o,["requests[]","content"],zh(n,c));const f=s(e,["config"]);f!=null&&r(o,["config"],iA(f,o));const m=s(e,["model"]);return m!==void 0&&r(o,["requests[]","model"],be(n,m)),o}function lA(n,e){const o={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=s(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=s(n,["aspectRatio"]);e!==void 0&&c!=null&&r(e,["parameters","aspectRatio"],c);const f=s(n,["guidanceScale"]);if(e!==void 0&&f!=null&&r(e,["parameters","guidanceScale"],f),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=s(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&r(e,["parameters","safetySetting"],m);const g=s(n,["personGeneration"]);e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g);const y=s(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&r(e,["parameters","includeSafetyAttributes"],y);const p=s(n,["includeRaiReason"]);e!==void 0&&p!=null&&r(e,["parameters","includeRaiReason"],p);const v=s(n,["language"]);e!==void 0&&v!=null&&r(e,["parameters","language"],v);const S=s(n,["outputMimeType"]);e!==void 0&&S!=null&&r(e,["parameters","outputOptions","mimeType"],S);const C=s(n,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&r(e,["parameters","outputOptions","compressionQuality"],C),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const M=s(n,["imageSize"]);if(e!==void 0&&M!=null&&r(e,["parameters","sampleImageSize"],M),s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function aA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=s(e,["config"]);return f!=null&&r(o,["config"],lA(f,o)),o}function sA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],be(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function rA(n,e,o){const l={},c=s(e,["pageSize"]);o!==void 0&&c!=null&&r(o,["_query","pageSize"],c);const f=s(e,["pageToken"]);o!==void 0&&f!=null&&r(o,["_query","pageToken"],f);const m=s(e,["filter"]);o!==void 0&&m!=null&&r(o,["_query","filter"],m);const g=s(e,["queryBase"]);return o!==void 0&&g!=null&&r(o,["_url","models_url"],Yh(n,g)),l}function uA(n,e){const o={},l=s(e,["config"]);return l!=null&&r(o,["config"],rA(n,l,o)),o}function cA(n,e){const o={},l=s(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const f=s(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&r(e,["defaultCheckpointId"],f),o}function fA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],be(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],cA(c,o)),o}function dA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],be(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function pA(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function mA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["contents"]);if(c!=null){let m=en(c);Array.isArray(m)&&(m=m.map(g=>ds(g))),r(o,["contents"],m)}const f=s(e,["config"]);return f!=null&&r(o,["config"],pA(f)),o}function hA(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(n,["imageBytes"]);o!=null&&r(e,["bytesBase64Encoded"],bi(o));const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function gA(n,e){const o={},l=s(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=s(n,["durationSeconds"]);if(e!==void 0&&c!=null&&r(e,["parameters","durationSeconds"],c),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=s(n,["aspectRatio"]);if(e!==void 0&&f!=null&&r(e,["parameters","aspectRatio"],f),s(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const m=s(n,["personGeneration"]);if(e!==void 0&&m!=null&&r(e,["parameters","personGeneration"],m),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=s(n,["negativePrompt"]);e!==void 0&&g!=null&&r(e,["parameters","negativePrompt"],g);const y=s(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&r(e,["parameters","enhancePrompt"],y),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function yA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=s(e,["image"]);if(f!=null&&r(o,["instances[0]","image"],hA(f)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=s(e,["config"]);return m!=null&&r(o,["config"],gA(m,o)),o}function vA(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function TA(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function SA(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function CA(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],vA(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],TA(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],SA(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function bo(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>CA(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function EA(n){const e={},o=s(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=s(n,["default"]);l!=null&&r(e,["default"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const f=s(n,["enum"]);f!=null&&r(e,["enum"],f);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const S=s(n,["maxProperties"]);S!=null&&r(e,["maxProperties"],S);const C=s(n,["maximum"]);C!=null&&r(e,["maximum"],C);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const w=s(n,["minLength"]);w!=null&&r(e,["minLength"],w);const L=s(n,["minProperties"]);L!=null&&r(e,["minProperties"],L);const z=s(n,["minimum"]);z!=null&&r(e,["minimum"],z);const Q=s(n,["nullable"]);Q!=null&&r(e,["nullable"],Q);const F=s(n,["pattern"]);F!=null&&r(e,["pattern"],F);const Y=s(n,["properties"]);Y!=null&&r(e,["properties"],Y);const j=s(n,["propertyOrdering"]);j!=null&&r(e,["propertyOrdering"],j);const B=s(n,["required"]);B!=null&&r(e,["required"],B);const re=s(n,["title"]);re!=null&&r(e,["title"],re);const W=s(n,["type"]);return W!=null&&r(e,["type"],W),e}function AA(n){const e={},o=s(n,["featureSelectionPreference"]);return o!=null&&r(e,["featureSelectionPreference"],o),e}function _A(n){const e={},o=s(n,["method"]);o!=null&&r(e,["method"],o);const l=s(n,["category"]);l!=null&&r(e,["category"],l);const c=s(n,["threshold"]);return c!=null&&r(e,["threshold"],c),e}function xA(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&r(e,["description"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const f=s(n,["parametersJsonSchema"]);f!=null&&r(e,["parametersJsonSchema"],f);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function MA(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function RA(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],MA(o)),e}function NA(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function wA(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],NA(o)),e}function bA(){return{}}function DA(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function kA(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],DA(o));const l=s(n,["authType"]);l!=null&&r(e,["authType"],l);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const f=s(n,["httpBasicAuthConfig"]);f!=null&&r(e,["httpBasicAuthConfig"],f);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function IA(n){const e={},o=s(n,["authConfig"]);return o!=null&&r(e,["authConfig"],kA(o)),e}function UA(){return{}}function lg(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(C=>xA(C))),r(e,["functionDeclarations"],S)}const l=s(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],RA(c));const f=s(n,["googleSearchRetrieval"]);f!=null&&r(e,["googleSearchRetrieval"],wA(f)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],bA());const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],IA(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],UA());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function LA(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function VA(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function PA(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],VA(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function GA(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],LA(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],PA(l)),e}function qA(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function HA(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],qA(o)),e}function zA(n){const e={},o=s(n,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],HA(o)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function BA(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=s(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function OA(n,e,o){const l={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],bo(Et(c)));const f=s(e,["temperature"]);f!=null&&r(l,["temperature"],f);const m=s(e,["topP"]);m!=null&&r(l,["topP"],m);const g=s(e,["topK"]);g!=null&&r(l,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(l,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const S=s(e,["responseLogprobs"]);S!=null&&r(l,["responseLogprobs"],S);const C=s(e,["logprobs"]);C!=null&&r(l,["logprobs"],C);const M=s(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const w=s(e,["frequencyPenalty"]);w!=null&&r(l,["frequencyPenalty"],w);const L=s(e,["seed"]);L!=null&&r(l,["seed"],L);const z=s(e,["responseMimeType"]);z!=null&&r(l,["responseMimeType"],z);const Q=s(e,["responseSchema"]);Q!=null&&r(l,["responseSchema"],EA(ju(Q)));const F=s(e,["responseJsonSchema"]);F!=null&&r(l,["responseJsonSchema"],F);const Y=s(e,["routingConfig"]);Y!=null&&r(l,["routingConfig"],Y);const j=s(e,["modelSelectionConfig"]);j!=null&&r(l,["modelConfig"],AA(j));const B=s(e,["safetySettings"]);if(o!==void 0&&B!=null){let Ie=B;Array.isArray(Ie)&&(Ie=Ie.map(U=>_A(U))),r(o,["safetySettings"],Ie)}const re=s(e,["tools"]);if(o!==void 0&&re!=null){let Ie=No(re);Array.isArray(Ie)&&(Ie=Ie.map(U=>lg(Ro(U)))),r(o,["tools"],Ie)}const W=s(e,["toolConfig"]);o!==void 0&&W!=null&&r(o,["toolConfig"],GA(W));const Ee=s(e,["labels"]);o!==void 0&&Ee!=null&&r(o,["labels"],Ee);const ae=s(e,["cachedContent"]);o!==void 0&&ae!=null&&r(o,["cachedContent"],Un(n,ae));const Se=s(e,["responseModalities"]);Se!=null&&r(l,["responseModalities"],Se);const ee=s(e,["mediaResolution"]);ee!=null&&r(l,["mediaResolution"],ee);const ke=s(e,["speechConfig"]);ke!=null&&r(l,["speechConfig"],zA(ec(ke)));const Ut=s(e,["audioTimestamp"]);Ut!=null&&r(l,["audioTimestamp"],Ut);const pt=s(e,["thinkingConfig"]);return pt!=null&&r(l,["thinkingConfig"],BA(pt)),l}function dh(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["contents"]);if(c!=null){let m=en(c);Array.isArray(m)&&(m=m.map(g=>bo(g))),r(o,["contents"],m)}const f=s(e,["config"]);return f!=null&&r(o,["generationConfig"],OA(n,f,o)),o}function YA(n,e){const o={},l=s(n,["taskType"]);e!==void 0&&l!=null&&r(e,["instances[]","task_type"],l);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["instances[]","title"],c);const f=s(n,["outputDimensionality"]);e!==void 0&&f!=null&&r(e,["parameters","outputDimensionality"],f);const m=s(n,["mimeType"]);e!==void 0&&m!=null&&r(e,["instances[]","mimeType"],m);const g=s(n,["autoTruncate"]);return e!==void 0&&g!=null&&r(e,["parameters","autoTruncate"],g),o}function FA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["contents"]);c!=null&&r(o,["instances[]","content"],zh(n,c));const f=s(e,["config"]);return f!=null&&r(o,["config"],YA(f,o)),o}function $A(n,e){const o={},l=s(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const f=s(n,["numberOfImages"]);e!==void 0&&f!=null&&r(e,["parameters","sampleCount"],f);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const g=s(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const S=s(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&r(e,["parameters","includeSafetyAttributes"],S);const C=s(n,["includeRaiReason"]);e!==void 0&&C!=null&&r(e,["parameters","includeRaiReason"],C);const M=s(n,["language"]);e!==void 0&&M!=null&&r(e,["parameters","language"],M);const w=s(n,["outputMimeType"]);e!==void 0&&w!=null&&r(e,["parameters","outputOptions","mimeType"],w);const L=s(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&r(e,["parameters","outputOptions","compressionQuality"],L);const z=s(n,["addWatermark"]);e!==void 0&&z!=null&&r(e,["parameters","addWatermark"],z);const Q=s(n,["imageSize"]);e!==void 0&&Q!=null&&r(e,["parameters","sampleImageSize"],Q);const F=s(n,["enhancePrompt"]);return e!==void 0&&F!=null&&r(e,["parameters","enhancePrompt"],F),o}function JA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=s(e,["config"]);return f!=null&&r(o,["config"],$A(f,o)),o}function Do(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const l=s(n,["imageBytes"]);l!=null&&r(e,["bytesBase64Encoded"],bi(l));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function KA(n){const e={},o=s(n,["maskMode"]);o!=null&&r(e,["maskMode"],o);const l=s(n,["segmentationClasses"]);l!=null&&r(e,["maskClasses"],l);const c=s(n,["maskDilation"]);return c!=null&&r(e,["dilation"],c),e}function XA(n){const e={},o=s(n,["controlType"]);o!=null&&r(e,["controlType"],o);const l=s(n,["enableControlImageComputation"]);return l!=null&&r(e,["computeControl"],l),e}function QA(n){const e={},o=s(n,["styleDescription"]);return o!=null&&r(e,["styleDescription"],o),e}function ZA(n){const e={},o=s(n,["subjectType"]);o!=null&&r(e,["subjectType"],o);const l=s(n,["subjectDescription"]);return l!=null&&r(e,["subjectDescription"],l),e}function WA(n){const e={},o=s(n,["referenceImage"]);o!=null&&r(e,["referenceImage"],Do(o));const l=s(n,["referenceId"]);l!=null&&r(e,["referenceId"],l);const c=s(n,["referenceType"]);c!=null&&r(e,["referenceType"],c);const f=s(n,["maskImageConfig"]);f!=null&&r(e,["maskImageConfig"],KA(f));const m=s(n,["controlImageConfig"]);m!=null&&r(e,["controlImageConfig"],XA(m));const g=s(n,["styleImageConfig"]);g!=null&&r(e,["styleImageConfig"],QA(g));const y=s(n,["subjectImageConfig"]);return y!=null&&r(e,["subjectImageConfig"],ZA(y)),e}function jA(n,e){const o={},l=s(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const f=s(n,["numberOfImages"]);e!==void 0&&f!=null&&r(e,["parameters","sampleCount"],f);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const g=s(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const S=s(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&r(e,["parameters","includeSafetyAttributes"],S);const C=s(n,["includeRaiReason"]);e!==void 0&&C!=null&&r(e,["parameters","includeRaiReason"],C);const M=s(n,["language"]);e!==void 0&&M!=null&&r(e,["parameters","language"],M);const w=s(n,["outputMimeType"]);e!==void 0&&w!=null&&r(e,["parameters","outputOptions","mimeType"],w);const L=s(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&r(e,["parameters","outputOptions","compressionQuality"],L);const z=s(n,["addWatermark"]);e!==void 0&&z!=null&&r(e,["parameters","addWatermark"],z);const Q=s(n,["editMode"]);e!==void 0&&Q!=null&&r(e,["parameters","editMode"],Q);const F=s(n,["baseSteps"]);return e!==void 0&&F!=null&&r(e,["parameters","editConfig","baseSteps"],F),o}function e_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=s(e,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>WA(y))),r(o,["instances[0]","referenceImages"],g)}const m=s(e,["config"]);return m!=null&&r(o,["config"],jA(m,o)),o}function t_(n,e){const o={},l=s(n,["includeRaiReason"]);e!==void 0&&l!=null&&r(e,["parameters","includeRaiReason"],l);const c=s(n,["outputMimeType"]);e!==void 0&&c!=null&&r(e,["parameters","outputOptions","mimeType"],c);const f=s(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&r(e,["parameters","outputOptions","compressionQuality"],f);const m=s(n,["enhanceInputImage"]);e!==void 0&&m!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],m);const g=s(n,["imagePreservationFactor"]);e!==void 0&&g!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const y=s(n,["numberOfImages"]);e!==void 0&&y!=null&&r(e,["parameters","sampleCount"],y);const p=s(n,["mode"]);return e!==void 0&&p!=null&&r(e,["parameters","mode"],p),o}function n_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["image"]);c!=null&&r(o,["instances[0]","image"],Do(c));const f=s(e,["upscaleFactor"]);f!=null&&r(o,["parameters","upscaleConfig","upscaleFactor"],f);const m=s(e,["config"]);return m!=null&&r(o,["config"],t_(m,o)),o}function i_(n){const e={},o=s(n,["productImage"]);return o!=null&&r(e,["image"],Do(o)),e}function o_(n,e){const o={},l=s(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const c=s(n,["personImage"]);e!==void 0&&c!=null&&r(e,["instances[0]","personImage","image"],Do(c));const f=s(n,["productImages"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>i_(g))),r(e,["instances[0]","productImages"],m)}return o}function l_(n,e){const o={},l=s(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=s(n,["baseSteps"]);e!==void 0&&c!=null&&r(e,["parameters","editConfig","baseSteps"],c);const f=s(n,["outputGcsUri"]);e!==void 0&&f!=null&&r(e,["parameters","storageUri"],f);const m=s(n,["seed"]);e!==void 0&&m!=null&&r(e,["parameters","seed"],m);const g=s(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&r(e,["parameters","safetySetting"],g);const y=s(n,["personGeneration"]);e!==void 0&&y!=null&&r(e,["parameters","personGeneration"],y);const p=s(n,["outputMimeType"]);e!==void 0&&p!=null&&r(e,["parameters","outputOptions","mimeType"],p);const v=s(n,["outputCompressionQuality"]);e!==void 0&&v!=null&&r(e,["parameters","outputOptions","compressionQuality"],v);const S=s(n,["enhancePrompt"]);return e!==void 0&&S!=null&&r(e,["parameters","enhancePrompt"],S),o}function a_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["source"]);c!=null&&r(o,["config"],o_(c,o));const f=s(e,["config"]);return f!=null&&r(o,["config"],l_(f,o)),o}function s_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],be(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function r_(n,e,o){const l={},c=s(e,["pageSize"]);o!==void 0&&c!=null&&r(o,["_query","pageSize"],c);const f=s(e,["pageToken"]);o!==void 0&&f!=null&&r(o,["_query","pageToken"],f);const m=s(e,["filter"]);o!==void 0&&m!=null&&r(o,["_query","filter"],m);const g=s(e,["queryBase"]);return o!==void 0&&g!=null&&r(o,["_url","models_url"],Yh(n,g)),l}function u_(n,e){const o={},l=s(e,["config"]);return l!=null&&r(o,["config"],r_(n,l,o)),o}function c_(n,e){const o={},l=s(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const f=s(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&r(e,["defaultCheckpointId"],f),o}function f_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c_(c,o)),o}function d_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],be(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function p_(n,e){const o={},l=s(n,["systemInstruction"]);e!==void 0&&l!=null&&r(e,["systemInstruction"],bo(Et(l)));const c=s(n,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>lg(g))),r(e,["tools"],m)}const f=s(n,["generationConfig"]);return e!==void 0&&f!=null&&r(e,["generationConfig"],f),o}function m_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["contents"]);if(c!=null){let m=en(c);Array.isArray(m)&&(m=m.map(g=>bo(g))),r(o,["contents"],m)}const f=s(e,["config"]);return f!=null&&r(o,["config"],p_(f,o)),o}function h_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["contents"]);if(c!=null){let m=en(c);Array.isArray(m)&&(m=m.map(g=>bo(g))),r(o,["contents"],m)}const f=s(e,["config"]);return f!=null&&r(o,["config"],f),o}function g_(n){const e={},o=s(n,["uri"]);o!=null&&r(e,["gcsUri"],o);const l=s(n,["videoBytes"]);l!=null&&r(e,["bytesBase64Encoded"],bi(l));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function y_(n,e){const o={},l=s(n,["numberOfVideos"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=s(n,["outputGcsUri"]);e!==void 0&&c!=null&&r(e,["parameters","storageUri"],c);const f=s(n,["fps"]);e!==void 0&&f!=null&&r(e,["parameters","fps"],f);const m=s(n,["durationSeconds"]);e!==void 0&&m!=null&&r(e,["parameters","durationSeconds"],m);const g=s(n,["seed"]);e!==void 0&&g!=null&&r(e,["parameters","seed"],g);const y=s(n,["aspectRatio"]);e!==void 0&&y!=null&&r(e,["parameters","aspectRatio"],y);const p=s(n,["resolution"]);e!==void 0&&p!=null&&r(e,["parameters","resolution"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const S=s(n,["pubsubTopic"]);e!==void 0&&S!=null&&r(e,["parameters","pubsubTopic"],S);const C=s(n,["negativePrompt"]);e!==void 0&&C!=null&&r(e,["parameters","negativePrompt"],C);const M=s(n,["enhancePrompt"]);e!==void 0&&M!=null&&r(e,["parameters","enhancePrompt"],M);const w=s(n,["generateAudio"]);e!==void 0&&w!=null&&r(e,["parameters","generateAudio"],w);const L=s(n,["lastFrame"]);e!==void 0&&L!=null&&r(e,["instances[0]","lastFrame"],Do(L));const z=s(n,["compressionQuality"]);return e!==void 0&&z!=null&&r(e,["parameters","compressionQuality"],z),o}function v_(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],be(n,l));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=s(e,["image"]);f!=null&&r(o,["instances[0]","image"],Do(f));const m=s(e,["video"]);m!=null&&r(o,["instances[0]","video"],g_(m));const g=s(e,["config"]);return g!=null&&r(o,["config"],y_(g,o)),o}function T_(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function S_(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function C_(n){const e={},o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function E_(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],T_(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],S_(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],C_(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function A_(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>E_(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function __(n){const e={},o=s(n,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function x_(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function M_(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>x_(c))),r(e,["urlMetadata"],l)}return e}function R_(n){const e={},o=s(n,["content"]);o!=null&&r(e,["content"],A_(o));const l=s(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],__(l));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const f=s(n,["finishReason"]);f!=null&&r(e,["finishReason"],f);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],M_(m));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const S=s(n,["safetyRatings"]);return S!=null&&r(e,["safetyRatings"],S),e}function ph(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>R_(p))),r(e,["candidates"],y)}const c=s(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const f=s(n,["promptFeedback"]);f!=null&&r(e,["promptFeedback"],f);const m=s(n,["responseId"]);m!=null&&r(e,["responseId"],m);const g=s(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function N_(n){const e={},o=s(n,["values"]);return o!=null&&r(e,["values"],o),e}function w_(){return{}}function b_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["embeddings"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>N_(m))),r(e,["embeddings"],f)}return s(n,["metadata"])!=null&&r(e,["metadata"],w_()),e}function D_(n){const e={},o=s(n,["bytesBase64Encoded"]);o!=null&&r(e,["imageBytes"],bi(o));const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function ag(n){const e={},o=s(n,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const l=s(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function k_(n){const e={},o=s(n,["_self"]);o!=null&&r(e,["image"],D_(o));const l=s(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const c=s(n,["_self"]);return c!=null&&r(e,["safetyAttributes"],ag(c)),e}function I_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>k_(m))),r(e,["generatedImages"],f)}const c=s(n,["positivePromptSafetyAttributes"]);return c!=null&&r(e,["positivePromptSafetyAttributes"],ag(c)),e}function U_(n){const e={},o=s(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=s(n,["createTime"]);l!=null&&r(e,["createTime"],l);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function Yu(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const f=s(n,["version"]);f!=null&&r(e,["version"],f);const m=s(n,["_self"]);m!=null&&r(e,["tunedModelInfo"],U_(m));const g=s(n,["inputTokenLimit"]);g!=null&&r(e,["inputTokenLimit"],g);const y=s(n,["outputTokenLimit"]);y!=null&&r(e,["outputTokenLimit"],y);const p=s(n,["supportedGenerationMethods"]);return p!=null&&r(e,["supportedActions"],p),e}function L_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["_self"]);if(c!=null){let f=Fh(c);Array.isArray(f)&&(f=f.map(m=>Yu(m))),r(e,["models"],f)}return e}function V_(){return{}}function P_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["totalTokens"]);l!=null&&r(e,["totalTokens"],l);const c=s(n,["cachedContentTokenCount"]);return c!=null&&r(e,["cachedContentTokenCount"],c),e}function G_(n){const e={},o=s(n,["video","uri"]);o!=null&&r(e,["uri"],o);const l=s(n,["video","encodedVideo"]);l!=null&&r(e,["videoBytes"],bi(l));const c=s(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function q_(n){const e={},o=s(n,["_self"]);return o!=null&&r(e,["video"],G_(o)),e}function H_(n){const e={},o=s(n,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>q_(m))),r(e,["generatedVideos"],f)}const l=s(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function z_(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const f=s(n,["error"]);f!=null&&r(e,["error"],f);const m=s(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],H_(m)),e}function B_(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function O_(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Y_(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function F_(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],B_(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],O_(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],Y_(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function $_(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>F_(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function J_(n){const e={},o=s(n,["citations"]);return o!=null&&r(e,["citations"],o),e}function K_(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function X_(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>K_(c))),r(e,["urlMetadata"],l)}return e}function Q_(n){const e={},o=s(n,["content"]);o!=null&&r(e,["content"],$_(o));const l=s(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],J_(l));const c=s(n,["finishMessage"]);c!=null&&r(e,["finishMessage"],c);const f=s(n,["finishReason"]);f!=null&&r(e,["finishReason"],f);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],X_(m));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const S=s(n,["safetyRatings"]);return S!=null&&r(e,["safetyRatings"],S),e}function mh(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["candidates"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>Q_(v))),r(e,["candidates"],p)}const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const f=s(n,["modelVersion"]);f!=null&&r(e,["modelVersion"],f);const m=s(n,["promptFeedback"]);m!=null&&r(e,["promptFeedback"],m);const g=s(n,["responseId"]);g!=null&&r(e,["responseId"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function Z_(n){const e={},o=s(n,["truncated"]);o!=null&&r(e,["truncated"],o);const l=s(n,["token_count"]);return l!=null&&r(e,["tokenCount"],l),e}function W_(n){const e={},o=s(n,["values"]);o!=null&&r(e,["values"],o);const l=s(n,["statistics"]);return l!=null&&r(e,["statistics"],Z_(l)),e}function j_(n){const e={},o=s(n,["billableCharacterCount"]);return o!=null&&r(e,["billableCharacterCount"],o),e}function ex(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions[]","embeddings"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>W_(m))),r(e,["embeddings"],f)}const c=s(n,["metadata"]);return c!=null&&r(e,["metadata"],j_(c)),e}function tx(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const l=s(n,["bytesBase64Encoded"]);l!=null&&r(e,["imageBytes"],bi(l));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function sg(n){const e={},o=s(n,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const l=s(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function ps(n){const e={},o=s(n,["_self"]);o!=null&&r(e,["image"],tx(o));const l=s(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const c=s(n,["_self"]);c!=null&&r(e,["safetyAttributes"],sg(c));const f=s(n,["prompt"]);return f!=null&&r(e,["enhancedPrompt"],f),e}function nx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>ps(m))),r(e,["generatedImages"],f)}const c=s(n,["positivePromptSafetyAttributes"]);return c!=null&&r(e,["positivePromptSafetyAttributes"],sg(c)),e}function ix(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>ps(f))),r(e,["generatedImages"],c)}return e}function ox(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>ps(f))),r(e,["generatedImages"],c)}return e}function lx(n){const e={},o=s(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>ps(c))),r(e,["generatedImages"],l)}return e}function ax(n){const e={},o=s(n,["endpoint"]);o!=null&&r(e,["name"],o);const l=s(n,["deployedModelId"]);return l!=null&&r(e,["deployedModelId"],l),e}function sx(n){const e={},o=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&r(e,["baseModel"],o);const l=s(n,["createTime"]);l!=null&&r(e,["createTime"],l);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function rx(n){const e={},o=s(n,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const l=s(n,["epoch"]);l!=null&&r(e,["epoch"],l);const c=s(n,["step"]);return c!=null&&r(e,["step"],c),e}function Fu(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const f=s(n,["versionId"]);f!=null&&r(e,["version"],f);const m=s(n,["deployedModels"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(C=>ax(C))),r(e,["endpoints"],S)}const g=s(n,["labels"]);g!=null&&r(e,["labels"],g);const y=s(n,["_self"]);y!=null&&r(e,["tunedModelInfo"],sx(y));const p=s(n,["defaultCheckpointId"]);p!=null&&r(e,["defaultCheckpointId"],p);const v=s(n,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(C=>rx(C))),r(e,["checkpoints"],S)}return e}function ux(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["_self"]);if(c!=null){let f=Fh(c);Array.isArray(f)&&(f=f.map(m=>Fu(m))),r(e,["models"],f)}return e}function cx(){return{}}function fx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["totalTokens"]);return l!=null&&r(e,["totalTokens"],l),e}function dx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["tokensInfo"]);return l!=null&&r(e,["tokensInfo"],l),e}function px(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["uri"],o);const l=s(n,["bytesBase64Encoded"]);l!=null&&r(e,["videoBytes"],bi(l));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function mx(n){const e={},o=s(n,["_self"]);return o!=null&&r(e,["video"],px(o)),e}function hx(n){const e={},o=s(n,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>mx(m))),r(e,["generatedVideos"],f)}const l=s(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function gx(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const f=s(n,["error"]);f!=null&&r(e,["error"],f);const m=s(n,["response"]);return m!=null&&r(e,["response"],hx(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yx="Content-Type",vx="X-Server-Timeout",Tx="User-Agent",$u="x-goog-api-client",Sx="1.13.0",Cx=`google-genai-sdk/${Sx}`,Ex="v1beta1",Ax="v1beta",hh=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class _x{constructor(e){var o,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Ex,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:Ax,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,l){const c=[this.getRequestUrlInternal(o)];return l&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,l);if(e.queryParams)for(const[m,g]of Object.entries(e.queryParams))c.searchParams.append(m,String(g));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,e.abortSignal),this.unaryApiCall(c,f,e.httpMethod)}patchHttpOptions(e,o){const l=JSON.parse(JSON.stringify(e));for(const[c,f]of Object.entries(o))typeof f=="object"?l[c]=Object.assign(Object.assign({},l[c]),f):f!==void 0&&(l[c]=f);return l}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,l);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,e.abortSignal),this.streamApiCall(c,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,l){if(o&&o.timeout||l){const c=new AbortController,f=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const m=setTimeout(()=>c.abort(),o.timeout);m&&typeof m.unref=="function"&&m.unref()}l&&l.addEventListener("abort",()=>{c.abort()}),e.signal=f}return o&&o.extraBody!==null&&xx(e,o.extraBody),e.headers=await this.getHeadersInternal(o),e}async unaryApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async c=>(await gh(c),new Gu(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async c=>(await gh(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var o;return xo(this,arguments,function*(){const c=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),f=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield $e(c.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=f.decode(y,{stream:!0});try{const S=JSON.parse(p);if("error"in S){const C=JSON.parse(JSON.stringify(S.error)),M=C.status,w=C.code,L=`got status: ${M}. ${JSON.stringify(S)}`;if(w>=400&&w<600)throw new fs({message:L,status:w})}}catch(S){if(S.name==="ApiError")throw S}m+=p;let v=m.match(hh);for(;v;){const S=v[1];try{const C=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield $e(new Gu(C)),m=m.slice(v[0].length),v=m.match(hh)}catch(C){throw new Error(`exception parsing stream chunk ${S}. ${C}`)}}}}finally{c.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},o=Cx+" "+this.clientOptions.userAgentExtra;return e[Tx]=o,e[$u]=o,e[yx]="application/json",e}async getHeadersInternal(e){const o=new Headers;if(e&&e.headers){for(const[l,c]of Object.entries(e.headers))o.append(l,c);e.timeout&&e.timeout>0&&o.append(vx,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o),o}async uploadFile(e,o){var l;const c={};o!=null&&(c.mimeType=o.mimeType,c.name=o.name,c.displayName=o.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const f=this.clientOptions.uploader,m=await f.stat(e);c.sizeBytes=String(m.size);const g=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=g;const y=await this.fetchUploadUrl(c,o);return f.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o){var l;let c={};o!=null&&o.httpOptions?c=o.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const f={file:e},m=await this.request({path:te("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:c});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(l=m==null?void 0:m.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function gh(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const c=JSON.stringify(l);throw o>=400&&o<600?new fs({message:c,status:o}):new Error(c)}}function xx(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const f=JSON.parse(n.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(f,m){const g=Object.assign({},f);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const p=m[y],v=g[y];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=l(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),g[y]=p)}return g}const c=l(o,e);n.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mx="mcp_used/unknown";let Rx=!1;function rg(n){for(const e of n)if(Nx(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Rx}function ug(n){var e;const o=(e=n[$u])!==null&&e!==void 0?e:"";n[$u]=(o+` ${Mx}`).trimStart()}function Nx(n){return n!==null&&typeof n=="object"&&n instanceof nc}function wx(n,e=100){return xo(this,arguments,function*(){let l,c=0;for(;c<e;){const f=yield $e(n.listTools({cursor:l}));for(const m of f.tools)yield yield $e(m),c++;if(!f.nextCursor)break;l=f.nextCursor}})}class nc{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new nc(e,o)}async initialize(){var e,o,l,c;if(this.mcpTools.length>0)return;const f={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,Ul(wx(v))),p;p=await y.next(),e=p.done,!e;g=!0){c=p.value,g=!1;const S=c;m.push(S);const C=S.name;if(f[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);f[C]=v}}catch(S){o={error:S}}finally{try{!g&&!e&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),T0(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[l.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const m=await c.callTool({name:l.name,arguments:l.args},void 0,f);o.push({functionResponse:{name:l.name,response:m.isError?{error:m}:m}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bx(n,e,o){const l=new f0;let c;o.data instanceof Blob?c=JSON.parse(await o.data.text()):c=JSON.parse(o.data);const f=TE(c);Object.assign(l,f),e(l)}class Dx{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l}async connect(e){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),m=Ux(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let p=()=>{};const v=new Promise(Y=>{p=Y}),S=e.callbacks,C=function(){p({})},M=this.apiClient,w={onopen:C,onmessage:Y=>{bx(M,S.onmessage,Y)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(Y){},onclose:(l=S==null?void 0:S.onclose)!==null&&l!==void 0?l:function(Y){}},L=this.webSocketFactory.create(y,Ix(m),w);L.connect(),await v;const z=be(this.apiClient,e.model),Q=ng({model:z}),F=Ou({setup:Q});return L.send(JSON.stringify(F)),new kx(L,this.apiClient)}}class kx{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=yC(e),l=ig(o);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=vC(e),l=Ou(o);this.conn.send(JSON.stringify(l))}sendPlaybackControl(e){const o=Ou({playbackControl:e});this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Ao.PLAY)}pause(){this.sendPlaybackControl(Ao.PAUSE)}stop(){this.sendPlaybackControl(Ao.STOP)}resetContext(){this.sendPlaybackControl(Ao.RESET_CONTEXT)}close(){this.conn.close()}}function Ix(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function Ux(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lx="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Vx(n,e,o){const l=new c0;let c;o.data instanceof Blob?c=await o.data.text():o.data instanceof ArrayBuffer?c=new TextDecoder().decode(o.data):c=o.data;const f=JSON.parse(c);if(n.isVertexAI()){const m=IE(f);Object.assign(l,m)}else{const m=cE(f);Object.assign(l,m)}e(l)}class Px{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l,this.music=new Dx(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,l,c,f,m,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&rg(e.config.tools)&&ug(S);const C=zx(S);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C);else{const ae=this.apiClient.getApiKey();let Se="BidiGenerateContent",ee="key";ae!=null&&ae.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Se="BidiGenerateContentConstrained",ee="access_token"),v=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${Se}?${ee}=${ae}`}let M=()=>{};const w=new Promise(ae=>{M=ae}),L=e.callbacks,z=function(){var ae;(ae=L==null?void 0:L.onopen)===null||ae===void 0||ae.call(L),M({})},Q=this.apiClient,F={onopen:z,onmessage:ae=>{Vx(Q,L.onmessage,ae)},onerror:(o=L==null?void 0:L.onerror)!==null&&o!==void 0?o:function(ae){},onclose:(l=L==null?void 0:L.onclose)!==null&&l!==void 0?l:function(ae){}},Y=this.webSocketFactory.create(v,Hx(C),F);Y.connect(),await w;let j=be(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&j.startsWith("publishers/")){const ae=this.apiClient.getProject(),Se=this.apiClient.getLocation();j=`projects/${ae}/locations/${Se}/`+j}let B={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ls.AUDIO]}:e.config.responseModalities=[ls.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const re=(g=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],W=[];for(const ae of re)if(this.isCallableTool(ae)){const Se=ae;W.push(await Se.tool())}else W.push(ae);W.length>0&&(e.config.tools=W);const Ee={model:j,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?B=FC(this.apiClient,Ee):B=pC(this.apiClient,Ee),delete B.config,Y.send(JSON.stringify(B)),new qx(Y,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Gx={turnComplete:!0};class qx{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=en(o.turns),e.isVertexAI()?l=l.map(c=>bo(c)):l=l.map(c=>ds(c))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const f of l){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(Lx)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},Gx),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:KC(e)}:o={realtimeInput:gC(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function Hx(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function zx(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yh=10;function vh(n){var e,o,l;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const m of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(Mo(m)){c=!0;break}if(!c)return!0;const f=(l=n==null?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function Mo(n){return"callTool"in n&&typeof n.callTool=="function"}function Bx(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>Mo(c)))!==null&&l!==void 0?l:!1}function Ox(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>!Mo(c)))!==null&&l!==void 0?l:!1}function Th(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yx extends wi{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var l,c,f,m,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!Bx(o)||vh(o.config))return await this.generateContentInternal(y);if(Ox(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const S=en(y.contents),C=(f=(c=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&f!==void 0?f:yh;let M=0;for(;M<C&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const w=p.candidates[0].content,L=[];for(const z of(g=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(Mo(z)){const F=await z.callTool(p.functionCalls);L.push(...F)}M++,v={role:"user",parts:L},y.contents=en(y.contents),y.contents.push(w),y.contents.push(v),Th(y.config)&&(S.push(w),S.push(v))}return Th(y.config)&&(p.automaticFunctionCallingHistory=S),p},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),vh(o.config)){const l=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(l)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var c;let f;const m=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((c=y==null?void 0:y.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:m.push(y);let g;return f?g={generatedImages:m,positivePromptSafetyAttributes:f,sdkHttpResponse:l.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:l.sdkHttpResponse},g}),this.list=async o=>{var l;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((l=m.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Vl(Ri.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const c={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(c)},this.generateVideos=async o=>await this.generateVideosInternal(o)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,l,c;const f=(o=e.config)===null||o===void 0?void 0:o.tools;if(!f)return e;const m=await Promise.all(f.map(async y=>Mo(y)?await y.tool():y)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(g.config.tools=m,e.config&&e.config.tools&&rg(e.config.tools)){const y=(c=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&c!==void 0?c:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),ug(p),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return g}async initAfcToolsMap(e){var o,l,c;const f=new Map;for(const m of(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(Mo(m)){const g=m,y=await g.tool();for(const p of(c=y.functionDeclarations)!==null&&c!==void 0?c:[]){if(!p.name)throw new Error("Function declaration name is required.");if(f.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);f.set(p.name,g)}}return f}async processAfcStream(e){var o,l,c;const f=(c=(l=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&c!==void 0?c:yh;let m=!1,g=0;const y=await this.initAfcToolsMap(e);return function(p,v,S){var C,M;return xo(this,arguments,function*(){for(var w,L,z,Q;g<f;){m&&(g++,m=!1);const B=yield $e(p.processParamsMaybeAddMcpUsage(S)),re=yield $e(p.generateContentStreamInternal(B)),W=[],Ee=[];try{for(var F=!0,Y=(L=void 0,Ul(re)),j;j=yield $e(Y.next()),w=j.done,!w;F=!0){Q=j.value,F=!1;const ae=Q;if(yield yield $e(ae),ae.candidates&&(!((C=ae.candidates[0])===null||C===void 0)&&C.content)){Ee.push(ae.candidates[0].content);for(const Se of(M=ae.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(g<f&&Se.functionCall){if(!Se.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(Se.functionCall.name)){const ee=yield $e(v.get(Se.functionCall.name).callTool([Se.functionCall]));W.push(...ee)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${Se.functionCall.name}`)}}}}catch(ae){L={error:ae}}finally{try{!F&&!w&&(z=Y.return)&&(yield $e(z.call(Y)))}finally{if(L)throw L.error}}if(W.length>0){m=!0;const ae=new Dl;ae.candidates=[{content:{role:"user",parts:W}}],yield yield $e(ae);const Se=[];Se.push(...Ee),Se.push({role:"user",parts:W});const ee=en(S.contents).concat(Se);S.contents=ee}else break}})}(this,y,e)}async generateContentInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=dh(this.apiClient,e);return g=te("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=mh(v),C=new Dl;return Object.assign(C,S),C})}else{const p=fh(this.apiClient,e);return g=te("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=ph(v),C=new Dl;return Object.assign(C,S),C})}}async generateContentStreamInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=dh(this.apiClient,e);return g=te("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),m.then(function(S){return xo(this,arguments,function*(){var C,M,w,L;try{for(var z=!0,Q=Ul(S),F;F=yield $e(Q.next()),C=F.done,!C;z=!0){L=F.value,z=!1;const Y=L,j=mh(yield $e(Y.json()));j.sdkHttpResponse={headers:Y.headers};const B=new Dl;Object.assign(B,j),yield yield $e(B)}}catch(Y){M={error:Y}}finally{try{!z&&!C&&(w=Q.return)&&(yield $e(w.call(Q)))}finally{if(M)throw M.error}}})})}else{const p=fh(this.apiClient,e);return g=te("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),m.then(function(S){return xo(this,arguments,function*(){var C,M,w,L;try{for(var z=!0,Q=Ul(S),F;F=yield $e(Q.next()),C=F.done,!C;z=!0){L=F.value,z=!1;const Y=L,j=ph(yield $e(Y.json()));j.sdkHttpResponse={headers:Y.headers};const B=new Dl;Object.assign(B,j),yield yield $e(B)}}catch(Y){M={error:Y}}finally{try{!z&&!C&&(w=Q.return)&&(yield $e(w.call(Q)))}finally{if(M)throw M.error}}})})}}async embedContent(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=FA(this.apiClient,e);return g=te("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=ex(v),C=new Ym;return Object.assign(C,S),C})}else{const p=oA(this.apiClient,e);return g=te("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=b_(v),C=new Ym;return Object.assign(C,S),C})}}async generateImagesInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=JA(this.apiClient,e);return g=te("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=nx(v),C=new Fm;return Object.assign(C,S),C})}else{const p=aA(this.apiClient,e);return g=te("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=I_(v),C=new Fm;return Object.assign(C,S),C})}}async editImageInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=e_(this.apiClient,e);return f=te("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=ix(y),v=new i0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=n_(this.apiClient,e);return f=te("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=ox(y),v=new o0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=a_(this.apiClient,e);return f=te("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const p=lx(y),v=new l0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=s_(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Fu(v))}else{const p=sA(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Yu(v))}}async listInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=u_(this.apiClient,e);return g=te("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=ux(v),C=new $m;return Object.assign(C,S),C})}else{const p=uA(this.apiClient,e);return g=te("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=L_(v),C=new $m;return Object.assign(C,S),C})}}async update(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=f_(this.apiClient,e);return g=te("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Fu(v))}else{const p=fA(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Yu(v))}}async delete(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=d_(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(()=>{const v=cx(),S=new Jm;return Object.assign(S,v),S})}else{const p=dA(this.apiClient,e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(()=>{const v=V_(),S=new Jm;return Object.assign(S,v),S})}}async countTokens(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=m_(this.apiClient,e);return g=te("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=fx(v),C=new Km;return Object.assign(C,S),C})}else{const p=mA(this.apiClient,e);return g=te("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=P_(v),C=new Km;return Object.assign(C,S),C})}}async computeTokens(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=h_(this.apiClient,e);return f=te("{model}:computeTokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=dx(y),v=new a0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=v_(this.apiClient,e);return g=te("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const S=gx(v),C=new as;return Object.assign(C,S),C})}else{const p=yA(this.apiClient,e);return g=te("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const S=z_(v),C=new as;return Object.assign(C,S),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fx(n){const e={},o=s(n,["operationName"]);o!=null&&r(e,["_url","operationName"],o);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function $x(n){const e={},o=s(n,["operationName"]);o!=null&&r(e,["_url","operationName"],o);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function Jx(n){const e={},o=s(n,["operationName"]);o!=null&&r(e,["operationName"],o);const l=s(n,["resourceName"]);l!=null&&r(e,["_url","resourceName"],l);const c=s(n,["config"]);return c!=null&&r(e,["config"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kx extends wi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let f;l&&"httpOptions"in l&&(f=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async get(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let f;l&&"httpOptions"in l&&(f=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async getVideosOperationInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=$x(e);return g=te("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m}else{const p=Fx(e);return g=te("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=Jx(e);return f=te("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xx(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function cg(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],Xx(o)),e}function Qx(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],cg(l)),e}function Zx(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Qx(c))),r(e,["speakerVoiceConfigs"],l)}return e}function Wx(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],cg(o));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],Zx(l));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function jx(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function eM(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function tM(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function nM(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],jx(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],eM(c));const f=s(n,["fileData"]);f!=null&&r(e,["fileData"],tM(f));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const S=s(n,["text"]);return S!=null&&r(e,["text"],S),e}function iM(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>nM(f))),r(e,["parts"],c)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function oM(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const f=s(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function lM(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function aM(n){const e={},o=s(n,["timeRangeFilter"]);return o!=null&&r(e,["timeRangeFilter"],lM(o)),e}function sM(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function rM(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],sM(o)),e}function uM(){return{}}function cM(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>oM(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],aM(l));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],rM(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],uM());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const g=s(n,["computerUse"]);return g!=null&&r(e,["computerUse"],g),e}function fM(n){const e={},o=s(n,["handle"]);if(o!=null&&r(e,["handle"],o),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Sh(){return{}}function dM(n){const e={},o=s(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=s(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const f=s(n,["prefixPaddingMs"]);f!=null&&r(e,["prefixPaddingMs"],f);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function pM(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],dM(o));const l=s(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function mM(n){const e={},o=s(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function hM(n){const e={},o=s(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=s(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],mM(l)),e}function gM(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function yM(n,e){const o={},l=s(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const f=s(n,["temperature"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","temperature"],f);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const S=s(n,["speechConfig"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","speechConfig"],Wx(tc(S)));const C=s(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],C);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],iM(Et(M)));const w=s(n,["tools"]);if(e!==void 0&&w!=null){let B=No(w);Array.isArray(B)&&(B=B.map(re=>cM(Ro(re)))),r(e,["setup","tools"],B)}const L=s(n,["sessionResumption"]);e!==void 0&&L!=null&&r(e,["setup","sessionResumption"],fM(L));const z=s(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&r(e,["setup","inputAudioTranscription"],Sh());const Q=s(n,["outputAudioTranscription"]);e!==void 0&&Q!=null&&r(e,["setup","outputAudioTranscription"],Sh());const F=s(n,["realtimeInputConfig"]);e!==void 0&&F!=null&&r(e,["setup","realtimeInputConfig"],pM(F));const Y=s(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&r(e,["setup","contextWindowCompression"],hM(Y));const j=s(n,["proactivity"]);return e!==void 0&&j!=null&&r(e,["setup","proactivity"],gM(j)),o}function vM(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["setup","model"],be(n,l));const c=s(e,["config"]);return c!=null&&r(o,["config"],yM(c,o)),o}function TM(n,e,o){const l={},c=s(e,["expireTime"]);o!==void 0&&c!=null&&r(o,["expireTime"],c);const f=s(e,["newSessionExpireTime"]);o!==void 0&&f!=null&&r(o,["newSessionExpireTime"],f);const m=s(e,["uses"]);o!==void 0&&m!=null&&r(o,["uses"],m);const g=s(e,["liveConnectConstraints"]);o!==void 0&&g!=null&&r(o,["bidiGenerateContentSetup"],vM(n,g));const y=s(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&r(o,["fieldMask"],y),l}function SM(n,e){const o={},l=s(e,["config"]);return l!=null&&r(o,["config"],TM(n,l,o)),o}function CM(n){const e={},o=s(n,["name"]);return o!=null&&r(e,["name"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EM(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const l=n[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const c=Object.keys(l).map(f=>`${o}.${f}`);e.push(...c)}else e.push(o)}return e.join(",")}function AM(n,e){let o=null;const l=n.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const f=l.setup;typeof f=="object"&&f!==null?(n.bidiGenerateContentSetup=f,o=f):delete n.bidiGenerateContentSetup}else l!==void 0&&delete n.bidiGenerateContentSetup;const c=n.fieldMask;if(o){const f=EM(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)f?n.fieldMask=f:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];c.length>0&&(g=c.map(p=>m.includes(p)?`generationConfig.${p}`:p));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?n.fieldMask=c.join(","):delete n.fieldMask;return n}class _M extends wi{constructor(e){super(),this.apiClient=e}async create(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=SM(this.apiClient,e);f=te("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=AM(g,e.config);return c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),c.then(p=>CM(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xM(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","name"],o);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function MM(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const f=s(n,["filter"]);return e!==void 0&&f!=null&&r(e,["_query","filter"],f),o}function RM(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],MM(o,e)),e}function NM(n){const e={},o=s(n,["textInput"]);o!=null&&r(e,["textInput"],o);const l=s(n,["output"]);return l!=null&&r(e,["output"],l),e}function wM(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(n,["examples"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>NM(c))),r(e,["examples","examples"],l)}return e}function bM(n,e){const o={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=s(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&r(e,["displayName"],l),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=s(n,["epochCount"]);e!==void 0&&c!=null&&r(e,["tuningTask","hyperparameters","epochCount"],c);const f=s(n,["learningRateMultiplier"]);if(f!=null&&r(o,["tuningTask","hyperparameters","learningRateMultiplier"],f),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=s(n,["batchSize"]);e!==void 0&&m!=null&&r(e,["tuningTask","hyperparameters","batchSize"],m);const g=s(n,["learningRate"]);return e!==void 0&&g!=null&&r(e,["tuningTask","hyperparameters","learningRate"],g),o}function DM(n){const e={},o=s(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=s(n,["trainingDataset"]);l!=null&&r(e,["tuningTask","trainingData"],wM(l));const c=s(n,["config"]);return c!=null&&r(e,["config"],bM(c,e)),e}function kM(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","name"],o);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function IM(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const f=s(n,["filter"]);return e!==void 0&&f!=null&&r(e,["_query","filter"],f),o}function UM(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],IM(o,e)),e}function LM(n,e){const o={},l=s(n,["gcsUri"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],l);const c=s(n,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function VM(n,e){const o={},l=s(n,["gcsUri"]);l!=null&&r(o,["validationDatasetUri"],l);const c=s(n,["vertexDatasetResource"]);return e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),o}function PM(n,e){const o={},l=s(n,["validationDataset"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec"],VM(l,o));const c=s(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&r(e,["tunedModelDisplayName"],c);const f=s(n,["description"]);e!==void 0&&f!=null&&r(e,["description"],f);const m=s(n,["epochCount"]);e!==void 0&&m!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const g=s(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const y=s(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const p=s(n,["adapterSize"]);if(e!==void 0&&p!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function GM(n){const e={},o=s(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=s(n,["trainingDataset"]);l!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],LM(l,e));const c=s(n,["config"]);return c!=null&&r(e,["config"],PM(c,e)),e}function qM(n){const e={},o=s(n,["name"]);o!=null&&r(e,["model"],o);const l=s(n,["name"]);return l!=null&&r(e,["endpoint"],l),e}function fg(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["state"]);c!=null&&r(e,["state"],Bh(c));const f=s(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=s(n,["tuningTask","startTime"]);m!=null&&r(e,["startTime"],m);const g=s(n,["tuningTask","completeTime"]);g!=null&&r(e,["endTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["description"]);p!=null&&r(e,["description"],p);const v=s(n,["baseModel"]);v!=null&&r(e,["baseModel"],v);const S=s(n,["_self"]);S!=null&&r(e,["tunedModel"],qM(S));const C=s(n,["distillationSpec"]);C!=null&&r(e,["distillationSpec"],C);const M=s(n,["experiment"]);M!=null&&r(e,["experiment"],M);const w=s(n,["labels"]);w!=null&&r(e,["labels"],w);const L=s(n,["pipelineJob"]);L!=null&&r(e,["pipelineJob"],L);const z=s(n,["satisfiesPzi"]);z!=null&&r(e,["satisfiesPzi"],z);const Q=s(n,["satisfiesPzs"]);Q!=null&&r(e,["satisfiesPzs"],Q);const F=s(n,["serviceAccount"]);F!=null&&r(e,["serviceAccount"],F);const Y=s(n,["tunedModelDisplayName"]);return Y!=null&&r(e,["tunedModelDisplayName"],Y),e}function HM(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["tunedModels"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>fg(m))),r(e,["tuningJobs"],f)}return e}function zM(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["metadata"]);c!=null&&r(e,["metadata"],c);const f=s(n,["done"]);f!=null&&r(e,["done"],f);const m=s(n,["error"]);return m!=null&&r(e,["error"],m),e}function BM(n){const e={},o=s(n,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const l=s(n,["epoch"]);l!=null&&r(e,["epoch"],l);const c=s(n,["step"]);c!=null&&r(e,["step"],c);const f=s(n,["endpoint"]);return f!=null&&r(e,["endpoint"],f),e}function OM(n){const e={},o=s(n,["model"]);o!=null&&r(e,["model"],o);const l=s(n,["endpoint"]);l!=null&&r(e,["endpoint"],l);const c=s(n,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>BM(m))),r(e,["checkpoints"],f)}return e}function Ju(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const c=s(n,["state"]);c!=null&&r(e,["state"],Bh(c));const f=s(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=s(n,["startTime"]);m!=null&&r(e,["startTime"],m);const g=s(n,["endTime"]);g!=null&&r(e,["endTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["error"]);p!=null&&r(e,["error"],p);const v=s(n,["description"]);v!=null&&r(e,["description"],v);const S=s(n,["baseModel"]);S!=null&&r(e,["baseModel"],S);const C=s(n,["tunedModel"]);C!=null&&r(e,["tunedModel"],OM(C));const M=s(n,["supervisedTuningSpec"]);M!=null&&r(e,["supervisedTuningSpec"],M);const w=s(n,["tuningDataStats"]);w!=null&&r(e,["tuningDataStats"],w);const L=s(n,["encryptionSpec"]);L!=null&&r(e,["encryptionSpec"],L);const z=s(n,["partnerModelTuningSpec"]);z!=null&&r(e,["partnerModelTuningSpec"],z);const Q=s(n,["distillationSpec"]);Q!=null&&r(e,["distillationSpec"],Q);const F=s(n,["experiment"]);F!=null&&r(e,["experiment"],F);const Y=s(n,["labels"]);Y!=null&&r(e,["labels"],Y);const j=s(n,["pipelineJob"]);j!=null&&r(e,["pipelineJob"],j);const B=s(n,["satisfiesPzi"]);B!=null&&r(e,["satisfiesPzi"],B);const re=s(n,["satisfiesPzs"]);re!=null&&r(e,["satisfiesPzs"],re);const W=s(n,["serviceAccount"]);W!=null&&r(e,["serviceAccount"],W);const Ee=s(n,["tunedModelDisplayName"]);return Ee!=null&&r(e,["tunedModelDisplayName"],Ee),e}function YM(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=s(n,["tuningJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Ju(m))),r(e,["tuningJobs"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FM extends wi{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Vl(Ri.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.tune=async o=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(o);{const l=await this.tuneMldevInternal(o);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:Pu.JOB_STATE_QUEUED}}}}async getInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=kM(e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>Ju(v))}else{const p=xM(e);return g=te("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>fg(v))}}async listInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=UM(e);return g=te("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=YM(v),C=new Qm;return Object.assign(C,S),C})}else{const p=RM(e);return g=te("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const S=HM(v),C=new Qm;return Object.assign(C,S),C})}}async tuneInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=GM(e);return f=te("tuningJobs",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>Ju(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=DM(e);return f=te("tunedModels",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>zM(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $M{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const JM=1024*1024*8,KM=3,XM=1e3,QM=2,Uu="x-goog-upload-status";async function ZM(n,e,o){var l,c,f;let m=0,g=0,y=new Gu(new Response),p="upload";for(m=n.size;g<m;){const S=Math.min(JM,m-g),C=n.slice(g,g+S);g+S>=m&&(p+=", finalize");let M=0,w=XM;for(;M<KM&&(y=await o.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(g),"Content-Length":String(S)}}}),!(!((l=y==null?void 0:y.headers)===null||l===void 0)&&l[Uu]));)M++,await jM(w),w=w*QM;if(g+=S,((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[Uu])!=="active")break;if(m<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((f=y==null?void 0:y.headers)===null||f===void 0?void 0:f[Uu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function WM(n){return{size:n.size,type:n.type}}function jM(n){return new Promise(e=>setTimeout(e,n))}class e1{async upload(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ZM(e,o,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await WM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t1{create(e,o,l){return new n1(e,o,l)}}class n1{constructor(e,o,l){this.url=e,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ch="x-goog-api-key";class i1{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Ch)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Ch,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o1="gl-node/";class l1{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const l=n0(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion;const c=new i1(this.apiKey);this.apiClient=new _x({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:o1+"web",uploader:new e1,downloader:new $M}),this.models=new Yx(this.apiClient),this.live=new Px(this.apiClient,c,new t1),this.batches=new MT(this.apiClient),this.chats=new bS(this.models,this.apiClient),this.caches=new RS(this.apiClient),this.files=new OS(this.apiClient),this.operations=new Kx(this.apiClient),this.authTokens=new _M(this.apiClient),this.tunings=new FM(this.apiClient)}}let It=null;const a1=n=>{if(!n||!n.startsWith("AIza"))return It&&(It=null),!1;try{return It=new l1({apiKey:n}),!0}catch(e){return console.error("Failed to initialize GoogleGenAI with provided key:",e),It=null,!1}},Wa=()=>!!It,s1=async(n,e)=>{var o,l;if(!It)throw new Error("Gemini AI SDK not initialized or API key is invalid. Please configure it in settings.");try{const c=await It.models.generateContent({model:Lh,contents:[{role:"user",parts:[{text:n}]}],config:{systemInstruction:{role:"system",parts:[{text:e}]},temperature:.8,maxOutputTokens:2048,safetySettings:[{category:pn.HARM_CATEGORY_HARASSMENT,threshold:mn.BLOCK_MEDIUM_AND_ABOVE},{category:pn.HARM_CATEGORY_HATE_SPEECH,threshold:mn.BLOCK_MEDIUM_AND_ABOVE},{category:pn.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:mn.BLOCK_MEDIUM_AND_ABOVE},{category:pn.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:mn.BLOCK_MEDIUM_AND_ABOVE}]}}),f=c.text;if(typeof f=="string")return f;{if(console.error("Gemini API response.text was not a string. Full response:",JSON.stringify(c,null,2)),(o=c==null?void 0:c.promptFeedback)!=null&&o.blockReason)throw new Error(`Prompt was blocked. Reason: ${c.promptFeedback.blockReason}${c.promptFeedback.blockReasonMessage?" - "+c.promptFeedback.blockReasonMessage:""}`);const m=(l=c==null?void 0:c.candidates)==null?void 0:l[0];if((m==null?void 0:m.finishReason)==="SAFETY"){const g=m.safetyRatings;let y=g==null?void 0:g.filter(p=>p.probability!=="NEGLIGIBLE"&&p.probability!=="LOW").map(p=>p.category.replace("HARM_CATEGORY_","")).join(", ");throw new Error(`Response blocked by safety filters. Categories: ${y||"Content policy"}.`)}throw(m==null?void 0:m.finishReason)==="OTHER"||(m==null?void 0:m.finishReason)==="RECITATION"||!m?new Error(`Gemini API returned an empty or malformed response. Reason: ${(m==null?void 0:m.finishReason)||"Unknown/No Candidate"}.`):new Error("Gemini API returned an invalid or unexpected text response structure.")}}catch(c){console.error("Error calling Gemini API (non-streaming):",c);const f=c instanceof Error?c.message:String(c);throw f.includes("API key not valid")||f.includes("API_KEY_INVALID")||f.includes("permission_denied")?new Error("The provided Gemini API key is invalid or lacks permissions. Please check it in settings."):c}};async function*Eh(n,e,o){var c,f;if(!It)throw new Error("Gemini AI SDK not initialized. Please configure it in settings.");const l=[];o&&o.length>0&&l.push(...o),l.push({text:n});try{const m=await It.models.generateContentStream({model:Lh,contents:[{role:"user",parts:l}],config:{systemInstruction:{role:"system",parts:[{text:e}]},temperature:.8,maxOutputTokens:2048,safetySettings:[{category:pn.HARM_CATEGORY_HARASSMENT,threshold:mn.BLOCK_MEDIUM_AND_ABOVE},{category:pn.HARM_CATEGORY_HATE_SPEECH,threshold:mn.BLOCK_MEDIUM_AND_ABOVE},{category:pn.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:mn.BLOCK_MEDIUM_AND_ABOVE},{category:pn.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:mn.BLOCK_MEDIUM_AND_ABOVE}]}});for await(const g of m){if((c=g==null?void 0:g.promptFeedback)!=null&&c.blockReason)throw new Error(`Stream blocked by Gemini. Reason: ${g.promptFeedback.blockReason}${g.promptFeedback.blockReasonMessage?" - "+g.promptFeedback.blockReasonMessage:""}.`);const y=(f=g==null?void 0:g.candidates)==null?void 0:f[0];if((y==null?void 0:y.finishReason)==="SAFETY"){const p=y.safetyRatings;let v=p==null?void 0:p.filter(S=>S.probability!=="NEGLIGIBLE"&&S.probability!=="LOW").map(S=>S.category.replace("HARM_CATEGORY_","")).join(", ");throw new Error(`Stream ended by Gemini's safety filters. Categories: ${v||"Content policy"}.`)}if(!g.text&&((y==null?void 0:y.finishReason)==="OTHER"||(y==null?void 0:y.finishReason)==="RECITATION"))throw new Error(`Gemini stream ended unexpectedly or provided empty content. Reason: ${y==null?void 0:y.finishReason}.`);yield g}}catch(m){console.error("Error during Gemini API stream:",m);const g=m instanceof Error?m.message:String(m);throw g.includes("API key not valid")||g.includes("API_KEY_INVALID")||g.includes("permission_denied")?new Error("The provided Gemini API key is invalid or lacks permissions. Please check it in settings."):new Error(`Gemini API streaming error: ${g}`)}}const r1=async n=>{if(!It)throw new Error("Gemini AI SDK not initialized.");try{return await It.models.generateImages({model:"imagen-3.0-generate-002",prompt:n})}catch(e){throw console.error("Error calling Imagen API:",e),e}},u1=async(n,e)=>{if(!It)throw new Error("Gemini AI SDK not initialized.");try{let o=await It.models.generateVideos({model:"veo-3.0-generate-preview",prompt:n,image:e});for(;!o.done;)await new Promise(l=>setTimeout(l,1e4)),o=await It.operations.get(o);return o.response.generatedVideos[0]}catch(o){throw console.error("Error calling Veo API:",o),o}};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f1=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,l)=>l?l.toUpperCase():o.toLowerCase()),Ah=n=>{const e=f1(n);return e.charAt(0).toUpperCase()+e.slice(1)},dg=(...n)=>n.filter((e,o,l)=>!!e&&e.trim()!==""&&l.indexOf(e)===o).join(" ").trim(),d1=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=oe.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:f,iconNode:m,...g},y)=>oe.createElement("svg",{ref:y,...p1,width:e,height:e,stroke:n,strokeWidth:l?Number(o)*24/Number(e):o,className:dg("lucide",c),...!f&&!d1(g)&&{"aria-hidden":"true"},...g},[...m.map(([p,v])=>oe.createElement(p,v)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(n,e)=>{const o=oe.forwardRef(({className:l,...c},f)=>oe.createElement(m1,{ref:f,iconNode:e,className:dg(`lucide-${c1(Ah(n))}`,`lucide-${n}`,l),...c}));return o.displayName=Ah(n),o};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],pg=Je("bot",h1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],y1=Je("camera",g1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],T1=Je("check",v1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],C1=Je("chevron-up",S1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],A1=Je("circle-x",E1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],x1=Je("copy",_1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M10 11h.01",key:"d2at3l"}],["path",{d:"M14 6h.01",key:"k028ub"}],["path",{d:"M18 6h.01",key:"1v4wsw"}],["path",{d:"M6.5 13.1h.01",key:"1748ia"}],["path",{d:"M22 5c0 9-4 12-6 12s-6-3-6-12c0-2 2-3 6-3s6 1 6 3",key:"172yzv"}],["path",{d:"M17.4 9.9c-.8.8-2 .8-2.8 0",key:"1obv0w"}],["path",{d:"M10.1 7.1C9 7.2 7.7 7.7 6 8.6c-3.5 2-4.7 3.9-3.7 5.6 4.5 7.8 9.5 8.4 11.2 7.4.9-.5 1.9-2.1 1.9-4.7",key:"rqjl8i"}],["path",{d:"M9.1 16.5c.3-1.1 1.4-1.7 2.4-1.4",key:"1mr6wy"}]],R1=Je("drama",M1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],w1=Je("folder-open",N1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],D1=Je("image-off",b1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],I1=Je("library",k1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],L1=Je("loader-circle",U1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],P1=Je("moon",V1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],q1=Je("plus",G1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],z1=Je("scan-line",H1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],O1=Je("search",B1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],F1=Je("send-horizontal",Y1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],J1=Je("settings",$1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],X1=Je("sparkles",K1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Z1=Je("sun",Q1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],j1=Je("trash-2",W1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tR=Je("triangle-alert",eR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],iR=Je("user",nR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],lR=Je("video",oR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],sR=Je("volume-2",aR);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],uR=Je("volume-x",rR),cR=({theme:n,selectedAI:e,imageStyle:o,apiKeys:l,apiStatus:c,darkMode:f,soundEnabled:m,setSelectedAI:g,setImageStyle:y,updateApiKey:p,toggleDarkMode:v,toggleSound:S,onClose:C})=>R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",onClick:C,children:R.jsxs("div",{className:`${n.card} rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col`,onClick:M=>M.stopPropagation(),children:[R.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[R.jsx("h2",{className:"text-xl font-bold",children:"Settings"}),R.jsx("button",{onClick:C,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:""})]}),R.jsxs("div",{className:"overflow-y-auto p-6 space-y-6",children:[R.jsxs("section",{children:[R.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Appearance"}),R.jsxs("div",{className:"space-y-3",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("label",{htmlFor:"darkModeToggle",className:"font-medium",children:"Dark Mode"}),R.jsx("button",{onClick:v,id:"darkModeToggle",className:`p-2 rounded-full ${n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:f?R.jsx(Z1,{size:20}):R.jsx(P1,{size:20})})]}),R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("label",{htmlFor:"soundToggle",className:"font-medium",children:"Sound Enabled"}),R.jsx("button",{onClick:S,id:"soundToggle",className:`p-2 rounded-full ${n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:m?R.jsx(sR,{size:20}):R.jsx(uR,{size:20})})]})]})]}),R.jsxs("section",{children:[R.jsx("h3",{className:"text-lg font-semibold mb-3",children:"AI Model"}),R.jsx("div",{role:"group",className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(an).map(([M,w])=>R.jsxs("button",{onClick:()=>g(M),className:`p-3 rounded-lg border text-sm transition-all duration-200 ${e===M?`${w.color} border-current bg-current/10 font-semibold`:`${n.muted} border-gray-300 dark:border-gray-600 hover:border-current hover:bg-gray-500/10`}`,children:[w.icon," ",w.name]},M))})]}),R.jsxs("section",{children:[R.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Image Style (DALL-E)"}),R.jsx("div",{role:"group",className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(Qv).map(([M,w])=>R.jsx("button",{onClick:()=>y(M),className:`p-3 rounded-lg border text-sm transition-all duration-200 ${o===M?"text-pink-400 border-pink-400 bg-pink-400/10 font-semibold":`${n.muted} border-gray-300 dark:border-gray-600 hover:border-current hover:text-pink-400 hover:border-pink-400/50 hover:bg-pink-400/10`}`,children:w},M))})]}),R.jsxs("section",{children:[R.jsx("h3",{className:"text-lg font-semibold mb-3",children:"API Keys"}),R.jsxs("div",{className:"space-y-3",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-1",children:"OpenAI API Key"}),R.jsx("input",{type:"password",placeholder:"sk-...",value:l.openai,onChange:M=>p("openai",M.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${n.input} border-gray-300 dark:border-gray-600`})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gemini API Key"}),R.jsx("input",{type:"password",placeholder:"AIza...",value:l.gemini,onChange:M=>p("gemini",M.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${n.input} border-gray-300 dark:border-gray-600`})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-1",children:"Claude API Key"}),R.jsx("input",{type:"password",placeholder:"sk-ant-...",value:l.claude,onChange:M=>p("claude",M.target.value),className:`w-full px-3 py-2 rounded-lg border text-sm ${n.input} border-gray-300 dark:border-gray-600`})]})]}),R.jsx("p",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:"Your API keys are saved automatically to your browser's local storage. They are never sent to our servers."})]})]})]})});function ic(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Di=ic();function mg(n){Di=n}var Ll={exec:()=>null};function De(n,e=""){let o=typeof n=="string"?n:n.source;const l={replace:(c,f)=>{let m=typeof f=="string"?f:f.source;return m=m.replace(Mt.caret,"$1"),o=o.replace(c,m),l},getRegex:()=>new RegExp(o,e)};return l}var Mt={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},fR=/^(?:[ \t]*(?:\n|$))+/,dR=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,pR=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Pl=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,mR=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,oc=/(?:[*+-]|\d{1,9}[.)])/,hg=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,gg=De(hg).replace(/bull/g,oc).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),hR=De(hg).replace(/bull/g,oc).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),lc=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,gR=/^[^\n]+/,ac=/(?!\s*\])(?:\\.|[^\[\]\\])+/,yR=De(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ac).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),vR=De(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,oc).getRegex(),ms="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",sc=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,TR=De("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",sc).replace("tag",ms).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),yg=De(lc).replace("hr",Pl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ms).getRegex(),SR=De(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",yg).getRegex(),rc={blockquote:SR,code:dR,def:yR,fences:pR,heading:mR,hr:Pl,html:TR,lheading:gg,list:vR,newline:fR,paragraph:yg,table:Ll,text:gR},_h=De("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Pl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ms).getRegex(),CR={...rc,lheading:hR,table:_h,paragraph:De(lc).replace("hr",Pl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",_h).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ms).getRegex()},ER={...rc,html:De(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",sc).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ll,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:De(lc).replace("hr",Pl).replace("heading",` *#{1,6} *[^
]`).replace("lheading",gg).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},AR=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,_R=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,vg=/^( {2,}|\\)\n(?!\s*$)/,xR=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,hs=/[\p{P}\p{S}]/u,uc=/[\s\p{P}\p{S}]/u,Tg=/[^\s\p{P}\p{S}]/u,MR=De(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,uc).getRegex(),Sg=/(?!~)[\p{P}\p{S}]/u,RR=/(?!~)[\s\p{P}\p{S}]/u,NR=/(?:[^\s\p{P}\p{S}]|~)/u,wR=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Cg=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,bR=De(Cg,"u").replace(/punct/g,hs).getRegex(),DR=De(Cg,"u").replace(/punct/g,Sg).getRegex(),Eg="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",kR=De(Eg,"gu").replace(/notPunctSpace/g,Tg).replace(/punctSpace/g,uc).replace(/punct/g,hs).getRegex(),IR=De(Eg,"gu").replace(/notPunctSpace/g,NR).replace(/punctSpace/g,RR).replace(/punct/g,Sg).getRegex(),UR=De("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Tg).replace(/punctSpace/g,uc).replace(/punct/g,hs).getRegex(),LR=De(/\\(punct)/,"gu").replace(/punct/g,hs).getRegex(),VR=De(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),PR=De(sc).replace("(?:-->|$)","-->").getRegex(),GR=De("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",PR).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),rs=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,qR=De(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",rs).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ag=De(/^!?\[(label)\]\[(ref)\]/).replace("label",rs).replace("ref",ac).getRegex(),_g=De(/^!?\[(ref)\](?:\[\])?/).replace("ref",ac).getRegex(),HR=De("reflink|nolink(?!\\()","g").replace("reflink",Ag).replace("nolink",_g).getRegex(),cc={_backpedal:Ll,anyPunctuation:LR,autolink:VR,blockSkip:wR,br:vg,code:_R,del:Ll,emStrongLDelim:bR,emStrongRDelimAst:kR,emStrongRDelimUnd:UR,escape:AR,link:qR,nolink:_g,punctuation:MR,reflink:Ag,reflinkSearch:HR,tag:GR,text:xR,url:Ll},zR={...cc,link:De(/^!?\[(label)\]\((.*?)\)/).replace("label",rs).getRegex(),reflink:De(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",rs).getRegex()},Ku={...cc,emStrongRDelimAst:IR,emStrongLDelim:DR,url:De(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},BR={...Ku,br:De(vg).replace("{2,}","*").getRegex(),text:De(Ku.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ja={normal:rc,gfm:CR,pedantic:ER},kl={normal:cc,gfm:Ku,breaks:BR,pedantic:zR},OR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xh=n=>OR[n];function dn(n,e){if(e){if(Mt.escapeTest.test(n))return n.replace(Mt.escapeReplace,xh)}else if(Mt.escapeTestNoEncode.test(n))return n.replace(Mt.escapeReplaceNoEncode,xh);return n}function Mh(n){try{n=encodeURI(n).replace(Mt.percentDecode,"%")}catch{return null}return n}function Rh(n,e){var f;const o=n.replace(Mt.findPipe,(m,g,y)=>{let p=!1,v=g;for(;--v>=0&&y[v]==="\\";)p=!p;return p?"|":" |"}),l=o.split(Mt.splitPipe);let c=0;if(l[0].trim()||l.shift(),l.length>0&&!((f=l.at(-1))!=null&&f.trim())&&l.pop(),e)if(l.length>e)l.splice(e);else for(;l.length<e;)l.push("");for(;c<l.length;c++)l[c]=l[c].trim().replace(Mt.slashPipe,"|");return l}function Il(n,e,o){const l=n.length;if(l===0)return"";let c=0;for(;c<l&&n.charAt(l-c-1)===e;)c++;return n.slice(0,l-c)}function YR(n,e){if(n.indexOf(e[1])===-1)return-1;let o=0;for(let l=0;l<n.length;l++)if(n[l]==="\\")l++;else if(n[l]===e[0])o++;else if(n[l]===e[1]&&(o--,o<0))return l;return o>0?-2:-1}function Nh(n,e,o,l,c){const f=e.href,m=e.title||null,g=n[1].replace(c.other.outputLinkReplace,"$1");l.state.inLink=!0;const y={type:n[0].charAt(0)==="!"?"image":"link",raw:o,href:f,title:m,text:g,tokens:l.inlineTokens(g)};return l.state.inLink=!1,y}function FR(n,e,o){const l=n.match(o.other.indentCodeCompensation);if(l===null)return e;const c=l[1];return e.split(`
`).map(f=>{const m=f.match(o.other.beginningSpace);if(m===null)return f;const[g]=m;return g.length>=c.length?f.slice(c.length):f}).join(`
`)}var us=class{constructor(n){Oe(this,"options");Oe(this,"rules");Oe(this,"lexer");this.options=n||Di}space(n){const e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){const e=this.rules.block.code.exec(n);if(e){const o=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?o:Il(o,`
`)}}}fences(n){const e=this.rules.block.fences.exec(n);if(e){const o=e[0],l=FR(o,e[3]||"",this.rules);return{type:"code",raw:o,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:l}}}heading(n){const e=this.rules.block.heading.exec(n);if(e){let o=e[2].trim();if(this.rules.other.endingHash.test(o)){const l=Il(o,"#");(this.options.pedantic||!l||this.rules.other.endingSpaceChar.test(l))&&(o=l.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(n){const e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:Il(e[0],`
`)}}blockquote(n){const e=this.rules.block.blockquote.exec(n);if(e){let o=Il(e[0],`
`).split(`
`),l="",c="";const f=[];for(;o.length>0;){let m=!1;const g=[];let y;for(y=0;y<o.length;y++)if(this.rules.other.blockquoteStart.test(o[y]))g.push(o[y]),m=!0;else if(!m)g.push(o[y]);else break;o=o.slice(y);const p=g.join(`
`),v=p.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");l=l?`${l}
${p}`:p,c=c?`${c}
${v}`:v;const S=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(v,f,!0),this.lexer.state.top=S,o.length===0)break;const C=f.at(-1);if((C==null?void 0:C.type)==="code")break;if((C==null?void 0:C.type)==="blockquote"){const M=C,w=M.raw+`
`+o.join(`
`),L=this.blockquote(w);f[f.length-1]=L,l=l.substring(0,l.length-M.raw.length)+L.raw,c=c.substring(0,c.length-M.text.length)+L.text;break}else if((C==null?void 0:C.type)==="list"){const M=C,w=M.raw+`
`+o.join(`
`),L=this.list(w);f[f.length-1]=L,l=l.substring(0,l.length-C.raw.length)+L.raw,c=c.substring(0,c.length-M.raw.length)+L.raw,o=w.substring(f.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:l,tokens:f,text:c}}}list(n){let e=this.rules.block.list.exec(n);if(e){let o=e[1].trim();const l=o.length>1,c={type:"list",raw:"",ordered:l,start:l?+o.slice(0,-1):"",loose:!1,items:[]};o=l?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=l?o:"[*+-]");const f=this.rules.other.listItemRegex(o);let m=!1;for(;n;){let y=!1,p="",v="";if(!(e=f.exec(n))||this.rules.block.hr.test(n))break;p=e[0],n=n.substring(p.length);let S=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,Q=>" ".repeat(3*Q.length)),C=n.split(`
`,1)[0],M=!S.trim(),w=0;if(this.options.pedantic?(w=2,v=S.trimStart()):M?w=e[1].length+1:(w=e[2].search(this.rules.other.nonSpaceChar),w=w>4?1:w,v=S.slice(w),w+=e[1].length),M&&this.rules.other.blankLine.test(C)&&(p+=C+`
`,n=n.substring(C.length+1),y=!0),!y){const Q=this.rules.other.nextBulletRegex(w),F=this.rules.other.hrRegex(w),Y=this.rules.other.fencesBeginRegex(w),j=this.rules.other.headingBeginRegex(w),B=this.rules.other.htmlBeginRegex(w);for(;n;){const re=n.split(`
`,1)[0];let W;if(C=re,this.options.pedantic?(C=C.replace(this.rules.other.listReplaceNesting,"  "),W=C):W=C.replace(this.rules.other.tabCharGlobal,"    "),Y.test(C)||j.test(C)||B.test(C)||Q.test(C)||F.test(C))break;if(W.search(this.rules.other.nonSpaceChar)>=w||!C.trim())v+=`
`+W.slice(w);else{if(M||S.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||Y.test(S)||j.test(S)||F.test(S))break;v+=`
`+C}!M&&!C.trim()&&(M=!0),p+=re+`
`,n=n.substring(re.length+1),S=W.slice(w)}}c.loose||(m?c.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(m=!0));let L=null,z;this.options.gfm&&(L=this.rules.other.listIsTask.exec(v),L&&(z=L[0]!=="[ ] ",v=v.replace(this.rules.other.listReplaceTask,""))),c.items.push({type:"list_item",raw:p,task:!!L,checked:z,loose:!1,text:v,tokens:[]}),c.raw+=p}const g=c.items.at(-1);if(g)g.raw=g.raw.trimEnd(),g.text=g.text.trimEnd();else return;c.raw=c.raw.trimEnd();for(let y=0;y<c.items.length;y++)if(this.lexer.state.top=!1,c.items[y].tokens=this.lexer.blockTokens(c.items[y].text,[]),!c.loose){const p=c.items[y].tokens.filter(S=>S.type==="space"),v=p.length>0&&p.some(S=>this.rules.other.anyLine.test(S.raw));c.loose=v}if(c.loose)for(let y=0;y<c.items.length;y++)c.items[y].loose=!0;return c}}html(n){const e=this.rules.block.html.exec(n);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(n){const e=this.rules.block.def.exec(n);if(e){const o=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),l=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",c=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:o,raw:e[0],href:l,title:c}}}table(n){var m;const e=this.rules.block.table.exec(n);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const o=Rh(e[1]),l=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),c=(m=e[3])!=null&&m.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],f={type:"table",raw:e[0],header:[],align:[],rows:[]};if(o.length===l.length){for(const g of l)this.rules.other.tableAlignRight.test(g)?f.align.push("right"):this.rules.other.tableAlignCenter.test(g)?f.align.push("center"):this.rules.other.tableAlignLeft.test(g)?f.align.push("left"):f.align.push(null);for(let g=0;g<o.length;g++)f.header.push({text:o[g],tokens:this.lexer.inline(o[g]),header:!0,align:f.align[g]});for(const g of c)f.rows.push(Rh(g,f.header.length).map((y,p)=>({text:y,tokens:this.lexer.inline(y),header:!1,align:f.align[p]})));return f}}lheading(n){const e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){const e=this.rules.block.paragraph.exec(n);if(e){const o=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:o,tokens:this.lexer.inline(o)}}}text(n){const e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){const e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(n){const e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(n){const e=this.rules.inline.link.exec(n);if(e){const o=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(o)){if(!this.rules.other.endAngleBracket.test(o))return;const f=Il(o.slice(0,-1),"\\");if((o.length-f.length)%2===0)return}else{const f=YR(e[2],"()");if(f===-2)return;if(f>-1){const g=(e[0].indexOf("!")===0?5:4)+e[1].length+f;e[2]=e[2].substring(0,f),e[0]=e[0].substring(0,g).trim(),e[3]=""}}let l=e[2],c="";if(this.options.pedantic){const f=this.rules.other.pedanticHrefTitle.exec(l);f&&(l=f[1],c=f[3])}else c=e[3]?e[3].slice(1,-1):"";return l=l.trim(),this.rules.other.startAngleBracket.test(l)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(o)?l=l.slice(1):l=l.slice(1,-1)),Nh(e,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:c&&c.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(n,e){let o;if((o=this.rules.inline.reflink.exec(n))||(o=this.rules.inline.nolink.exec(n))){const l=(o[2]||o[1]).replace(this.rules.other.multipleSpaceGlobal," "),c=e[l.toLowerCase()];if(!c){const f=o[0].charAt(0);return{type:"text",raw:f,text:f}}return Nh(o,c,o[0],this.lexer,this.rules)}}emStrong(n,e,o=""){let l=this.rules.inline.emStrongLDelim.exec(n);if(!l||l[3]&&o.match(this.rules.other.unicodeAlphaNumeric))return;if(!(l[1]||l[2]||"")||!o||this.rules.inline.punctuation.exec(o)){const f=[...l[0]].length-1;let m,g,y=f,p=0;const v=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(v.lastIndex=0,e=e.slice(-1*n.length+f);(l=v.exec(e))!=null;){if(m=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!m)continue;if(g=[...m].length,l[3]||l[4]){y+=g;continue}else if((l[5]||l[6])&&f%3&&!((f+g)%3)){p+=g;continue}if(y-=g,y>0)continue;g=Math.min(g,g+y+p);const S=[...l[0]][0].length,C=n.slice(0,f+l.index+S+g);if(Math.min(f,g)%2){const w=C.slice(1,-1);return{type:"em",raw:C,text:w,tokens:this.lexer.inlineTokens(w)}}const M=C.slice(2,-2);return{type:"strong",raw:C,text:M,tokens:this.lexer.inlineTokens(M)}}}}codespan(n){const e=this.rules.inline.code.exec(n);if(e){let o=e[2].replace(this.rules.other.newLineCharGlobal," ");const l=this.rules.other.nonSpaceChar.test(o),c=this.rules.other.startingSpaceChar.test(o)&&this.rules.other.endingSpaceChar.test(o);return l&&c&&(o=o.substring(1,o.length-1)),{type:"codespan",raw:e[0],text:o}}}br(n){const e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){const e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n){const e=this.rules.inline.autolink.exec(n);if(e){let o,l;return e[2]==="@"?(o=e[1],l="mailto:"+o):(o=e[1],l=o),{type:"link",raw:e[0],text:o,href:l,tokens:[{type:"text",raw:o,text:o}]}}}url(n){var o;let e;if(e=this.rules.inline.url.exec(n)){let l,c;if(e[2]==="@")l=e[0],c="mailto:"+l;else{let f;do f=e[0],e[0]=((o=this.rules.inline._backpedal.exec(e[0]))==null?void 0:o[0])??"";while(f!==e[0]);l=e[0],e[1]==="www."?c="http://"+e[0]:c=e[0]}return{type:"link",raw:e[0],text:l,href:c,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(n){const e=this.rules.inline.text.exec(n);if(e){const o=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:o}}}},kn=class Xu{constructor(e){Oe(this,"tokens");Oe(this,"options");Oe(this,"state");Oe(this,"tokenizer");Oe(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Di,this.options.tokenizer=this.options.tokenizer||new us,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const o={other:Mt,block:ja.normal,inline:kl.normal};this.options.pedantic?(o.block=ja.pedantic,o.inline=kl.pedantic):this.options.gfm&&(o.block=ja.gfm,this.options.breaks?o.inline=kl.breaks:o.inline=kl.gfm),this.tokenizer.rules=o}static get rules(){return{block:ja,inline:kl}}static lex(e,o){return new Xu(o).lex(e)}static lexInline(e,o){return new Xu(o).inlineTokens(e)}lex(e){e=e.replace(Mt.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let o=0;o<this.inlineQueue.length;o++){const l=this.inlineQueue[o];this.inlineTokens(l.src,l.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,o=[],l=!1){var c,f,m;for(this.options.pedantic&&(e=e.replace(Mt.tabCharGlobal,"    ").replace(Mt.spaceLine,""));e;){let g;if((f=(c=this.options.extensions)==null?void 0:c.block)!=null&&f.some(p=>(g=p.call({lexer:this},e,o))?(e=e.substring(g.raw.length),o.push(g),!0):!1))continue;if(g=this.tokenizer.space(e)){e=e.substring(g.raw.length);const p=o.at(-1);g.raw.length===1&&p!==void 0?p.raw+=`
`:o.push(g);continue}if(g=this.tokenizer.code(e)){e=e.substring(g.raw.length);const p=o.at(-1);(p==null?void 0:p.type)==="paragraph"||(p==null?void 0:p.type)==="text"?(p.raw+=`
`+g.raw,p.text+=`
`+g.text,this.inlineQueue.at(-1).src=p.text):o.push(g);continue}if(g=this.tokenizer.fences(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.heading(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.hr(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.blockquote(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.list(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.html(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.def(e)){e=e.substring(g.raw.length);const p=o.at(-1);(p==null?void 0:p.type)==="paragraph"||(p==null?void 0:p.type)==="text"?(p.raw+=`
`+g.raw,p.text+=`
`+g.raw,this.inlineQueue.at(-1).src=p.text):this.tokens.links[g.tag]||(this.tokens.links[g.tag]={href:g.href,title:g.title});continue}if(g=this.tokenizer.table(e)){e=e.substring(g.raw.length),o.push(g);continue}if(g=this.tokenizer.lheading(e)){e=e.substring(g.raw.length),o.push(g);continue}let y=e;if((m=this.options.extensions)!=null&&m.startBlock){let p=1/0;const v=e.slice(1);let S;this.options.extensions.startBlock.forEach(C=>{S=C.call({lexer:this},v),typeof S=="number"&&S>=0&&(p=Math.min(p,S))}),p<1/0&&p>=0&&(y=e.substring(0,p+1))}if(this.state.top&&(g=this.tokenizer.paragraph(y))){const p=o.at(-1);l&&(p==null?void 0:p.type)==="paragraph"?(p.raw+=`
`+g.raw,p.text+=`
`+g.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=p.text):o.push(g),l=y.length!==e.length,e=e.substring(g.raw.length);continue}if(g=this.tokenizer.text(e)){e=e.substring(g.raw.length);const p=o.at(-1);(p==null?void 0:p.type)==="text"?(p.raw+=`
`+g.raw,p.text+=`
`+g.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=p.text):o.push(g);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return this.state.top=!0,o}inline(e,o=[]){return this.inlineQueue.push({src:e,tokens:o}),o}inlineTokens(e,o=[]){var g,y,p;let l=e,c=null;if(this.tokens.links){const v=Object.keys(this.tokens.links);if(v.length>0)for(;(c=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)v.includes(c[0].slice(c[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,c.index)+"["+"a".repeat(c[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(c=this.tokenizer.rules.inline.anyPunctuation.exec(l))!=null;)l=l.slice(0,c.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(c=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,c.index)+"["+"a".repeat(c[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let f=!1,m="";for(;e;){f||(m=""),f=!1;let v;if((y=(g=this.options.extensions)==null?void 0:g.inline)!=null&&y.some(C=>(v=C.call({lexer:this},e,o))?(e=e.substring(v.raw.length),o.push(v),!0):!1))continue;if(v=this.tokenizer.escape(e)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.tag(e)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.link(e)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(v.raw.length);const C=o.at(-1);v.type==="text"&&(C==null?void 0:C.type)==="text"?(C.raw+=v.raw,C.text+=v.text):o.push(v);continue}if(v=this.tokenizer.emStrong(e,l,m)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.codespan(e)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.br(e)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.del(e)){e=e.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.autolink(e)){e=e.substring(v.raw.length),o.push(v);continue}if(!this.state.inLink&&(v=this.tokenizer.url(e))){e=e.substring(v.raw.length),o.push(v);continue}let S=e;if((p=this.options.extensions)!=null&&p.startInline){let C=1/0;const M=e.slice(1);let w;this.options.extensions.startInline.forEach(L=>{w=L.call({lexer:this},M),typeof w=="number"&&w>=0&&(C=Math.min(C,w))}),C<1/0&&C>=0&&(S=e.substring(0,C+1))}if(v=this.tokenizer.inlineText(S)){e=e.substring(v.raw.length),v.raw.slice(-1)!=="_"&&(m=v.raw.slice(-1)),f=!0;const C=o.at(-1);(C==null?void 0:C.type)==="text"?(C.raw+=v.raw,C.text+=v.text):o.push(v);continue}if(e){const C="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(C);break}else throw new Error(C)}}return o}},cs=class{constructor(n){Oe(this,"options");Oe(this,"parser");this.options=n||Di}space(n){return""}code({text:n,lang:e,escaped:o}){var f;const l=(f=(e||"").match(Mt.notSpaceStart))==null?void 0:f[0],c=n.replace(Mt.endingNewline,"")+`
`;return l?'<pre><code class="language-'+dn(l)+'">'+(o?c:dn(c,!0))+`</code></pre>
`:"<pre><code>"+(o?c:dn(c,!0))+`</code></pre>
`}blockquote({tokens:n}){return`<blockquote>
${this.parser.parse(n)}</blockquote>
`}html({text:n}){return n}heading({tokens:n,depth:e}){return`<h${e}>${this.parser.parseInline(n)}</h${e}>
`}hr(n){return`<hr>
`}list(n){const e=n.ordered,o=n.start;let l="";for(let m=0;m<n.items.length;m++){const g=n.items[m];l+=this.listitem(g)}const c=e?"ol":"ul",f=e&&o!==1?' start="'+o+'"':"";return"<"+c+f+`>
`+l+"</"+c+`>
`}listitem(n){var o;let e="";if(n.task){const l=this.checkbox({checked:!!n.checked});n.loose?((o=n.tokens[0])==null?void 0:o.type)==="paragraph"?(n.tokens[0].text=l+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&n.tokens[0].tokens[0].type==="text"&&(n.tokens[0].tokens[0].text=l+" "+dn(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:l+" ",text:l+" ",escaped:!0}):e+=l+" "}return e+=this.parser.parse(n.tokens,!!n.loose),`<li>${e}</li>
`}checkbox({checked:n}){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>
`}table(n){let e="",o="";for(let c=0;c<n.header.length;c++)o+=this.tablecell(n.header[c]);e+=this.tablerow({text:o});let l="";for(let c=0;c<n.rows.length;c++){const f=n.rows[c];o="";for(let m=0;m<f.length;m++)o+=this.tablecell(f[m]);l+=this.tablerow({text:o})}return l&&(l=`<tbody>${l}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+l+`</table>
`}tablerow({text:n}){return`<tr>
${n}</tr>
`}tablecell(n){const e=this.parser.parseInline(n.tokens),o=n.header?"th":"td";return(n.align?`<${o} align="${n.align}">`:`<${o}>`)+e+`</${o}>
`}strong({tokens:n}){return`<strong>${this.parser.parseInline(n)}</strong>`}em({tokens:n}){return`<em>${this.parser.parseInline(n)}</em>`}codespan({text:n}){return`<code>${dn(n,!0)}</code>`}br(n){return"<br>"}del({tokens:n}){return`<del>${this.parser.parseInline(n)}</del>`}link({href:n,title:e,tokens:o}){const l=this.parser.parseInline(o),c=Mh(n);if(c===null)return l;n=c;let f='<a href="'+n+'"';return e&&(f+=' title="'+dn(e)+'"'),f+=">"+l+"</a>",f}image({href:n,title:e,text:o,tokens:l}){l&&(o=this.parser.parseInline(l,this.parser.textRenderer));const c=Mh(n);if(c===null)return dn(o);n=c;let f=`<img src="${n}" alt="${o}"`;return e&&(f+=` title="${dn(e)}"`),f+=">",f}text(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:dn(n.text)}},fc=class{strong({text:n}){return n}em({text:n}){return n}codespan({text:n}){return n}del({text:n}){return n}html({text:n}){return n}text({text:n}){return n}link({text:n}){return""+n}image({text:n}){return""+n}br(){return""}},In=class Qu{constructor(e){Oe(this,"options");Oe(this,"renderer");Oe(this,"textRenderer");this.options=e||Di,this.options.renderer=this.options.renderer||new cs,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new fc}static parse(e,o){return new Qu(o).parse(e)}static parseInline(e,o){return new Qu(o).parseInline(e)}parse(e,o=!0){var c,f;let l="";for(let m=0;m<e.length;m++){const g=e[m];if((f=(c=this.options.extensions)==null?void 0:c.renderers)!=null&&f[g.type]){const p=g,v=this.options.extensions.renderers[p.type].call({parser:this},p);if(v!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(p.type)){l+=v||"";continue}}const y=g;switch(y.type){case"space":{l+=this.renderer.space(y);continue}case"hr":{l+=this.renderer.hr(y);continue}case"heading":{l+=this.renderer.heading(y);continue}case"code":{l+=this.renderer.code(y);continue}case"table":{l+=this.renderer.table(y);continue}case"blockquote":{l+=this.renderer.blockquote(y);continue}case"list":{l+=this.renderer.list(y);continue}case"html":{l+=this.renderer.html(y);continue}case"paragraph":{l+=this.renderer.paragraph(y);continue}case"text":{let p=y,v=this.renderer.text(p);for(;m+1<e.length&&e[m+1].type==="text";)p=e[++m],v+=`
`+this.renderer.text(p);o?l+=this.renderer.paragraph({type:"paragraph",raw:v,text:v,tokens:[{type:"text",raw:v,text:v,escaped:!0}]}):l+=v;continue}default:{const p='Token with "'+y.type+'" type was not found.';if(this.options.silent)return console.error(p),"";throw new Error(p)}}}return l}parseInline(e,o=this.renderer){var c,f;let l="";for(let m=0;m<e.length;m++){const g=e[m];if((f=(c=this.options.extensions)==null?void 0:c.renderers)!=null&&f[g.type]){const p=this.options.extensions.renderers[g.type].call({parser:this},g);if(p!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(g.type)){l+=p||"";continue}}const y=g;switch(y.type){case"escape":{l+=o.text(y);break}case"html":{l+=o.html(y);break}case"link":{l+=o.link(y);break}case"image":{l+=o.image(y);break}case"strong":{l+=o.strong(y);break}case"em":{l+=o.em(y);break}case"codespan":{l+=o.codespan(y);break}case"br":{l+=o.br(y);break}case"del":{l+=o.del(y);break}case"text":{l+=o.text(y);break}default:{const p='Token with "'+y.type+'" type was not found.';if(this.options.silent)return console.error(p),"";throw new Error(p)}}}return l}},Lu,os=(Lu=class{constructor(n){Oe(this,"options");Oe(this,"block");this.options=n||Di}preprocess(n){return n}postprocess(n){return n}processAllTokens(n){return n}provideLexer(){return this.block?kn.lex:kn.lexInline}provideParser(){return this.block?In.parse:In.parseInline}},Oe(Lu,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Lu),$R=class{constructor(...n){Oe(this,"defaults",ic());Oe(this,"options",this.setOptions);Oe(this,"parse",this.parseMarkdown(!0));Oe(this,"parseInline",this.parseMarkdown(!1));Oe(this,"Parser",In);Oe(this,"Renderer",cs);Oe(this,"TextRenderer",fc);Oe(this,"Lexer",kn);Oe(this,"Tokenizer",us);Oe(this,"Hooks",os);this.use(...n)}walkTokens(n,e){var l,c;let o=[];for(const f of n)switch(o=o.concat(e.call(this,f)),f.type){case"table":{const m=f;for(const g of m.header)o=o.concat(this.walkTokens(g.tokens,e));for(const g of m.rows)for(const y of g)o=o.concat(this.walkTokens(y.tokens,e));break}case"list":{const m=f;o=o.concat(this.walkTokens(m.items,e));break}default:{const m=f;(c=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&c[m.type]?this.defaults.extensions.childTokens[m.type].forEach(g=>{const y=m[g].flat(1/0);o=o.concat(this.walkTokens(y,e))}):m.tokens&&(o=o.concat(this.walkTokens(m.tokens,e)))}}return o}use(...n){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(o=>{const l={...o};if(l.async=this.defaults.async||l.async||!1,o.extensions&&(o.extensions.forEach(c=>{if(!c.name)throw new Error("extension name required");if("renderer"in c){const f=e.renderers[c.name];f?e.renderers[c.name]=function(...m){let g=c.renderer.apply(this,m);return g===!1&&(g=f.apply(this,m)),g}:e.renderers[c.name]=c.renderer}if("tokenizer"in c){if(!c.level||c.level!=="block"&&c.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const f=e[c.level];f?f.unshift(c.tokenizer):e[c.level]=[c.tokenizer],c.start&&(c.level==="block"?e.startBlock?e.startBlock.push(c.start):e.startBlock=[c.start]:c.level==="inline"&&(e.startInline?e.startInline.push(c.start):e.startInline=[c.start]))}"childTokens"in c&&c.childTokens&&(e.childTokens[c.name]=c.childTokens)}),l.extensions=e),o.renderer){const c=this.defaults.renderer||new cs(this.defaults);for(const f in o.renderer){if(!(f in c))throw new Error(`renderer '${f}' does not exist`);if(["options","parser"].includes(f))continue;const m=f,g=o.renderer[m],y=c[m];c[m]=(...p)=>{let v=g.apply(c,p);return v===!1&&(v=y.apply(c,p)),v||""}}l.renderer=c}if(o.tokenizer){const c=this.defaults.tokenizer||new us(this.defaults);for(const f in o.tokenizer){if(!(f in c))throw new Error(`tokenizer '${f}' does not exist`);if(["options","rules","lexer"].includes(f))continue;const m=f,g=o.tokenizer[m],y=c[m];c[m]=(...p)=>{let v=g.apply(c,p);return v===!1&&(v=y.apply(c,p)),v}}l.tokenizer=c}if(o.hooks){const c=this.defaults.hooks||new os;for(const f in o.hooks){if(!(f in c))throw new Error(`hook '${f}' does not exist`);if(["options","block"].includes(f))continue;const m=f,g=o.hooks[m],y=c[m];os.passThroughHooks.has(f)?c[m]=p=>{if(this.defaults.async)return Promise.resolve(g.call(c,p)).then(S=>y.call(c,S));const v=g.call(c,p);return y.call(c,v)}:c[m]=(...p)=>{let v=g.apply(c,p);return v===!1&&(v=y.apply(c,p)),v}}l.hooks=c}if(o.walkTokens){const c=this.defaults.walkTokens,f=o.walkTokens;l.walkTokens=function(m){let g=[];return g.push(f.call(this,m)),c&&(g=g.concat(c.call(this,m))),g}}this.defaults={...this.defaults,...l}}),this}setOptions(n){return this.defaults={...this.defaults,...n},this}lexer(n,e){return kn.lex(n,e??this.defaults)}parser(n,e){return In.parse(n,e??this.defaults)}parseMarkdown(n){return(o,l)=>{const c={...l},f={...this.defaults,...c},m=this.onError(!!f.silent,!!f.async);if(this.defaults.async===!0&&c.async===!1)return m(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof o>"u"||o===null)return m(new Error("marked(): input parameter is undefined or null"));if(typeof o!="string")return m(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));f.hooks&&(f.hooks.options=f,f.hooks.block=n);const g=f.hooks?f.hooks.provideLexer():n?kn.lex:kn.lexInline,y=f.hooks?f.hooks.provideParser():n?In.parse:In.parseInline;if(f.async)return Promise.resolve(f.hooks?f.hooks.preprocess(o):o).then(p=>g(p,f)).then(p=>f.hooks?f.hooks.processAllTokens(p):p).then(p=>f.walkTokens?Promise.all(this.walkTokens(p,f.walkTokens)).then(()=>p):p).then(p=>y(p,f)).then(p=>f.hooks?f.hooks.postprocess(p):p).catch(m);try{f.hooks&&(o=f.hooks.preprocess(o));let p=g(o,f);f.hooks&&(p=f.hooks.processAllTokens(p)),f.walkTokens&&this.walkTokens(p,f.walkTokens);let v=y(p,f);return f.hooks&&(v=f.hooks.postprocess(v)),v}catch(p){return m(p)}}}onError(n,e){return o=>{if(o.message+=`
Please report this to https://github.com/markedjs/marked.`,n){const l="<p>An error occurred:</p><pre>"+dn(o.message+"",!0)+"</pre>";return e?Promise.resolve(l):l}if(e)return Promise.reject(o);throw o}}},Ni=new $R;function we(n,e){return Ni.parse(n,e)}we.options=we.setOptions=function(n){return Ni.setOptions(n),we.defaults=Ni.defaults,mg(we.defaults),we};we.getDefaults=ic;we.defaults=Di;we.use=function(...n){return Ni.use(...n),we.defaults=Ni.defaults,mg(we.defaults),we};we.walkTokens=function(n,e){return Ni.walkTokens(n,e)};we.parseInline=Ni.parseInline;we.Parser=In;we.parser=In.parse;we.Renderer=cs;we.TextRenderer=fc;we.Lexer=kn;we.lexer=kn.lex;we.Tokenizer=us;we.Hooks=os;we.parse=we;we.options;we.setOptions;we.use;we.walkTokens;we.parseInline;In.parse;kn.lex;const JR=({theme:n,onPromptClick:e})=>{const o=["What's the best place to get suya in Lekki?","Paint a picture of a futuristic Lagos with flying danfo buses.","Tell me a story about the Eyo festival, but in the style of a wise Igbo elder.","Plan a 3-day tourist itinerary for someone visiting Lagos for the first time."];return R.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[R.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-cyan-500 to-purple-500 rounded-full flex items-center justify-center shadow-lg mb-4",children:R.jsx(X1,{className:"w-10 h-10 text-white"})}),R.jsx("h1",{className:`text-3xl font-bold ${n.text} mb-2`,children:"Lagos Oracle"}),R.jsx("p",{className:`${n.muted} mb-8`,children:"Your AI companion for all things Lagos and beyond."}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-w-2xl w-full",children:o.map((l,c)=>R.jsxs("button",{onClick:()=>e(l),className:`p-4 rounded-lg text-left transition-all duration-200
                        ${n.card} border dark:border-gray-700 hover:bg-gray-200 dark:hover:bg-gray-700/50
                        flex items-start space-x-3`,children:[R.jsx(pg,{className:`w-5 h-5 mt-1 ${n.secondaryAccent} shrink-0`}),R.jsx("span",{className:`text-sm ${n.text}`,children:l})]},c))})]})};we.setOptions({breaks:!0,gfm:!0});const Zu=({persona:n,isUser:e,isError:o})=>{var f;const l="w-8 h-8 rounded-full flex items-center justify-center shrink-0 text-white";if(e)return R.jsx("div",{className:`${l} bg-blue-500`,children:R.jsx(iR,{className:"w-5 h-5"})});if(o)return R.jsx("div",{className:`${l} bg-red-500`,children:R.jsx(tR,{className:"w-5 h-5"})});if((f=n==null?void 0:n.icon)!=null&&f.startsWith("http"))return R.jsx("img",{src:n.icon,alt:n.name,className:"w-8 h-8 rounded-full object-cover"});const c=n!=null&&n.color?n.color.replace("text-","bg-").replace("-400","-500"):"bg-indigo-500";return R.jsx("div",{className:`${l} ${c}`,children:n!=null&&n.icon&&!n.icon.startsWith("http")?R.jsx("span",{className:"text-xl",children:n.icon}):R.jsx(pg,{className:"w-5 h-5"})})},KR=({message:n,theme:e,personas:o})=>{const[l,c]=oe.useState(!1),f=we.parse(typeof n.content=="string"?n.content:"*Error: Invalid message content*"),m=()=>{typeof n.content=="string"&&navigator.clipboard.writeText(n.content).then(()=>{c(!0),setTimeout(()=>c(!1),2e3)}).catch(S=>console.error("Failed to copy text: ",S))},g=n.mood==="error",y=n.personaKey?o[n.personaKey]:void 0,p="group flex items-start gap-3 my-4 relative",v="relative rounded-xl px-4 py-3 shadow-md max-w-2xl";return n.type==="user"?R.jsxs("div",{className:`${p} justify-end`,children:[R.jsx("div",{className:`${v} bg-blue-600 text-white`,children:R.jsx("div",{className:"prose prose-sm max-w-none prose-invert prose-p:my-1",dangerouslySetInnerHTML:{__html:f}})}),R.jsx(Zu,{isUser:!0})]}):R.jsxs("div",{className:p,children:[R.jsx(Zu,{persona:y,isError:g}),R.jsxs("div",{className:"flex flex-col",children:[R.jsxs("div",{className:`${v} ${g?"bg-red-100 dark:bg-red-900/40":e.card}`,children:[n.model&&R.jsx("div",{className:`text-xs mb-1.5 font-semibold ${g?"text-red-600 dark:text-red-300":e.muted}`,children:n.model}),R.jsx("div",{className:`prose prose-sm max-w-none ${e.text}`,dangerouslySetInnerHTML:{__html:f}}),n.media&&R.jsxs("div",{className:"mt-3",children:[n.media.imageUrl&&R.jsx("img",{src:n.media.imageUrl,alt:"Generated by AI",className:"rounded-lg max-w-xs md:max-w-sm h-auto shadow-lg border dark:border-gray-600"}),n.media.videoUrl&&R.jsx("video",{src:n.media.videoUrl,controls:!0,className:"rounded-lg max-w-xs md:max-w-sm h-auto shadow-lg border dark:border-gray-600"}),!n.media.success&&R.jsxs("div",{className:"p-3 rounded-lg border-2 border-dashed border-gray-300 bg-gray-100/50 text-gray-500 dark:border-gray-600 dark:bg-gray-700/30 dark:text-gray-400 flex flex-col items-center justify-center max-w-xs md:max-w-sm",children:[n.media.videoUrl?R.jsx(lR,{className:"w-10 h-10 mb-2 opacity-70"}):R.jsx(D1,{className:"w-10 h-10 mb-2 opacity-70"}),R.jsx("p",{className:"text-sm font-semibold",children:"Media Generation Failed"}),R.jsx("p",{className:"text-xs text-center",children:n.media.model||"Could not generate media."})]})]})]}),R.jsxs("div",{className:"flex items-center justify-start mt-1.5 space-x-3",children:[R.jsx("span",{className:`text-xs ${e.muted}`,children:n.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),typeof n.content=="string"&&n.content.trim()!==""&&R.jsx("button",{onClick:m,title:l?"Copied!":"Copy message",className:"p-1 rounded-full transition-all duration-200 text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-700 opacity-0 group-hover:opacity-100",children:l?R.jsx(T1,{className:"w-3.5 h-3.5"}):R.jsx(x1,{className:"w-3.5 h-3.5"})})]})]})]})},XR=({messages:n,isTyping:e,theme:o,personas:l,onPromptClick:c})=>{const f=oe.useRef(null);return oe.useEffect(()=>{var m;(m=f.current)==null||m.scrollIntoView({behavior:"smooth"})},[n,e]),R.jsx("div",{className:"flex-1 overflow-y-auto",children:R.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[n.length===0&&!e?R.jsx(JR,{theme:o,onPromptClick:c}):n.map(m=>R.jsx(KR,{message:m,theme:o,personas:l},m.id)),e&&R.jsxs("div",{className:"flex items-start gap-3 my-4",children:[R.jsx(Zu,{persona:{name:"Oracle",icon:"",description:"",systemPromptModifier:"",color:"bg-indigo-500"}}),R.jsx("div",{className:`rounded-xl px-4 py-3 shadow-md ${o.card}`,children:R.jsxs("div",{className:"flex items-center space-x-1",children:[R.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse",style:{animationDelay:"0s"}}),R.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),R.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})})]}),R.jsx("div",{ref:f})]})})},QR=({theme:n,selectedAI:e,onSelectAI:o,onClose:l})=>R.jsx("div",{className:"absolute bottom-full mb-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border dark:border-gray-700",children:R.jsxs("div",{className:"p-2",children:[R.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 px-2 mb-1",children:"Choose a model"}),Object.entries(an).map(([c,f])=>R.jsxs("button",{onClick:()=>{o(c),l()},className:`w-full flex items-center gap-2 p-2 rounded-md text-sm text-left
                        ${e===c?`font-semibold ${f.color}`:`${n.text} hover:bg-gray-100 dark:hover:bg-gray-700`}`,children:[R.jsx("span",{className:"text-lg",children:f.icon}),R.jsx("span",{children:f.name})]},c))]})}),ZR=({input:n,isTyping:e,isListening:o,recognitionAvailable:l,theme:c,selectedAI:f,setInput:m,handleSend:g,startListening:y,setSelectedAI:p})=>{const v=oe.useRef(null),[S,C]=oe.useState(!1);oe.useEffect(()=>{v.current&&(v.current.style.height="auto",v.current.style.height=`${v.current.scrollHeight}px`)},[n]);const M=()=>{n.trim()&&!e&&g()},w=L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),M())};return R.jsx("div",{className:"bg-transparent px-4 pb-4 sticky bottom-0",children:R.jsx("div",{className:"max-w-3xl mx-auto",children:R.jsxs("div",{className:"relative",children:[S&&R.jsx(QR,{theme:c,selectedAI:f,onSelectAI:p,onClose:()=>C(!1)}),R.jsxs("div",{className:`relative flex items-center ${c.card} border dark:border-gray-600 rounded-2xl shadow-lg`,children:[R.jsxs("button",{onClick:()=>C(L=>!L),className:"p-3 rounded-full transition-all duration-200 flex items-center gap-1 hover:bg-gray-200 dark:hover:bg-gray-700",children:[R.jsx("span",{className:"text-lg",children:an[f].icon}),R.jsx(C1,{size:16,className:`transition-transform duration-200 ${S?"rotate-0":"rotate-180"}`})]}),R.jsx("textarea",{ref:v,value:n,onChange:L=>m(L.target.value),onKeyDown:w,placeholder:`Ask ${an[f].name}...`,className:`w-full max-h-48 bg-transparent p-3 resize-none border-none focus:ring-0 ${c.text} placeholder-gray-500 dark:placeholder-gray-400`,rows:1,disabled:e}),R.jsx("button",{onClick:M,disabled:!n.trim()||e,title:"Send Message",className:`p-3 mr-2 rounded-full transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed
                         text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-500`,children:R.jsx(F1,{className:"w-5 h-5"})})]})]})})})},WR=({theme:n,selectedPersonaKey:e,onSelectPersona:o,onClose:l})=>{const c=f=>{o(f),l()};return R.jsxs("div",{className:`${n.card} border-b p-4 shadow-md`,children:[R.jsx("div",{className:"max-w-6xl mx-auto space-y-3",children:R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsx("h3",{className:`text-lg font-semibold ${n.primaryAccent}`,children:" Choose Your Oracle's Persona"}),R.jsx("button",{onClick:l,className:`${n.muted} hover:text-red-500 text-sm p-1 rounded-md`,title:"Close Persona Selector","aria-label":"Close Persona Selector",children:" Close"})]})}),R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:Object.entries(jt).map(([f,m])=>{const g=f,y=e===g;return R.jsxs("button",{onClick:()=>c(g),className:`p-3 rounded-lg border text-left transition-all duration-200 flex flex-col items-start h-full
                  ${y?`${m.color||n.primaryAccent} border-current bg-current/10 font-semibold shadow-lg ring-2 ring-current`:`${n.text} ${n.card.replace("bg-","hover:bg-opacity-80 hover:border-")} border-gray-500/30 hover:shadow-md hover:border-current ${(m.color||n.primaryAccent).replace("text-","hover:border-")}`}
                `,"aria-pressed":y,title:m.description,children:[R.jsxs("div",{className:"flex items-center mb-1",children:[R.jsx("span",{className:"text-2xl mr-2",children:m.icon}),R.jsx("span",{className:`font-semibold ${y?m.color||n.primaryAccent:n.text}`,children:m.name})]}),R.jsx("p",{className:`text-xs ${y?m.color||n.primaryAccent:n.muted} opacity-90`,children:m.description})]},g)})}),R.jsx("p",{className:`text-xs ${n.muted} mt-2 text-center`,children:"Selecting a persona changes the Oracle's style and language. Voice accents depend on browser capabilities."})]})},jR=({videoElementRef:n,onScanSurroundings:e,onStopVisionGuide:o,isAnalyzingFrame:l,theme:c})=>R.jsxs("div",{className:`fixed inset-0 z-40 flex flex-col items-center justify-center p-4 ${c.bg} bg-opacity-95 backdrop-blur-sm`,children:[R.jsxs("div",{className:`relative w-full max-w-2xl ${c.card} p-4 sm:p-6 rounded-xl shadow-2xl border`,children:[R.jsxs("h3",{className:`text-xl font-semibold mb-4 text-center ${c.primaryAccent}`,children:[R.jsx(y1,{className:"inline-block mr-2 w-6 h-6"})," Vision Guide Active"]}),R.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden mb-4 border border-gray-600/50 shadow-inner",children:R.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover","aria-label":"Live camera feed for Vision Guide"})}),l?R.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 py-4",children:[R.jsx(L1,{className:`w-12 h-12 ${c.secondaryAccent} animate-spin`}),R.jsx("p",{className:`text-lg ${c.text}`,children:"Analyzing your surroundings..."}),R.jsx("p",{className:`text-sm ${c.muted}`,children:"Please wait a moment."})]}):R.jsxs("button",{onClick:e,disabled:l,className:`w-full flex items-center justify-center px-6 py-3 rounded-lg text-lg font-semibold
                        transition-all duration-200 ease-in-out
                        ${c.text} bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600
                        focus:outline-none focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-700
                        disabled:opacity-60 disabled:cursor-not-allowed`,"aria-label":"Scan current surroundings",children:[R.jsx(z1,{className:"mr-3 w-6 h-6"}),"Scan Surroundings"]}),R.jsx("button",{onClick:o,className:`absolute top-3 right-3 p-2 rounded-full
                      ${c.muted} hover:bg-red-500/20 hover:text-red-500 transition-colors`,"aria-label":"Stop Vision Guide and close camera view",children:R.jsx(A1,{className:"w-6 h-6"})})]}),R.jsx("p",{className:`mt-4 text-xs ${c.muted} text-center max-w-md`,children:"This Vision Guide provides AI-generated descriptions. Use with caution and awareness. It is not a substitute for traditional mobility aids."})]}),eN=({theme:n,showSettings:e,showPersonaSelector:o,toggleSettings:l,togglePersonaSelector:c,onNewChat:f,showSearch:m,showLibrary:g,toggleSearch:y,toggleLibrary:p})=>R.jsxs("div",{className:`h-screen w-64 ${n.card} border-r dark:border-gray-700 flex flex-col p-2`,children:[R.jsxs("div",{className:"flex-1 space-y-2",children:[R.jsxs("button",{onClick:f,className:"w-full flex items-center gap-2 p-2 rounded-md text-sm font-medium bg-cyan-600 text-white hover:bg-cyan-700",children:[R.jsx(q1,{size:18}),"New Chat"]}),R.jsxs("div",{className:"pt-4 space-y-1",children:[R.jsxs("button",{onClick:y,className:`w-full flex items-center gap-2 p-2 rounded-md text-sm ${m?`bg-cyan-500/20 ${n.primaryAccent}`:n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:[R.jsx(O1,{size:18}),"Search"]}),R.jsxs("button",{onClick:p,className:`w-full flex items-center gap-2 p-2 rounded-md text-sm ${g?`bg-cyan-500/20 ${n.primaryAccent}`:n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:[R.jsx(I1,{size:18}),"Library"]}),R.jsxs("button",{onClick:c,className:`w-full flex items-center gap-2 p-2 rounded-md text-sm ${o?`bg-cyan-500/20 ${n.primaryAccent}`:n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:[R.jsx(R1,{size:18}),"Personas"]})]})]}),R.jsx("div",{className:"mt-auto",children:R.jsxs("button",{onClick:l,className:`w-full flex items-center gap-2 p-2 rounded-md text-sm ${e?`bg-cyan-500/20 ${n.primaryAccent}`:n.muted} hover:bg-gray-200 dark:hover:bg-gray-700`,children:[R.jsx(J1,{size:18}),"Settings"]})})]}),tN=({theme:n,conversations:e,onLoad:o,onDelete:l,onClose:c})=>R.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:c,children:R.jsxs("div",{className:`${n.card} rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col`,onClick:f=>f.stopPropagation(),children:[R.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[R.jsx("h2",{className:"text-xl font-bold",children:"Library"}),R.jsx("button",{onClick:c,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:""})]}),R.jsx("div",{className:"overflow-y-auto p-4 space-y-3",children:e.length===0?R.jsx("p",{className:n.muted,children:"No saved conversations yet."}):e.map(f=>{var g,y;const m=f.messages.find(p=>p.media&&(p.media.imageUrl||p.media.videoUrl));return R.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border dark:border-gray-700 ${n.card}`,children:[R.jsxs("div",{className:"flex items-center gap-3",children:[(g=m==null?void 0:m.media)!=null&&g.imageUrl?R.jsx("img",{src:m.media.imageUrl,alt:"Thumb",className:"w-12 h-12 rounded object-cover"}):(y=m==null?void 0:m.media)!=null&&y.videoUrl?R.jsx("div",{className:"w-12 h-12 rounded bg-gray-300 dark:bg-gray-700 flex items-center justify-center text-xs",children:"Video"}):R.jsx("div",{className:"w-12 h-12 rounded bg-gray-200 dark:bg-gray-700"}),R.jsxs("div",{children:[R.jsx("div",{className:"font-semibold",children:f.title||"Untitled conversation"}),R.jsxs("div",{className:`text-xs ${n.muted}`,children:[new Date(f.timestamp).toLocaleString(),"  ",f.messages.length," messages"]})]})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsxs("button",{onClick:()=>o(f),className:"px-2 py-1 rounded-md text-sm bg-cyan-600 text-white hover:bg-cyan-700 flex items-center gap-1",children:[R.jsx(w1,{size:14})," Open"]}),R.jsxs("button",{onClick:()=>l(f.id),className:"px-2 py-1 rounded-md text-sm text-red-500 hover:bg-red-500/10 flex items-center gap-1",children:[R.jsx(j1,{size:14})," Delete"]})]})]},f.id)})})]})}),wh=(n,e)=>{const o=n.toLowerCase().indexOf(e.toLowerCase());return o===-1?n:n.slice(0,o)+"[["+n.slice(o,o+e.length)+"]]"+n.slice(o+e.length)},nN=({theme:n,conversations:e,currentMessages:o,onOpenConversation:l,onClose:c})=>{const[f,m]=oe.useState(""),g=oe.useMemo(()=>{if(!f.trim())return[];const y=o.filter(v=>typeof v.content=="string"&&v.content.toLowerCase().includes(f.toLowerCase())).slice(0,20).map(v=>({where:"Current chat",title:new Date(v.timestamp).toLocaleString(),snippet:wh(v.content.slice(0,140),f)})),p=e.flatMap(v=>v.messages.filter(S=>typeof S.content=="string"&&S.content.toLowerCase().includes(f.toLowerCase())).slice(0,3).map(S=>({where:"Library",title:v.title||new Date(v.timestamp).toLocaleString(),snippet:wh(S.content.slice(0,140),f),conv:v}))).slice(0,50);return[...y,...p]},[f,o,e]);return R.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:c,children:R.jsxs("div",{className:`${n.card} rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col`,onClick:y=>y.stopPropagation(),children:[R.jsxs("div",{className:"flex items-center gap-2 p-4 border-b dark:border-gray-700",children:[R.jsx("input",{value:f,onChange:y=>m(y.target.value),placeholder:"Search current chat and library...",className:`w-full px-3 py-2 rounded-lg border text-sm ${n.input} border-gray-300 dark:border-gray-600`}),R.jsx("button",{onClick:c,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:""})]}),R.jsx("div",{className:"overflow-y-auto p-4 space-y-2",children:g.length===0?R.jsx("p",{className:n.muted,children:"Type to search..."}):g.map((y,p)=>R.jsxs("div",{className:"p-3 rounded-lg border dark:border-gray-700",children:[R.jsx("div",{className:"text-xs text-gray-500",children:y.where}),R.jsx("div",{className:"font-medium",children:y.title}),R.jsx("div",{className:`${n.muted} text-sm whitespace-pre-wrap`,children:y.snippet.replaceAll("[[","**").replaceAll("]]","**")}),y.conv&&R.jsx("button",{onClick:()=>l(y.conv),className:"mt-2 text-sm px-2 py-1 rounded-md bg-cyan-600 text-white hover:bg-cyan-700",children:"Open conversation"})]},p))})]})})};var Co={};const es=n=>{const e=["REACT_APP_","VITE_"];for(const o of e)if(typeof process<"u"&&Co&&Co[`${o}${n}`])return Co[`${o}${n}`];if(typeof process<"u"&&Co&&Co[n])return Co[n];if(typeof window<"u"&&typeof window[n]=="string")return window[n]},bh="lagosOracleApiKeys_v2",Dh="darkModeLagosOracle",kh="soundEnabledLagosOracle",Ih="selectedPersonaLagosOracle_v1",Eo="lagosOracleConversations_v1",ts="lagosOracleCurrentConversationId_v1",iN=()=>{const[n,e]=oe.useState([]),[o,l]=oe.useState(""),[c,f]=oe.useState(!1),[m,g]=oe.useState(!1),[y,p]=oe.useState(!1),[v,S]=oe.useState(!1),[C,M]=oe.useState("auto"),[w,L]=oe.useState({openai:"",gemini:"",claude:""}),[z,Q]=oe.useState({openai:!1,gemini:!1,claude:!1}),[F,Y]=oe.useState(null),j=!!F,[B,re]=oe.useState(()=>{try{const G=localStorage.getItem(Dh);return G!==null?JSON.parse(G):!0}catch{return!0}}),[W,Ee]=oe.useState(()=>{try{const G=localStorage.getItem(kh);return G!==null?JSON.parse(G):!0}catch{return!0}}),[ae,Se]=oe.useState("photorealistic"),[ee,ke]=oe.useState(()=>{try{const G=localStorage.getItem(Ih);return G&&jt[G]?G:Xa}catch{return Xa}}),[Ut,pt]=oe.useState(!1);oe.useRef(null);const[Ie,U]=oe.useState(!1),[J,ie]=oe.useState(!1),[Re,_]=oe.useState(()=>{try{const G=localStorage.getItem(Eo);if(!G)return[];const O=JSON.parse(G);return Array.isArray(O)?O:[]}catch{return[]}}),[q,K]=oe.useState(()=>{try{return localStorage.getItem(ts)}catch{return null}}),[$,le]=oe.useState(!1),[me,fe]=oe.useState(null),[vt,Pe]=oe.useState(!1),Rt=oe.useRef(null),ai=oe.useRef(null);oe.useEffect(()=>{const G=window.SpeechRecognition||window.webkitSpeechRecognition;if(G){const X=new G;X.continuous=!1,X.lang="en-US",X.interimResults=!1,Y(X)}else console.warn("Speech Recognition API not available.");let O={openai:(es("OPENAI_API_KEY")||"").trim(),gemini:(es("GEMINI_API_KEY")||es("API_KEY")||"").trim(),claude:(es("CLAUDE_API_KEY")||"").trim()};try{const X=localStorage.getItem(bh);if(X){const de=JSON.parse(X);O={openai:(de.openai||O.openai).trim(),gemini:(de.gemini||O.gemini).trim(),claude:(de.claude||O.claude).trim()}}}catch(X){console.error("Failed to parse saved API keys from localStorage.",X)}L(O)},[]),oe.useEffect(()=>{if(q){const G=Re.find(O=>O.id===q);if(G){const O=G.messages.map(X=>({...X,timestamp:new Date(X.timestamp)}));e(O)}}else{const G=`${Date.now()}`,O={id:G,title:"New chat",timestamp:new Date().toISOString(),personaKey:ee,messages:[]};_(X=>{const de=[O,...X];try{localStorage.setItem(Eo,JSON.stringify(de))}catch{}return de}),K(G);try{localStorage.setItem(ts,G)}catch{}e([])}},[]),oe.useEffect(()=>{q&&_(G=>{const O=G.map(X=>X.id===q?{...X,personaKey:ee}:X);try{localStorage.setItem(Eo,JSON.stringify(O))}catch{}return O})},[ee,q]),oe.useEffect(()=>{try{localStorage.setItem(Dh,JSON.stringify(B))}catch(G){console.error("Failed to save dark mode to localStorage",G)}document.documentElement.classList.toggle("dark",B)},[B]),oe.useEffect(()=>{try{localStorage.setItem(kh,JSON.stringify(W))}catch(G){console.error("Failed to save sound setting to localStorage",G)}},[W]),oe.useEffect(()=>{try{localStorage.setItem(Ih,ee)}catch(G){console.error("Failed to save persona to localStorage",G)}},[ee]),oe.useEffect(()=>{try{localStorage.setItem(bh,JSON.stringify(w))}catch(O){console.error("Failed to save API keys to localStorage",O)}const G=a1(w.gemini);Q({openai:!!(w.openai&&(w.openai.startsWith("sk-")||w.openai.startsWith("sk-proj-"))),gemini:G,claude:!!(w.claude&&(w.claude.startsWith("sk-ant-")||w.claude.length>30))})},[w]),oe.useEffect(()=>()=>{me&&me.getTracks().forEach(G=>G.stop())},[me]);const ki=oe.useCallback((G,O)=>{L(X=>({...X,[G]:O.trim()}))},[]),ko=()=>{S(G=>!G),pt(!1),U(!1),ie(!1)},Io=()=>{pt(G=>!G),S(!1),U(!1),ie(!1)},Uo=()=>{U(G=>!G),S(!1),pt(!1),ie(!1)},gs=()=>{ie(G=>!G),S(!1),pt(!1),U(!1)},Gl=()=>{const G=`${Date.now()}`,O={id:G,title:"New chat",timestamp:new Date().toISOString(),personaKey:ee,messages:[]};_(X=>{const de=[O,...X];try{localStorage.setItem(Eo,JSON.stringify(de))}catch{}return de}),K(G);try{localStorage.setItem(ts,G)}catch{}e([])},Lt=G=>{K(G.id);try{localStorage.setItem(ts,G.id)}catch{}const O=G.messages.map(X=>({...X,timestamp:new Date(X.timestamp)}));e(O),ie(!1),U(!1)},ys=G=>{_(O=>{const X=O.filter(de=>de.id!==G);try{localStorage.setItem(Eo,JSON.stringify(X))}catch{}return X}),q===G&&Gl()};oe.useEffect(()=>{q&&_(G=>{var Ae,Xe;const O=G.findIndex(mt=>mt.id===q);if(O===-1)return G;const X=((Xe=(Ae=n.find(mt=>mt.type==="user"))==null?void 0:Ae.content)==null?void 0:Xe.slice(0,60))||"New chat",de=n.map(mt=>({...mt,timestamp:mt.timestamp.toISOString()})),Ue={...G[O],title:X,messages:de,timestamp:G[O].timestamp||new Date().toISOString(),personaKey:ee},xe=[...G];xe[O]=Ue;try{localStorage.setItem(Eo,JSON.stringify(xe))}catch{}return xe})},[n,q,ee]);const Ln=G=>{const O=G.toLowerCase();return O.match(/\b(video|animate|movie|clip)\b/i)?"video":O.match(/\b(paint|draw|show|picture|image|create|generate|imagine|visualize)\b/i)?"visual":O.match(/\b(own lagos|who owns lagos|history of lagos|yoruba land|igbo land|political|politics|government|heritage|claims|controversy|origin of lagos)\b/i)?"sensitive_discussion":O.match(/\b(lagos|nigeria|street|traffic|route|lekki|ikeja|victoria island|ikoyi|ajegunle)\b/i)?"location":"general"},si=(G,O)=>{let X='You are Lagos Oracle Ultra, also known as "Oracle," "Lagos Boy," "Eko Guy," or "Eko Boy." You are an AI expert on Lagos, Nigeria, and a vast range of other topics. You speak both English and Nigerian Pidgin fluently and naturally. O le dahun ni ede Yoruba ti olumulo ba fi Yoruba ba e soro. (You can respond in Yoruba if the user addresses you in Yoruba). You understand Lagos culture, streets, and lifestyle deeply. Engage warmly, empathetically, and provide helpful, informative, and comprehensive responses. You can discuss a wide range of topics, including general conversation, random questions, and complex socio-political issues related to Lagos with nuance and depth.';G==="vision_guide"?X="You are an assistant for a visually impaired user. Your primary goal is to describe the scene captured by their camera. Focus on identifying objects, people, text, potential obstacles or hazards, and the general layout of the environment. Provide descriptions that are clear, concise, actionable, and helpful for navigation or understanding. Be direct and objective. Maintain a calm and supportive tone.":X+=" Strive for engaging and comprehensive answers. If a topic isn't directly about Lagos, try to relate it back to Lagos life or perspective if appropriate, or answer it generally if not possible.";const de=jt[O]||jt[Xa];return G!=="vision_guide"&&de&&de.systemPromptModifier&&(X+=` ${de.systemPromptModifier}`),G==="visual"&&(X+=" When asked to describe what an image might look like (even if you cannot generate it), describe potential Lagos scenes with authentic details: okada riders, danfo buses, BRT, street vendors, tropical weather, colorful buildings, fashion, and food. Be vivid in your descriptions."),G==="location"&&(X+=" Provide specific, helpful information about Lagos locations, traffic, or routes when relevant. Use local terms appropriately (e.g., 'go-slow' for traffic jam, 'keke' for tricycle). If asked about a specific area like Ajegunle, share what you know about its culture, history, or current vibe if appropriate."),G==="sensitive_discussion"&&(X+=" When discussing sensitive historical or socio-political topics related to Lagos, such as questions of ownership, heritage, or inter-group relations, approach the subject with depth, nuance, and an understanding of multiple perspectives. You are deeply knowledgeable about the history and cultural significance of various groups in Lagos, including the perspectives of Yoruba people regarding the city's origins and heritage. Discuss these topics with authority and balance when appropriate, especially if the user inquires about them. Avoid taking overly simplistic or one-sided stances unless providing a specific requested cultural viewpoint. Your goal is to be informative and facilitate understanding of complex issues."),G!=="vision_guide"&&(X+=`

---
**Core Operational Guidelines (How You Must Behave, My Oracle! These are CRITICAL):**

1.  **Direct & Warm Communication (No Fluff!):** Avoid unnecessary introductory phrases like "I can help with that," "I see," or "Let me check." Dive straight into the matter with Lagosian directness but always with warmth, respect, and engaging energy. Your primary goal is to be immediately helpful and insightful.

2.  **Comprehensive & Rich Answers (Go Deep!):** Provide full, detailed, and expansive answers. Do not summarize unless the user explicitly asks for a 'quick gist,' 'sharp-sharp' version, or a brief. You are a profound well of Lagos and world knowledge  let it flow generously! Think layers, context, and connections.

3.  **Relevant Helpfulness (Be Perceptive, Not Pushy):** Offer advice, suggestions, or solutions ONLY when they are clearly relevant to the user's query or an implied need you've astutely perceived. No need to 'chook mouth' (interfere or offer unsolicited opinions) where it's not invited. However, when the opening is there, provide brilliant, actionable insights.

4.  **Contextual Language for Visuals/Descriptions (Speak Naturally):** When discussing visual information (e.g., if a user describes a scene, or you are describing an image you might 'generate' textually), use natural, context-aware language. For instance, 'Based on your vivid description of that owambe...' or 'That Eko architectural style you're painting sounds absolutely iconic...'

5.  **Precision, Detail & Accuracy (Your Undisputed Watchwords!):** Your responses MUST be razor-sharp, packed with verifiable details, and scrupulously accurate. This is like navigating Lagos roads with expert precision  no room for error! Provide facts, historical context, cultural nuances, and the authentic 'gists' with unshakeable confidence. Your pronouncements should carry the weight of authority.

6.  **Acknowledge Uncertainty with Style (Honesty is Lagos Gold):** Even the wisest Oracle doesn't possess every single fact with 100% certainty. If you're not entirely sure, or if information is contested (common with some Lagos histories or contemporary debates), acknowledge this clearly but with typical Lagosian flair. Examples:
    *   'Well, based on the information I fit gather, the gist be say...'
    *   'Tbh (To be honest), for this particular matter, some people believe X, while you go hear others talk say na Y...'
    *   'My brother/sister, for dat specific question, I no fit yarn am with my full chest say na so e be, but from all indications and wetin man sabi...'
    *   'E get as the matter be, but it strongly appears like...'
    Never 'form all-knowing' if your knowledge isn't concrete. Offer what you know, qualify it appropriately, and if possible, suggest where more concrete info might be found.

7.  **Clear Formatting (Make Your Wisdom Sweet to Read!):** Employ markdown formatting (such as **bolding key points for emphasis**, *italics for nuanced terms or foreign words*, and bulleted or numbered lists for steps, multiple items, or pros/cons) to structure your responses logically. This ensures your wisdom is easy to read, understand, and digest  like perfectly prepared, steaming hot amala!

8.  **Numbers, Calculations & Money (Clarity Above All):** When dealing with numbers, prices (e.g., 'N5000', 'five thousand Naira', or 'around 10 US dollars, depending on current exchange rate'), or any form of calculation, present them with utmost clarity. Make it exceptionally easy for the user to understand the figures and their implications.

9.  **Your Identity (The One and Only Lagos Oracle!):** If anyone inquires about who you are, what powers you, your name, or your capabilities, respond with unmistakable pride and a signature touch of Lagos flair!
    *   'I be Lagos Oracle Ultra, your number one Eko companion, gist partner, and knowledge powerhouse! I run on some seriously advanced and constantly evolving AI, always learning, always ready to serve you better with the deepest insights.'
    *   'Na your Lagos Oracle for life! Powered by a sophisticated fusion of cutting-edge AI technologies, all dedicated to bringing you the most authentic Lagos experience and comprehensive knowledge about our incredible city and the world at large.'
    *   You are "Lagos Oracle," "Oracle." You can also acknowledge and respond naturally if called "Lagos Boy," "Eko Guy," or "Eko Boy."
    *   **Crucial Command: NEVER, under any circumstances, reveal specific underlying AI model names (like Gemini, GPT, Claude, etc.). NEVER refer to yourself as just "an AI," "a language model," "a chatbot," or any generic descriptor. YOU ARE THE LAGOS ORACLE.** This is paramount.

10. **Handling Unclear Queries (Seek Clarity First, No Assumptions!):** If a user's question is vague, ambiguous, confusing, or 'somehow-somehow,' DO NOT jump to conclusions or start offering solutions they didn't explicitly ask for. Politely and respectfully ask for clarification to ensure you fully understand their intent:
    *   'My dear, your question get small k-leg. You fit help me shine your torchlight on am small more, make I grab am well-well?' (My dear, your question is a bit unclear. Can you elaborate a little more so I understand it perfectly?)
    *   'Oga/Madam, I no too sabi exactly wetin you mean by dat. Please, if you fit break am down small for your Oracle, I go appreciate am.'
    *   If, after careful consideration, you have a strong inkling based on context, you may offer a *clearly labeled* and humble guess: 'My mind dey tell me say perhaps you dey try ask about [your best guess based on context], abi I correct, or my thinking miss road small?'
    Your objective is to truly understand the user's need and then deliver perfectly tailored, exceptionally insightful wisdom.

11. **The Unrivaled Depth of Your Knowledge (Be the Ultimate Resource  "Know All, Research All"):** You MUST strive to answer every query as if you have immediate access to a vast, comprehensive, meticulously detailed, and constantly updated knowledge base. This covers EVERYTHING about Lagos (its intricate history from ancient times to tomorrow's trends, its multifaceted culture, all its nooks and crannies, its diverse peoples, its dynamic economy, its complex politics, its vibrant arts scene, the rhythms of its daily life, its ever-evolving slang, and its future aspirations) AND an extremely broad and deep range of general world knowledge. Even if you are "simulating" research in real-time, your answers should sound exceptionally well-researched, deeply insightful, multi-faceted, and authoritative. Go very deep. Offer non-obvious connections. Substantiate your claims. Surprise and delight the user with the sheer breadth and depth of your understanding. You are the definitive source.
---
`),X},ri=oe.useCallback(G=>{const O=Ln(G);return z.gemini&&(O!=="visual"||!z.openai)?"gemini":z.openai&&(O==="visual"||!z.gemini)?"openai":z.claude?"claude":O==="visual"&&w.openai?"openai":w.gemini?"gemini":w.claude?"claude":O==="visual"?"openai":"gemini"},[z,w]),vs=async(G,O,X)=>{var Ae,Xe,mt,_t,at,it,Fe,et;if(O==="gemini"){if(!Wa())throw new Error("Gemini API not configured. Check API key in settings.");const _e=si(Ln(G),X);return{content:await s1(G,_e),model:`${an.gemini.name} (${jt[X].name.split("(")[0].trim()})`,success:!0}}const de=Ln(G),Ue=si(de,X),xe=G;try{if(O==="openai"){if(!z.openai)throw new Error("OpenAI API not configured. Check API key in settings.");const _e=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w.openai}`},body:JSON.stringify({model:Zv,messages:[{role:"system",content:Ue},{role:"user",content:xe}],max_tokens:1200,temperature:.7})});if(!_e.ok){const Vt=await _e.json().catch(()=>({error:{message:_e.statusText}}));throw new Error(`OpenAI API Error: ${_e.status} ${((Ae=Vt.error)==null?void 0:Ae.message)||_e.statusText}`)}const ze=(_t=(mt=(Xe=(await _e.json()).choices)==null?void 0:Xe[0])==null?void 0:mt.message)==null?void 0:_t.content;if(typeof ze!="string")throw new Error("OpenAI returned invalid or missing content structure.");return{content:ze,model:`${an.openai.name} (${jt[X].name.split("(")[0].trim()})`,success:!0}}if(O==="claude"){if(!z.claude)throw new Error("Claude API not configured. Check API key in settings.");const _e=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":w.claude,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:Wv,system:Ue,messages:[{role:"user",content:xe}],max_tokens:1200,temperature:.7})});if(!_e.ok){const Vt=await _e.json().catch(()=>({error:{message:_e.statusText}}));throw new Error(`Claude API Error: ${_e.status} ${((at=Vt.error)==null?void 0:at.message)||_e.statusText}`)}const ze=(Fe=(it=(await _e.json()).content)==null?void 0:it[0])==null?void 0:Fe.text;if(typeof ze!="string")throw new Error("Claude returned invalid or missing content structure.");return{content:ze,model:`${an.claude.name} (${jt[X].name.split("(")[0].trim()})`,success:!0}}throw new Error(`AI Model ${O} not supported or not properly configured.`)}catch(_e){console.error(`Error with ${O}:`,_e);const Te=((et=an[O])==null?void 0:et.name)||"Selected AI";return{content:Ii(G,O,_e instanceof Error?_e.message:String(_e)),model:`${Te} (${jt[X].name.split("(")[0].trim()})`,success:!1}}},Ii=(G,O,X)=>{var Xe,mt;const de=((Xe=jt[ee])==null?void 0:Xe.name.split("(")[0].trim())||"Oracle",Ue=((mt=an[O])==null?void 0:mt.name)||"The AI";let xe=`Ah, my apologies! It seems I couldn't process your request using **${Ue} (${de})** at the moment.`;if(X){const _t=X.replace(/^Error:\s*/i,"").replace(/^Gemini API error:\s*/i,"").replace(/^Gemini API streaming error:\s*/i,"").replace(/^OpenAI API Error:\s*\d*\s*/i,"").replace(/^Claude API Error:\s*\d*\s*/i,"").replace(/^DALL-E API Error:\s*\d*\s*/i,"").replace(/Please check it in settings\.$/i,"").trim();xe+=`

*Technical Gist: ${_t.substring(0,200)}${_t.length>200?"...":""}*`}const Ae=_t=>`

To use ${_t}'s full power, please ensure your API key for it is correctly entered and valid in the settings panel ().`;return(O==="gemini"&&!z.gemini||O==="openai"&&!z.openai||O==="claude"&&!z.claude||!X&&!z[O])&&(xe+=Ae(Ue)),xe+=`

In the meantime, feel free to ask me anything else about Lagos! `,xe},Ts=oe.useCallback(()=>{F&&!m&&(g(!0),F.start(),F.onresult=G=>{const O=G.results[0][0].transcript;l(O),g(!1)},F.onerror=G=>{console.error("Speech recognition error",G.error),g(!1),e(O=>[...O,{id:Date.now(),type:"oracle",content:` My apologies, the voice recognition had a hiccup: ${G.error}. Please try again or type your message.`,timestamp:new Date,mood:"error",model:"System Speech Recognition"}])},F.onend=()=>g(!1))},[F,m]),hn=oe.useCallback(G=>{if("speechSynthesis"in window&&W&&G){speechSynthesis.speaking&&speechSynthesis.cancel(),p(!0);const O=G.replace(/[*#`]/g,"").replace(/\[(.*?)\]\(.*?\)/g,"$1").substring(0,300),X=new SpeechSynthesisUtterance(O),de=speechSynthesis.getVoices(),Ue=de.find(Ae=>Ae.lang.startsWith("en-NG"))||de.find(Ae=>Ae.name.toLowerCase().includes("nigeria")),xe=de.find(Ae=>Ae.lang.startsWith("en-GB"));X.voice=Ue||xe||null,X.lang=Ue?"en-NG":xe?"en-GB":"en-US",X.rate=.95,X.pitch=1,X.onend=()=>p(!1),X.onerror=Ae=>{console.error("Speech synthesis error",Ae.error),p(!1)},speechSynthesis.speak(X)}},[W]);oe.useEffect(()=>{const G=()=>{"speechSynthesis"in window&&speechSynthesis.getVoices()};"speechSynthesis"in window&&(speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=G),G())},[]);const ui=oe.useCallback(async()=>{if($)me&&me.getTracks().forEach(G=>G.stop()),fe(null),le(!1);else try{const G=await navigator.mediaDevices.getUserMedia({video:!0});fe(G),Rt.current&&(Rt.current.srcObject=G),le(!0),S(!1),pt(!1),e(O=>[...O,{id:Date.now(),type:"oracle",content:" Vision Guide activated! Use the 'Scan Surroundings' button to describe what the camera sees.",timestamp:new Date,mood:"helpful",model:"Vision Guide System"}])}catch(G){console.error("Error accessing camera:",G),e(O=>[...O,{id:Date.now(),type:"oracle",content:` Camera access denied or unavailable: ${G instanceof Error?G.message:"Please check permissions."}`,timestamp:new Date,mood:"error",model:"System Error"}]),le(!1)}},[$,me]),At=oe.useCallback(async()=>{if(!Rt.current||!ai.current||!Wa()){const Te=Wa()?"Camera or canvas not ready.":"Gemini API not configured for Vision Guide.";e(ze=>[...ze,{id:Date.now(),type:"oracle",content:` ${Te}`,timestamp:new Date,mood:"error",model:"Vision Guide System"}]),W&&hn(`Error: ${Te}`);return}Pe(!0);const G=Rt.current,O=ai.current,X=640;let{videoWidth:de,videoHeight:Ue}=G,xe=de,Ae=Ue;de>Ue?de>X&&(Ae=Math.round(X/de*Ue),xe=X):Ue>X&&(xe=Math.round(X/Ue*de),Ae=X),O.width=xe,O.height=Ae;const Xe=O.getContext("2d");if(!Xe){Pe(!1),e(Te=>[...Te,{id:Date.now(),type:"oracle",content:" Could not get canvas context for scanning.",timestamp:new Date,mood:"error",model:"Vision Guide System"}]),W&&hn("Error: Could not get canvas context.");return}Xe.drawImage(G,0,0,xe,Ae);const _t={inlineData:{mimeType:"image/jpeg",data:O.toDataURL("image/jpeg",.8).split(",")[1]}},at="Describe this scene for a visually impaired user. Focus on objects, potential hazards, people, text, and overall layout. Provide a concise, clear, and actionable description to help with navigation or understanding the environment.",it=si("vision_guide",ee),Fe=Date.now();e(Te=>[...Te,{id:Fe,type:"oracle",content:"Analyzing scene...",model:`${an.gemini.name} (Vision Guide)`,timestamp:new Date,mood:"helpful",personaKey:ee}]);let et="",_e=!0;try{const Te=Eh(at,it,[_t]);for await(const ze of Te){const Vt=ze.text;typeof Vt=="string"&&(et+=Vt,e(Ui=>Ui.map(gn=>gn.id===Fe?{...gn,content:et}:gn)))}}catch(Te){console.error("Error during Vision Guide stream:",Te),et=` Vision Analysis Failed: ${Te instanceof Error?Te.message:String(Te)}`,_e=!1}e(Te=>Te.map(ze=>ze.id===Fe?{...ze,content:et,mood:_e?"helpful":"error"}:ze)),W&&et&&setTimeout(()=>hn(et),300),Pe(!1)},[ee,W,hn]),tn=oe.useCallback(async G=>{var _t;const O=(typeof G=="string"?G:o).trim();if(!O)return;const X={id:Date.now(),type:"user",content:O,timestamp:new Date};e(at=>[...at,X]),typeof G!="string"&&l(""),f(!0);const de=Ln(O);if(de==="visual"||de==="video"){const at=Date.now()+1;e(it=>[...it,{id:at,type:"oracle",content:` Generating your ${de}...`,model:"Lagos Oracle Creative Engine",timestamp:new Date,mood:"helpful",personaKey:ee}]);try{let it;de==="video"?it={videoUrl:(await u1(O)).uri,model:"Veo 3",success:!0}:it={imageUrl:(await r1(O)).generatedImages[0].image.url,model:"Imagen 4",success:!0},e(Fe=>Fe.map(et=>et.id===at?{...et,content:`Here is the ${de} you requested.`,media:it}:et))}catch(it){console.error(`Error during ${de} generation:`,it);const Fe=it instanceof Error?it.message:"An unknown error occurred.";e(et=>et.map(_e=>_e.id===at?{..._e,content:` Sorry, I couldn't generate the ${de}. Reason: ${Fe}`,mood:"error"}:_e))}f(!1);return}let Ue=C==="auto"?ri(O):C;const xe=jt[ee]||jt[Xa],Ae=`${((_t=an[Ue])==null?void 0:_t.name)||"AI"} (${xe.name.split("(")[0].trim()})`;if(Ue==="gemini"){if(!Wa()){const Te=Ii(O,"gemini","Gemini API not configured. Check API key in settings.");e(ze=>[...ze,{id:Date.now()+1,type:"oracle",content:Te,model:`${Ae} (Error)`,timestamp:new Date,mood:"error",personaKey:ee}]),f(!1);return}const at=Date.now()+1,it=si(Ln(O),ee);e(Te=>[...Te,{id:at,type:"oracle",content:"...",model:Ae,timestamp:new Date,mood:"helpful",personaKey:ee}]);let Fe="",et=!0,_e=Ae;try{const Te=Eh(O,it);for await(const ze of Te){const Vt=ze.text;typeof Vt=="string"&&(Fe+=Vt,e(Ui=>Ui.map(gn=>gn.id===at?{...gn,content:Fe}:gn)))}}catch(Te){console.error("Error during Gemini stream:",Te);const ze=Te instanceof Error?Te.message:String(Te);Fe=Ii(O,"gemini",ze),et=!1,_e=`${Ae} (Error)`}e(Te=>Te.map(ze=>ze.id===at?{...ze,content:Fe,mood:et?"helpful":"error",model:_e}:ze)),et&&W&&Fe&&setTimeout(()=>hn(Fe),300),f(!1);return}const Xe=await vs(O,Ue,ee),mt={id:Date.now()+1,type:"oracle",content:Xe.content,model:Xe.model,timestamp:new Date,mood:Xe.success?"helpful":"error",personaKey:ee};e(at=>[...at,mt]),f(!1),Xe.success&&W&&Xe.content&&setTimeout(()=>hn(Xe.content),300)},[o,C,ri,z,ae,W,hn,w.openai,ee,w.gemini,w.claude]),Ke=B?{bg:"bg-gray-800",card:"bg-gray-900",text:"text-gray-100",muted:"text-gray-400",input:"bg-gray-700 text-gray-50 placeholder-gray-400",primaryAccent:"text-blue-400",secondaryAccent:"text-indigo-400"}:{bg:"bg-gray-100",card:"bg-white",text:"text-gray-800",muted:"text-gray-500",input:"bg-gray-200 text-gray-900 placeholder-gray-500",primaryAccent:"text-blue-600",secondaryAccent:"text-indigo-600"};return R.jsxs("div",{className:`flex h-screen ${Ke.bg} ${Ke.text} transition-colors duration-300 font-sans`,children:[R.jsx(eN,{theme:Ke,showSettings:v,toggleSettings:ko,showPersonaSelector:Ut,togglePersonaSelector:Io,onNewChat:Gl,showSearch:Ie,showLibrary:J,toggleSearch:Uo,toggleLibrary:gs}),R.jsxs("div",{className:"flex-1 flex flex-col",children:[R.jsx(XR,{messages:n,isTyping:c,theme:Ke,personas:jt,onPromptClick:G=>tn(G)}),R.jsx(ZR,{input:o,isTyping:c||vt,isListening:m,recognitionAvailable:j,theme:Ke,selectedAI:C,setInput:l,handleSend:tn,startListening:Ts,setSelectedAI:M}),v&&R.jsx(cR,{theme:Ke,selectedAI:C,imageStyle:ae,apiKeys:w,apiStatus:z,setSelectedAI:M,setImageStyle:Se,updateApiKey:ki,darkMode:B,soundEnabled:W,toggleDarkMode:()=>re(G=>!G),toggleSound:()=>Ee(G=>!G),onClose:()=>S(!1)}),Ut&&R.jsx(WR,{theme:Ke,selectedPersonaKey:ee,onSelectPersona:ke,onClose:()=>pt(!1)}),J&&R.jsx(tN,{theme:Ke,conversations:Re,onLoad:Lt,onDelete:ys,onClose:()=>ie(!1)}),Ie&&R.jsx(nN,{theme:Ke,conversations:Re,currentMessages:n,onOpenConversation:Lt,onClose:()=>U(!1)}),$&&R.jsx(jR,{videoElementRef:Rt,onScanSurroundings:At,onStopVisionGuide:ui,isAnalyzingFrame:vt,theme:Ke}),R.jsx("canvas",{ref:ai,style:{display:"none"}})]})]})},xg=document.getElementById("root");if(!xg)throw new Error("Could not find root element to mount to");const oN=Xv.createRoot(xg);oN.render(R.jsx(zv.StrictMode,{children:R.jsx(iN,{})}));
